if("undefined"==typeof JDB)var JDB={};var Proxy;!function(n){n="undefined"!=typeof n?n:{};class Class{static register(e){"undefined"!=typeof n&&(n[e.name]=e)}}Class.register(Class);class LogNative{constructor(){this._global_level=Log.TRACE;this._tag_levels={};try{if(window.localStorage)try{let e=window.localStorage.getItem("log_tag_levels");e&&"string"==typeof e&&(e=JSON.parse(e));e&&"object"==typeof e&&(this._tag_levels=e)}catch(n){console.warn("Failed to load log configuration from local storage.")}}catch(n){}}isLoggable(n,e){return n&&this._tag_levels[n]?this._tag_levels[n]<=e:this._tag_levels["*"]?this._tag_levels["*"]<=e:this._global_level<=e}setLoggable(n,e){n&&n.name&&(n=n.name);this._tag_levels[n]=e;window.localStorage&&window.localStorage.setItem("log_tag_levels",JSON.stringify(this._tag_levels))}msg(n,e,l){e&&e.name&&(e=e.name);if(this.isLoggable(e,n)){e&&l.unshift(e+":");l.unshift(`[${Log.Level.toStringTag(n)} ${(new Date).toTimeString().substr(0,8)}]`);console.error&&n>=Log.ERROR?console.error.apply(console,l):console.warn&&n>=Log.WARNING?console.warn.apply(console,l):console.info&&n>=Log.INFO?console.info.apply(console,l):console.debug&&n>=Log.DEBUG?console.debug.apply(console,l):console.trace&&n<=Log.TRACE?console.trace.apply(console,l):console.log.apply(console,l)}}}Class.register(LogNative);class IDBTools{static convertKeyRange(n){return n instanceof KeyRange?n.exactMatch?IDBKeyRange.only(n.lower):n.lower!==undefined&&n.upper===undefined?IDBKeyRange.lowerBound(n.lower,n.lowerOpen):n.upper!==undefined&&n.lower===undefined?IDBKeyRange.upperBound(n.upper,n.upperOpen):IDBKeyRange.bound(n.lower,n.upper,n.lowerOpen,n.upperOpen):n}}Class.register(IDBTools);class IDBBackend{constructor(n,e,l=null){this._db=n;this._tableName=e;this._indices=new Map;this._indicesToCreate=new Map;this._indicesToDelete=[];this._codec=l}get connected(){return this._db.connected}get _backend(){if(!this.connected)throw new Error("Requires a connected database");return this._db.backend}get indices(){return this._indices}init(n,e,l){for(const{indexName:t,upgradeCondition:o}of this._indicesToDelete)(null===o||!0===o||"function"==typeof o&&o(e,l))&&n.deleteIndex(t);this._indicesToDelete=[];for(const[t,{index:o,upgradeCondition:i}]of this._indicesToCreate)if(!n.indexNames.contains(t)&&(null===i||!0===i||"function"==typeof i&&i(e,l))){const e=Array.isArray(o.keyPath)?o.keyPath.join("."):o.keyPath;n.createIndex(t,e,{unique:o.unique,multiEntry:o.multiEntry})}this._indicesToCreate.clear()}decode(n,e){return n===undefined?undefined:null!==this._codec&&this._codec!==undefined?this._codec.decode(n,e):n}encode(n){return n===undefined?undefined:null!==this._codec&&this._codec!==undefined?this._codec.encode(n):n}async get(n){const e=this._backend;return new Promise((l,t)=>{const o=e.transaction([this._tableName]).objectStore(this._tableName).get(n);o.onsuccess=(e=>{try{l(this.decode(e.target.result,n))}catch(o){t(o)}});o.onerror=t})}async values(n=null){if(null!==n&&n instanceof Query)return n.values(this);n=IDBTools.convertKeyRange(n);const e=this._backend;return new Promise((l,t)=>{const o=[],i=e.transaction([this._tableName],"readonly").objectStore(this._tableName).openCursor(n);i.onsuccess=(n=>{const e=n.target.result;if(e){try{o.push(this.decode(e.value,e.primaryKey))}catch(i){t(i)}e["continue"]()}else l(o)});i.onerror=(()=>t(i.error))})}async keys(n=null){if(null!==n&&n instanceof Query)return n.keys(this);n=IDBTools.convertKeyRange(n);const e=this._backend;return new Promise((l,t)=>{const o=new Set,i=e.transaction([this._tableName],"readonly").objectStore(this._tableName),c=i.openKeyCursor?i.openKeyCursor(n):i.openCursor(n);c.onsuccess=(n=>{const e=n.target.result;if(e){o.add(e.primaryKey);e["continue"]()}else l(o)});c.onerror=(()=>t(c.error))})}keyStream(n,e=!0,l=null){l=IDBTools.convertKeyRange(l);const t=this._backend;return new Promise((o,i)=>{const c=t.transaction([this._tableName],"readonly").objectStore(this._tableName),s=c.openKeyCursor?c.openKeyCursor(l,e?"next":"prev"):c.openCursor(l,e?"next":"prev");s.onsuccess=(e=>{const l=e.target.result;if(l)try{n(l.primaryKey)?l["continue"]():o()}catch(t){i(t)}else o()});s.onerror=(()=>i(s.error))})}valueStream(n,e=!0,l=null){l=IDBTools.convertKeyRange(l);const t=this._backend;return new Promise((o,i)=>{const c=t.transaction([this._tableName],"readonly").objectStore(this._tableName).openCursor(l,e?"next":"prev");c.onsuccess=(e=>{const l=e.target.result;if(l)try{n(this.decode(l.value,l.primaryKey),l.primaryKey)?l["continue"]():o()}catch(t){i(t)}else o()});c.onerror=(()=>i(c.error))})}async maxValue(n=null){n=IDBTools.convertKeyRange(n);const e=this._backend;return new Promise((l,t)=>{const o=e.transaction([this._tableName],"readonly").objectStore(this._tableName).openCursor(n,"prev");o.onsuccess=(n=>{try{const o=n.target.result;l(o?this.decode(o.value,o.primaryKey):undefined)}catch(e){t(e)}});o.onerror=(()=>t(o.error))})}async maxKey(n=null){n=IDBTools.convertKeyRange(n);const e=this._backend;return new Promise((l,t)=>{const o=e.transaction([this._tableName],"readonly").objectStore(this._tableName),i=o.openKeyCursor?o.openKeyCursor(n,"prev"):o.openCursor(n,"prev");i.onsuccess=(()=>l(i.result?i.result.primaryKey:undefined));i.onerror=(()=>t(i.error))})}async minValue(n=null){n=IDBTools.convertKeyRange(n);const e=this._backend;return new Promise((l,t)=>{const o=e.transaction([this._tableName],"readonly").objectStore(this._tableName).openCursor(n,"next");o.onsuccess=(n=>{try{const o=n.target.result;l(o?this.decode(o.value,o.primaryKey):undefined)}catch(e){t(e)}});o.onerror=(()=>t(o.error))})}async minKey(n=null){n=IDBTools.convertKeyRange(n);const e=this._backend;return new Promise((l,t)=>{const o=e.transaction([this._tableName],"readonly").objectStore(this._tableName),i=o.openKeyCursor?o.openKeyCursor(n,"next"):o.openCursor(n,"next");i.onsuccess=(()=>l(i.result?i.result.primaryKey:undefined));i.onerror=(()=>t(i.error))})}async count(n=null){n=IDBTools.convertKeyRange(n);const e=this._backend;return new Promise((l,t)=>{let o;(o=n?e.transaction([this._tableName],"readonly").objectStore(this._tableName).count(n):e.transaction([this._tableName],"readonly").objectStore(this._tableName).count()).onsuccess=(()=>l(o.result));o.onerror=(()=>t(o.error))})}index(n){return this._indices.get(n)}get backend(){return this._db.backend}get tableName(){return this._tableName}async _apply(n){const e=this._backend;return new Promise((l,t)=>{const o=e.transaction([this._tableName],"readwrite"),i=o.objectStore(this._tableName);n._truncated&&i.clear();for(const e of n._removed)i["delete"](e);for(const[e,c]of n._modified)i.put(this.encode(c),e);o.oncomplete=(()=>l(!0));o.onerror=t;o.onabort=t})}async truncate(){const n=this._backend;return new Promise((e,l)=>{const t=n.transaction([this._tableName],"readonly").objectStore(this._tableName).clear();t.onsuccess=e;t.onerror=(()=>l(t.error))})}createIndex(n,e,l={}){let{multiEntry:t=!1,upgradeCondition:o=null,unique:i=!1}=l||{};if(this._db.connected)throw new Error("Cannot create index while connected");const c=new PersistentIndex(this,n,e=e||n,t,i);this._indices.set(n,c);this._indicesToCreate.set(n,{index:c,upgradeCondition:o})}deleteIndex(n,e={}){let{upgradeCondition:l=null}=e||{};if(this._db.connected)throw new Error("Cannot delete index while connected");this._indicesToDelete.push({indexName:n,upgradeCondition:l})}close(){return this._db.close()}async applyCombined(n){const e=new EncodedTransaction(this._tableName);n._truncated&&e.truncate();for(const l of n._removed)e.remove(l);for(const[l,t]of n._modified)e.put(l,this.encode(t));return e}isSynchronous(){return!1}}Class.register(IDBBackend);class JungleDB{constructor(n,e,l={}){if(e<=0)throw new Error("The version provided must not be less or equal to 0");this._databaseDir=n;this._dbVersion=e;this._onUpgradeNeeded=l.onUpgradeNeeded;this._connected=!1;this._objectStores=new Map;this._objectStoreBackends=new Map;this._objectStoresToDelete=[]}get _indexedDB(){return window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB}connect(){if(this._db)return Promise.resolve(this._db);const n=this._indexedDB.open(this._databaseDir,this._dbVersion),e=this;return new Promise((l,t)=>{n.onsuccess=(()=>{e._connected=!0;e._db=n.result;l(n.result)});n.onerror=t;n.onupgradeneeded=(l=>e._initDB(l,n))})}async _initDB(n,e){const l=n.target.result;for(const{tableName:t,upgradeCondition:o}of this._objectStoresToDelete)(null===o||!0===o||"function"==typeof o&&o(n.oldVersion,n.newVersion))&&l.deleteObjectStore(t);this._objectStoresToDelete=[];for(const[t,{backend:o,upgradeCondition:i}]of this._objectStoreBackends){let c;c=!l.objectStoreNames.contains(t)&&(null===i||!0===i||"function"==typeof i&&i(n.oldVersion,n.newVersion))?l.createObjectStore(t):e.transaction.objectStore(t);o.init(c,n.oldVersion,n.newVersion)}this._objectStoreBackends.clear();this._onUpgradeNeeded&&await this._onUpgradeNeeded(n.oldVersion,n.newVersion)}get backend(){return this._db}get connected(){return this._connected}getObjectStore(n){return this._objectStores.get(n)}static createVolatileObjectStore(n=null){return new ObjectStore(new InMemoryBackend("",n),null)}createObjectStore(n,e={}){let{codec:l=null,persistent:t=!0,upgradeCondition:o=null}=e||{};if(this._connected)throw new Error("Cannot create ObjectStore while connected");if(this._objectStores.has(n))return this._objectStores.get(n);const i=t?new IDBBackend(this,n,l):new InMemoryBackend(n,l),c=new CachedBackend(i),s=new ObjectStore(c,this,n);this._objectStores.set(n,s);this._objectStoreBackends.set(n,{backend:i,upgradeCondition:o});return s}deleteObjectStore(n,e={}){let{upgradeCondition:l=null}=e||{};if(this._connected)throw new Error("Cannot delete ObjectStore while connected");this._objectStoresToDelete.push({tableName:n,upgradeCondition:l})}async close(){if(this._connected){this._connected=!1;this.backend.close()}}async destroy(){await this.close();return new Promise((n,e)=>{const l=this._indexedDB.deleteDatabase(this._databaseDir);l.onsuccess=n;l.onerror=e})}static async commitCombined(n,e,...l){if(n instanceof CombinedTransaction){const e=[],l=[],t=[],o=await Promise.all(n.transactions.map(n=>n.objectStore._backend.applyCombined(n)));for(const n of o){let o=n;Array.isArray(n)||(o=[n]);for(const n of o)if("function"==typeof n)e.push(n);else{l.push(n);t.push(n.tableName)}}const i=null!==n.backend?n.backend.backend:null;return new Promise((n,o)=>{if(t.length>0){const c=i.transaction(t,"readwrite");for(const n of l){const e=c.objectStore(n.tableName);n.truncated&&e.clear();for(const l of n.removed)e["delete"](l);for(const[l,t]of n.modified)e.put(t,l)}c.oncomplete=(()=>{Promise.all(e.map(n=>n())).then(()=>{n(!0)})});c.onerror=o;c.onabort=o}else Promise.all(e.map(n=>n())).then(()=>{n(!0)})})}l.push(n);l.push(e);if(!l.every(n=>n instanceof Transaction))throw new Error("Invalid arguments supplied");return new CombinedTransaction(...l).commit()}toString(){return`JungleDB{name=${this._databaseDir}}`}}JungleDB.JSON_ENCODING={};JungleDB.BINARY_ENCODING={};JungleDB.STRING_ENCODING={};JungleDB.NUMBER_ENCODING={};JungleDB.GENERIC_ENCODING={};Class.register(JungleDB);class PersistentIndex{constructor(n,e,l,t=!1,o=!1){this._objectStore=n;this._indexName=e;this._keyPath=l;this._multiEntry=t;this._unique=o}async truncate(){}get keyPath(){return this._keyPath}get multiEntry(){return this._multiEntry}get unique(){return this._unique}_index(n){return n.transaction([this._objectStore.tableName],"readonly").objectStore(this._objectStore.tableName).index(this._indexName)}async values(n=null){n=IDBTools.convertKeyRange(n);const e=await this._objectStore.backend;return new Promise((l,t)=>{const o=[],i=this._index(e).openCursor(n);i.onsuccess=(n=>{const e=n.target.result;if(e){try{o.push(this._objectStore.decode(e.value,e.primaryKey))}catch(i){t(i)}e["continue"]()}else l(o)});i.onerror=(()=>t(i.error))})}async keys(n=null){n=IDBTools.convertKeyRange(n);const e=await this._objectStore.backend;return new Promise((l,t)=>{const o=new Set,i=this._index(e),c=i.openKeyCursor?i.openKeyCursor(n):i.openCursor(n);c.onsuccess=(n=>{const e=n.target.result;if(e){o.add(e.primaryKey);e["continue"]()}else l(o)});c.onerror=(()=>t(c.error))})}async maxValues(n=null){n=IDBTools.convertKeyRange(n);const e=await this._objectStore.backend;return new Promise((l,t)=>{const o=[];let i=null;const c=this._index(e).openCursor(n,"prev");c.onsuccess=(n=>{const e=n.target.result;e&&null===i&&(i=e.key);if(e&&ComparisonUtils.equals(i,e.key)){try{o.push(this._objectStore.decode(e.value,e.primaryKey))}catch(c){t(c)}e["continue"]()}else l(o)});c.onerror=(()=>t(c.error))})}async maxKeys(n=null){n=IDBTools.convertKeyRange(n);const e=await this._objectStore.backend;return new Promise((l,t)=>{const o=new Set;let i=null;const c=this._index(e),s=c.openKeyCursor?c.openKeyCursor(n,"prev"):c.openCursor(n,"prev");s.onsuccess=(n=>{const e=n.target.result;e&&null===i&&(i=e.key);if(e&&ComparisonUtils.equals(i,e.key)){o.add(e.primaryKey);e["continue"]()}else l(o)});s.onerror=(()=>t(s.error))})}async minValues(n=null){n=IDBTools.convertKeyRange(n);const e=await this._objectStore.backend;return new Promise((l,t)=>{const o=[];let i=null;const c=this._index(e).openCursor(n,"next");c.onsuccess=(n=>{const e=n.target.result;e&&null===i&&(i=e.key);if(e&&ComparisonUtils.equals(i,e.key)){try{o.push(this._objectStore.decode(e.value,e.primaryKey))}catch(c){t(c)}e["continue"]()}else l(o)});c.onerror=(()=>t(c.error))})}async minKeys(n=null){n=IDBTools.convertKeyRange(n);const e=await this._objectStore.backend;return new Promise((l,t)=>{const o=new Set;let i=null;const c=this._index(e),s=c.openKeyCursor?c.openKeyCursor(n,"next"):c.openCursor(n,"next");s.onsuccess=(n=>{const e=n.target.result;e&&null===i&&(i=e.key);if(e&&ComparisonUtils.equals(i,e.key)){o.add(e.primaryKey);e["continue"]()}else l(o)});s.onerror=(()=>t(s.error))})}async count(n=null){n=IDBTools.convertKeyRange(n);const e=await this._objectStore.backend;return new Promise((l,t)=>{let o;(o=n?this._index(e).count(n):this._index(e).count()).onsuccess=(()=>l(o.result));o.onerror=(()=>t(o.error))})}}Class.register(PersistentIndex);Array.prototype.iterator=function(n=!0){let e=n?0:this.length-1;return{next:()=>e>=0&&e<this.length?this[n?e++:e--]:undefined,hasNext:()=>e>=0&&e<this.length,peek:()=>e>=0&&e<this.length?this[e]:undefined}};class Node{constructor(n=[]){this._keys=n}get keys(){return this._keys}}Class.register(Node);class LeafNode extends Node{constructor(n=[],e=[]){if(n.length!==e.length)throw new Error("Keys and records must have the same length");super(n);this._records=e;this.prevLeaf=null;this.nextLeaf=null}get records(){return this._records}isLeaf(){return!0}getItem(n,e){const l=this._keys;if(e===BTree.NEAR_MODE.GE){for(let t=0,o=l.length;t<o;++t)if(n<=l[t])return t}else if(e===BTree.NEAR_MODE.LE){for(let t=l.length-1;t>=0;--t)if(n>=l[t])return t}else for(let t=0,o=l.length;t<o;++t)if(ComparisonUtils.equals(n,l[t]))return t;return-1}addKey(n,e){let l=this._keys.length;for(let t=0,o=l;t<o;++t){if(ComparisonUtils.equals(n,this._keys[t]))return-1;if(n<=this._keys[t]){l=t;break}}this._keys.splice(l,0,n);this._records.splice(l,0,e);return l}split(){const n=Math.floor(this._keys.length/2),e=[],l=[];for(let o=0;o<n;++o){e.unshift(this._keys.pop());l.unshift(this._records.pop())}const t=new LeafNode(e,l);t.prevLeaf=this;t.nextLeaf=this.nextLeaf;null!==this.nextLeaf&&(this.nextLeaf.prevLeaf=t);this.nextLeaf=t;return t}merge(n,e,l){for(let o=0,i=n.keys.length;o<i;++o){this._keys.push(n.keys[o]);this._records.push(n.records[o])}this.nextLeaf=n.nextLeaf;null!==n.nextLeaf&&(n.nextLeaf.prevLeaf=this);n.prevLeaf=null;n.nextLeaf=null;let t=e.keys.length-1;for(let o=t;o>=0;--o)if(e.keys[o]===l){t=o;break}e.keys.splice(t,1);e.nodePointers.splice(t+1,1)}}Class.register(LeafNode);class InnerNode extends Node{constructor(n=[],e=[]){super(n);this._nodePointers=e}isLeaf(){return!1}get nodePointers(){return this._nodePointers}getItem(n){const e=this._keys.length;for(let l=0;l<e;++l)if(n<this._keys[l])return l;return this._keys.length}addKey(n,e,l){const t=this._keys.length;let o=t;for(let i=0;i<t;++i)if(n<=this._keys[i]){o=i;break}this._keys.splice(o,0,n);this._nodePointers.splice(o,0,e);this._nodePointers[o+1]=l}split(){const n=Math.ceil(this._keys.length/2)-1,e=[this._nodePointers.pop()],l=[];for(let t=n-1;t>=0;--t){l.unshift(this._keys.pop());e.unshift(this._nodePointers.pop())}return new InnerNode(l,e)}merge(n,e,l){const t=e.keys[l];this._keys.push(t);for(let o=0,i=n.keys.length;o<i;++o){this._keys.push(n.keys[o]);this._nodePointers.push(n.nodePointers[o])}this._nodePointers.push(n.nodePointers[n.nodePointers.length-1]);e.keys.splice(l,1);e.nodePointers.splice(l+1,1);return t}}Class.register(InnerNode);class BTree{constructor(n=7){this._root=new LeafNode;this._maxkey=n-1;this._minkyl=Math.floor(n/2);this._minkyn=Math.floor(this._maxkey/2);this._leaf=null;this._item=-1;this._key=null;this._record=null;this._length=0;this._eof=!0;this._found=!1}get length(){return this._length}get currentKey(){return this._key}get currentRecord(){return this._record}insert(n,e){const l=[];this._leaf=this._root;for(;!this._leaf.isLeaf();){l.push(this._leaf);this._item=this._leaf.getItem(n);this._leaf=this._leaf.nodePointers[this._item]}this._item=this._leaf.addKey(n,e);this._key=n;this._eof=!1;if(-1===this._item){this._found=!0;this._item=this._leaf.getItem(n,!1);this._record=this._leaf.records[this._item]}else{this._found=!1;this._record=e;this._length++;if(this._leaf.keys.length>this._maxkey){let e=this._leaf,t=this._leaf.split(),o=t.keys[0];this._item=this._leaf.getItem(n,!1);if(-1===this._item){this._leaf=this._leaf.nextLeaf;this._item=this._leaf.getItem(n,!1)}for(;;){if(0===l.length){const n=new InnerNode;n.keys[0]=o;n.nodePointers[0]=e;n.nodePointers[1]=t;this._root=n;break}const n=l.pop();n.addKey(o,e,t);if(n.keys.length<=this._maxkey)break;e=n;t=n.split();o=n.keys.pop()}}}return!this._found}remove(n){if("undefined"==typeof n){if(-1===this._item){this._eof=!0;this._found=!1;return!1}n=this._leaf.keys[this._item]}this._del(n);if(this._found){this.seek(n,BTree.NEAR_MODE.GE);this._found=!0}else{this._item=-1;this._eof=!0;this._key=null;this._record=null}return this._found}seek(n,e=BTree.NEAR_MODE.NONE){this._leaf=this._root;for(;!this._leaf.isLeaf();){this._item=this._leaf.getItem(n);this._leaf=this._leaf.nodePointers[this._item]}this._item=this._leaf.getItem(n,e);if(e===BTree.NEAR_MODE.GE&&-1===this._item&&null!==this._leaf.nextLeaf){this._leaf=this._leaf.nextLeaf;this._item=0}if(e===BTree.NEAR_MODE.LE&&-1===this._item&&null!==this._leaf.prevLeaf){this._leaf=this._leaf.prevLeaf;this._item=this._leaf.records.length-1}if(-1===this._item){this._eof=!0;this._key=null;this._found=!1;this._record=null}else{this._eof=!1;this._found=this._leaf.keys[this._item]===n;this._key=this._leaf.keys[this._item];this._record=this._leaf.records[this._item]}return!this._eof}skip(n=1){"number"!=typeof n&&(n=1);-1!==this._item&&null!==this._leaf||(this._eof=!0);if(n>0){for(;!this._eof&&this._leaf.keys.length-this._item-1<n;){n=n-this._leaf.keys.length+this._item;this._leaf=this._leaf.nextLeaf;null===this._leaf?this._eof=!0:this._item=0}this._eof||(this._item=this._item+n)}else{n=-n;for(;!this._eof&&this._item<n;){n=n-this._item-1;this._leaf=this._leaf.prevLeaf;null===this._leaf?this._eof=!0:this._item=this._leaf.keys.length-1}this._eof||(this._item=this._item-n)}if(this._eof){this._item=-1;this._found=!1;this._key=null;this._record=null}else{this._found=!0;this._key=this._leaf.keys[this._item];this._record=this._leaf.records[this._item]}return this._found}goto(n){if(n<0){this.goBottom();this._eof||this.skip(n+1)}else{this.goTop();this._eof||this.skip(n-1)}return this._found}keynum(){if(null===this._leaf||-1===this._item)return-1;let n=this._item+1,e=this._leaf;for(;null!==e.prevLeaf;)n+=(e=e.prevLeaf).keys.length;return n}goTop(){this._leaf=this._root;for(;!this._leaf.isLeaf();)this._leaf=this._leaf.nodePointers[0];if(0===this._leaf.keys.length){this._item=-1;this._eof=!0;this._found=!1;this._key=null;this._record=null}else{this._item=0;this._eof=!1;this._found=!0;this._key=this._leaf.keys[0];this._record=this._leaf.records[0]}return this._found}goBottom(){this._leaf=this._root;for(;!this._leaf.isLeaf();)this._leaf=this._leaf.nodePointers[this._leaf.nodePointers.length-1];if(0===this._leaf.keys.length){this._item=-1;this._eof=!0;this._found=!1;this._key=null;this._record=null}else{this._item=this._leaf.keys.length-1;this._eof=!1;this._found=!0;this._key=this._leaf.keys[this._item];this._record=this._leaf.records[this._item]}return this._found}pack(){let n,e;this.goTop(0);if(this._leaf===this._root)return!1;let l=new LeafNode,t=0,o=this._leaf,i=0,c=[],s=[];for(;;){l.keys[t]=o.keys[i];l.records[t]=o.records[i];0===t&&s.push(l);if(i===o.keys.length-1){if(null===o.nextLeaf)break;o=o.nextLeaf;i=0}else i++;if(t===this._maxkey-1){const n=new LeafNode;l.nextLeaf=n;n.prevLeaf=l;l=n;t=0}else t++}let u,m,r=this._minkyl-l.keys.length;o=l.prevLeaf;if(r>0&&null!==o)for(e=r-1;e>=0;--e){l.keys.unshift(o.keys.pop());l.records.unshift(o.records.pop())}for(e=1,n=s.length;e<n;++e)c.push(s[e].keys[0]);c[c.length]=null;for(;null!==c[0];){u=c;m=s;c=[];s=[];t=this._maxkey+1;e=0;n=u.length;for(;e<n;e++){if(t>this._maxkey){l=new InnerNode;t=0;s.push(l)}l.keys[t]=u[e];l.nodePointers[t]=m[e];t++}if((r=this._minkyn-l.keys.length+1)>0&&s.length>1){o=s[s.length-2];for(e=r-1;e>=0;--e){l.keys.unshift(o.keys.pop());l.nodePointers.unshift(o.nodePointers.pop())}}e=0;n=s.length;for(;e<n;++e)c.push(s[e].keys.pop())}this._root=s[0];this.goTop();return this._found}_del(n){const e=[];let l,t=null,o=-1;this._leaf=this._root;for(;!this._leaf.isLeaf();){e.push(this._leaf);t=this._leaf;o=this._leaf.getItem(n);this._leaf=this._leaf.nodePointers[o]}this._item=this._leaf.getItem(n,!1);if(-1===this._item){this._found=!1;return}this._found=!0;this._leaf.keys.splice(this._item,1);this._leaf.records.splice(this._item,1);this._length--;if(this._leaf===this._root)return;if(this._leaf.keys.length>=this._minkyl){0===this._item&&BTree._fixNodes(e,n,this._leaf.keys[0]);return}let i=0===o?null:t.nodePointers[o-1];if(null!==i&&i.keys.length>this._minkyl){l=0===this._item?n:this._leaf.keys[0];this._leaf.keys.unshift(i.keys.pop());this._leaf.records.unshift(i.records.pop());BTree._fixNodes(e,l,this._leaf.keys[0]);return}let c=o===t.keys.length?null:t.nodePointers[o+1];if(null!==c&&c.keys.length>this._minkyl){this._leaf.keys.push(c.keys.shift());this._leaf.records.push(c.records.shift());0===this._item&&BTree._fixNodes(e,n,this._leaf.keys[0]);BTree._fixNodes(e,this._leaf.keys[this._leaf.keys.length-1],c.keys[0]);return}if(null!==i){l=0===this._item?n:this._leaf.keys[0];i.merge(this._leaf,t,l);this._leaf=i}else{l=c.keys[0];this._leaf.merge(c,t,l);0===this._item&&BTree._fixNodes(e,n,this._leaf.keys[0])}if(1===e.length&&0===t.keys.length){this._root=this._leaf;return}let s,u=e.pop();for(;u.keys.length<this._minkyn&&e.length>0;){if(null!==(c=(s=(t=e.pop()).getItem(l))===t.keys.length?null:t.nodePointers[s+1])&&c.keys.length>this._minkyn){u.keys.push(t.keys[s]);t.keys[s]=c.keys.shift();u.nodePointers.push(c.nodePointers.shift());break}if(null!==(i=0===s?null:t.nodePointers[s-1])&&i.keys.length>this._minkyn){u.keys.unshift(t.keys[s-1]);t.keys[s-1]=i.keys.pop();u.nodePointers.unshift(i.nodePointers.pop());break}if(null!==i){l=i.merge(u,t,s-1);u=i}else null!==c&&(l=u.merge(c,t,s));if(0===e.length&&0===t.keys.length){this._root=u;break}u=t}}static _fixNodes(n,e,l){let t,o=n.length,i=!0;do{for(let c=(t=n[--o].keys).length-1;c>=0;--c)if(t[c]===e){t[c]=l;i=!1;break}}while(i&&o>0)}goToLowerBound(n,e=!1){if(n!==undefined){let l=this.seek(n,BTree.NEAR_MODE.GE);l&&e&&(l=this.skip());return l}return this.goTop()}goToUpperBound(n,e=!1){if(n!==undefined){let l=this.seek(n,BTree.NEAR_MODE.LE);l&&e&&(l=this.skip(-1));return l}return this.goBottom()}}BTree.NEAR_MODE={NONE:0,LE:1,GE:2};Class.register(BTree);class BufferUtils{static _codePointTextDecoder(n){if("undefined"==typeof TextDecoder)throw new Error("TextDecoder not supported");if(null===BufferUtils._ISO_8859_15_DECODER)throw new Error("TextDecoder does not supprot iso-8859-15");if(BufferUtils._ISO_8859_15_DECODER===undefined)try{BufferUtils._ISO_8859_15_DECODER=new TextDecoder("iso-8859-15")}finally{BufferUtils._ISO_8859_15_DECODER=null}return BufferUtils._ISO_8859_15_DECODER.decode(n).replace("€","¤").replace("Š","¦").replace("š","¨").replace("Ž","´").replace("ž","¸").replace("Œ","¼").replace("œ","½").replace("Ÿ","¾")}static _tripletToBase64(n){return BufferUtils._BASE64_LOOKUP[n>>18&63]+BufferUtils._BASE64_LOOKUP[n>>12&63]+BufferUtils._BASE64_LOOKUP[n>>6&63]+BufferUtils._BASE64_LOOKUP[63&n]}static _base64encodeChunk(n,e,l){let t;const o=[];for(let i=e;i<l;i+=3){t=(n[i]<<16&16711680)+(n[i+1]<<8&65280)+(255&n[i+2]);o.push(BufferUtils._tripletToBase64(t))}return o.join("")}static _base64fromByteArray(n){let e;const l=n.length,t=l%3;let o="";const i=[];for(let c=0,s=l-t;c<s;c+=16383)i.push(BufferUtils._base64encodeChunk(n,c,c+16383>s?s:c+16383));if(1===t){e=n[l-1];o+=BufferUtils._BASE64_LOOKUP[e>>2];o+=BufferUtils._BASE64_LOOKUP[e<<4&63];o+="=="}else if(2===t){e=(n[l-2]<<8)+n[l-1];o+=BufferUtils._BASE64_LOOKUP[e>>10];o+=BufferUtils._BASE64_LOOKUP[e>>4&63];o+=BufferUtils._BASE64_LOOKUP[e<<2&63];o+="="}i.push(o);return i.join("")}static toBase64(n){if("undefined"!=typeof Buffer&&"undefined"==typeof window)return new Buffer(n).toString("base64");if("undefined"!=typeof TextDecoder&&null!==BufferUtils._ISO_8859_15_DECODER)try{return btoa(BufferUtils._codePointTextDecoder(new Uint8Array(n)))}catch(e){}return BufferUtils._base64fromByteArray(new Uint8Array(n))}static fromBase64(n){if(!/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(n))throw new Error("Invalid base64");return Uint8Array.from(atob(n),n=>n.charCodeAt(0))}static toBase64lex(n){const e=BufferUtils.toBase64(n);let l="";for(let t=0;t<e.length;t++)l+=BufferUtils.BASE64_TO_BASE64_LEX[e[t]];return l}static fromBase64lex(n){let e="";for(let l=0;l<n.length;l++)e+=BufferUtils.BASE64_LEX_TO_BASE64[n[l]];return BufferUtils.fromBase64(e)}static equals(n,e){if(n.length!==e.length)return!1;const l=new Uint8Array(n),t=new Uint8Array(e);for(let o=0;o<n.length;o++)if(l[o]!==t[o])return!1;return!0}static compare(n,e){if(n.length<e.length)return-1;if(n.length>e.length)return 1;for(let l=0;l<n.length;l++){if(n[l]<e[l])return-1;if(n[l]>e[l])return 1}return 0}}BufferUtils.BASE64_ALPHABET="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";BufferUtils._BASE64_LOOKUP=[];for(let e=0,l=BufferUtils.BASE64_ALPHABET.length;e<l;++e)BufferUtils._BASE64_LOOKUP[e]=BufferUtils.BASE64_ALPHABET[e];BufferUtils.BASE64_LEX_ALPHABET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz~";BufferUtils.BASE64_TO_BASE64_LEX={"=":"-"};BufferUtils.BASE64_LEX_TO_BASE64={"-":"="};for(let e=0,l=BufferUtils.BASE64_ALPHABET.length;e<l;++e){BufferUtils.BASE64_TO_BASE64_LEX[BufferUtils.BASE64_ALPHABET[e]]=BufferUtils.BASE64_LEX_ALPHABET[e];BufferUtils.BASE64_LEX_TO_BASE64[BufferUtils.BASE64_LEX_ALPHABET[e]]=BufferUtils.BASE64_ALPHABET[e]}Class.register(BufferUtils);class ComparisonUtils{static equals(n,e){return n===e||(n instanceof Set&&e instanceof Set?n.equals(e):!(!ComparisonUtils.isUint8Array(n)||!ComparisonUtils.isUint8Array(e))&&BufferUtils.equals(new Uint8Array(n),new Uint8Array(e)))}static compare(n,e){return ComparisonUtils.isUint8Array(n)&&ComparisonUtils.isUint8Array(e)?BufferUtils.compare(new Uint8Array(n),new Uint8Array(e)):n<e?-1:n>e?1:0}static isUint8Array(n){return"undefined"!=typeof Buffer&&"undefined"==typeof window&&n instanceof Buffer||(ArrayBuffer.isView(n)||n instanceof ArrayBuffer)}}Class.register(ComparisonUtils);class JSONUtils{static stringify(n){return JSON.stringify(n,JSONUtils.jsonifyType)}static parse(n){return JSON.parse(n,JSONUtils.parseType)}static parseType(n,e){if(e&&e[JSONUtils.TYPE_SYMBOL])switch(e[JSONUtils.TYPE_SYMBOL]){case"Uint8Array":return BufferUtils.fromBase64(e[JSONUtils.VALUE_SYMBOL]);case"Set":return Set.from(e[JSONUtils.VALUE_SYMBOL])}return e}static jsonifyType(n,e){return e instanceof Uint8Array?JSONUtils.typedObject("Uint8Array",BufferUtils.toBase64(e)):e instanceof Set?JSONUtils.typedObject("Set",Array.from(e)):e}static typedObject(n,e){const l={};l[JSONUtils.TYPE_SYMBOL]=n;l[JSONUtils.VALUE_SYMBOL]=e;return l}}JSONUtils.TYPE_SYMBOL="__";JSONUtils.VALUE_SYMBOL="value";Class.register(JSONUtils);class Log{static get instance(){Log._instance||(Log._instance=new Log(new LogNative));return Log._instance}constructor(n){this._native=n}setLoggable(n,e){this._native.setLoggable(n,e)}get level(){return this._native._global_level}set level(n){this._native._global_level=n}msg(n,e,l){if(this._native.isLoggable(e,n)){for(let n=0;n<l.length;++n){"function"==typeof l[n]&&(l[n]=l[n]());"object"==typeof l[n]&&("function"==typeof l[n].toString?l[n]=l[n].toString():l[n].constructor&&l[n].constructor.name?l[n]=`{Object: ${l[n].constructor.name}}`:l[n]="{Object}")}this._native.msg(n,e,l)}}static d(n,e,...l){if(arguments.length>=2){n=arguments[0];l=Array.prototype.slice.call(arguments,1)}else{n=undefined;l=Array.prototype.slice.call(arguments,0)}Log.instance.msg(Log.DEBUG,n,l)}static e(n,e,...l){if(arguments.length>=2){n=arguments[0];l=Array.prototype.slice.call(arguments,1)}else{n=undefined;l=Array.prototype.slice.call(arguments,0)}Log.instance.msg(Log.ERROR,n,l)}static i(n,e,...l){if(arguments.length>=2){n=arguments[0];l=Array.prototype.slice.call(arguments,1)}else{n=undefined;l=Array.prototype.slice.call(arguments,0)}Log.instance.msg(Log.INFO,n,l)}static v(n,e,...l){if(arguments.length>=2){n=arguments[0];l=Array.prototype.slice.call(arguments,1)}else{n=undefined;l=Array.prototype.slice.call(arguments,0)}Log.instance.msg(Log.VERBOSE,n,l)}static w(n,e,...l){if(arguments.length>=2){n=arguments[0];l=Array.prototype.slice.call(arguments,1)}else{n=undefined;l=Array.prototype.slice.call(arguments,0)}Log.instance.msg(Log.WARNING,n,l)}static t(n,e,...l){if(arguments.length>=2){n=arguments[0];l=Array.prototype.slice.call(arguments,1)}else{n=undefined;l=Array.prototype.slice.call(arguments,0)}Log.instance.msg(Log.TRACE,n,l)}}Log.Level={TRACE:1,VERBOSE:2,DEBUG:3,INFO:4,WARNING:5,ERROR:6,ASSERT:7,toStringTag:function(n){switch(n){case Log.TRACE:return"T";case Log.VERBOSE:return"V";case Log.DEBUG:return"D";case Log.INFO:return"I";case Log.WARNING:return"W";case Log.ERROR:return"E";case Log.ASSERT:return"A";default:return"*"}}};Log.TRACE=Log.Level.TRACE;Log.VERBOSE=Log.Level.VERBOSE;Log.DEBUG=Log.Level.DEBUG;Log.INFO=Log.Level.INFO;Log.WARNING=Log.Level.WARNING;Log.ERROR=Log.Level.ERROR;Log.ASSERT=Log.Level.ASSERT;Log._instance=null;Log.d.tag=(n=>Log.d.bind(null,n));Log.e.tag=(n=>Log.e.bind(null,n));Log.i.tag=(n=>Log.i.bind(null,n));Log.v.tag=(n=>Log.v.bind(null,n));Log.w.tag=(n=>Log.w.bind(null,n));Log.t.tag=(n=>Log.t.bind(null,n));Class.register(Log);class LRUMap{constructor(n){this._maxSize=n;this._map=new Map;this._numAccesses=new Map;this._accessQueue=[]}get size(){return this._map.size}clear(){this._numAccesses.clear();this._accessQueue=[];return this._map.clear()}"delete"(n){return this._map["delete"](n)}entries(){return this._map.entries()}forEach(n,e){return this._map.forEach(n,e)}get(n){this.access(n);return this._map.get(n)}has(n){return this._map.has(n)}keys(){return this._map.keys()}evict(n=1){for(;n>0&&this._accessQueue.length>0;){const e=this._accessQueue.shift();let l=this._numAccesses.get(e);--l;this._numAccesses.set(e,l);if(0===l){this._numAccesses["delete"](e);this["delete"](e)&&--n}}}access(n){if(!this._map.has(n))return;let e=0;this._numAccesses.has(n)&&(e=this._numAccesses.get(n));++e;this._numAccesses.set(n,e);this._accessQueue.push(n)}set(n,e){this.size>=this._maxSize&&this.evict();this._map.set(n,e);this.access(n)}values(){return this._map.values()}[Symbol.iterator](){return this._map.entries()}}Class.register(LRUMap);class ObjectUtils{static byKeyPath(n,e){if(!Array.isArray(e))return n[e];let l=n;for(const t of e){if(l===undefined)return undefined;l=l[t]}return l}}Class.register(ObjectUtils);Set.prototype.union=function(n){const e=new Set(this);for(const l of n)e.add(l);return e};Set.prototype.intersection=function(n){const e=new Set;for(const l of n)this.has(l)&&e.add(l);return e};Set.prototype.difference=function(n){const e=new Set(this);for(const l of n)e["delete"](l);return e};Set.prototype.equals=function(n){if(this.size!==n.size)return!1;for(const e of n)if(!this.has(e))return!1;return!0};Set.from=function(n){return n&&"function"==typeof n[Symbol.iterator]&&"string"!=typeof n?new Set(n):new Set([n])};Set.sampleElement=function(n){return n.size>0?n.values().next().value:undefined};class Synchronizer{constructor(){this._queue=[];this._working=!1}push(n){return new Promise((e,l)=>{this._queue.push({fn:n,resolve:e,error:l});this._working||this._doWork()["catch"](Log.w.tag(Synchronizer))})}async _doWork(){this._working=!0;for(;this._queue.length;){const e=this._queue.shift();try{const l=await e.fn();e.resolve(l)}catch(n){e.error&&e.error(n)}}this._working=!1}get working(){return this._working}}Class.register(Synchronizer);class EncodedTransaction{constructor(n){this._tableName=n;this._modified=new Map;this._removed=new Set;this._truncated=!1}get tableName(){return this._tableName}get modified(){return this._modified}get removed(){return this._removed}get truncated(){return this._truncated}truncate(){this._truncated=!0;this._modified.clear();this._removed.clear()}put(n,e){this._removed["delete"](n);this._modified.set(n,e)}get(n){return this._modified.get(n)}remove(n){this._removed.add(n);this._modified["delete"](n)}}Class.register(EncodedTransaction);class GenericValueEncoding{static _encodeInteger(n){const e=new Uint8Array(9),l=new DataView(e.buffer);l.setUint8(0,GenericValueEncoding.Type.INTEGER);l.setUint32(1,Math.floor(n/Math.pow(2,32)));l.setUint32(5,n);return e}static _decodeInteger(n){const e=new DataView(n.buffer);return e.getUint32(1)*Math.pow(2,32)+e.getUint32(5)}static _encodeString(n,e=GenericValueEncoding.Type.STRING){const l=new Uint8Array(n.length+1);l[0]=e;for(let t=0;t<n.length;++t)l[t+1]=n.charCodeAt(t);return l}static _decodeString(n){return String.fromCharCode.apply(null,n.subarray(1))}static _encodeOther(n){return GenericValueEncoding._encodeString(JSONUtils.stringify(n),GenericValueEncoding.Type.JSON)}static _decodeOther(n){const e=GenericValueEncoding._decodeString(n);return JSONUtils.parse(e)}static _encodeBuffer(n){const e=new Uint8Array(n.byteLength+1);e[0]=GenericValueEncoding.Type.BUFFER;e.set(n,1);return e}static _decodeBuffer(n){return n.subarray(1)}static encode(n){return Number.isInteger(n)?GenericValueEncoding._encodeInteger(n):"string"==typeof n?this._encodeString(n):n instanceof Uint8Array?GenericValueEncoding._encodeBuffer(n):GenericValueEncoding._encodeOther(n)}static decode(n){switch((n=new Uint8Array(n))[0]){case GenericValueEncoding.Type.INTEGER:return GenericValueEncoding._decodeInteger(n);case GenericValueEncoding.Type.STRING:return GenericValueEncoding._decodeString(n);case GenericValueEncoding.Type.BUFFER:return GenericValueEncoding._decodeBuffer(n);default:return GenericValueEncoding._decodeOther(n)}}static get encoding(){return JungleDB.Encoding.BINARY}}GenericValueEncoding.Type={INTEGER:0,STRING:1,JSON:2,BUFFER:3};Class.register(GenericValueEncoding);class CachedBackend{constructor(n){this._backend=n;this._cache=new LRUMap(CachedBackend.MAX_CACHE_SIZE)}get connected(){return this._backend.connected}get indices(){return this._backend.indices}async _retrieveValues(n){const e=[];for(const l of n)e.push(this.get(l));return Promise.all(e)}async get(n){if(this._cache.has(n))return this._cache.get(n);const e=await this._backend.get(n);this._cache.set(n,e);return e}keys(n=null){return this._backend.keys(n)}values(n=null){return this._backend.values(n)}keyStream(n,e=!0,l=null){return this._backend.keyStream(n,e,l)}valueStream(n,e=!0,l=null){return this._backend.valueStream(n,e,l)}maxValue(n=null){return this._backend.maxValue(n)}maxKey(n=null){return this._backend.maxKey(n)}minKey(n=null){return this._backend.minKey(n)}minValue(n=null){return this._backend.minValue(n)}count(n=null){return this._backend.count(n)}_apply(n){this._applyLocally(n);return this._backend._apply(n)}_applyLocally(n){n._truncated&&this._cache.clear();for(const e of n._removed)this._cache["delete"](e);for(const[e,l]of n._modified)this._cache.set(e,l)}async truncate(){this._cache.clear();return this._backend.truncate()}index(n){return this._backend.index(n)}createIndex(n,e,l={}){return this._backend.createIndex(n,e,l)}deleteIndex(n,e={}){return this._backend.deleteIndex(n,e)}close(){return this._backend.close()}async applyCombined(n){return[await this._backend.applyCombined(n),()=>this._applyLocally(n)]}isSynchronous(){return!1}}CachedBackend.MAX_CACHE_SIZE=5e3;Class.register(CachedBackend);class InMemoryIndex{constructor(n,e,l=!1,t=!1){this._objectStore=n;this._keyPath=e;this._multiEntry=l;this._unique=t;this._tree=new BTree}truncate(){this._tree=new BTree}_indexKey(n,e){return e===undefined?undefined:this.keyPath?ObjectUtils.byKeyPath(e,this.keyPath):n}get keyPath(){return this._keyPath}get multiEntry(){return this._multiEntry}get unique(){return this._unique}_insert(n,e){const l=this._tree;this._multiEntry&&Array.isArray(e)||(e=[e]);for(const t of e)if(l.seek(t)){if(this._unique)throw new Error(`Uniqueness constraint violated for key ${n} on path ${this._keyPath}`);l.currentRecord.add(n)}else l.insert(t,this._unique?n:Set.from(n))}put(n,e,l){const t=this._indexKey(n,l),o=this._indexKey(n,e);if(t!==o){t!==undefined&&this._remove(n,t);o!==undefined&&this._insert(n,o)}}remove(n,e){const l=this._indexKey(n,e);l!==undefined&&this._remove(n,l)}_remove(n,e){const l=this._tree;this._multiEntry&&Array.isArray(e)||(e=[e]);for(const t of e)l.seek(t)&&(!this._unique&&l.currentRecord.size>1?l.currentRecord["delete"](n):l.remove(t))}async _retrieveValues(n){const e=[];for(const l of n)e.push(this._objectStore.get(l));return Promise.all(e)}async values(n=null){const e=await this.keys(n);return this._retrieveValues(e)}async keys(n=null){let e=new Set;if(n instanceof KeyRange&&n.exactMatch){this._tree.seek(n.lower)&&(e=Set.from(this._tree.currentRecord));return e}if(n instanceof KeyRange){if(!this._tree.goToLowerBound(n.lower,n.lowerOpen))return e}else this._tree.goTop();for(;!(n instanceof KeyRange)||n.includes(this._tree.currentKey);){e=e.union(Set.from(this._tree.currentRecord));if(!this._tree.skip())break}return e}keyStream(n,e=!0,l=null){if(!this._unique)throw new Error("Unsupported operation for non-unique indices");if(l instanceof KeyRange){if(e){if(!this._tree.goToLowerBound(l.lower,l.lowerOpen))return Promise.resolve()}else if(!this._tree.goToUpperBound(l.upper,l.upperOpen))return Promise.resolve()}else e?this._tree.goTop():this._tree.goBottom();for(;(!(l instanceof KeyRange)||l.includes(this._tree.currentKey))&&n(this._tree.currentRecord)&&this._tree.skip(e?1:-1););return Promise.resolve()}async valueStream(n,e=!0,l=null){if(!this._unique)throw new Error("Unsupported operation for non-unique indices");if(l instanceof KeyRange){if(e){if(!this._tree.goToLowerBound(l.lower,l.lowerOpen))return}else if(!this._tree.goToUpperBound(l.upper,l.upperOpen))return}else e?this._tree.goTop():this._tree.goBottom();for(;(!(l instanceof KeyRange)||l.includes(this._tree.currentKey))&&n(await this._objectStore.get(this._tree.currentRecord),this._tree.currentRecord)&&this._tree.skip(e?1:-1););}async maxValues(n=null){const e=await this.maxKeys(n);return this._retrieveValues(e)}async maxKeys(n=null){const e=n instanceof KeyRange;return this._tree.goToUpperBound(e?n.upper:undefined,!!e&&n.upperOpen)?Set.from(this._tree.currentRecord):new Set}async minValues(n=null){const e=await this.minKeys(n);return this._retrieveValues(e)}async minKeys(n=null){const e=n instanceof KeyRange;return this._tree.goToLowerBound(e?n.lower:undefined,!!e&&n.lowerOpen)?Set.from(this._tree.currentRecord):new Set}async count(n=null){return(await this.keys(n)).size}}Class.register(InMemoryIndex);class InMemoryBackend{constructor(n,e=null){this._cache=new Map;this._indices=new Map;this._primaryIndex=new InMemoryIndex(this,undefined,!1,!0);this._tableName=n;this._codec=e}get connected(){return!0}get indices(){return this._indices}getSync(n){return this.decode(this._cache.get(n),n)}get(n){try{return Promise.resolve(this.getSync(n))}catch(e){return Promise.reject(e)}}async values(n=null){if(null!==n&&n instanceof Query)return n.values(this);const e=[];for(const l of await this.keys(n))e.push(await this.get(l));return Promise.resolve(e)}keys(n=null){return null!==n&&n instanceof Query?n.keys(this):this._primaryIndex.keys(n)}keyStream(n,e=!0,l=null){return this._primaryIndex.keyStream(n,e,l)}valueStream(n,e=!0,l=null){return this._primaryIndex.valueStream(n,e,l)}async maxValue(n=null){const e=await this.maxKey(n);return this.get(e)}async maxKey(n=null){const e=await this._primaryIndex.maxKeys(n);return Set.sampleElement(e)}async minValue(n=null){const e=await this.minKey(n);return this.get(e)}async minKey(n=null){const e=await this._primaryIndex.minKeys(n);return Set.sampleElement(e)}async count(n=null){return(await this.keys(n)).size}index(n){return this._indices.get(n)}async _apply(n){n._truncated&&this.truncateSync();const e=new Map;for(const l of n._removed){const n=this.getSync(l);n&&e.set(l,n);this._cache["delete"](l)}for(const[l,t]of n._modified){const n=this.getSync(l);n&&e.set(l,n);this._cache.set(l,this.encode(t))}InMemoryBackend._indexApply(this._primaryIndex,n,e);for(const l of this._indices.values())InMemoryBackend._indexApply(l,n,e)}static _indexApply(n,e,l){e._truncated&&n.truncate();for(const t of e._removed)n.remove(t,l.get(t));for(const[t,o]of e._modified)n.put(t,o,l.get(t))}async truncate(){this.truncateSync()}truncateSync(){this._cache.clear();this._primaryIndex.truncate();for(const n of this._indices.values())n.truncate()}async map(n){for(const[e,l]of this._cache)n(e,l)}createIndex(n,e,l={}){let{multiEntry:t=!1,upgradeCondition:o=null}=l||{};const i=new InMemoryIndex(this,e=e||n,t);this._indices.set(n,i)}deleteIndex(n,e={}){let{upgradeCondition:l=null}=e||{};this._indices["delete"](n)}decode(n,e){return n===undefined?undefined:null!==this._codec&&this._codec!==undefined?this._codec.decode(n,e):n}encode(n){return n===undefined?undefined:null!==this._codec&&this._codec!==undefined?this._codec.encode(n):n}get tableName(){return this._tableName}async applyCombined(n){return()=>this._apply(n)}isSynchronous(){return!0}isCached(n){return!0}}Class.register(InMemoryBackend);class KeyRange{constructor(n,e,l,t){this._lower=n;this._upper=e;this._lowerOpen=l;this._upperOpen=t}get lower(){return this._lower}get upper(){return this._upper}get lowerOpen(){return this._lowerOpen}get upperOpen(){return this._upperOpen}get exactMatch(){return this._lower===this._upper&&!this._lowerOpen&&!this.upperOpen}includes(n){return(this._lower===undefined||ComparisonUtils.compare(this._lower,n)<0||!this._lowerOpen&&ComparisonUtils.equals(this._lower,n))&&(this._upper===undefined||ComparisonUtils.compare(this._upper,n)>0||!this._upperOpen&&ComparisonUtils.equals(this._upper,n))}static upperBound(n,e=!1){return new KeyRange(undefined,n,!1,e)}static lowerBound(n,e=!1){return new KeyRange(n,undefined,e,!1)}static bound(n,e,l=!1,t=!1){return new KeyRange(n,e,l,t)}static only(n){return new KeyRange(n,n,!1,!1)}}Class.register(KeyRange);class ObjectStore{constructor(n,e,l){this._backend=n;this._db=e;this._name=l;this._stateStack=[];this._backendInfo=new TransactionInfo(this._backend,null);this._transactions=new Map;this._transactions.set(ObjectStore.BACKEND_ID,this._backendInfo);this._snapshotManager=new SnapshotManager;this._synchronizer=new Synchronizer}get jungleDB(){return this._db}get connected(){return this._backend.connected}get _currentState(){return this._stateStack.length>0?this._stateStack[this._stateStack.length-1].transaction:this._backend}get _currentStateInfo(){return this._stateStack.length>0?this._stateStack[this._stateStack.length-1]:this._backendInfo}get _currentStateId(){return this._stateStack.length>0?this._stateStack[this._stateStack.length-1].id:ObjectStore.BACKEND_ID}get indices(){if(!this._backend.connected)throw new Error("JungleDB is not connected");return this._currentState.indices}get(n){if(!this._backend.connected)throw new Error("JungleDB is not connected");return this._currentState.get(n)}async put(n,e){if(!this._backend.connected)throw new Error("JungleDB is not connected");const l=this.transaction();try{await l.put(n,e)}catch(t){await l.abort();throw t}return l.commit()}async remove(n){if(!this._backend.connected)throw new Error("JungleDB is not connected");const e=this.transaction();try{await e.remove(n)}catch(l){await e.abort();throw l}return e.commit()}getSync(n){if(!this._backend.connected)throw new Error("JungleDB is not connected");if(!this._currentState.isSynchronous())throw new Error("Only works on synchronous backends");return this._currentState.getSync(n)}isCached(n){if(!this._backend.connected)throw new Error("JungleDB is not connected");if(!this._currentState.isSynchronous())throw new Error("Only works on synchronous backends");return this._currentState.isCached(n)}keys(n=null){if(!this._backend.connected)throw new Error("JungleDB is not connected");return null!==n&&n instanceof Query?n.keys(this._currentState):this._currentState.keys(n)}values(n=null){if(!this._backend.connected)throw new Error("JungleDB is not connected");return null!==n&&n instanceof Query?n.values(this._currentState):this._currentState.values(n)}keyStream(n,e=!0,l=null){return this._currentState.keyStream(n,e,l)}valueStream(n,e=!0,l=null){return this._currentState.valueStream(n,e,l)}maxValue(n=null){if(!this._backend.connected)throw new Error("JungleDB is not connected");return this._currentState.maxValue(n)}maxKey(n=null){if(!this._backend.connected)throw new Error("JungleDB is not connected");return this._currentState.maxKey(n)}minKey(n=null){if(!this._backend.connected)throw new Error("JungleDB is not connected");return this._currentState.minKey(n)}minValue(n=null){if(!this._backend.connected)throw new Error("JungleDB is not connected");return this._currentState.minValue(n)}count(n=null){if(!this._backend.connected)throw new Error("JungleDB is not connected");return this._currentState.count(n)}async commit(n){if(!this._isCommittable(n)){await this.abort(n);return!1}await this._commitInternal(n);return!0}_isCommittable(n){if(!this._backend.connected)throw new Error("JungleDB is not connected");if(!(n instanceof Transaction&&n.state===Transaction.STATE.OPEN&&this._transactions.has(n.id)))throw new Error("Can only commit open transactions");return this._transactions.get(n.id).isCommittable()}async _commitBackend(){throw new Error("Cannot commit object stores")}async _commitInternal(n){const e=this._transactions.get(n.id);if(this._stateStack.length>=ObjectStore.MAX_STACK_SIZE){Log.e(ObjectStore,`Transaction stack size exceeded ${this.toStringFull()}`);throw new Error("Transaction stack size exceeded")}this._stateStack.push(e);e.close();e.isFlushable()&&await this._flattenState(n)}_setParent(n){throw new Error("Unsupported operation")}async abort(n){if(!this._backend.connected)throw new Error("JungleDB is not connected");if(n instanceof Snapshot)return this._snapshotManager.abortSnapshot(n);if(!(n instanceof Transaction&&n.state===Transaction.STATE.OPEN&&this._transactions.has(n.id)))throw new Error("Can only abort open transactions");const e=this._transactions.get(n.id);e.abort();e.parent&&0===e.parent.numOpenChildren&&await this._flattenState();return!0}_flattenState(n){return this._synchronizer.push(()=>this._flattenStateInternal(n))}async _flattenStateInternal(n){if(n&&n instanceof Transaction){const l=this._transactions.get(n.id);if(!l.isFlushable())return!1;const t=l.parent.transaction,o=()=>{l.flush();this._transactions["delete"](n.id);const e=this._stateStack.indexOf(l);e>=0&&this._stateStack.splice(e,1);this._flattenState()["catch"](Log.w.tag(ObjectStore))};if(null===n.dependency){l.parent.isBackend()&&await this._snapshotManager.applyTx(n,t);try{await t._apply(n)}catch(e){l.abort();this._transactions["delete"](n.id);const t=this._stateStack.indexOf(l);t>=0&&this._stateStack.splice(t,1);n._setAborted();Log.e(ObjectStore,"Error while applying transaction",e)}o();return!0}return await n.dependency.onFlushable(n,o,()=>this._snapshotManager.applyTx(n,t))}for(;this._stateStack.length>0&&await this._flattenStateInternal(this._currentState););for(;this._stateStack.length>0&&await this._flattenStateInternal(this._stateStack[0].transaction););return!1}index(n){if(!this._backend.connected)throw new Error("JungleDB is not connected");return this._currentState.index(n)}createIndex(n,e,l={}){return this._backend.createIndex(n,e,l)}deleteIndex(n,e={}){return this._backend.deleteIndex(n,e)}transaction(n=!0){if(!this._backend.connected)throw new Error("JungleDB is not connected");if(this._backend.isSynchronous())return this.synchronousTransaction(n);const e=new Transaction(this,this._currentState,this,n);this._transactions.set(e.id,new TransactionInfo(e,this._currentStateInfo));return e}synchronousTransaction(n=!0){if(!this._backend.connected)throw new Error("JungleDB is not connected");const e=new SynchronousTransaction(this,this._currentState,this,n);this._transactions.set(e.id,new TransactionInfo(e,this._currentStateInfo));return e}isSynchronous(){return this._backend.isSynchronous()}snapshot(){return this._currentStateId!==ObjectStore.BACKEND_ID?this._currentState.snapshot():this._snapshotManager.createSnapshot(this,this._currentState)}async _apply(n){throw new Error("Unsupported operation")}async truncate(){if(!this._backend.connected)throw new Error("JungleDB is not connected");const n=this.transaction();await n.truncate();return n.commit()}close(){if(this._stateStack.length>0)throw new Error("Cannot close database while transactions are active");return this._backend.close()}toStringFull(){return`ObjectStore{\n    stack=[${this._stateStack.map(n=>`{tx=${n.toStringShort()}, open=${this._openTransactions.get(n.id)?this._openTransactions.get(n.id).size:0}}`)}],\n    db=${this._db}/${this._name?this._name:"unnamed"}\n}`}toString(){return`ObjectStore{stackSize=${this._stateStack.length}, db=${this._db}/${this._name?this._name:"unnamed"}}`}}ObjectStore.MAX_STACK_SIZE=10;ObjectStore.BACKEND_ID="backend";Class.register(ObjectStore);class TransactionInfo{constructor(n,e,l=[]){this.transaction=n;this.children=l;this._parentInfo=e;this._open=!0;this._parentInfo&&this._parentInfo.addChild(this)}addChild(n){this.children.push(n)}removeChild(n){const e=this.children.indexOf(n);e>=0&&this.children.splice(e,1)}flush(){if(!this.isBackend()){const n=this.parent;this.parent.removeChild(this);for(const e of this.children.slice())e.parent=n;this.children=[];this._parentInfo=null}}abort(){this.isBackend()||this.parent.removeChild(this)}close(){this._open=!1}get parent(){return this._parentInfo}set parent(n){this.parent.removeChild(this);this._parentInfo=n;this.parent.addChild(this);this.transaction._setParent(n.transaction)}get id(){return this.isBackend()?ObjectStore.BACKEND_ID:this.transaction.id}isBackend(){return null===this._parentInfo}isOpen(){return this._open}get numOpenChildren(){return this.children.filter(n=>n.isOpen()).length}isCommittable(){return this._parentInfo&&this._parentInfo.children.every(n=>n.isOpen())}isFlushable(){return this.parent&&0===this.parent.numOpenChildren&&(null===this.transaction.dependency||this.parent.isBackend())}}class Query{static _parseKeyRange(n,e,l){switch(n){case Query.OPERATORS.GT:return KeyRange.lowerBound(e,!0);case Query.OPERATORS.GE:return KeyRange.lowerBound(e,!1);case Query.OPERATORS.LT:return KeyRange.upperBound(e,!0);case Query.OPERATORS.LE:return KeyRange.upperBound(e,!1);case Query.OPERATORS.EQ:return KeyRange.only(e);case Query.OPERATORS.BETWEEN:return KeyRange.bound(e,l,!0,!0);case Query.OPERATORS.WITHIN:return KeyRange.bound(e,l,!1,!1)}Log.e(`Unknown operator: ${n}`);throw new Error("Unknown operator")}static and(n){const e=Array.from(arguments);return new Query(e,Query.OPERATORS.AND)}static or(n){const e=Array.from(arguments);return new Query(e,Query.OPERATORS.OR)}static max(n){return new Query(n,Query.OPERATORS.MAX)}static min(n){return new Query(n,Query.OPERATORS.MIN)}static lt(n,e){return new Query(n,Query.OPERATORS.LT,e)}static le(n,e){return new Query(n,Query.OPERATORS.LE,e)}static gt(n,e){return new Query(n,Query.OPERATORS.GT,e)}static ge(n,e){return new Query(n,Query.OPERATORS.GE,e)}static eq(n,e){return new Query(n,Query.OPERATORS.EQ,e)}static between(n,e,l){return new Query(n,Query.OPERATORS.BETWEEN,e,l)}static within(n,e,l){return new Query(n,Query.OPERATORS.WITHIN,e,l)}constructor(n,e,l,t){if(Array.isArray(n)){if(n.some(n=>!(n instanceof Query)))throw new Error("Invalid query");if(Query.COMBINED_OPERATORS.indexOf(e)<0)throw new Error("Unknown operator");this._queryType=Query.Type.COMBINED;this._queries=n;this._op=e}else{if(Query.RANGE_OPERATORS.indexOf(e)>=0){this._queryType=Query.Type.RANGE;this._keyRange=Query._parseKeyRange(e,l,t)}else{if(!(Query.ADVANCED_OPERATORS.indexOf(e)>=0))throw new Error("Unknown operator");this._queryType=Query.Type.ADVANCED;this._op=e}this._indexName=n}}async values(n){const e=await this._execute(n),l=[];for(const t of e)l.push(n.get(t));return Promise.all(l)}keys(n){return this._execute(n)}async _execute(n){switch(this._queryType){case Query.Type.COMBINED:return Promise.resolve(this._executeCombined(n));case Query.Type.ADVANCED:return Promise.resolve(this._executeAdvanced(n));case Query.Type.RANGE:return this._executeRange(n)}return Promise.resolve(new Set)}async _executeCombined(n){const e=[];for(const t of this._queries)e.push(t._execute(n));const l=await Promise.all(e);if(this._op===Query.OPERATORS.AND){if(0===l.length)return new Set;if(1===l.length)return l[0];const n=l.shift(),e=new Set;for(const t of n)l.every(n=>n.has(t))&&e.add(t);return e}if(this._op===Query.OPERATORS.OR){const n=new Set;for(const e of l)e.forEach(e=>n.add(e));return n}return new Set}async _executeAdvanced(n){const e=n.index(this._indexName);let l=new Set;switch(this._op){case Query.OPERATORS.MAX:l=await e.maxKeys();break;case Query.OPERATORS.MIN:l=await e.minKeys()}return new Set(l)}async _executeRange(n){const e=n.index(this._indexName);return new Set(await e.keys(this._keyRange))}}Query.OPERATORS={GT:0,GE:1,LT:2,LE:3,EQ:4,BETWEEN:7,WITHIN:8,MAX:9,MIN:10,AND:11,OR:12};Query.RANGE_OPERATORS=[Query.OPERATORS.GT,Query.OPERATORS.GE,Query.OPERATORS.LT,Query.OPERATORS.LE,Query.OPERATORS.EQ,Query.OPERATORS.BETWEEN,Query.OPERATORS.WITHIN];Query.ADVANCED_OPERATORS=[Query.OPERATORS.MAX,Query.OPERATORS.MIN];Query.COMBINED_OPERATORS=[Query.OPERATORS.AND,Query.OPERATORS.OR];Query.Type={RANGE:0,ADVANCED:1,COMBINED:2};Class.register(Query);class TransactionIndex extends InMemoryIndex{static derive(n,e){const l=new Map;for(const[t,o]of e.indices)l.set(t,new TransactionIndex(n,e,t,o.keyPath,o.multiEntry,o.unique));return l}get _index(){return this._backend.index(this._databaseDir)}constructor(n,e,l,t,o=!1,i=!1){super(n,t,o,i);this._backend=e;this._databaseDir=l}async checkUniqueConstraint(n,e){if(!this.unique)return;let l=this._indexKey(n,e);if(l!==undefined){this.multiEntry&&Array.isArray(l)||(l=[l]);for(const n of l){if(await this._index.count(KeyRange.only(n))>0)throw new Error(`Uniqueness constraint violated for key ${n} on path ${this._keyPath}`)}}}async keys(n=null){const e=[];this._objectStore._truncated?e.push(new Set):e.push(this._index.keys(n));e.push(InMemoryIndex.prototype.keys.call(this,n));let[l,t]=await Promise.all(e);return(l=(l=l.difference(this._objectStore._removed)).difference(this._objectStore._modified.keys())).union(t)}async values(n=null){const e=await this.keys(n);return InMemoryIndex.prototype._retrieveValues.call(this,e)}async maxValues(n=null){const e=await this.maxKeys(n);return InMemoryIndex.prototype._retrieveValues.call(this,e)}async maxKeys(n=null){let e;e=this._objectStore._truncated?new Set:await this._index.maxKeys(n);let l=Set.sampleElement(e),t=undefined,o=undefined;if(l!==undefined){t=await this._backend.get(l);o=ObjectUtils.byKeyPath(t,this.keyPath)}e=(e=e.difference(this._objectStore._removed)).difference(this._objectStore._modified.keys());for(;l!==undefined&&0===e.size;){const i=KeyRange.upperBound(o,!0);e=await this._index.maxKeys(i);if((l=Set.sampleElement(e))!==undefined){t=await this._backend.get(l);o=ObjectUtils.byKeyPath(t,this.keyPath)}e=(e=e.difference(this._objectStore._removed)).difference(this._objectStore._modified.keys());if(o&&null!==n&&!n.includes(o)){e=new Set;break}}const i=await InMemoryIndex.prototype.maxKeys.call(this,n);if(0===e.size)return i;if(0===i.size)return e;const c=await this._objectStore.get(Set.sampleElement(i)),s=o,u=ObjectUtils.byKeyPath(c,this.keyPath);return ComparisonUtils.compare(s,u)>0?e:ComparisonUtils.compare(s,u)<0?i:e.union(i)}async minValues(n=null){const e=await this.minKeys(n);return InMemoryIndex.prototype._retrieveValues.call(this,e)}async minKeys(n=null){let e;e=this._objectStore._truncated?new Set:await this._index.minKeys(n);let l=Set.sampleElement(e),t=undefined,o=undefined;if(l!==undefined){t=await this._backend.get(l);o=ObjectUtils.byKeyPath(t,this.keyPath)}e=(e=e.difference(this._objectStore._removed)).difference(this._objectStore._modified.keys());for(;l!==undefined&&0===e.size;){const i=KeyRange.lowerBound(o,!0);e=await this._index.minKeys(i);if((l=Set.sampleElement(e))!==undefined){t=await this._backend.get(l);o=ObjectUtils.byKeyPath(t,this.keyPath)}e=(e=e.difference(this._objectStore._removed)).difference(this._objectStore._modified.keys());if(o&&null!==n&&!n.includes(o)){e=new Set;break}}const i=await InMemoryIndex.prototype.minKeys.call(this,n);if(0===e.size)return i;if(0===i.size)return e;const c=await this._objectStore.get(Set.sampleElement(i)),s=o,u=ObjectUtils.byKeyPath(c,this.keyPath);return ComparisonUtils.compare(s,u)<0?e:ComparisonUtils.compare(s,u)>0?i:e.union(i)}async count(n=null){return(await this.keys(n)).size}}Class.register(TransactionIndex);class Transaction{constructor(n,e,l,t=!0){this._id=Transaction._instanceCount++;this._objectStore=n;this._parent=e;this._managingBackend=l||e;this._modified=new Map;this._removed=new Set;this._truncated=!1;this._indices=TransactionIndex.derive(this,e);this._state=Transaction.STATE.OPEN;this._nested=new Set;this._nestedCommitted=!1;this._dependency=null;this._snapshotManager=new SnapshotManager;this._startTime=Date.now();this._enableWatchdog=t;this._enableWatchdog&&(this._watchdog=setTimeout(()=>{Log.w(Transaction,`Violation: tx id ${this._id} took longer than expected (still open after ${Transaction.WATCHDOG_TIMER/1e3}s), ${this.toString()}.`)},Transaction.WATCHDOG_TIMER))}get objectStore(){return this._objectStore}get nested(){return this._managingBackend instanceof Transaction}get dependency(){return this._dependency}get connected(){return this._managingBackend.connected}get id(){return this._id}get indices(){return this._indices}get state(){return this._state}_applySync(n){n._truncated&&this.truncateSync();for(const[e,l]of n._modified)this._put(e,l);for(const e of n._removed)this._remove(e)}async truncate(){return this.truncateSync()}truncateSync(){if(this._state!==Transaction.STATE.OPEN)throw new Error("Transaction already closed");this._truncated=!0;this._modified.clear();this._removed.clear();for(const n of this._indices.values())n.truncate()}async get(n){return this._removed.has(n)?undefined:this._modified.has(n)?this._modified.get(n):this._truncated?undefined:await this._parent.get(n)}async put(n,e){if(this._state!==Transaction.STATE.OPEN)throw new Error("Transaction already closed");const l=[];for(const t of this._indices.values())l.push(t.checkUniqueConstraint(n,e));await Promise.all(l);this._put(n,e)}putSync(n,e){if(this._state!==Transaction.STATE.OPEN)throw new Error("Transaction already closed");this._put(n,e)}async remove(n){if(this._state!==Transaction.STATE.OPEN)throw new Error("Transaction already closed");this._remove(n)}removeSync(n){if(this._state!==Transaction.STATE.OPEN)throw new Error("Transaction already closed");this._remove(n)}async keys(n=null){if(null!==n&&n instanceof Query)return n.keys(this);let e=new Set;this._truncated||(e=await this._parent.keys(n));e=e.difference(this._removed);for(const l of this._modified.keys())(null===n||n.includes(l))&&e.add(l);return e}async values(n=null){if(null!==n&&n instanceof Query)return n.values(this);const e=await this.keys(n),l=[];for(const t of e)l.push(this.get(t));return Promise.all(l)}async keyStream(n,e=!0,l=null){let t=Array.from(this._modified.keys());l instanceof KeyRange&&(t=t.filter(n=>l.includes(n)));let o=(t=t.sort()).iterator(e);if(!this._truncated){let t=!1;await this._parent.keyStream(l=>{for(;o.hasNext()&&(e&&ComparisonUtils.compare(o.peek(),l)<0||!e&&ComparisonUtils.compare(o.peek(),l)>0);){const e=o.next();if(!n(e)){t=!0;return!1}}if(o.hasNext()&&ComparisonUtils.equals(o.peek(),l)){const e=o.next();if(!n(e)){t=!0;return!1}return!0}if(!this._removed.has(l)&&!n(l)){t=!0;return!1}return!0},e,l);if(t)return}for(;o.hasNext()&&n(o.next()););}async valueStream(n,e=!0,l=null){let t=Array.from(this._modified.keys());l instanceof KeyRange&&(t=t.filter(n=>l.includes(n)));let o=(t=t.sort()).iterator(e);if(!this._truncated){let t=!1;await this._parent.valueStream((l,i)=>{for(;o.hasNext()&&(e&&ComparisonUtils.compare(o.peek(),i)<0||!e&&ComparisonUtils.compare(o.peek(),i)>0);){const e=o.next(),l=this._modified.get(e);if(!n(l,e)){t=!0;return!1}}if(o.hasNext()&&ComparisonUtils.equals(o.peek(),i)){const e=o.next(),l=this._modified.get(e);if(!n(l,e)){t=!0;return!1}return!0}if(!this._removed.has(i)&&!n(l,i)){t=!0;return!1}return!0},e,l);if(t)return}for(;o.hasNext();){const e=o.next(),l=await this.get(e);if(!n(l,e))break}}async maxValue(n=null){const e=await this.maxKey(n);return this.get(e)}async maxKey(n=null){let e=undefined;this._truncated||(e=await this._parent.maxKey(n));for(;e!==undefined&&this._removed.has(e);){const l=KeyRange.upperBound(e,!0);e=await this._parent.maxKey(l);if(null!==n&&!n.includes(e)){e=undefined;break}}for(const l of this._modified.keys())(null===n||n.includes(l))&&(e===undefined||ComparisonUtils.compare(l,e)>0)&&(e=l);return e}async minValue(n=null){const e=await this.minKey(n);return this.get(e)}async minKey(n=null){let e=undefined;this._truncated||(e=await this._parent.minKey(n));for(;e!==undefined&&this._removed.has(e);){const l=KeyRange.lowerBound(e,!0);e=await this._parent.minKey(l);if(null!==n&&!n.includes(e)){e=undefined;break}}for(const l of this._modified.keys())(null===n||n.includes(l))&&(e===undefined||l<e)&&(e=l);return e}async count(n=null){return(await this.keys(n)).size}index(n){return this._indices.get(n)}close(){return this.abort()}transaction(n=!0){if(this._state!==Transaction.STATE.OPEN&&this._state!==Transaction.STATE.NESTED)throw new Error("Transaction already closed");const e=new Transaction(this._objectStore,this,this,n);this._nested.add(e);this._state=Transaction.STATE.NESTED;return e}synchronousTransaction(n=!0){if(this._state!==Transaction.STATE.OPEN&&this._state!==Transaction.STATE.NESTED)throw new Error("Transaction already closed");const e=new SynchronousTransaction(this._objectStore,this,this,n);this._nested.add(e);this._state=Transaction.STATE.NESTED;return e}isSynchronous(){return!1}snapshot(){if(this.state!==Transaction.STATE.COMMITTED){const n=this._managingBackend.snapshot();n.inherit(this);return n}return this._snapshotManager.createSnapshot(this._objectStore,this)}toString(){return`Transaction{id=${this._id}, changes=±${this._modified.size+this._removed.size}, truncated=${this._truncated}, objectStore=${this._objectStore}, state=${this._state}, dependency=${this._dependency}}`}toStringShort(){return`Transaction{id=${this._id}, changes=±${this._modified.size+this._removed.size}, truncated=${this._truncated}, state=${this._state}, dependency=${this._dependency}}`}async commit(n){if(n!==undefined){if(!this._isCommittable(n)){await this.abort(n);return!1}await this._commitInternal(n);return!0}if(null!==this._dependency)return this._dependency.commit();await this._checkConstraints();return this._commitBackend()}async abort(n){if(n!==undefined){if(n instanceof Snapshot)return this._snapshotManager.abortSnapshot(n);if(!this._nested.has(n)||n.state!==Transaction.STATE.OPEN)throw new Error("Can only abort open, nested transactions");this._nested["delete"](n);if(0===this._nested.size){this._state=Transaction.STATE.OPEN;this._nestedCommitted=!1}return!0}return null!==this._dependency?this._dependency.abort():this._abortBackend()}async _apply(n){if(!(n instanceof Transaction))throw new Error("Can only apply transactions");await this._snapshotManager.applyTx(n,this);this._applySync(n)}async _commitBackend(){if(this._state!==Transaction.STATE.OPEN)throw new Error("Transaction already closed or in nested state");this._enableWatchdog&&clearTimeout(this._watchdog);const n=Date.now();if(await this._managingBackend.commit(this)){this._state=Transaction.STATE.COMMITTED;this._performanceCheck(n,"commit");this._performanceCheck();return!0}this._state=Transaction.STATE.CONFLICTED;this._performanceCheck(n,"commit");this._performanceCheck();return!1}_performanceCheck(n=this._startTime,e=null){const l=Date.now()-n;e=e?` function '${e}'`:"";l>Transaction.WATCHDOG_TIMER&&Log.w(Transaction,`Violation: tx id ${this._id}${e} took ${(l/1e3).toFixed(2)}s (${this.toString()}).`)}_isCommittable(n){if(n!==undefined){if(!this._nested.has(n)||n.state!==Transaction.STATE.OPEN)throw new Error("Can only commit open, nested transactions");return!this._nestedCommitted}return this._managingBackend._isCommittable(this)}async _commitInternal(n){this._nested["delete"](n);this._nestedCommitted=!0;await this._apply(n);if(0===this._nested.size){this._state=Transaction.STATE.OPEN;this._nestedCommitted=!1}}_setParent(n){this._parent=n}async _abortBackend(){if(this._state===Transaction.STATE.ABORTED||this._state===Transaction.STATE.CONFLICTED)return!0;if(this._state!==Transaction.STATE.OPEN&&this._state!==Transaction.STATE.NESTED)throw new Error("Transaction already closed");this._state===Transaction.STATE.NESTED&&await Promise.all(Array.from(this._nested).map(n=>n.abort()));this._enableWatchdog&&clearTimeout(this._watchdog);const n=Date.now();await this._managingBackend.abort(this);this._setAborted();this._performanceCheck(n,"abort");this._performanceCheck();return!0}_setAborted(){this._state=Transaction.STATE.ABORTED}_put(n,e){this._removed["delete"](n);const l=this._modified.get(n);this._modified.set(n,e);for(const t of this._indices.values())t.put(n,e,l)}_remove(n){this._removed.add(n);const e=this._modified.get(n);this._modified["delete"](n);for(const l of this._indices.values())l.remove(n,e)}async _checkConstraints(){const n=[];for(const l of this._indices.values())if(l.unique)for(const[e,t]of this._modified)n.push(l.checkUniqueConstraint(e,t));if(n.length>0)try{await Promise.all(n)}catch(e){await this.abort();throw e}}}Transaction.WATCHDOG_TIMER=5e3;Transaction.STATE={OPEN:0,COMMITTED:1,ABORTED:2,CONFLICTED:3,NESTED:4};Transaction._instanceCount=0;Class.register(Transaction);class SynchronousTransaction extends Transaction{constructor(n,e,l,t=!0){super(n,e,l,t);this._cache=new Map}preload(n){n=n.filter(n=>!this.isCached(n));return Promise.all(n.map(n=>this.get(n)))}isCached(n){return this._cache.has(n)||!!this._parent.isSynchronous()&&this._parent.isCached(n)}async get(n){let e=this.getSync(n,!1);if(!e){e=await Transaction.prototype.get.call(this,n);this._cache.set(n,e)}return e}_getCached(n,e=!0){const l=this._cache.get(n);if(!l&&this._parent.isSynchronous())return this._parent.getSync(n,e);if(e&&!l)throw new Error(`Missing key in cache: ${n}`);return l}getSync(n,e=!0){return this._removed.has(n)?undefined:this._modified.has(n)?this._modified.get(n):this._truncated?undefined:this._getCached(n,e)}isSynchronous(){return!0}}Class.register(SynchronousTransaction);class Snapshot extends Transaction{constructor(n,e){super(n,e,n,!1)}inherit(n){if(!(n instanceof Transaction))throw new Error("Can only inherit transactions");return super._applySync(n)}async _apply(n){if(!(n instanceof Transaction))throw new Error("Can only apply transactions");n._truncated&&await this.valueStream((n,e)=>{this._modified.has(e)||this._put(e,n);return!0});for(const[e,l]of n._modified){if(this._modified.has(e))continue;let n=await this.get(e);n?this._put(e,n,l):this._remove(e,l)}for(const e of n._removed){if(this._modified.has(e))continue;let n=await this.get(e);this._put(e,n)}}async truncate(){throw new Error("Unsupported operation on snapshots: truncate")}truncateSync(){throw new Error("Unsupported operation on snapshots: truncateSync")}async commit(n){throw new Error("Cannot commit snapshots: commit")}_isCommittable(n){return!1}async _commitInternal(n){throw new Error("Cannot commit snapshots")}async _commitBackend(){throw new Error("Cannot commit snapshots")}abort(n){return this._abortBackend()}async _abortBackend(){if(this._state!==Transaction.STATE.OPEN)throw new Error("Snapshot already closed");if(!(await this._managingBackend.abort(this)))return!1;this._state=Transaction.STATE.ABORTED;this._truncated=!0;this._modified.clear();this._removed.clear();for(const n of this._indices.values())n.truncate();return!0}async put(n,e){throw new Error("Unsupported operation on snapshots: put")}putSync(n,e){throw new Error("Unsupported operation on snapshots: putSync")}async remove(n){throw new Error("Unsupported operation on snapshots: remove")}removeSync(n){throw new Error("Unsupported operation on snapshots: removeSync")}close(){return this.abort()}transaction(){throw new Error("Unsupported operation on snapshots: transaction")}synchronousTransaction(){throw new Error("Unsupported operation on snapshots: synchronousTransaction")}snapshot(){throw new Error("Unsupported operation on snapshots: snapshot")}}Class.register(Snapshot);class SnapshotManager{constructor(){this._snapshots=new Set}createSnapshot(n,e){const l=new Snapshot(n,e);this._snapshots.add(l);return l}abortSnapshot(n){return this._snapshots["delete"](n)}async applyTx(n,e){if(!(n instanceof Transaction))throw new Error("Can only apply transactions");const l=[];for(const t of this._snapshots)l.push(t._apply(n));for(const t of n._snapshotManager){t._backend=e;this._snapshots.add(t)}return Promise.all(l)}[Symbol.iterator](){return this._snapshots.values()}}Class.register(SnapshotManager);class CombinedTransaction{constructor(...n){if(!this.isConsistent(n))throw new Error("Given set of transactions violates rules for combined transactions");this._transactions=n;this._flushable=new Map;this._preprocessing=[];this._dependency=this}get backend(){return this._jdb}get transactions(){return this._transactions}isConsistent(n){const e=new Set;this._jdb=null;for(const l of n){if(l.state!==Transaction.STATE.OPEN)return!1;if(l.nested)return!1;if(e.has(l._objectStore))return!1;if(null===this._jdb)this._jdb=l._objectStore.jungleDB;else if(this._jdb!==l._objectStore.jungleDB&&null!==l._objectStore.jungleDB)return!1;e.add(l._objectStore)}return!0}async onFlushable(n,e=null,l=null){this._flushable.set(n,e);null!==l&&this._preprocessing.push(l);if(this._transactions.every(n=>this._flushable.has(n))){const n=[];for(const e of this._preprocessing)n.push(e());await Promise.all(n);await JungleDB.commitCombined(this);for(const e of this._flushable.values())e();return!0}return!1}async commit(){if(this._isCommittable()){await this._checkConstraints();await this._commitBackend();return!0}await this.abort();return!1}abort(){return this._abortBackend()}async _abortBackend(){return(await Promise.all(this._transactions.map(n=>n._abortBackend()))).every(n=>n)}transaction(n){throw new Error("Unsupported operation")}snapshot(){throw new Error("Unsupported operation")}_isCommittable(){return this._transactions.every(n=>n._isCommittable())}async _checkConstraints(){try{await Promise.all(this._transactions.map(n=>n._checkConstraints()))}catch(n){await this.abort();throw n}}async _commitBackend(){return(await Promise.all(this._transactions.map(n=>n._commitBackend()))).every(n=>n)}async _commitInternal(n){throw new Error("Cannot commit transactions to a combined transaction")}_setParent(n){throw new Error("Unsupported operation")}set _dependency(n){for(const e of this._transactions)e._dependency=n}get dependency(){return this}get objectStore(){throw new Error("Unsupported operation")}toString(){return`CombinedTransaction{size=${this._transactions.length}, states=[${this._transactions.map(n=>n.state)}]}`}}Class.register(CombinedTransaction);n._loaded=!0;"function"==typeof n._onload&&n._onload()}(JDB);if("undefined"==typeof Nimiq)var Nimiq="undefined"!=typeof window?window:{};!function(n){(Nimiq=n="undefined"!=typeof n?n:{})._currentScript||(Nimiq._currentScript=document.currentScript);if(!Nimiq._currentScript){const n=document.getElementsByTagName("script");Nimiq._currentScript=n[n.length-1]}Nimiq._path||(Nimiq._currentScript&&-1!==Nimiq._currentScript.src.indexOf("/")?Nimiq._path=Nimiq._currentScript.src.substring(0,Nimiq._currentScript.src.lastIndexOf("/")+1):Nimiq._path="./");var e=function(){var n="/home/soeren/nimiq/core/src/main/platform/browser/Class.js",e="eafee1cd98aa9291de551e85e5ee171ef3ddca47",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/platform/browser/Class.js",statementMap:{0:{start:{line:3,column:8},end:{line:3,column:59}},1:{start:{line:3,column:44},end:{line:3,column:59}},2:{start:{line:4,column:8},end:{line:4,column:22}},3:{start:{line:8,column:8},end:{line:8,column:68}},4:{start:{line:8,column:44},end:{line:8,column:68}},5:{start:{line:11,column:0},end:{line:11,column:22}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:4},end:{line:2,column:5}},loc:{start:{line:2,column:23},end:{line:5,column:5}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:25},end:{line:9,column:5}},line:7}},branchMap:{0:{loc:{start:{line:3,column:8},end:{line:3,column:59}},type:"if",locations:[{start:{line:3,column:8},end:{line:3,column:59}},{start:{line:3,column:8},end:{line:3,column:59}}],line:3},1:{loc:{start:{line:8,column:8},end:{line:8,column:68}},type:"if",locations:[{start:{line:8,column:8},end:{line:8,column:68}},{start:{line:8,column:8},end:{line:8,column:68}}],line:8}},s:{0:0,1:0,2:0,3:0,4:0,5:0},f:{0:0,1:0},b:{0:[0,0],1:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Class{static get scope(){e.f[0]++;e.s[0]++;if("undefined"!=typeof n){e.b[0][0]++;e.s[1]++;return n}e.b[0][1]++;e.s[2]++;return window}static register(l){e.f[1]++;e.s[3]++;if("undefined"!=typeof n){e.b[1][0]++;e.s[4]++;n[l.name]=l}else e.b[1][1]++}}e.s[5]++;Class.register(Class);var l=function(){var n="/home/soeren/nimiq/core/src/main/platform/browser/utils/LogNative.js",e="e1b39b81de13a732f5b6fed1d06923c931261daf",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/platform/browser/utils/LogNative.js",statementMap:{0:{start:{line:3,column:8},end:{line:3,column:38}},1:{start:{line:4,column:8},end:{line:4,column:30}},2:{start:{line:5,column:8},end:{line:17,column:9}},3:{start:{line:6,column:12},end:{line:14,column:13}},4:{start:{line:7,column:16},end:{line:13,column:17}},5:{start:{line:8,column:28},end:{line:8,column:73}},6:{start:{line:9,column:20},end:{line:9,column:70}},7:{start:{line:9,column:52},end:{line:9,column:70}},8:{start:{line:10,column:20},end:{line:10,column:73}},9:{start:{line:10,column:52},end:{line:10,column:73}},10:{start:{line:12,column:20},end:{line:12,column:89}},11:{start:{line:21,column:8},end:{line:23,column:9}},12:{start:{line:22,column:12},end:{line:22,column:50}},13:{start:{line:24,column:8},end:{line:26,column:9}},14:{start:{line:25,column:12},end:{line:25,column:50}},15:{start:{line:27,column:8},end:{line:27,column:43}},16:{start:{line:31,column:8},end:{line:31,column:44}},17:{start:{line:31,column:29},end:{line:31,column:44}},18:{start:{line:32,column:8},end:{line:32,column:38}},19:{start:{line:33,column:8},end:{line:35,column:9}},20:{start:{line:34,column:12},end:{line:34,column:92}},21:{start:{line:39,column:8},end:{line:39,column:44}},22:{start:{line:39,column:29},end:{line:39,column:44}},23:{start:{line:40,column:8},end:{line:40,column:49}},24:{start:{line:40,column:42},end:{line:40,column:49}},25:{start:{line:41,column:8},end:{line:41,column:41}},26:{start:{line:41,column:17},end:{line:41,column:41}},27:{start:{line:42,column:8},end:{line:42,column:100}},28:{start:{line:43,column:8},end:{line:55,column:9}},29:{start:{line:44,column:12},end:{line:44,column:47}},30:{start:{line:45,column:15},end:{line:55,column:9}},31:{start:{line:46,column:12},end:{line:46,column:46}},32:{start:{line:47,column:15},end:{line:55,column:9}},33:{start:{line:48,column:12},end:{line:48,column:46}},34:{start:{line:49,column:15},end:{line:55,column:9}},35:{start:{line:50,column:12},end:{line:50,column:47}},36:{start:{line:51,column:15},end:{line:55,column:9}},37:{start:{line:52,column:12},end:{line:52,column:47}},38:{start:{line:54,column:12},end:{line:54,column:45}},39:{start:{line:58,column:0},end:{line:58,column:26}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:4},end:{line:2,column:5}},loc:{start:{line:2,column:18},end:{line:18,column:5}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:20,column:4},end:{line:20,column:5}},loc:{start:{line:20,column:27},end:{line:28,column:5}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:30,column:4},end:{line:30,column:5}},loc:{start:{line:30,column:28},end:{line:36,column:5}},line:30},3:{name:"(anonymous_3)",decl:{start:{line:38,column:4},end:{line:38,column:5}},loc:{start:{line:38,column:26},end:{line:56,column:5}},line:38}},branchMap:{0:{loc:{start:{line:6,column:12},end:{line:14,column:13}},type:"if",locations:[{start:{line:6,column:12},end:{line:14,column:13}},{start:{line:6,column:12},end:{line:14,column:13}}],line:6},1:{loc:{start:{line:9,column:20},end:{line:9,column:70}},type:"if",locations:[{start:{line:9,column:20},end:{line:9,column:70}},{start:{line:9,column:20},end:{line:9,column:70}}],line:9},2:{loc:{start:{line:9,column:24},end:{line:9,column:50}},type:"binary-expr",locations:[{start:{line:9,column:24},end:{line:9,column:25}},{start:{line:9,column:29},end:{line:9,column:50}}],line:9},3:{loc:{start:{line:10,column:20},end:{line:10,column:73}},type:"if",locations:[{start:{line:10,column:20},end:{line:10,column:73}},{start:{line:10,column:20},end:{line:10,column:73}}],line:10},4:{loc:{start:{line:10,column:24},end:{line:10,column:50}},type:"binary-expr",locations:[{start:{line:10,column:24},end:{line:10,column:25}},{start:{line:10,column:29},end:{line:10,column:50}}],line:10},5:{loc:{start:{line:21,column:8},end:{line:23,column:9}},type:"if",locations:[{start:{line:21,column:8},end:{line:23,column:9}},{start:{line:21,column:8},end:{line:23,column:9}}],line:21},6:{loc:{start:{line:21,column:12},end:{line:21,column:40}},type:"binary-expr",locations:[{start:{line:21,column:12},end:{line:21,column:15}},{start:{line:21,column:19},end:{line:21,column:40}}],line:21},7:{loc:{start:{line:24,column:8},end:{line:26,column:9}},type:"if",locations:[{start:{line:24,column:8},end:{line:26,column:9}},{start:{line:24,column:8},end:{line:26,column:9}}],line:24},8:{loc:{start:{line:31,column:8},end:{line:31,column:44}},type:"if",locations:[{start:{line:31,column:8},end:{line:31,column:44}},{start:{line:31,column:8},end:{line:31,column:44}}],line:31},9:{loc:{start:{line:31,column:12},end:{line:31,column:27}},type:"binary-expr",locations:[{start:{line:31,column:12},end:{line:31,column:15}},{start:{line:31,column:19},end:{line:31,column:27}}],line:31},10:{loc:{start:{line:33,column:8},end:{line:35,column:9}},type:"if",locations:[{start:{line:33,column:8},end:{line:35,column:9}},{start:{line:33,column:8},end:{line:35,column:9}}],line:33},11:{loc:{start:{line:39,column:8},end:{line:39,column:44}},type:"if",locations:[{start:{line:39,column:8},end:{line:39,column:44}},{start:{line:39,column:8},end:{line:39,column:44}}],line:39},12:{loc:{start:{line:39,column:12},end:{line:39,column:27}},type:"binary-expr",locations:[{start:{line:39,column:12},end:{line:39,column:15}},{start:{line:39,column:19},end:{line:39,column:27}}],line:39},13:{loc:{start:{line:40,column:8},end:{line:40,column:49}},type:"if",locations:[{start:{line:40,column:8},end:{line:40,column:49}},{start:{line:40,column:8},end:{line:40,column:49}}],line:40},14:{loc:{start:{line:41,column:8},end:{line:41,column:41}},type:"if",locations:[{start:{line:41,column:8},end:{line:41,column:41}},{start:{line:41,column:8},end:{line:41,column:41}}],line:41},15:{loc:{start:{line:43,column:8},end:{line:55,column:9}},type:"if",locations:[{start:{line:43,column:8},end:{line:55,column:9}},{start:{line:43,column:8},end:{line:55,column:9}}],line:43},16:{loc:{start:{line:43,column:12},end:{line:43,column:47}},type:"binary-expr",locations:[{start:{line:43,column:12},end:{line:43,column:25}},{start:{line:43,column:29},end:{line:43,column:47}}],line:43},17:{loc:{start:{line:45,column:15},end:{line:55,column:9}},type:"if",locations:[{start:{line:45,column:15},end:{line:55,column:9}},{start:{line:45,column:15},end:{line:55,column:9}}],line:45},18:{loc:{start:{line:45,column:19},end:{line:45,column:55}},type:"binary-expr",locations:[{start:{line:45,column:19},end:{line:45,column:31}},{start:{line:45,column:35},end:{line:45,column:55}}],line:45},19:{loc:{start:{line:47,column:15},end:{line:55,column:9}},type:"if",locations:[{start:{line:47,column:15},end:{line:55,column:9}},{start:{line:47,column:15},end:{line:55,column:9}}],line:47},20:{loc:{start:{line:47,column:19},end:{line:47,column:52}},type:"binary-expr",locations:[{start:{line:47,column:19},end:{line:47,column:31}},{start:{line:47,column:35},end:{line:47,column:52}}],line:47},21:{loc:{start:{line:49,column:15},end:{line:55,column:9}},type:"if",locations:[{start:{line:49,column:15},end:{line:55,column:9}},{start:{line:49,column:15},end:{line:55,column:9}}],line:49},22:{loc:{start:{line:49,column:19},end:{line:49,column:54}},type:"binary-expr",locations:[{start:{line:49,column:19},end:{line:49,column:32}},{start:{line:49,column:36},end:{line:49,column:54}}],line:49},23:{loc:{start:{line:51,column:15},end:{line:55,column:9}},type:"if",locations:[{start:{line:51,column:15},end:{line:55,column:9}},{start:{line:51,column:15},end:{line:55,column:9}}],line:51},24:{loc:{start:{line:51,column:19},end:{line:51,column:54}},type:"binary-expr",locations:[{start:{line:51,column:19},end:{line:51,column:32}},{start:{line:51,column:36},end:{line:51,column:54}}],line:51}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class LogNative{constructor(){l.f[0]++;l.s[0]++;this._global_level=Log.INFO;l.s[1]++;this._tag_levels={};l.s[2]++;try{l.s[3]++;if(window.localStorage){l.b[0][0]++;l.s[4]++;try{let e=(l.s[5]++,window.localStorage.getItem("log_tag_levels"));l.s[6]++;if((l.b[2][0]++,e)&&(l.b[2][1]++,"string"==typeof e)){l.b[1][0]++;l.s[7]++;e=JSON.parse(e)}else l.b[1][1]++;l.s[8]++;if((l.b[4][0]++,e)&&(l.b[4][1]++,"object"==typeof e)){l.b[3][0]++;l.s[9]++;this._tag_levels=e}else l.b[3][1]++}catch(n){l.s[10]++;console.warn("Failed to load log configuration from local storage.")}}else l.b[0][1]++}catch(n){}}isLoggable(n,e){l.f[1]++;l.s[11]++;if((l.b[6][0]++,n)&&(l.b[6][1]++,this._tag_levels[n])){l.b[5][0]++;l.s[12]++;return this._tag_levels[n]<=e}l.b[5][1]++;l.s[13]++;if(this._tag_levels["*"]){l.b[7][0]++;l.s[14]++;return this._tag_levels["*"]<=e}l.b[7][1]++;l.s[15]++;return this._global_level<=e}setLoggable(n,e){l.f[2]++;l.s[16]++;if((l.b[9][0]++,n)&&(l.b[9][1]++,n.name)){l.b[8][0]++;l.s[17]++;n=n.name}else l.b[8][1]++;l.s[18]++;this._tag_levels[n]=e;l.s[19]++;if(window.localStorage){l.b[10][0]++;l.s[20]++;window.localStorage.setItem("log_tag_levels",JSON.stringify(this._tag_levels))}else l.b[10][1]++}msg(n,e,t){l.f[3]++;l.s[21]++;if((l.b[12][0]++,e)&&(l.b[12][1]++,e.name)){l.b[11][0]++;l.s[22]++;e=e.name}else l.b[11][1]++;l.s[23]++;if(this.isLoggable(e,n)){l.b[13][1]++;l.s[25]++;if(e){l.b[14][0]++;l.s[26]++;t.unshift(e+":")}else l.b[14][1]++;l.s[27]++;t.unshift(`[${Log.Level.toStringTag(n)} ${(new Date).toTimeString().substr(0,8)}]`);l.s[28]++;if((l.b[16][0]++,console.error)&&(l.b[16][1]++,n>=Log.ERROR)){l.b[15][0]++;l.s[29]++;console.error.apply(console,t)}else{l.b[15][1]++;l.s[30]++;if((l.b[18][0]++,console.warn)&&(l.b[18][1]++,n>=Log.WARNING)){l.b[17][0]++;l.s[31]++;console.warn.apply(console,t)}else{l.b[17][1]++;l.s[32]++;if((l.b[20][0]++,console.info)&&(l.b[20][1]++,n>=Log.INFO)){l.b[19][0]++;l.s[33]++;console.info.apply(console,t)}else{l.b[19][1]++;l.s[34]++;if((l.b[22][0]++,console.debug)&&(l.b[22][1]++,n>=Log.DEBUG)){l.b[21][0]++;l.s[35]++;console.debug.apply(console,t)}else{l.b[21][1]++;l.s[36]++;if((l.b[24][0]++,console.trace)&&(l.b[24][1]++,n<=Log.TRACE)){l.b[23][0]++;l.s[37]++;console.trace.apply(console,t)}else{l.b[23][1]++;l.s[38]++;console.log.apply(console,t)}}}}}}else{l.b[13][0]++;l.s[24]++}}}l.s[39]++;Class.register(LogNative);var t=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/Log.js",e="b79970120ce06e16f632b51c11489ca712cfcf9a",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/Log.js",statementMap:{0:{start:{line:6,column:8},end:{line:8,column:9}},1:{start:{line:7,column:12},end:{line:7,column:53}},2:{start:{line:9,column:8},end:{line:9,column:29}},3:{start:{line:17,column:8},end:{line:17,column:30}},4:{start:{line:25,column:8},end:{line:25,column:60}},5:{start:{line:30,column:8},end:{line:30,column:42}},6:{start:{line:35,column:8},end:{line:35,column:54}},7:{start:{line:44,column:8},end:{line:60,column:9}},8:{start:{line:45,column:12},end:{line:58,column:13}},9:{start:{line:46,column:16},end:{line:48,column:17}},10:{start:{line:47,column:20},end:{line:47,column:40}},11:{start:{line:49,column:16},end:{line:57,column:17}},12:{start:{line:50,column:20},end:{line:56,column:21}},13:{start:{line:51,column:24},end:{line:51,column:53}},14:{start:{line:52,column:27},end:{line:56,column:21}},15:{start:{line:53,column:24},end:{line:53,column:74}},16:{start:{line:55,column:24},end:{line:55,column:45}},17:{start:{line:59,column:12},end:{line:59,column:47}},18:{start:{line:69,column:8},end:{line:75,column:9}},19:{start:{line:70,column:12},end:{line:70,column:31}},20:{start:{line:71,column:12},end:{line:71,column:60}},21:{start:{line:73,column:12},end:{line:73,column:28}},22:{start:{line:74,column:12},end:{line:74,column:60}},23:{start:{line:76,column:8},end:{line:76,column:47}},24:{start:{line:85,column:8},end:{line:91,column:9}},25:{start:{line:86,column:12},end:{line:86,column:31}},26:{start:{line:87,column:12},end:{line:87,column:60}},27:{start:{line:89,column:12},end:{line:89,column:28}},28:{start:{line:90,column:12},end:{line:90,column:60}},29:{start:{line:92,column:8},end:{line:92,column:47}},30:{start:{line:101,column:8},end:{line:107,column:9}},31:{start:{line:102,column:12},end:{line:102,column:31}},32:{start:{line:103,column:12},end:{line:103,column:60}},33:{start:{line:105,column:12},end:{line:105,column:28}},34:{start:{line:106,column:12},end:{line:106,column:60}},35:{start:{line:108,column:8},end:{line:108,column:46}},36:{start:{line:117,column:8},end:{line:123,column:9}},37:{start:{line:118,column:12},end:{line:118,column:31}},38:{start:{line:119,column:12},end:{line:119,column:60}},39:{start:{line:121,column:12},end:{line:121,column:28}},40:{start:{line:122,column:12},end:{line:122,column:60}},41:{start:{line:124,column:8},end:{line:124,column:49}},42:{start:{line:133,column:8},end:{line:139,column:9}},43:{start:{line:134,column:12},end:{line:134,column:31}},44:{start:{line:135,column:12},end:{line:135,column:60}},45:{start:{line:137,column:12},end:{line:137,column:28}},46:{start:{line:138,column:12},end:{line:138,column:60}},47:{start:{line:140,column:8},end:{line:140,column:49}},48:{start:{line:149,column:8},end:{line:155,column:9}},49:{start:{line:150,column:12},end:{line:150,column:31}},50:{start:{line:151,column:12},end:{line:151,column:60}},51:{start:{line:153,column:12},end:{line:153,column:28}},52:{start:{line:154,column:12},end:{line:154,column:60}},53:{start:{line:156,column:8},end:{line:156,column:47}},54:{start:{line:163,column:0},end:{line:253,column:2}},55:{start:{line:177,column:8},end:{line:194,column:9}},56:{start:{line:179,column:16},end:{line:179,column:27}},57:{start:{line:181,column:16},end:{line:181,column:27}},58:{start:{line:183,column:16},end:{line:183,column:27}},59:{start:{line:185,column:16},end:{line:185,column:27}},60:{start:{line:187,column:16},end:{line:187,column:27}},61:{start:{line:189,column:16},end:{line:189,column:27}},62:{start:{line:191,column:16},end:{line:191,column:27}},63:{start:{line:193,column:16},end:{line:193,column:27}},64:{start:{line:198,column:8},end:{line:215,column:9}},65:{start:{line:200,column:16},end:{line:200,column:31}},66:{start:{line:202,column:16},end:{line:202,column:33}},67:{start:{line:204,column:16},end:{line:204,column:31}},68:{start:{line:206,column:16},end:{line:206,column:30}},69:{start:{line:208,column:16},end:{line:208,column:30}},70:{start:{line:210,column:16},end:{line:210,column:31}},71:{start:{line:212,column:16},end:{line:212,column:32}},72:{start:{line:214,column:16},end:{line:214,column:33}},73:{start:{line:223,column:8},end:{line:223,column:69}},74:{start:{line:223,column:35},end:{line:223,column:69}},75:{start:{line:224,column:8},end:{line:224,column:77}},76:{start:{line:224,column:33},end:{line:224,column:77}},77:{start:{line:225,column:8},end:{line:250,column:9}},78:{start:{line:228,column:16},end:{line:228,column:39}},79:{start:{line:231,column:16},end:{line:231,column:41}},80:{start:{line:234,column:16},end:{line:234,column:39}},81:{start:{line:237,column:16},end:{line:237,column:38}},82:{start:{line:241,column:16},end:{line:241,column:41}},83:{start:{line:245,column:16},end:{line:245,column:39}},84:{start:{line:249,column:16},end:{line:249,column:40}},85:{start:{line:251,column:8},end:{line:251,column:42}},86:{start:{line:254,column:0},end:{line:254,column:28}},87:{start:{line:255,column:0},end:{line:255,column:32}},88:{start:{line:256,column:0},end:{line:256,column:28}},89:{start:{line:257,column:0},end:{line:257,column:26}},90:{start:{line:258,column:0},end:{line:258,column:32}},91:{start:{line:259,column:0},end:{line:259,column:28}},92:{start:{line:260,column:0},end:{line:260,column:30}},93:{start:{line:261,column:0},end:{line:261,column:21}},94:{start:{line:263,column:0},end:{line:263,column:43}},95:{start:{line:263,column:21},end:{line:263,column:42}},96:{start:{line:264,column:0},end:{line:264,column:43}},97:{start:{line:264,column:21},end:{line:264,column:42}},98:{start:{line:265,column:0},end:{line:265,column:43}},99:{start:{line:265,column:21},end:{line:265,column:42}},100:{start:{line:266,column:0},end:{line:266,column:43}},101:{start:{line:266,column:21},end:{line:266,column:42}},102:{start:{line:267,column:0},end:{line:267,column:43}},103:{start:{line:267,column:21},end:{line:267,column:42}},104:{start:{line:268,column:0},end:{line:268,column:43}},105:{start:{line:268,column:21},end:{line:268,column:42}},106:{start:{line:270,column:0},end:{line:270,column:20}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:26},end:{line:10,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:15,column:4},end:{line:15,column:5}},loc:{start:{line:15,column:24},end:{line:18,column:5}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:24,column:4},end:{line:24,column:5}},loc:{start:{line:24,column:28},end:{line:26,column:5}},line:24},3:{name:"(anonymous_3)",decl:{start:{line:29,column:4},end:{line:29,column:5}},loc:{start:{line:29,column:16},end:{line:31,column:5}},line:29},4:{name:"(anonymous_4)",decl:{start:{line:34,column:4},end:{line:34,column:5}},loc:{start:{line:34,column:17},end:{line:36,column:5}},line:34},5:{name:"(anonymous_5)",decl:{start:{line:43,column:4},end:{line:43,column:5}},loc:{start:{line:43,column:26},end:{line:61,column:5}},line:43},6:{name:"(anonymous_6)",decl:{start:{line:68,column:4},end:{line:68,column:5}},loc:{start:{line:68,column:36},end:{line:77,column:5}},line:68},7:{name:"(anonymous_7)",decl:{start:{line:84,column:4},end:{line:84,column:5}},loc:{start:{line:84,column:36},end:{line:93,column:5}},line:84},8:{name:"(anonymous_8)",decl:{start:{line:100,column:4},end:{line:100,column:5}},loc:{start:{line:100,column:36},end:{line:109,column:5}},line:100},9:{name:"(anonymous_9)",decl:{start:{line:116,column:4},end:{line:116,column:5}},loc:{start:{line:116,column:36},end:{line:125,column:5}},line:116},10:{name:"(anonymous_10)",decl:{start:{line:132,column:4},end:{line:132,column:5}},loc:{start:{line:132,column:36},end:{line:141,column:5}},line:132},11:{name:"(anonymous_11)",decl:{start:{line:148,column:4},end:{line:148,column:5}},loc:{start:{line:148,column:36},end:{line:157,column:5}},line:148},12:{name:"(anonymous_12)",decl:{start:{line:176,column:17},end:{line:176,column:18}},loc:{start:{line:176,column:34},end:{line:195,column:5}},line:176},13:{name:"(anonymous_13)",decl:{start:{line:197,column:14},end:{line:197,column:15}},loc:{start:{line:197,column:31},end:{line:216,column:5}},line:197},14:{name:"(anonymous_14)",decl:{start:{line:222,column:9},end:{line:222,column:10}},loc:{start:{line:222,column:22},end:{line:252,column:5}},line:222},15:{name:"(anonymous_15)",decl:{start:{line:263,column:12},end:{line:263,column:13}},loc:{start:{line:263,column:21},end:{line:263,column:42}},line:263},16:{name:"(anonymous_16)",decl:{start:{line:264,column:12},end:{line:264,column:13}},loc:{start:{line:264,column:21},end:{line:264,column:42}},line:264},17:{name:"(anonymous_17)",decl:{start:{line:265,column:12},end:{line:265,column:13}},loc:{start:{line:265,column:21},end:{line:265,column:42}},line:265},18:{name:"(anonymous_18)",decl:{start:{line:266,column:12},end:{line:266,column:13}},loc:{start:{line:266,column:21},end:{line:266,column:42}},line:266},19:{name:"(anonymous_19)",decl:{start:{line:267,column:12},end:{line:267,column:13}},loc:{start:{line:267,column:21},end:{line:267,column:42}},line:267},20:{name:"(anonymous_20)",decl:{start:{line:268,column:12},end:{line:268,column:13}},loc:{start:{line:268,column:21},end:{line:268,column:42}},line:268}},branchMap:{0:{loc:{start:{line:6,column:8},end:{line:8,column:9}},type:"if",locations:[{start:{line:6,column:8},end:{line:8,column:9}},{start:{line:6,column:8},end:{line:8,column:9}}],line:6},1:{loc:{start:{line:44,column:8},end:{line:60,column:9}},type:"if",locations:[{start:{line:44,column:8},end:{line:60,column:9}},{start:{line:44,column:8},end:{line:60,column:9}}],line:44},2:{loc:{start:{line:46,column:16},end:{line:48,column:17}},type:"if",locations:[{start:{line:46,column:16},end:{line:48,column:17}},{start:{line:46,column:16},end:{line:48,column:17}}],line:46},3:{loc:{start:{line:49,column:16},end:{line:57,column:17}},type:"if",locations:[{start:{line:49,column:16},end:{line:57,column:17}},{start:{line:49,column:16},end:{line:57,column:17}}],line:49},4:{loc:{start:{line:50,column:20},end:{line:56,column:21}},type:"if",locations:[{start:{line:50,column:20},end:{line:56,column:21}},{start:{line:50,column:20},end:{line:56,column:21}}],line:50},5:{loc:{start:{line:52,column:27},end:{line:56,column:21}},type:"if",locations:[{start:{line:52,column:27},end:{line:56,column:21}},{start:{line:52,column:27},end:{line:56,column:21}}],line:52},6:{loc:{start:{line:52,column:31},end:{line:52,column:78}},type:"binary-expr",locations:[{start:{line:52,column:31},end:{line:52,column:50}},{start:{line:52,column:54},end:{line:52,column:78}}],line:52},7:{loc:{start:{line:69,column:8},end:{line:75,column:9}},type:"if",locations:[{start:{line:69,column:8},end:{line:75,column:9}},{start:{line:69,column:8},end:{line:75,column:9}}],line:69},8:{loc:{start:{line:85,column:8},end:{line:91,column:9}},type:"if",locations:[{start:{line:85,column:8},end:{line:91,column:9}},{start:{line:85,column:8},end:{line:91,column:9}}],line:85},9:{loc:{start:{line:101,column:8},end:{line:107,column:9}},type:"if",locations:[{start:{line:101,column:8},end:{line:107,column:9}},{start:{line:101,column:8},end:{line:107,column:9}}],line:101},10:{loc:{start:{line:117,column:8},end:{line:123,column:9}},type:"if",locations:[{start:{line:117,column:8},end:{line:123,column:9}},{start:{line:117,column:8},end:{line:123,column:9}}],line:117},11:{loc:{start:{line:133,column:8},end:{line:139,column:9}},type:"if",locations:[{start:{line:133,column:8},end:{line:139,column:9}},{start:{line:133,column:8},end:{line:139,column:9}}],line:133},12:{loc:{start:{line:149,column:8},end:{line:155,column:9}},type:"if",locations:[{start:{line:149,column:8},end:{line:155,column:9}},{start:{line:149,column:8},end:{line:155,column:9}}],line:149},13:{loc:{start:{line:177,column:8},end:{line:194,column:9}},type:"switch",locations:[{start:{line:178,column:12},end:{line:179,column:27}},{start:{line:180,column:12},end:{line:181,column:27}},{start:{line:182,column:12},end:{line:183,column:27}},{start:{line:184,column:12},end:{line:185,column:27}},{start:{line:186,column:12},end:{line:187,column:27}},{start:{line:188,column:12},end:{line:189,column:27}},{start:{line:190,column:12},end:{line:191,column:27}},{start:{line:192,column:12},end:{line:193,column:27}}],line:177},14:{loc:{start:{line:198,column:8},end:{line:215,column:9}},type:"switch",locations:[{start:{line:199,column:12},end:{line:200,column:31}},{start:{line:201,column:12},end:{line:202,column:33}},{start:{line:203,column:12},end:{line:204,column:31}},{start:{line:205,column:12},end:{line:206,column:30}},{start:{line:207,column:12},end:{line:208,column:30}},{start:{line:209,column:12},end:{line:210,column:31}},{start:{line:211,column:12},end:{line:212,column:32}},{start:{line:213,column:12},end:{line:214,column:33}}],line:198},15:{loc:{start:{line:223,column:8},end:{line:223,column:69}},type:"if",locations:[{start:{line:223,column:8},end:{line:223,column:69}},{start:{line:223,column:8},end:{line:223,column:69}}],line:223},16:{loc:{start:{line:224,column:8},end:{line:224,column:77}},type:"if",locations:[{start:{line:224,column:8},end:{line:224,column:77}},{start:{line:224,column:8},end:{line:224,column:77}}],line:224},17:{loc:{start:{line:225,column:8},end:{line:250,column:9}},type:"switch",locations:[{start:{line:226,column:12},end:{line:226,column:21}},{start:{line:227,column:12},end:{line:228,column:39}},{start:{line:229,column:12},end:{line:229,column:21}},{start:{line:230,column:12},end:{line:231,column:41}},{start:{line:232,column:12},end:{line:232,column:21}},{start:{line:233,column:12},end:{line:234,column:39}},{start:{line:235,column:12},end:{line:235,column:21}},{start:{line:236,column:12},end:{line:237,column:38}},{start:{line:238,column:12},end:{line:238,column:21}},{start:{line:239,column:12},end:{line:239,column:24}},{start:{line:240,column:12},end:{line:241,column:41}},{start:{line:242,column:12},end:{line:242,column:21}},{start:{line:243,column:12},end:{line:243,column:25}},{start:{line:244,column:12},end:{line:245,column:39}},{start:{line:246,column:12},end:{line:246,column:21}},{start:{line:247,column:12},end:{line:247,column:26}},{start:{line:248,column:12},end:{line:249,column:40}}],line:225}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0,0,0,0,0,0,0],14:[0,0,0,0,0,0,0,0],15:[0,0],16:[0,0],17:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Log{static get instance(){t.f[0]++;t.s[0]++;if(Log._instance)t.b[0][1]++;else{t.b[0][0]++;t.s[1]++;Log._instance=new Log(new LogNative)}t.s[2]++;return Log._instance}constructor(n){t.f[1]++;t.s[3]++;this._native=n}setLoggable(n,e){t.f[2]++;t.s[4]++;this._native.setLoggable(n,Log.Level.get(e))}get level(){t.f[3]++;t.s[5]++;return this._native._global_level}set level(n){t.f[4]++;t.s[6]++;this._native._global_level=Log.Level.get(n)}msg(n,e,l){t.f[5]++;t.s[7]++;if(this._native.isLoggable(e,n)){t.b[1][0]++;t.s[8]++;for(let n=0;n<l.length;++n){t.s[9]++;if("function"==typeof l[n]){t.b[2][0]++;t.s[10]++;l[n]=l[n]()}else t.b[2][1]++;t.s[11]++;if("object"==typeof l[n]){t.b[3][0]++;t.s[12]++;if("function"==typeof l[n].toString){t.b[4][0]++;t.s[13]++;l[n]=l[n].toString()}else{t.b[4][1]++;t.s[14]++;if((t.b[6][0]++,l[n].constructor)&&(t.b[6][1]++,l[n].constructor.name)){t.b[5][0]++;t.s[15]++;l[n]=`{Object: ${l[n].constructor.name}}`}else{t.b[5][1]++;t.s[16]++;l[n]="{Object}"}}}else t.b[3][1]++}t.s[17]++;this._native.msg(n,e,l)}else t.b[1][1]++}static d(n,e,...l){t.f[6]++;t.s[18]++;if(arguments.length>=2){t.b[7][0]++;t.s[19]++;n=arguments[0];t.s[20]++;l=Array.prototype.slice.call(arguments,1)}else{t.b[7][1]++;t.s[21]++;n=undefined;t.s[22]++;l=Array.prototype.slice.call(arguments,0)}t.s[23]++;Log.instance.msg(Log.DEBUG,n,l)}static e(n,e,...l){t.f[7]++;t.s[24]++;if(arguments.length>=2){t.b[8][0]++;t.s[25]++;n=arguments[0];t.s[26]++;l=Array.prototype.slice.call(arguments,1)}else{t.b[8][1]++;t.s[27]++;n=undefined;t.s[28]++;l=Array.prototype.slice.call(arguments,0)}t.s[29]++;Log.instance.msg(Log.ERROR,n,l)}static i(n,e,...l){t.f[8]++;t.s[30]++;if(arguments.length>=2){t.b[9][0]++;t.s[31]++;n=arguments[0];t.s[32]++;l=Array.prototype.slice.call(arguments,1)}else{t.b[9][1]++;t.s[33]++;n=undefined;t.s[34]++;l=Array.prototype.slice.call(arguments,0)}t.s[35]++;Log.instance.msg(Log.INFO,n,l)}static v(n,e,...l){t.f[9]++;t.s[36]++;if(arguments.length>=2){t.b[10][0]++;t.s[37]++;n=arguments[0];t.s[38]++;l=Array.prototype.slice.call(arguments,1)}else{t.b[10][1]++;t.s[39]++;n=undefined;t.s[40]++;l=Array.prototype.slice.call(arguments,0)}t.s[41]++;Log.instance.msg(Log.VERBOSE,n,l)}static w(n,e,...l){t.f[10]++;t.s[42]++;if(arguments.length>=2){t.b[11][0]++;t.s[43]++;n=arguments[0];t.s[44]++;l=Array.prototype.slice.call(arguments,1)}else{t.b[11][1]++;t.s[45]++;n=undefined;t.s[46]++;l=Array.prototype.slice.call(arguments,0)}t.s[47]++;Log.instance.msg(Log.WARNING,n,l)}static t(n,e,...l){t.f[11]++;t.s[48]++;if(arguments.length>=2){t.b[12][0]++;t.s[49]++;n=arguments[0];t.s[50]++;l=Array.prototype.slice.call(arguments,1)}else{t.b[12][1]++;t.s[51]++;n=undefined;t.s[52]++;l=Array.prototype.slice.call(arguments,0)}t.s[53]++;Log.instance.msg(Log.TRACE,n,l)}}t.s[54]++;Log.Level={TRACE:1,VERBOSE:2,DEBUG:3,INFO:4,WARNING:5,ERROR:6,ASSERT:7,toStringTag:function(n){t.f[12]++;t.s[55]++;switch(n){case Log.Level.TRACE:t.b[13][0]++;t.s[56]++;return"T";case Log.Level.VERBOSE:t.b[13][1]++;t.s[57]++;return"V";case Log.Level.DEBUG:t.b[13][2]++;t.s[58]++;return"D";case Log.Level.INFO:t.b[13][3]++;t.s[59]++;return"I";case Log.Level.WARNING:t.b[13][4]++;t.s[60]++;return"W";case Log.Level.ERROR:t.b[13][5]++;t.s[61]++;return"E";case Log.Level.ASSERT:t.b[13][6]++;t.s[62]++;return"A";default:t.b[13][7]++;t.s[63]++;return"*"}},toString:function(n){t.f[13]++;t.s[64]++;switch(n){case Log.Level.TRACE:t.b[14][0]++;t.s[65]++;return"trace";case Log.Level.VERBOSE:t.b[14][1]++;t.s[66]++;return"verbose";case Log.Level.DEBUG:t.b[14][2]++;t.s[67]++;return"debug";case Log.Level.INFO:t.b[14][3]++;t.s[68]++;return"info";case Log.Level.WARNING:t.b[14][4]++;t.s[69]++;return"warn";case Log.Level.ERROR:t.b[14][5]++;t.s[70]++;return"error";case Log.Level.ASSERT:t.b[14][6]++;t.s[71]++;return"assert";default:t.b[14][7]++;t.s[72]++;return"unknown"}},get:function(n){t.f[14]++;t.s[73]++;if("number"==typeof n){t.b[15][0]++;t.s[74]++;return n}t.b[15][1]++;t.s[75]++;if(!isNaN(parseInt(n))){t.b[16][0]++;t.s[76]++;return parseInt(n)}t.b[16][1]++;t.s[77]++;switch(n.toLowerCase()){case"t":t.b[17][0]++;case"trace":t.b[17][1]++;t.s[78]++;return Log.Level.TRACE;case"v":t.b[17][2]++;case"verbose":t.b[17][3]++;t.s[79]++;return Log.Level.VERBOSE;case"d":t.b[17][4]++;case"debug":t.b[17][5]++;t.s[80]++;return Log.Level.DEBUG;case"i":t.b[17][6]++;case"info":t.b[17][7]++;t.s[81]++;return Log.Level.INFO;case"w":t.b[17][8]++;case"warn":t.b[17][9]++;case"warning":t.b[17][10]++;t.s[82]++;return Log.Level.WARNING;case"e":t.b[17][11]++;case"error":t.b[17][12]++;case"exception":t.b[17][13]++;t.s[83]++;return Log.Level.ERROR;case"a":t.b[17][14]++;case"assert":t.b[17][15]++;case"assertion":t.b[17][16]++;t.s[84]++;return Log.Level.ASSERT}t.s[85]++;return 0}};t.s[86]++;Log.TRACE=Log.Level.TRACE;t.s[87]++;Log.VERBOSE=Log.Level.VERBOSE;t.s[88]++;Log.DEBUG=Log.Level.DEBUG;t.s[89]++;Log.INFO=Log.Level.INFO;t.s[90]++;Log.WARNING=Log.Level.WARNING;t.s[91]++;Log.ERROR=Log.Level.ERROR;t.s[92]++;Log.ASSERT=Log.Level.ASSERT;t.s[93]++;Log._instance=null;t.s[94]++;Log.d.tag=(n=>{t.f[15]++;t.s[95]++;return Log.d.bind(null,n)});t.s[96]++;Log.e.tag=(n=>{t.f[16]++;t.s[97]++;return Log.e.bind(null,n)});t.s[98]++;Log.i.tag=(n=>{t.f[17]++;t.s[99]++;return Log.i.bind(null,n)});t.s[100]++;Log.v.tag=(n=>{t.f[18]++;t.s[101]++;return Log.v.bind(null,n)});t.s[102]++;Log.w.tag=(n=>{t.f[19]++;t.s[103]++;return Log.w.bind(null,n)});t.s[104]++;Log.t.tag=(n=>{t.f[20]++;t.s[105]++;return Log.t.bind(null,n)});t.s[106]++;Class.register(Log);var o=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/Observable.js",e="a0689340c59f34213d882fcf7364e06bba2b2c3b",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/Observable.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:19}},1:{start:{line:12,column:8},end:{line:12,column:36}},2:{start:{line:21,column:8},end:{line:26,column:9}},3:{start:{line:22,column:12},end:{line:22,column:50}},4:{start:{line:23,column:12},end:{line:23,column:21}},5:{start:{line:25,column:12},end:{line:25,column:64}},6:{start:{line:34,column:8},end:{line:34,column:81}},7:{start:{line:34,column:74},end:{line:34,column:81}},8:{start:{line:35,column:8},end:{line:35,column:45}},9:{start:{line:44,column:8},end:{line:49,column:9}},10:{start:{line:45,column:12},end:{line:48,column:13}},11:{start:{line:46,column:33},end:{line:46,column:61}},12:{start:{line:47,column:16},end:{line:47,column:43}},13:{start:{line:52,column:8},end:{line:57,column:9}},14:{start:{line:53,column:12},end:{line:56,column:13}},15:{start:{line:54,column:33},end:{line:54,column:76}},16:{start:{line:55,column:16},end:{line:55,column:48}},17:{start:{line:65,column:8},end:{line:77,column:9}},18:{start:{line:67,column:12},end:{line:75,column:13}},19:{start:{line:68,column:16},end:{line:70,column:18}},20:{start:{line:69,column:20},end:{line:69,column:53}},21:{start:{line:72,column:16},end:{line:74,column:18}},22:{start:{line:73,column:20},end:{line:73,column:64}},23:{start:{line:76,column:12},end:{line:76,column:53}},24:{start:{line:80,column:0},end:{line:80,column:27}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:26},end:{line:8,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:10,column:4},end:{line:10,column:5}},loc:{start:{line:10,column:18},end:{line:13,column:5}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:20,column:4},end:{line:20,column:5}},loc:{start:{line:20,column:23},end:{line:27,column:5}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:33,column:4},end:{line:33,column:5}},loc:{start:{line:33,column:18},end:{line:36,column:5}},line:33},4:{name:"(anonymous_4)",decl:{start:{line:42,column:4},end:{line:42,column:5}},loc:{start:{line:42,column:24},end:{line:58,column:5}},line:42},5:{name:"(anonymous_5)",decl:{start:{line:64,column:4},end:{line:64,column:5}},loc:{start:{line:64,column:33},end:{line:78,column:5}},line:64},6:{name:"(anonymous_6)",decl:{start:{line:68,column:27},end:{line:68,column:28}},loc:{start:{line:68,column:38},end:{line:70,column:17}},line:68},7:{name:"(anonymous_7)",decl:{start:{line:72,column:27},end:{line:72,column:28}},loc:{start:{line:72,column:38},end:{line:74,column:17}},line:72}},branchMap:{0:{loc:{start:{line:21,column:8},end:{line:26,column:9}},type:"if",locations:[{start:{line:21,column:8},end:{line:26,column:9}},{start:{line:21,column:8},end:{line:26,column:9}}],line:21},1:{loc:{start:{line:34,column:8},end:{line:34,column:81}},type:"if",locations:[{start:{line:34,column:8},end:{line:34,column:81}},{start:{line:34,column:8},end:{line:34,column:81}}],line:34},2:{loc:{start:{line:34,column:12},end:{line:34,column:72}},type:"binary-expr",locations:[{start:{line:34,column:12},end:{line:34,column:38}},{start:{line:34,column:42},end:{line:34,column:72}}],line:34},3:{loc:{start:{line:44,column:8},end:{line:49,column:9}},type:"if",locations:[{start:{line:44,column:8},end:{line:49,column:9}},{start:{line:44,column:8},end:{line:49,column:9}}],line:44},4:{loc:{start:{line:52,column:8},end:{line:57,column:9}},type:"if",locations:[{start:{line:52,column:8},end:{line:57,column:9}},{start:{line:52,column:8},end:{line:57,column:9}}],line:52},5:{loc:{start:{line:67,column:12},end:{line:75,column:13}},type:"if",locations:[{start:{line:67,column:12},end:{line:75,column:13}},{start:{line:67,column:12},end:{line:75,column:13}}],line:67}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Observable{static get WILDCARD(){o.f[0]++;o.s[0]++;return"*"}constructor(){o.f[1]++;o.s[1]++;this._listeners=new Map}on(n,e){o.f[2]++;o.s[2]++;if(this._listeners.has(n)){o.b[0][1]++;o.s[5]++;return this._listeners.get(n).push(e)-1}o.b[0][0]++;o.s[3]++;this._listeners.set(n,[e]);o.s[4]++;return 0}off(n,e){o.f[3]++;o.s[6]++;if((o.b[2][0]++,this._listeners.has(n))&&(o.b[2][1]++,this._listeners.get(n)[e])){o.b[1][1]++;o.s[8]++;delete this._listeners.get(n)[e]}else{o.b[1][0]++;o.s[7]++}}fire(n,...e){o.f[4]++;o.s[9]++;if(this._listeners.has(n)){o.b[3][0]++;o.s[10]++;for(const l in this._listeners.get(n)){const t=(o.s[11]++,this._listeners.get(n)[l]);o.s[12]++;t.apply(null,e)}}else o.b[3][1]++;o.s[13]++;if(this._listeners.has(Observable.WILDCARD)){o.b[4][0]++;o.s[14]++;for(const n in this._listeners.get(Observable.WILDCARD)){const e=(o.s[15]++,this._listeners.get(Observable.WILDCARD)[n]);o.s[16]++;e.apply(null,arguments)}}else o.b[4][1]++}bubble(n,...e){o.f[5]++;o.s[17]++;for(const l of e){let e;o.s[18]++;if(l==Observable.WILDCARD){o.b[5][0]++;o.s[19]++;e=function(){o.f[6]++;o.s[20]++;this.fire.apply(this,arguments)}}else{o.b[5][1]++;o.s[21]++;e=function(){o.f[7]++;o.s[22]++;this.fire.apply(this,[l,...arguments])}}o.s[23]++;n.on(l,e.bind(this))}}}o.s[24]++;Class.register(Observable);var i=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/DataChannel.js",e="9cf60083d0d1a15d037b263992474ef394852ecd",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/DataChannel.js",statementMap:{0:{start:{line:6,column:8},end:{line:6,column:16}},1:{start:{line:11,column:8},end:{line:11,column:28}},2:{start:{line:14,column:8},end:{line:14,column:26}},3:{start:{line:17,column:8},end:{line:17,column:32}},4:{start:{line:20,column:8},end:{line:20,column:29}},5:{start:{line:23,column:8},end:{line:23,column:49}},6:{start:{line:26,column:8},end:{line:26,column:36}},7:{start:{line:34,column:8},end:{line:34,column:54}},8:{start:{line:42,column:28},end:{line:42,column:66}},9:{start:{line:43,column:8},end:{line:43,column:33}},10:{start:{line:43,column:26},end:{line:43,column:33}},11:{start:{line:45,column:8},end:{line:45,column:61}},12:{start:{line:46,column:8},end:{line:46,column:59}},13:{start:{line:47,column:8},end:{line:49,column:9}},14:{start:{line:48,column:12},end:{line:48,column:54}},15:{start:{line:51,column:8},end:{line:53,column:9}},16:{start:{line:52,column:12},end:{line:52,column:42}},17:{start:{line:63,column:8},end:{line:65,column:9}},18:{start:{line:64,column:12},end:{line:64,column:28}},19:{start:{line:67,column:8},end:{line:67,column:39}},20:{start:{line:67,column:32},end:{line:67,column:39}},21:{start:{line:69,column:28},end:{line:69,column:97}},22:{start:{line:70,column:8},end:{line:72,column:9}},23:{start:{line:71,column:12},end:{line:71,column:64}},24:{start:{line:75,column:8},end:{line:75,column:116}},25:{start:{line:76,column:8},end:{line:76,column:112}},26:{start:{line:90,column:8},end:{line:90,column:32}},27:{start:{line:91,column:8},end:{line:91,column:33}},28:{start:{line:99,column:8},end:{line:99,column:38}},29:{start:{line:100,column:8},end:{line:100,column:32}},30:{start:{line:101,column:8},end:{line:101,column:21}},31:{start:{line:109,column:8},end:{line:185,column:9}},32:{start:{line:111,column:12},end:{line:113,column:13}},33:{start:{line:112,column:16},end:{line:112,column:23}},34:{start:{line:116,column:27},end:{line:116,column:48}},35:{start:{line:117,column:12},end:{line:119,column:13}},36:{start:{line:118,column:16},end:{line:118,column:23}},37:{start:{line:122,column:12},end:{line:125,column:13}},38:{start:{line:123,column:16},end:{line:123,column:89}},39:{start:{line:124,column:16},end:{line:124,column:23}},40:{start:{line:127,column:24},end:{line:127,column:42}},41:{start:{line:130,column:41},end:{line:130,column:75}},42:{start:{line:131,column:26},end:{line:131,column:59}},43:{start:{line:134,column:12},end:{line:146,column:13}},44:{start:{line:135,column:36},end:{line:135,column:59}},45:{start:{line:136,column:36},end:{line:136,column:67}},46:{start:{line:138,column:16},end:{line:141,column:17}},47:{start:{line:139,column:20},end:{line:139,column:129}},48:{start:{line:140,column:20},end:{line:140,column:27}},49:{start:{line:143,column:16},end:{line:143,column:61}},50:{start:{line:144,column:16},end:{line:144,column:41}},51:{start:{line:145,column:16},end:{line:145,column:62}},52:{start:{line:148,column:12},end:{line:151,column:13}},53:{start:{line:149,column:16},end:{line:149,column:142}},54:{start:{line:150,column:16},end:{line:150,column:23}},55:{start:{line:154,column:12},end:{line:157,column:13}},56:{start:{line:155,column:16},end:{line:155,column:110}},57:{start:{line:156,column:16},end:{line:156,column:23}},58:{start:{line:159,column:33},end:{line:159,column:80}},59:{start:{line:162,column:12},end:{line:165,column:13}},60:{start:{line:163,column:16},end:{line:163,column:94}},61:{start:{line:164,column:16},end:{line:164,column:23}},62:{start:{line:168,column:12},end:{line:168,column:38}},63:{start:{line:169,column:12},end:{line:169,column:51}},64:{start:{line:171,column:32},end:{line:171,column:79}},65:{start:{line:172,column:12},end:{line:182,column:13}},66:{start:{line:173,column:28},end:{line:173,column:47}},67:{start:{line:174,column:16},end:{line:174,column:36}},68:{start:{line:175,column:16},end:{line:175,column:48}},69:{start:{line:178,column:16},end:{line:180,column:17}},70:{start:{line:179,column:20},end:{line:179,column:140}},71:{start:{line:181,column:16},end:{line:181,column:49}},72:{start:{line:184,column:12},end:{line:184,column:87}},73:{start:{line:193,column:8},end:{line:202,column:9}},74:{start:{line:194,column:12},end:{line:194,column:65}},75:{start:{line:195,column:12},end:{line:195,column:63}},76:{start:{line:197,column:12},end:{line:199,column:13}},77:{start:{line:198,column:16},end:{line:198,column:58}},78:{start:{line:201,column:12},end:{line:201,column:42}},79:{start:{line:204,column:8},end:{line:204,column:70}},80:{start:{line:205,column:8},end:{line:205,column:28}},81:{start:{line:212,column:8},end:{line:212,column:116}},82:{start:{line:214,column:20},end:{line:214,column:36}},83:{start:{line:215,column:8},end:{line:215,column:74}},84:{start:{line:216,column:8},end:{line:216,column:36}},85:{start:{line:226,column:24},end:{line:226,column:38}},86:{start:{line:227,column:20},end:{line:227,column:24}},87:{start:{line:228,column:8},end:{line:243,column:9}},88:{start:{line:229,column:25},end:{line:229,column:29}},89:{start:{line:230,column:12},end:{line:238,column:13}},90:{start:{line:231,column:16},end:{line:231,column:70}},91:{start:{line:232,column:16},end:{line:232,column:39}},92:{start:{line:233,column:16},end:{line:233,column:119}},93:{start:{line:235,column:16},end:{line:235,column:65}},94:{start:{line:236,column:16},end:{line:236,column:39}},95:{start:{line:237,column:16},end:{line:237,column:90}},96:{start:{line:240,column:12},end:{line:240,column:32}},97:{start:{line:241,column:12},end:{line:241,column:35}},98:{start:{line:242,column:12},end:{line:242,column:42}},99:{start:{line:263,column:0},end:{line:263,column:39}},100:{start:{line:264,column:0},end:{line:264,column:48}},101:{start:{line:265,column:0},end:{line:265,column:37}},102:{start:{line:266,column:0},end:{line:266,column:118}},103:{start:{line:276,column:8},end:{line:276,column:34}},104:{start:{line:277,column:8},end:{line:277,column:27}},105:{start:{line:278,column:8},end:{line:278,column:47}},106:{start:{line:279,column:8},end:{line:279,column:37}},107:{start:{line:280,column:8},end:{line:280,column:41}},108:{start:{line:287,column:0},end:{line:292,column:2}},109:{start:{line:298,column:0},end:{line:311,column:2}},110:{start:{line:299,column:4},end:{line:310,column:5}},111:{start:{line:301,column:12},end:{line:301,column:53}},112:{start:{line:303,column:12},end:{line:303,column:47}},113:{start:{line:305,column:12},end:{line:305,column:50}},114:{start:{line:307,column:12},end:{line:307,column:49}},115:{start:{line:309,column:12},end:{line:309,column:46}},116:{start:{line:313,column:0},end:{line:313,column:28}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:18},end:{line:27,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:33,column:4},end:{line:33,column:5}},loc:{start:{line:33,column:29},end:{line:35,column:5}},line:33},2:{name:"(anonymous_2)",decl:{start:{line:41,column:4},end:{line:41,column:5}},loc:{start:{line:41,column:42},end:{line:54,column:5}},line:41},3:{name:"(anonymous_3)",decl:{start:{line:62,column:4},end:{line:62,column:5}},loc:{start:{line:62,column:126},end:{line:77,column:5}},line:62},4:{name:"(anonymous_4)",decl:{start:{line:89,column:4},end:{line:89,column:5}},loc:{start:{line:89,column:15},end:{line:92,column:5}},line:89},5:{name:"(anonymous_5)",decl:{start:{line:98,column:4},end:{line:98,column:5}},loc:{start:{line:98,column:16},end:{line:102,column:5}},line:98},6:{name:"(anonymous_6)",decl:{start:{line:108,column:4},end:{line:108,column:5}},loc:{start:{line:108,column:20},end:{line:186,column:5}},line:108},7:{name:"(anonymous_7)",decl:{start:{line:192,column:4},end:{line:192,column:5}},loc:{start:{line:192,column:28},end:{line:206,column:5}},line:192},8:{name:"(anonymous_8)",decl:{start:{line:211,column:4},end:{line:211,column:5}},loc:{start:{line:211,column:14},end:{line:217,column:5}},line:211},9:{name:"(anonymous_9)",decl:{start:{line:224,column:4},end:{line:224,column:5}},loc:{start:{line:224,column:27},end:{line:244,column:5}},line:224},10:{name:"(anonymous_10)",decl:{start:{line:275,column:4},end:{line:275,column:5}},loc:{start:{line:275,column:124},end:{line:281,column:5}},line:275},11:{name:"(anonymous_11)",decl:{start:{line:298,column:36},end:{line:298,column:37}},loc:{start:{line:298,column:51},end:{line:311,column:1}},line:298}},branchMap:{0:{loc:{start:{line:43,column:8},end:{line:43,column:33}},type:"if",locations:[{start:{line:43,column:8},end:{line:43,column:33}},{start:{line:43,column:8},end:{line:43,column:33}}],line:43},1:{loc:{start:{line:51,column:8},end:{line:53,column:9}},type:"if",locations:[{start:{line:51,column:8},end:{line:53,column:9}},{start:{line:51,column:8},end:{line:53,column:9}}],line:51},2:{loc:{start:{line:62,column:42},end:{line:62,column:82}},type:"default-arg",locations:[{start:{line:62,column:55},end:{line:62,column:82}}],line:62},3:{loc:{start:{line:62,column:84},end:{line:62,column:124}},type:"default-arg",locations:[{start:{line:62,column:99},end:{line:62,column:124}}],line:62},4:{loc:{start:{line:63,column:8},end:{line:65,column:9}},type:"if",locations:[{start:{line:63,column:8},end:{line:65,column:9}},{start:{line:63,column:8},end:{line:65,column:9}}],line:63},5:{loc:{start:{line:67,column:8},end:{line:67,column:39}},type:"if",locations:[{start:{line:67,column:8},end:{line:67,column:39}},{start:{line:67,column:8},end:{line:67,column:39}}],line:67},6:{loc:{start:{line:111,column:12},end:{line:113,column:13}},type:"if",locations:[{start:{line:111,column:12},end:{line:113,column:13}},{start:{line:111,column:12},end:{line:113,column:13}}],line:111},7:{loc:{start:{line:117,column:12},end:{line:119,column:13}},type:"if",locations:[{start:{line:117,column:12},end:{line:119,column:13}},{start:{line:117,column:12},end:{line:119,column:13}}],line:117},8:{loc:{start:{line:122,column:12},end:{line:125,column:13}},type:"if",locations:[{start:{line:122,column:12},end:{line:125,column:13}},{start:{line:122,column:12},end:{line:125,column:13}}],line:122},9:{loc:{start:{line:134,column:12},end:{line:146,column:13}},type:"if",locations:[{start:{line:134,column:12},end:{line:146,column:13}},{start:{line:134,column:12},end:{line:146,column:13}}],line:134},10:{loc:{start:{line:134,column:16},end:{line:134,column:97}},type:"binary-expr",locations:[{start:{line:134,column:16},end:{line:134,column:37}},{start:{line:134,column:41},end:{line:134,column:97}}],line:134},11:{loc:{start:{line:138,column:16},end:{line:141,column:17}},type:"if",locations:[{start:{line:138,column:16},end:{line:141,column:17}},{start:{line:138,column:16},end:{line:141,column:17}}],line:138},12:{loc:{start:{line:148,column:12},end:{line:151,column:13}},type:"if",locations:[{start:{line:148,column:12},end:{line:151,column:13}},{start:{line:148,column:12},end:{line:151,column:13}}],line:148},13:{loc:{start:{line:154,column:12},end:{line:157,column:13}},type:"if",locations:[{start:{line:154,column:12},end:{line:157,column:13}},{start:{line:154,column:12},end:{line:157,column:13}}],line:154},14:{loc:{start:{line:162,column:12},end:{line:165,column:13}},type:"if",locations:[{start:{line:162,column:12},end:{line:165,column:13}},{start:{line:162,column:12},end:{line:165,column:13}}],line:162},15:{loc:{start:{line:172,column:12},end:{line:182,column:13}},type:"if",locations:[{start:{line:172,column:12},end:{line:182,column:13}},{start:{line:172,column:12},end:{line:182,column:13}}],line:172},16:{loc:{start:{line:178,column:16},end:{line:180,column:17}},type:"if",locations:[{start:{line:178,column:16},end:{line:180,column:17}},{start:{line:178,column:16},end:{line:180,column:17}}],line:178},17:{loc:{start:{line:193,column:8},end:{line:202,column:9}},type:"if",locations:[{start:{line:193,column:8},end:{line:202,column:9}},{start:{line:193,column:8},end:{line:202,column:9}}],line:193},18:{loc:{start:{line:230,column:12},end:{line:238,column:13}},type:"if",locations:[{start:{line:230,column:12},end:{line:238,column:13}},{start:{line:230,column:12},end:{line:238,column:13}}],line:230},19:{loc:{start:{line:275,column:40},end:{line:275,column:80}},type:"default-arg",locations:[{start:{line:275,column:53},end:{line:275,column:80}}],line:275},20:{loc:{start:{line:275,column:82},end:{line:275,column:122}},type:"default-arg",locations:[{start:{line:275,column:97},end:{line:275,column:122}}],line:275},21:{loc:{start:{line:299,column:4},end:{line:310,column:5}},type:"switch",locations:[{start:{line:300,column:8},end:{line:301,column:53}},{start:{line:302,column:8},end:{line:303,column:47}},{start:{line:304,column:8},end:{line:305,column:50}},{start:{line:306,column:8},end:{line:307,column:49}},{start:{line:308,column:8},end:{line:309,column:46}}],line:299}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0],1:[0,0],2:[0],3:[0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0],20:[0],21:[0,0,0,0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class DataChannel extends Observable{constructor(){i.f[0]++;i.s[0]++;super();i.s[1]++;this._buffer=null;i.s[2]++;this._msgType=0;i.s[3]++;this._receivingTag=-1;i.s[4]++;this._sendingTag=0;i.s[5]++;this._expectedMessagesByType=new Map;i.s[6]++;this._timers=new Timers}isExpectingMessage(n){i.f[1]++;i.s[7]++;return this._expectedMessagesByType.has(n)}confirmExpectedMessage(n,e){i.f[2]++;const l=(i.s[8]++,this._expectedMessagesByType.get(n));i.s[9]++;if(l){i.b[0][1]++;i.s[11]++;this._timers.clearTimeout(`chunk-${l.id}`);i.s[12]++;this._timers.clearTimeout(`msg-${l.id}`);i.s[13]++;for(const n of l.types){i.s[14]++;this._expectedMessagesByType["delete"](n)}i.s[15]++;if(e)i.b[1][1]++;else{i.b[1][0]++;i.s[16]++;l.timeoutCallback()}}else{i.b[0][0]++;i.s[10]++}}expectMessage(n,e,l=(i.b[2][0]++,DataChannel.MESSAGE_TIMEOUT),t=(i.b[3][0]++,DataChannel.CHUNK_TIMEOUT)){i.f[3]++;i.s[17]++;if(Array.isArray(n))i.b[4][1]++;else{i.b[4][0]++;i.s[18]++;n=[n]}i.s[19]++;if(0===n.length){i.b[5][0]++;i.s[20]++;return}i.b[5][1]++;const o=(i.s[21]++,new ExpectedMessage(n,e,l,t));i.s[22]++;for(const c of n){i.s[23]++;this._expectedMessagesByType.set(c,o)}i.s[24]++;this._timers.resetTimeout(`chunk-${o.id}`,this._onTimeout.bind(this,o),t);i.s[25]++;this._timers.resetTimeout(`msg-${o.id}`,this._onTimeout.bind(this,o),l)}close(){throw new Error("Not implemented")}_onClose(){i.f[4]++;i.s[26]++;this._timers.clearAll();i.s[27]++;this.fire("close",this)}_error(n){i.f[5]++;i.s[28]++;this.fire("error",n,this);i.s[29]++;Log.e(DataChannel,n);i.s[30]++;this.close()}_onMessage(n){i.f[6]++;i.s[31]++;try{i.s[32]++;if(this.readyState!==DataChannel.ReadyState.OPEN){i.b[6][0]++;i.s[33]++;return}i.b[6][1]++;const l=(i.s[34]++,new SerialBuffer(n));i.s[35]++;if(0===l.byteLength){i.b[7][0]++;i.s[36]++;return}i.b[7][1]++;i.s[37]++;if(l.byteLength>DataChannel.CHUNK_SIZE_MAX){i.b[8][0]++;i.s[38]++;this._error("Received chunk larger than maximum chunk size, discarding");i.s[39]++;return}i.b[8][1]++;const t=(i.s[40]++,l.readUint8()),o=(i.s[41]++,l.byteLength-l.readPos),c=(i.s[42]++,l.read(o));i.s[43]++;if((i.b[10][0]++,null===this._buffer)&&(i.b[10][1]++,t===(this._receivingTag+1)%NumberUtils.UINT8_MAX)){i.b[9][0]++;const n=(i.s[44]++,new SerialBuffer(c)),e=(i.s[45]++,Message.peekLength(n));i.s[46]++;if(e>DataChannel.MESSAGE_SIZE_MAX){i.b[11][0]++;i.s[47]++;this._error(`Received message with excessive message size ${e} > ${DataChannel.MESSAGE_SIZE_MAX}`);i.s[48]++;return}i.b[11][1]++;i.s[49]++;this._buffer=new SerialBuffer(e);i.s[50]++;this._receivingTag=t;i.s[51]++;this._msgType=Message.peekType(n)}else i.b[9][1]++;i.s[52]++;if(null===this._buffer){i.b[12][0]++;i.s[53]++;Log.e(DataChannel,`Message does not start with next tag ${this._receivingTag+1} (got ${t} instead), but buffer is null`);i.s[54]++;return}i.b[12][1]++;i.s[55]++;if(t!==this._receivingTag){i.b[13][0]++;i.s[56]++;this._error(`Received message with wrong message tag ${t}, expected ${this._receivingTag}`);i.s[57]++;return}i.b[13][1]++;let s=(i.s[58]++,this._buffer.byteLength-this._buffer.writePos);i.s[59]++;if(o>s){i.b[14][0]++;i.s[60]++;this._error("Received chunk larger than remaining bytes to read, discarding");i.s[61]++;return}i.b[14][1]++;i.s[62]++;this._buffer.write(c);i.s[63]++;s-=o;const u=(i.s[64]++,this._expectedMessagesByType.get(this._msgType));i.s[65]++;if(0===s){i.b[15][0]++;const n=(i.s[66]++,this._buffer.buffer);i.s[67]++;this._buffer=null;i.s[68]++;this.fire("message",n,this)}else{i.b[15][1]++;i.s[69]++;if(u){i.b[16][0]++;i.s[70]++;this._timers.resetTimeout(`chunk-${u.id}`,this._onTimeout.bind(this,u),u.chunkTimeout)}else i.b[16][1]++;i.s[71]++;this.fire("chunk",this._buffer)}}catch(e){i.s[72]++;this._error(`Error occurred while parsing incoming message, ${e.message}`)}}_onTimeout(n){i.f[7]++;i.s[73]++;if(n){i.b[17][0]++;i.s[74]++;this._timers.clearTimeout(`chunk-${n.id}`);i.s[75]++;this._timers.clearTimeout(`msg-${n.id}`);i.s[76]++;for(const e of n.types){i.s[77]++;this._expectedMessagesByType["delete"](e)}i.s[78]++;n.timeoutCallback()}else i.b[17][1]++;i.s[79]++;Log.e(DataChannel,"Timeout while receiving chunked message");i.s[80]++;this._buffer=null}send(n){i.f[8]++;i.s[81]++;Assert.that(n.byteLength<=DataChannel.MESSAGE_SIZE_MAX,"DataChannel.send() max message size exceeded");const e=(i.s[82]++,this._sendingTag);i.s[83]++;this._sendingTag=(this._sendingTag+1)%NumberUtils.UINT8_MAX;i.s[84]++;this._sendChunked(n,e)}_sendChunked(n,e){i.f[9]++;let l=(i.s[85]++,n.byteLength),t=(i.s[86]++,null);i.s[87]++;for(;l>0;){let o=(i.s[88]++,null);i.s[89]++;if(l+1>=DataChannel.CHUNK_SIZE_MAX){i.b[18][0]++;i.s[90]++;o=new SerialBuffer(DataChannel.CHUNK_SIZE_MAX);i.s[91]++;o.writeUint8(e);i.s[92]++;t=new Uint8Array(n.buffer,n.byteLength-l,DataChannel.CHUNK_SIZE_MAX-1)}else{i.b[18][1]++;i.s[93]++;o=new SerialBuffer(l+1);i.s[94]++;o.writeUint8(e);i.s[95]++;t=new Uint8Array(n.buffer,n.byteLength-l,l)}i.s[96]++;o.write(t);i.s[97]++;this.sendChunk(o);i.s[98]++;l-=t.byteLength}}sendChunk(n){throw new Error("Not implemented")}get readyState(){throw new Error("Not implemented")}}i.s[99]++;DataChannel.CHUNK_SIZE_MAX=16384;i.s[100]++;DataChannel.MESSAGE_SIZE_MAX=10485760;i.s[101]++;DataChannel.CHUNK_TIMEOUT=5e3;i.s[102]++;DataChannel.MESSAGE_TIMEOUT=DataChannel.MESSAGE_SIZE_MAX/DataChannel.CHUNK_SIZE_MAX*DataChannel.CHUNK_TIMEOUT;class ExpectedMessage{constructor(n,e,l=(i.b[19][0]++,DataChannel.MESSAGE_TIMEOUT),t=(i.b[20][0]++,DataChannel.CHUNK_TIMEOUT)){i.f[10]++;i.s[103]++;this.id=n.join(":");i.s[104]++;this.types=n;i.s[105]++;this.timeoutCallback=e;i.s[106]++;this.msgTimeout=l;i.s[107]++;this.chunkTimeout=t}}i.s[108]++;DataChannel.ReadyState={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3};i.s[109]++;DataChannel.ReadyState.fromString=function(n){i.f[11]++;i.s[110]++;switch(n){case"connecting":i.b[21][0]++;i.s[111]++;return DataChannel.ReadyState.CONNECTING;case"open":i.b[21][1]++;i.s[112]++;return DataChannel.ReadyState.OPEN;case"closing":i.b[21][2]++;i.s[113]++;return DataChannel.ReadyState.CLOSING;case"closed":i.b[21][3]++;i.s[114]++;return DataChannel.ReadyState.CLOSED;default:i.b[21][4]++;i.s[115]++;throw new Error("Invalid string")}};i.s[116]++;Class.register(DataChannel);var c=function(){var n="/home/soeren/nimiq/core/src/main/platform/browser/crypto/CryptoLib.js",e="86628345de279933c0d381ef887eb9020296eb23",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/platform/browser/crypto/CryptoLib.js",statementMap:{0:{start:{line:6,column:8},end:{line:11,column:9}},1:{start:{line:7,column:29},end:{line:7,column:31}},2:{start:{line:8,column:12},end:{line:8,column:110}},3:{start:{line:10,column:12},end:{line:10,column:43}},4:{start:{line:12,column:8},end:{line:12,column:35}},5:{start:{line:15,column:0},end:{line:15,column:27}},6:{start:{line:16,column:0},end:{line:16,column:26}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:26},end:{line:13,column:5}},line:5}},branchMap:{0:{loc:{start:{line:6,column:8},end:{line:11,column:9}},type:"if",locations:[{start:{line:6,column:8},end:{line:11,column:9}},{start:{line:6,column:8},end:{line:11,column:9}}],line:6},1:{loc:{start:{line:8,column:40},end:{line:8,column:72}},type:"binary-expr",locations:[{start:{line:8,column:40},end:{line:8,column:53}},{start:{line:8,column:57},end:{line:8,column:72}}],line:8}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0},b:{0:[0,0],1:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class CryptoLib{static get instance(){c.f[0]++;c.s[0]++;if(CryptoLib._instance)c.b[0][1]++;else{c.b[0][0]++;const n=(c.s[1]++,{});c.s[2]++;n.getRandomValues=((c.b[1][0]++,window.crypto)||(c.b[1][1]++,window.msCrypto)).getRandomValues.bind(window.crypto);c.s[3]++;CryptoLib._instance=n}c.s[4]++;return CryptoLib._instance}}c.s[5]++;CryptoLib._instance=null;c.s[6]++;Class.register(CryptoLib);var s=function(){var n="/home/soeren/nimiq/core/src/main/platform/browser/network/webrtc/WebRtcFactory.js",e="980663f2c6ae0a2aded620e1752ed60405def99e",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/platform/browser/network/webrtc/WebRtcFactory.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:52}},1:{start:{line:15,column:8},end:{line:15,column:68}},2:{start:{line:23,column:8},end:{line:23,column:56}},3:{start:{line:26,column:0},end:{line:26,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:44},end:{line:8,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:14,column:4},end:{line:14,column:5}},loc:{start:{line:14,column:60},end:{line:16,column:5}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:22,column:4},end:{line:22,column:5}},loc:{start:{line:22,column:48},end:{line:24,column:5}},line:22}},branchMap:{},s:{0:0,1:0,2:0,3:0},f:{0:0,1:0,2:0},b:{},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class WebRtcFactory{static newPeerConnection(n){s.f[0]++;s.s[0]++;return new RTCPeerConnection(n)}static newSessionDescription(n){s.f[1]++;s.s[1]++;return new RTCSessionDescription(n)}static newIceCandidate(n){s.f[2]++;s.s[2]++;return new RTCIceCandidate(n)}}s.s[3]++;Class.register(WebRtcFactory);var u=function(){var n="/home/soeren/nimiq/core/src/main/platform/browser/network/websocket/WebSocketFactory.js",e="8098c730c9218c6eed24b97be7cdf6ab9b0583db",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/platform/browser/network/websocket/WebSocketFactory.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:32}},1:{start:{line:16,column:8},end:{line:16,column:34}},2:{start:{line:19,column:0},end:{line:19,column:33}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:32},end:{line:8,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:15,column:4},end:{line:15,column:5}},loc:{start:{line:15,column:29},end:{line:17,column:5}},line:15}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0,1:0},b:{},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class WebSocketFactory{static newWebSocketServer(){u.f[0]++;u.s[0]++;return new Observable}static newWebSocket(n){u.f[1]++;u.s[1]++;return new WebSocket(n)}}u.s[2]++;Class.register(WebSocketFactory);var m=function(){var n="/home/soeren/nimiq/core/src/main/platform/browser/network/DnsUtils.js",e="e3ef72820be0e853c692810c34c6fe6d42b63f0f",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/platform/browser/network/DnsUtils.js",statementMap:{0:{start:{line:8,column:8},end:{line:8,column:55}},1:{start:{line:11,column:0},end:{line:11,column:25}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:24},end:{line:9,column:5}},line:7}},branchMap:{},s:{0:0,1:0},f:{0:0},b:{},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();m.s[1]++;Class.register(class DnsUtils{static lookup(n){m.f[0]++;m.s[0]++;return Promise.resolve(NetAddress.UNSPECIFIED)}});var r=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/ConstantHelper.js",e="9c368e27ce84bd323dbe985578f25c06cbf0d09f",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/ConstantHelper.js",statementMap:{0:{start:{line:3,column:8},end:{line:3,column:41}},1:{start:{line:7,column:8},end:{line:9,column:9}},2:{start:{line:8,column:12},end:{line:8,column:60}},3:{start:{line:10,column:8},end:{line:10,column:40}},4:{start:{line:18,column:8},end:{line:18,column:52}},5:{start:{line:18,column:39},end:{line:18,column:52}},6:{start:{line:19,column:22},end:{line:19,column:47}},7:{start:{line:20,column:8},end:{line:20,column:45}},8:{start:{line:21,column:8},end:{line:21,column:51}},9:{start:{line:21,column:38},end:{line:21,column:51}},10:{start:{line:22,column:8},end:{line:22,column:62}},11:{start:{line:22,column:49},end:{line:22,column:62}},12:{start:{line:23,column:8},end:{line:23,column:50}},13:{start:{line:23,column:37},end:{line:23,column:50}},14:{start:{line:24,column:8},end:{line:24,column:46}},15:{start:{line:24,column:33},end:{line:24,column:46}},16:{start:{line:25,column:8},end:{line:25,column:61}},17:{start:{line:25,column:48},end:{line:25,column:61}},18:{start:{line:26,column:8},end:{line:26,column:71}},19:{start:{line:26,column:58},end:{line:26,column:71}},20:{start:{line:27,column:8},end:{line:27,column:78}},21:{start:{line:27,column:65},end:{line:27,column:78}},22:{start:{line:28,column:8},end:{line:28,column:75}},23:{start:{line:28,column:62},end:{line:28,column:75}},24:{start:{line:29,column:8},end:{line:29,column:20}},25:{start:{line:36,column:8},end:{line:38,column:9}},26:{start:{line:37,column:12},end:{line:37,column:72}},27:{start:{line:46,column:8},end:{line:46,column:41}},28:{start:{line:47,column:22},end:{line:47,column:47}},29:{start:{line:48,column:8},end:{line:48,column:45}},30:{start:{line:49,column:8},end:{line:49,column:44}},31:{start:{line:57,column:8},end:{line:57,column:41}},32:{start:{line:58,column:8},end:{line:60,column:9}},33:{start:{line:59,column:12},end:{line:59,column:67}},34:{start:{line:61,column:22},end:{line:61,column:47}},35:{start:{line:62,column:8},end:{line:62,column:45}},36:{start:{line:63,column:8},end:{line:63,column:45}},37:{start:{line:70,column:8},end:{line:70,column:41}},38:{start:{line:71,column:8},end:{line:73,column:9}},39:{start:{line:72,column:12},end:{line:72,column:67}},40:{start:{line:77,column:0},end:{line:77,column:31}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:4},end:{line:2,column:5}},loc:{start:{line:2,column:18},end:{line:4,column:5}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:26},end:{line:11,column:5}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:25},end:{line:30,column:5}},line:17},3:{name:"(anonymous_3)",decl:{start:{line:35,column:4},end:{line:35,column:5}},loc:{start:{line:35,column:32},end:{line:39,column:5}},line:35},4:{name:"(anonymous_4)",decl:{start:{line:45,column:4},end:{line:45,column:5}},loc:{start:{line:45,column:18},end:{line:50,column:5}},line:45},5:{name:"(anonymous_5)",decl:{start:{line:56,column:4},end:{line:56,column:5}},loc:{start:{line:56,column:25},end:{line:64,column:5}},line:56},6:{name:"(anonymous_6)",decl:{start:{line:69,column:4},end:{line:69,column:5}},loc:{start:{line:69,column:20},end:{line:74,column:5}},line:69}},branchMap:{0:{loc:{start:{line:7,column:8},end:{line:9,column:9}},type:"if",locations:[{start:{line:7,column:8},end:{line:9,column:9}},{start:{line:7,column:8},end:{line:9,column:9}}],line:7},1:{loc:{start:{line:18,column:8},end:{line:18,column:52}},type:"if",locations:[{start:{line:18,column:8},end:{line:18,column:52}},{start:{line:18,column:8},end:{line:18,column:52}}],line:18},2:{loc:{start:{line:21,column:8},end:{line:21,column:51}},type:"if",locations:[{start:{line:21,column:8},end:{line:21,column:51}},{start:{line:21,column:8},end:{line:21,column:51}}],line:21},3:{loc:{start:{line:22,column:8},end:{line:22,column:62}},type:"if",locations:[{start:{line:22,column:8},end:{line:22,column:62}},{start:{line:22,column:8},end:{line:22,column:62}}],line:22},4:{loc:{start:{line:23,column:8},end:{line:23,column:50}},type:"if",locations:[{start:{line:23,column:8},end:{line:23,column:50}},{start:{line:23,column:8},end:{line:23,column:50}}],line:23},5:{loc:{start:{line:24,column:8},end:{line:24,column:46}},type:"if",locations:[{start:{line:24,column:8},end:{line:24,column:46}},{start:{line:24,column:8},end:{line:24,column:46}}],line:24},6:{loc:{start:{line:25,column:8},end:{line:25,column:61}},type:"if",locations:[{start:{line:25,column:8},end:{line:25,column:61}},{start:{line:25,column:8},end:{line:25,column:61}}],line:25},7:{loc:{start:{line:26,column:8},end:{line:26,column:71}},type:"if",locations:[{start:{line:26,column:8},end:{line:26,column:71}},{start:{line:26,column:8},end:{line:26,column:71}}],line:26},8:{loc:{start:{line:27,column:8},end:{line:27,column:78}},type:"if",locations:[{start:{line:27,column:8},end:{line:27,column:78}},{start:{line:27,column:8},end:{line:27,column:78}}],line:27},9:{loc:{start:{line:28,column:8},end:{line:28,column:75}},type:"if",locations:[{start:{line:28,column:8},end:{line:28,column:75}},{start:{line:28,column:8},end:{line:28,column:75}}],line:28},10:{loc:{start:{line:36,column:8},end:{line:38,column:9}},type:"if",locations:[{start:{line:36,column:8},end:{line:38,column:9}},{start:{line:36,column:8},end:{line:38,column:9}}],line:36},11:{loc:{start:{line:58,column:8},end:{line:60,column:9}},type:"if",locations:[{start:{line:58,column:8},end:{line:60,column:9}},{start:{line:58,column:8},end:{line:60,column:9}}],line:58},12:{loc:{start:{line:71,column:8},end:{line:73,column:9}},type:"if",locations:[{start:{line:71,column:8},end:{line:73,column:9}},{start:{line:71,column:8},end:{line:73,column:9}}],line:71}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class ConstantHelper{constructor(){r.f[0]++;r.s[0]++;this._originalValues=new Map}static get instance(){r.f[1]++;r.s[1]++;if(ConstantHelper._instance)r.b[0][1]++;else{r.b[0][0]++;r.s[2]++;ConstantHelper._instance=new ConstantHelper}r.s[3]++;return ConstantHelper._instance}isConstant(n){r.f[2]++;r.s[4]++;if(n.indexOf(".")<1){r.b[1][0]++;r.s[5]++;return!1}r.b[1][1]++;const e=(r.s[6]++,n.split(".",2)[0]);r.s[7]++;n=n.split(".",2)[1];r.s[8]++;if(n.startsWith("_")){r.b[2][0]++;r.s[9]++;return!1}r.b[2][1]++;r.s[10]++;if(n.toUpperCase()!==n){r.b[3][0]++;r.s[11]++;return!1}r.b[3][1]++;r.s[12]++;if(!(e in Class.scope)){r.b[4][0]++;r.s[13]++;return!1}r.b[4][1]++;r.s[14]++;if(!Class.scope[e]){r.b[5][0]++;r.s[15]++;return!1}r.b[5][1]++;r.s[16]++;if(!Class.scope[e].hasOwnProperty){r.b[6][0]++;r.s[17]++;return!1}r.b[6][1]++;r.s[18]++;if(!Class.scope[e].hasOwnProperty(n)){r.b[7][0]++;r.s[19]++;return!1}r.b[7][1]++;r.s[20]++;if(!Object.keys(Class.scope[e]).includes(n)){r.b[8][0]++;r.s[21]++;return!1}r.b[8][1]++;r.s[22]++;if("number"!=typeof Class.scope[e][n]){r.b[9][0]++;r.s[23]++;return!1}r.b[9][1]++;r.s[24]++;return!0}_ensureIsConstant(n){r.f[3]++;r.s[25]++;if(!this.isConstant(n)){r.b[10][0]++;r.s[26]++;throw new Error(`${n} is not a numerical constant.`)}r.b[10][1]++}get(n){r.f[4]++;r.s[27]++;this._ensureIsConstant(n);const e=(r.s[28]++,n.split(".",2)[0]);r.s[29]++;n=n.split(".",2)[1];r.s[30]++;return Class.scope[e][n]}set(n,e){r.f[5]++;r.s[31]++;this._ensureIsConstant(n);r.s[32]++;if(this._originalValues.has(n))r.b[11][1]++;else{r.b[11][0]++;r.s[33]++;this._originalValues.set(n,this.get(n))}const l=(r.s[34]++,n.split(".",2)[0]);r.s[35]++;n=n.split(".",2)[1];r.s[36]++;Class.scope[l][n]=e}reset(n){r.f[6]++;r.s[37]++;this._ensureIsConstant(n);r.s[38]++;if(this._originalValues.has(n)){r.b[12][0]++;r.s[39]++;this.set(n,this._originalValues.get(n))}else r.b[12][1]++}}r.s[40]++;Class.register(ConstantHelper);var a=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/Services.js",e="8fcbd2d8dfffcab1d99de2d6e57f7789aaab02b2",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/Services.js",statementMap:{0:{start:{line:8,column:8},end:{line:8,column:34}},1:{start:{line:9,column:8},end:{line:9,column:34}},2:{start:{line:16,column:8},end:{line:16,column:30}},3:{start:{line:23,column:8},end:{line:23,column:30}},4:{start:{line:30,column:8},end:{line:30,column:34}},5:{start:{line:37,column:8},end:{line:37,column:34}},6:{start:{line:45,column:8},end:{line:45,column:48}},7:{start:{line:53,column:8},end:{line:53,column:49}},8:{start:{line:61,column:8},end:{line:61,column:42}},9:{start:{line:64,column:0},end:{line:64,column:20}},10:{start:{line:65,column:0},end:{line:65,column:20}},11:{start:{line:66,column:0},end:{line:66,column:20}},12:{start:{line:67,column:0},end:{line:67,column:20}},13:{start:{line:68,column:0},end:{line:68,column:25}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:68},end:{line:10,column:5}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:15,column:4},end:{line:15,column:5}},loc:{start:{line:15,column:19},end:{line:17,column:5}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:22,column:4},end:{line:22,column:5}},loc:{start:{line:22,column:19},end:{line:24,column:5}},line:22},3:{name:"(anonymous_3)",decl:{start:{line:29,column:4},end:{line:29,column:5}},loc:{start:{line:29,column:27},end:{line:31,column:5}},line:29},4:{name:"(anonymous_4)",decl:{start:{line:36,column:4},end:{line:36,column:5}},loc:{start:{line:36,column:27},end:{line:38,column:5}},line:36},5:{name:"(anonymous_5)",decl:{start:{line:44,column:4},end:{line:44,column:5}},loc:{start:{line:44,column:32},end:{line:46,column:5}},line:44},6:{name:"(anonymous_6)",decl:{start:{line:52,column:4},end:{line:52,column:5}},loc:{start:{line:52,column:33},end:{line:54,column:5}},line:52},7:{name:"(anonymous_7)",decl:{start:{line:60,column:4},end:{line:60,column:5}},loc:{start:{line:60,column:32},end:{line:62,column:5}},line:60}},branchMap:{0:{loc:{start:{line:7,column:16},end:{line:7,column:40}},type:"default-arg",locations:[{start:{line:7,column:27},end:{line:7,column:40}}],line:7},1:{loc:{start:{line:7,column:42},end:{line:7,column:66}},type:"default-arg",locations:[{start:{line:7,column:53},end:{line:7,column:66}}],line:7}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0],1:[0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Services{constructor(n=(a.b[0][0]++,Services.NONE),e=(a.b[1][0]++,Services.NONE)){a.f[0]++;a.s[0]++;this._provided=n;a.s[1]++;this._accepted=e}get provided(){a.f[1]++;a.s[2]++;return this._provided}get accepted(){a.f[2]++;a.s[3]++;return this._accepted}set provided(n){a.f[3]++;a.s[4]++;this._provided=n}set accepted(n){a.f[4]++;a.s[5]++;this._accepted=n}static isFullNode(n){a.f[5]++;a.s[6]++;return 0!=(n&Services.FULL)}static isLightNode(n){a.f[6]++;a.s[7]++;return 0!=(n&Services.LIGHT)}static isNanoNode(n){a.f[7]++;a.s[8]++;return n===Services.NANO}}a.s[9]++;Services.NONE=0;a.s[10]++;Services.NANO=1;a.s[11]++;Services.LIGHT=2;a.s[12]++;Services.FULL=4;a.s[13]++;Class.register(Services);var d=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/Timers.js",e="81c3681293acd12620826ebc4175a9c3143ceabb",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/Timers.js",statementMap:{0:{start:{line:3,column:8},end:{line:3,column:28}},1:{start:{line:4,column:8},end:{line:4,column:29}},2:{start:{line:8,column:8},end:{line:8,column:74}},3:{start:{line:8,column:33},end:{line:8,column:74}},4:{start:{line:9,column:8},end:{line:9,column:55}},5:{start:{line:13,column:8},end:{line:13,column:42}},6:{start:{line:14,column:8},end:{line:14,column:35}},7:{start:{line:18,column:8},end:{line:18,column:42}},8:{start:{line:19,column:8},end:{line:19,column:55}},9:{start:{line:23,column:8},end:{line:23,column:49}},10:{start:{line:27,column:8},end:{line:27,column:76}},11:{start:{line:27,column:34},end:{line:27,column:76}},12:{start:{line:28,column:8},end:{line:28,column:61}},13:{start:{line:32,column:8},end:{line:32,column:44}},14:{start:{line:33,column:8},end:{line:33,column:36}},15:{start:{line:37,column:8},end:{line:37,column:44}},16:{start:{line:38,column:8},end:{line:38,column:61}},17:{start:{line:42,column:8},end:{line:42,column:50}},18:{start:{line:46,column:8},end:{line:48,column:9}},19:{start:{line:47,column:12},end:{line:47,column:35}},20:{start:{line:49,column:8},end:{line:51,column:9}},21:{start:{line:50,column:12},end:{line:50,column:36}},22:{start:{line:54,column:0},end:{line:54,column:23}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:4},end:{line:2,column:5}},loc:{start:{line:2,column:18},end:{line:5,column:5}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:34},end:{line:10,column:5}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:12,column:4},end:{line:12,column:5}},loc:{start:{line:12,column:22},end:{line:15,column:5}},line:12},3:{name:"(anonymous_3)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:36},end:{line:20,column:5}},line:17},4:{name:"(anonymous_4)",decl:{start:{line:22,column:4},end:{line:22,column:5}},loc:{start:{line:22,column:23},end:{line:24,column:5}},line:22},5:{name:"(anonymous_5)",decl:{start:{line:26,column:4},end:{line:26,column:5}},loc:{start:{line:26,column:39},end:{line:29,column:5}},line:26},6:{name:"(anonymous_6)",decl:{start:{line:31,column:4},end:{line:31,column:5}},loc:{start:{line:31,column:23},end:{line:34,column:5}},line:31},7:{name:"(anonymous_7)",decl:{start:{line:36,column:4},end:{line:36,column:5}},loc:{start:{line:36,column:41},end:{line:39,column:5}},line:36},8:{name:"(anonymous_8)",decl:{start:{line:41,column:4},end:{line:41,column:5}},loc:{start:{line:41,column:24},end:{line:43,column:5}},line:41},9:{name:"(anonymous_9)",decl:{start:{line:45,column:4},end:{line:45,column:5}},loc:{start:{line:45,column:15},end:{line:52,column:5}},line:45}},branchMap:{0:{loc:{start:{line:8,column:8},end:{line:8,column:74}},type:"if",locations:[{start:{line:8,column:8},end:{line:8,column:74}},{start:{line:8,column:8},end:{line:8,column:74}}],line:8},1:{loc:{start:{line:27,column:8},end:{line:27,column:76}},type:"if",locations:[{start:{line:27,column:8},end:{line:27,column:76}},{start:{line:27,column:8},end:{line:27,column:76}}],line:27}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Timers{constructor(){d.f[0]++;d.s[0]++;this._timeouts={};d.s[1]++;this._intervals={}}setTimeout(n,e,l){d.f[1]++;d.s[2]++;if(this._timeouts[n]){d.b[0][0]++;d.s[3]++;throw"Duplicate timeout for key "+n}d.b[0][1]++;d.s[4]++;this._timeouts[n]=setTimeout(e,l)}clearTimeout(n){d.f[2]++;d.s[5]++;clearTimeout(this._timeouts[n]);d.s[6]++;delete this._timeouts[n]}resetTimeout(n,e,l){d.f[3]++;d.s[7]++;clearTimeout(this._timeouts[n]);d.s[8]++;this._timeouts[n]=setTimeout(e,l)}timeoutExists(n){d.f[4]++;d.s[9]++;return this._timeouts[n]!==undefined}setInterval(n,e,l){d.f[5]++;d.s[10]++;if(this._intervals[n]){d.b[1][0]++;d.s[11]++;throw"Duplicate interval for key "+n}d.b[1][1]++;d.s[12]++;this._intervals[n]=setInterval(e,l)}clearInterval(n){d.f[6]++;d.s[13]++;clearInterval(this._intervals[n]);d.s[14]++;delete this._intervals[n]}resetInterval(n,e,l){d.f[7]++;d.s[15]++;clearInterval(this._intervals[n]);d.s[16]++;this._intervals[n]=setInterval(e,l)}intervalExists(n){d.f[8]++;d.s[17]++;return this._intervals[n]!==undefined}clearAll(){d.f[9]++;d.s[18]++;for(const n in this._timeouts){d.s[19]++;this.clearTimeout(n)}d.s[20]++;for(const n in this._intervals){d.s[21]++;this.clearInterval(n)}}}d.s[22]++;Class.register(Timers);var h=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/Version.js",e="49d6f2786eb28878cdd75d51a189e4621e5a35ee",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/Version.js",statementMap:{0:{start:{line:4,column:8},end:{line:4,column:36}},1:{start:{line:7,column:0},end:{line:7,column:17}},2:{start:{line:8,column:0},end:{line:8,column:24}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:4},end:{line:2,column:5}},loc:{start:{line:2,column:30},end:{line:5,column:5}},line:2}},branchMap:{},s:{0:0,1:0,2:0},f:{0:0},b:{},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Version{static isCompatible(n){h.f[0]++;h.s[0]++;return n>=Version.CODE}}h.s[1]++;Version.CODE=1;h.s[2]++;Class.register(Version);var f=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/Time.js",e="065f368b09a44ba6b66f42af0e621a549ff3c861",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/Time.js",statementMap:{0:{start:{line:11,column:8},end:{line:11,column:30}},1:{start:{line:18,column:8},end:{line:18,column:30}},2:{start:{line:26,column:8},end:{line:26,column:41}},3:{start:{line:29,column:0},end:{line:29,column:21}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:4},end:{line:10,column:5}},loc:{start:{line:10,column:28},end:{line:12,column:5}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:23},end:{line:19,column:5}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:25,column:4},end:{line:25,column:5}},loc:{start:{line:25,column:10},end:{line:27,column:5}},line:25}},branchMap:{0:{loc:{start:{line:10,column:16},end:{line:10,column:26}},type:"default-arg",locations:[{start:{line:10,column:25},end:{line:10,column:26}}],line:10}},s:{0:0,1:0,2:0,3:0},f:{0:0,1:0,2:0},b:{0:[0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Time{constructor(n=(f.b[0][0]++,0)){f.f[0]++;f.s[0]++;this._offset=n}set offset(n){f.f[1]++;f.s[1]++;this._offset=n}now(){f.f[2]++;f.s[2]++;return Date.now()+this._offset}}f.s[3]++;Class.register(Time);var _=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/array/ArrayUtils.js",e="ff26226d3bc0b05c021fec84d59fcc455a10a1fc",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/array/ArrayUtils.js",statementMap:{0:{start:{line:8,column:8},end:{line:8,column:59}},1:{start:{line:18,column:38},end:{line:18,column:79}},2:{start:{line:20,column:8},end:{line:20,column:47}},3:{start:{line:20,column:35},end:{line:20,column:45}},4:{start:{line:21,column:8},end:{line:21,column:60}},5:{start:{line:21,column:33},end:{line:21,column:58}},6:{start:{line:23,column:8},end:{line:23,column:52}},7:{start:{line:24,column:8},end:{line:24,column:48}},8:{start:{line:26,column:18},end:{line:26,column:29}},9:{start:{line:27,column:8},end:{line:29,column:9}},10:{start:{line:28,column:12},end:{line:28,column:20}},11:{start:{line:31,column:8},end:{line:31,column:79}},12:{start:{line:40,column:18},end:{line:40,column:29}},13:{start:{line:42,column:8},end:{line:44,column:9}},14:{start:{line:43,column:12},end:{line:43,column:19}},15:{start:{line:45,column:24},end:{line:45,column:60}},16:{start:{line:45,column:58},end:{line:45,column:59}},17:{start:{line:46,column:8},end:{line:46,column:40}},18:{start:{line:46,column:31},end:{line:46,column:38}},19:{start:{line:47,column:29},end:{line:47,column:69}},20:{start:{line:47,column:63},end:{line:47,column:68}},21:{start:{line:49,column:8},end:{line:65,column:9}},22:{start:{line:50,column:20},end:{line:50,column:23}},23:{start:{line:50,column:33},end:{line:50,column:38}},24:{start:{line:51,column:12},end:{line:56,column:13}},25:{start:{line:52,column:16},end:{line:55,column:17}},26:{start:{line:53,column:20},end:{line:53,column:33}},27:{start:{line:54,column:20},end:{line:54,column:26}},28:{start:{line:57,column:12},end:{line:59,column:13}},29:{start:{line:58,column:16},end:{line:58,column:23}},30:{start:{line:60,column:12},end:{line:60,column:28}},31:{start:{line:61,column:12},end:{line:63,column:13}},32:{start:{line:61,column:66},end:{line:61,column:71}},33:{start:{line:62,column:16},end:{line:62,column:46}},34:{start:{line:64,column:12},end:{line:64,column:44}},35:{start:{line:64,column:35},end:{line:64,column:42}},36:{start:{line:68,column:0},end:{line:68,column:27}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:30},end:{line:9,column:5}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:41},end:{line:32,column:5}},line:17},2:{name:"clamp",decl:{start:{line:18,column:17},end:{line:18,column:22}},loc:{start:{line:18,column:36},end:{line:18,column:81}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:39,column:4},end:{line:39,column:5}},loc:{start:{line:39,column:36},end:{line:66,column:5}},line:39},4:{name:"(anonymous_4)",decl:{start:{line:45,column:49},end:{line:45,column:50}},loc:{start:{line:45,column:58},end:{line:45,column:59}},line:45},5:{name:"(anonymous_5)",decl:{start:{line:46,column:26},end:{line:46,column:27}},loc:{start:{line:46,column:31},end:{line:46,column:38}},line:46},6:{name:"(anonymous_6)",decl:{start:{line:47,column:54},end:{line:47,column:55}},loc:{start:{line:47,column:63},end:{line:47,column:68}},line:47},7:{name:"(anonymous_7)",decl:{start:{line:61,column:57},end:{line:61,column:58}},loc:{start:{line:61,column:66},end:{line:61,column:71}},line:61},8:{name:"(anonymous_8)",decl:{start:{line:64,column:30},end:{line:64,column:31}},loc:{start:{line:64,column:35},end:{line:64,column:42}},line:64}},branchMap:{0:{loc:{start:{line:18,column:45},end:{line:18,column:78}},type:"cond-expr",locations:[{start:{line:18,column:55},end:{line:18,column:58}},{start:{line:18,column:61},end:{line:18,column:78}}],line:18},1:{loc:{start:{line:18,column:61},end:{line:18,column:78}},type:"cond-expr",locations:[{start:{line:18,column:71},end:{line:18,column:74}},{start:{line:18,column:77},end:{line:18,column:78}}],line:18},2:{loc:{start:{line:20,column:8},end:{line:20,column:47}},type:"if",locations:[{start:{line:20,column:8},end:{line:20,column:47}},{start:{line:20,column:8},end:{line:20,column:47}}],line:20},3:{loc:{start:{line:21,column:8},end:{line:21,column:60}},type:"if",locations:[{start:{line:21,column:8},end:{line:21,column:60}},{start:{line:21,column:8},end:{line:21,column:60}}],line:21},4:{loc:{start:{line:27,column:8},end:{line:29,column:9}},type:"if",locations:[{start:{line:27,column:8},end:{line:29,column:9}},{start:{line:27,column:8},end:{line:29,column:9}}],line:27},5:{loc:{start:{line:42,column:8},end:{line:44,column:9}},type:"if",locations:[{start:{line:42,column:8},end:{line:44,column:9}},{start:{line:42,column:8},end:{line:44,column:9}}],line:42},6:{loc:{start:{line:52,column:16},end:{line:55,column:17}},type:"if",locations:[{start:{line:52,column:16},end:{line:55,column:17}},{start:{line:52,column:16},end:{line:55,column:17}}],line:52},7:{loc:{start:{line:57,column:12},end:{line:59,column:13}},type:"if",locations:[{start:{line:57,column:12},end:{line:59,column:13}},{start:{line:57,column:12},end:{line:59,column:13}}],line:57}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class ArrayUtils{static randomElement(n){_.f[0]++;_.s[0]++;return n[Math.floor(Math.random()*n.length)]}static subarray(n,e,l){_.f[1]++;function clamp(n,e,l){_.f[2]++;_.s[1]++;return n<e?(_.b[0][0]++,e):(_.b[0][1]++,n>l?(_.b[1][0]++,l):(_.b[1][1]++,n))}_.s[2]++;if(e===undefined){_.b[2][0]++;_.s[3]++;e=0}else _.b[2][1]++;_.s[4]++;if(l===undefined){_.b[3][0]++;_.s[5]++;l=n.byteLength}else _.b[3][1]++;_.s[6]++;e=clamp(e,0,n.byteLength);_.s[7]++;l=clamp(l,0,n.byteLength);let t=(_.s[8]++,l-e);_.s[9]++;if(t<0){_.b[4][0]++;_.s[10]++;t=0}else _.b[4][1]++;_.s[11]++;return new Uint8Array(n.buffer,n.byteOffset+e,t)}static*k_combinations(n,e){_.f[3]++;const l=(_.s[12]++,n.length);_.s[13]++;if(e>l){_.b[5][0]++;_.s[14]++;return}_.b[5][1]++;const t=(_.s[15]++,Array.from(new Array(e),(n,e)=>{_.f[4]++;_.s[16]++;return e}));_.s[17]++;yield t.map(e=>{_.f[5]++;_.s[18]++;return n[e]});const o=(_.s[19]++,Array.from(new Array(e),(n,l)=>{_.f[6]++;_.s[20]++;return e-l-1}));_.s[21]++;for(;;){let i=(_.s[22]++,e-1),c=(_.s[23]++,!1);_.s[24]++;for(i of o){_.s[25]++;if(t[i]!==i+l-e){_.b[6][0]++;_.s[26]++;c=!0;_.s[27]++;break}_.b[6][1]++}_.s[28]++;if(!c){_.b[7][0]++;_.s[29]++;return}_.b[7][1]++;_.s[30]++;t[i]+=1;_.s[31]++;for(const n of Array.from(new Array(e-i-1),(n,e)=>{_.f[7]++;_.s[32]++;return i+e+1})){_.s[33]++;t[n]=t[n-1]+1}_.s[34]++;yield t.map(e=>{_.f[8]++;_.s[35]++;return n[e]})}}}_.s[36]++;Class.register(ArrayUtils);var y=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/array/HashMap.js",e="4cf4e58bf4f13e98fcb00484d3294e30124c3e65",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/array/HashMap.js",statementMap:{0:{start:{line:10,column:8},end:{line:10,column:30}},1:{start:{line:12,column:8},end:{line:12,column:30}},2:{start:{line:21,column:8},end:{line:21,column:52}},3:{start:{line:21,column:43},end:{line:21,column:52}},4:{start:{line:22,column:8},end:{line:22,column:56}},5:{start:{line:30,column:8},end:{line:30,column:48}},6:{start:{line:38,column:8},end:{line:38,column:48}},7:{start:{line:45,column:8},end:{line:45,column:44}},8:{start:{line:49,column:8},end:{line:49,column:26}},9:{start:{line:57,column:8},end:{line:57,column:48}},10:{start:{line:64,column:8},end:{line:64,column:44}},11:{start:{line:71,column:8},end:{line:71,column:32}},12:{start:{line:78,column:8},end:{line:78,column:46}},13:{start:{line:85,column:8},end:{line:85,column:34}},14:{start:{line:92,column:8},end:{line:92,column:30}},15:{start:{line:99,column:8},end:{line:99,column:36}},16:{start:{line:102,column:0},end:{line:102,column:24}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:4},end:{line:8,column:5}},loc:{start:{line:8,column:40},end:{line:13,column:5}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:20,column:4},end:{line:20,column:5}},loc:{start:{line:20,column:20},end:{line:23,column:5}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:29,column:4},end:{line:29,column:5}},loc:{start:{line:29,column:13},end:{line:31,column:5}},line:29},3:{name:"(anonymous_3)",decl:{start:{line:37,column:4},end:{line:37,column:5}},loc:{start:{line:37,column:20},end:{line:39,column:5}},line:37},4:{name:"(anonymous_4)",decl:{start:{line:44,column:4},end:{line:44,column:5}},loc:{start:{line:44,column:16},end:{line:46,column:5}},line:44},5:{name:"(anonymous_5)",decl:{start:{line:48,column:4},end:{line:48,column:5}},loc:{start:{line:48,column:12},end:{line:50,column:5}},line:48},6:{name:"(anonymous_6)",decl:{start:{line:56,column:4},end:{line:56,column:5}},loc:{start:{line:56,column:18},end:{line:58,column:5}},line:56},7:{name:"(anonymous_7)",decl:{start:{line:63,column:4},end:{line:63,column:5}},loc:{start:{line:63,column:11},end:{line:65,column:5}},line:63},8:{name:"(anonymous_8)",decl:{start:{line:70,column:4},end:{line:70,column:5}},loc:{start:{line:70,column:18},end:{line:72,column:5}},line:70},9:{name:"(anonymous_9)",decl:{start:{line:77,column:4},end:{line:77,column:5}},loc:{start:{line:77,column:13},end:{line:79,column:5}},line:77},10:{name:"(anonymous_10)",decl:{start:{line:84,column:4},end:{line:84,column:5}},loc:{start:{line:84,column:20},end:{line:86,column:5}},line:84},11:{name:"(anonymous_11)",decl:{start:{line:91,column:4},end:{line:91,column:5}},loc:{start:{line:91,column:17},end:{line:93,column:5}},line:91},12:{name:"(anonymous_12)",decl:{start:{line:98,column:4},end:{line:98,column:5}},loc:{start:{line:98,column:14},end:{line:100,column:5}},line:98}},branchMap:{0:{loc:{start:{line:8,column:16},end:{line:8,column:38}},type:"default-arg",locations:[{start:{line:8,column:25},end:{line:8,column:38}}],line:8},1:{loc:{start:{line:21,column:8},end:{line:21,column:52}},type:"if",locations:[{start:{line:21,column:8},end:{line:21,column:52}},{start:{line:21,column:8},end:{line:21,column:52}}],line:21},2:{loc:{start:{line:21,column:12},end:{line:21,column:41}},type:"binary-expr",locations:[{start:{line:21,column:12},end:{line:21,column:22}},{start:{line:21,column:26},end:{line:21,column:41}}],line:21},3:{loc:{start:{line:22,column:15},end:{line:22,column:55}},type:"cond-expr",locations:[{start:{line:22,column:28},end:{line:22,column:40}},{start:{line:22,column:43},end:{line:22,column:55}}],line:22}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class HashMap{constructor(n=(y.b[0][0]++,HashMap._hash)){y.f[0]++;y.s[0]++;this._map=new Map;y.s[1]++;this._fnHash=n}static _hash(n){y.f[1]++;y.s[2]++;if((y.b[2][0]++,null===n)||(y.b[2][1]++,n===undefined)){y.b[1][0]++;y.s[3]++;return n}y.b[1][1]++;y.s[4]++;return n.hashCode?(y.b[3][0]++,n.hashCode()):(y.b[3][1]++,n.toString())}get(n){y.f[2]++;y.s[5]++;return this._map.get(this._fnHash(n))}put(n,e){y.f[3]++;y.s[6]++;this._map.set(this._fnHash(n),e)}remove(n){y.f[4]++;y.s[7]++;this._map["delete"](this._fnHash(n))}clear(){y.f[5]++;y.s[8]++;this._map.clear()}contains(n){y.f[6]++;y.s[9]++;return this._map.has(this._fnHash(n))}keys(){y.f[7]++;y.s[10]++;return Array.from(this._map.keys())}keyIterator(){y.f[8]++;y.s[11]++;return this._map.keys()}values(){y.f[9]++;y.s[12]++;return Array.from(this._map.values())}valueIterator(){y.f[10]++;y.s[13]++;return this._map.values()}get length(){y.f[11]++;y.s[14]++;return this._map.size}isEmpty(){y.f[12]++;y.s[15]++;return 0===this._map.size}}y.s[16]++;Class.register(HashMap);var b=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/array/HashSet.js",e="221b6c67c4a1d4122f82150209f5bf2962fb8c51",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/array/HashSet.js",statementMap:{0:{start:{line:8,column:8},end:{line:8,column:30}},1:{start:{line:10,column:8},end:{line:10,column:30}},2:{start:{line:19,column:8},end:{line:19,column:52}},3:{start:{line:19,column:43},end:{line:19,column:52}},4:{start:{line:20,column:8},end:{line:20,column:56}},5:{start:{line:27,column:8},end:{line:27,column:50}},6:{start:{line:34,column:8},end:{line:36,column:9}},7:{start:{line:35,column:12},end:{line:35,column:28}},8:{start:{line:44,column:8},end:{line:44,column:50}},9:{start:{line:51,column:8},end:{line:51,column:46}},10:{start:{line:58,column:8},end:{line:60,column:9}},11:{start:{line:59,column:12},end:{line:59,column:31}},12:{start:{line:64,column:8},end:{line:64,column:26}},13:{start:{line:72,column:8},end:{line:72,column:50}},14:{start:{line:79,column:8},end:{line:79,column:46}},15:{start:{line:86,column:8},end:{line:86,column:34}},16:{start:{line:93,column:8},end:{line:93,column:36}},17:{start:{line:100,column:8},end:{line:100,column:30}},18:{start:{line:107,column:8},end:{line:107,column:36}},19:{start:{line:110,column:0},end:{line:110,column:24}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:40},end:{line:11,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:18,column:4},end:{line:18,column:5}},loc:{start:{line:18,column:20},end:{line:21,column:5}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:26,column:4},end:{line:26,column:5}},loc:{start:{line:26,column:15},end:{line:28,column:5}},line:26},3:{name:"(anonymous_3)",decl:{start:{line:33,column:4},end:{line:33,column:5}},loc:{start:{line:33,column:23},end:{line:37,column:5}},line:33},4:{name:"(anonymous_4)",decl:{start:{line:43,column:4},end:{line:43,column:5}},loc:{start:{line:43,column:15},end:{line:45,column:5}},line:43},5:{name:"(anonymous_5)",decl:{start:{line:50,column:4},end:{line:50,column:5}},loc:{start:{line:50,column:18},end:{line:52,column:5}},line:50},6:{name:"(anonymous_6)",decl:{start:{line:57,column:4},end:{line:57,column:5}},loc:{start:{line:57,column:26},end:{line:61,column:5}},line:57},7:{name:"(anonymous_7)",decl:{start:{line:63,column:4},end:{line:63,column:5}},loc:{start:{line:63,column:12},end:{line:65,column:5}},line:63},8:{name:"(anonymous_8)",decl:{start:{line:71,column:4},end:{line:71,column:5}},loc:{start:{line:71,column:20},end:{line:73,column:5}},line:71},9:{name:"(anonymous_9)",decl:{start:{line:78,column:4},end:{line:78,column:5}},loc:{start:{line:78,column:13},end:{line:80,column:5}},line:78},10:{name:"(anonymous_10)",decl:{start:{line:85,column:4},end:{line:85,column:5}},loc:{start:{line:85,column:20},end:{line:87,column:5}},line:85},11:{name:"(anonymous_11)",decl:{start:{line:92,column:4},end:{line:92,column:5}},loc:{start:{line:92,column:24},end:{line:94,column:5}},line:92},12:{name:"(anonymous_12)",decl:{start:{line:99,column:4},end:{line:99,column:5}},loc:{start:{line:99,column:17},end:{line:101,column:5}},line:99},13:{name:"(anonymous_13)",decl:{start:{line:106,column:4},end:{line:106,column:5}},loc:{start:{line:106,column:14},end:{line:108,column:5}},line:106}},branchMap:{0:{loc:{start:{line:6,column:16},end:{line:6,column:38}},type:"default-arg",locations:[{start:{line:6,column:25},end:{line:6,column:38}}],line:6},1:{loc:{start:{line:19,column:8},end:{line:19,column:52}},type:"if",locations:[{start:{line:19,column:8},end:{line:19,column:52}},{start:{line:19,column:8},end:{line:19,column:52}}],line:19},2:{loc:{start:{line:19,column:12},end:{line:19,column:41}},type:"binary-expr",locations:[{start:{line:19,column:12},end:{line:19,column:22}},{start:{line:19,column:26},end:{line:19,column:41}}],line:19},3:{loc:{start:{line:20,column:15},end:{line:20,column:55}},type:"cond-expr",locations:[{start:{line:20,column:28},end:{line:20,column:40}},{start:{line:20,column:43},end:{line:20,column:55}}],line:20}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class HashSet{constructor(n=(b.b[0][0]++,HashSet._hash)){b.f[0]++;b.s[0]++;this._map=new Map;b.s[1]++;this._fnHash=n}static _hash(n){b.f[1]++;b.s[2]++;if((b.b[2][0]++,null===n)||(b.b[2][1]++,n===undefined)){b.b[1][0]++;b.s[3]++;return n}b.b[1][1]++;b.s[4]++;return n.hashCode?(b.b[3][0]++,n.hashCode()):(b.b[3][1]++,n.toString())}add(n){b.f[2]++;b.s[5]++;this._map.set(this._fnHash(n),n)}addAll(n){b.f[3]++;b.s[6]++;for(const e of n){b.s[7]++;this.add(e)}}get(n){b.f[4]++;b.s[8]++;return this._map.get(this._fnHash(n))}remove(n){b.f[5]++;b.s[9]++;this._map["delete"](this._fnHash(n))}removeAll(n){b.f[6]++;b.s[10]++;for(const e of n){b.s[11]++;this.remove(e)}}clear(){b.f[7]++;b.s[12]++;this._map.clear()}contains(n){b.f[8]++;b.s[13]++;return this._map.has(this._fnHash(n))}values(){b.f[9]++;b.s[14]++;return Array.from(this._map.values())}valueIterator(){b.f[10]++;b.s[15]++;return this._map.values()}[Symbol.iterator](){b.f[11]++;b.s[16]++;return this.valueIterator()}get length(){b.f[12]++;b.s[17]++;return this._map.size}isEmpty(){b.f[13]++;b.s[18]++;return 0===this._map.size}}b.s[19]++;Class.register(HashSet);var p=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/array/LimitIterable.js",e="d332836f05e3bcf82de4536bd13c2be7005d6a48",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/array/LimitIterable.js",statementMap:{0:{start:{line:12,column:8},end:{line:12,column:74}},1:{start:{line:14,column:8},end:{line:14,column:28}},2:{start:{line:21,column:8},end:{line:21,column:67}},3:{start:{line:31,column:20},end:{line:31,column:21}},4:{start:{line:32,column:8},end:{line:41,column:10}},5:{start:{line:34,column:29},end:{line:34,column:45}},6:{start:{line:35,column:29},end:{line:35,column:44}},7:{start:{line:36,column:16},end:{line:39,column:18}},8:{start:{line:44,column:0},end:{line:44,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:4},end:{line:10,column:5}},loc:{start:{line:10,column:27},end:{line:15,column:5}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:20,column:4},end:{line:20,column:5}},loc:{start:{line:20,column:24},end:{line:22,column:5}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:30,column:4},end:{line:30,column:5}},loc:{start:{line:30,column:37},end:{line:42,column:5}},line:30},3:{name:"(anonymous_3)",decl:{start:{line:33,column:18},end:{line:33,column:19}},loc:{start:{line:33,column:24},end:{line:40,column:13}},line:33}},branchMap:{0:{loc:{start:{line:12,column:25},end:{line:12,column:73}},type:"cond-expr",locations:[{start:{line:12,column:47},end:{line:12,column:68}},{start:{line:12,column:71},end:{line:12,column:73}}],line:12},1:{loc:{start:{line:37,column:27},end:{line:37,column:56}},type:"cond-expr",locations:[{start:{line:37,column:34},end:{line:37,column:43}},{start:{line:37,column:46},end:{line:37,column:56}}],line:37},2:{loc:{start:{line:38,column:26},end:{line:38,column:43}},type:"binary-expr",locations:[{start:{line:38,column:26},end:{line:38,column:30}},{start:{line:38,column:34},end:{line:38,column:43}}],line:38}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class LimitIterable{constructor(n,e){p.f[0]++;p.s[0]++;this._iterator=n[Symbol.iterator]?(p.b[0][0]++,n[Symbol.iterator]()):(p.b[0][1]++,n);p.s[1]++;this._limit=e}[Symbol.iterator](){p.f[1]++;p.s[2]++;return LimitIterable.iterator(this._iterator,this._limit)}static iterator(n,e){p.f[2]++;let l=(p.s[3]++,0);p.s[4]++;return{next:()=>{p.f[3]++;const t=(p.s[5]++,l++>=e),o=(p.s[6]++,n.next());p.s[7]++;return{value:t?(p.b[1][0]++,undefined):(p.b[1][1]++,o.value),done:(p.b[2][0]++,t)||(p.b[2][1]++,o.done)}}}}}p.s[8]++;Class.register(LimitIterable);var g=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/array/Queue.js",e="a220d0c7649b8b19e05d137ad5a9470e2df7c913",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/array/Queue.js",statementMap:{0:{start:{line:13,column:8},end:{line:13,column:25}},1:{start:{line:19,column:8},end:{line:19,column:45}},2:{start:{line:28,column:8},end:{line:28,column:52}},3:{start:{line:28,column:43},end:{line:28,column:52}},4:{start:{line:29,column:8},end:{line:29,column:56}},5:{start:{line:37,column:8},end:{line:37,column:32}},6:{start:{line:45,column:8},end:{line:45,column:35}},7:{start:{line:52,column:8},end:{line:52,column:35}},8:{start:{line:59,column:8},end:{line:59,column:30}},9:{start:{line:67,column:21},end:{line:67,column:40}},10:{start:{line:68,column:8},end:{line:72,column:9}},11:{start:{line:69,column:12},end:{line:71,column:13}},12:{start:{line:70,column:16},end:{line:70,column:25}},13:{start:{line:73,column:8},end:{line:73,column:18}},14:{start:{line:81,column:22},end:{line:81,column:41}},15:{start:{line:82,column:8},end:{line:84,column:9}},16:{start:{line:83,column:12},end:{line:83,column:41}},17:{start:{line:92,column:8},end:{line:92,column:44}},18:{start:{line:100,column:22},end:{line:100,column:41}},19:{start:{line:101,column:8},end:{line:103,column:9}},20:{start:{line:102,column:12},end:{line:102,column:52}},21:{start:{line:104,column:8},end:{line:104,column:18}},22:{start:{line:111,column:8},end:{line:111,column:25}},23:{start:{line:118,column:8},end:{line:118,column:27}},24:{start:{line:125,column:8},end:{line:125,column:33}},25:{start:{line:130,column:8},end:{line:130,column:34}},26:{start:{line:133,column:0},end:{line:133,column:22}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:4},end:{line:8,column:5}},loc:{start:{line:8,column:24},end:{line:20,column:5}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:27,column:4},end:{line:27,column:5}},loc:{start:{line:27,column:20},end:{line:30,column:5}},line:27},2:{name:"(anonymous_2)",decl:{start:{line:36,column:4},end:{line:36,column:5}},loc:{start:{line:36,column:19},end:{line:38,column:5}},line:36},3:{name:"(anonymous_3)",decl:{start:{line:44,column:4},end:{line:44,column:5}},loc:{start:{line:44,column:24},end:{line:46,column:5}},line:44},4:{name:"(anonymous_4)",decl:{start:{line:51,column:4},end:{line:51,column:5}},loc:{start:{line:51,column:14},end:{line:53,column:5}},line:51},5:{name:"(anonymous_5)",decl:{start:{line:58,column:4},end:{line:58,column:5}},loc:{start:{line:58,column:11},end:{line:60,column:5}},line:58},6:{name:"(anonymous_6)",decl:{start:{line:66,column:4},end:{line:66,column:5}},loc:{start:{line:66,column:19},end:{line:74,column:5}},line:66},7:{name:"(anonymous_7)",decl:{start:{line:80,column:4},end:{line:80,column:5}},loc:{start:{line:80,column:18},end:{line:85,column:5}},line:80},8:{name:"(anonymous_8)",decl:{start:{line:91,column:4},end:{line:91,column:5}},loc:{start:{line:91,column:24},end:{line:93,column:5}},line:91},9:{name:"(anonymous_9)",decl:{start:{line:99,column:4},end:{line:99,column:5}},loc:{start:{line:99,column:24},end:{line:105,column:5}},line:99},10:{name:"(anonymous_10)",decl:{start:{line:110,column:4},end:{line:110,column:5}},loc:{start:{line:110,column:12},end:{line:112,column:5}},line:110},11:{name:"(anonymous_11)",decl:{start:{line:117,column:4},end:{line:117,column:5}},loc:{start:{line:117,column:13},end:{line:119,column:5}},line:117},12:{name:"(anonymous_12)",decl:{start:{line:124,column:4},end:{line:124,column:5}},loc:{start:{line:124,column:14},end:{line:126,column:5}},line:124},13:{name:"(anonymous_13)",decl:{start:{line:129,column:4},end:{line:129,column:5}},loc:{start:{line:129,column:17},end:{line:131,column:5}},line:129}},branchMap:{0:{loc:{start:{line:19,column:23},end:{line:19,column:44}},type:"binary-expr",locations:[{start:{line:19,column:23},end:{line:19,column:29}},{start:{line:19,column:33},end:{line:19,column:44}}],line:19},1:{loc:{start:{line:28,column:8},end:{line:28,column:52}},type:"if",locations:[{start:{line:28,column:8},end:{line:28,column:52}},{start:{line:28,column:8},end:{line:28,column:52}}],line:28},2:{loc:{start:{line:28,column:12},end:{line:28,column:41}},type:"binary-expr",locations:[{start:{line:28,column:12},end:{line:28,column:22}},{start:{line:28,column:26},end:{line:28,column:41}}],line:28},3:{loc:{start:{line:29,column:15},end:{line:29,column:55}},type:"cond-expr",locations:[{start:{line:29,column:28},end:{line:29,column:40}},{start:{line:29,column:43},end:{line:29,column:55}}],line:29},4:{loc:{start:{line:69,column:12},end:{line:71,column:13}},type:"if",locations:[{start:{line:69,column:12},end:{line:71,column:13}},{start:{line:69,column:12},end:{line:71,column:13}}],line:69},5:{loc:{start:{line:82,column:8},end:{line:84,column:9}},type:"if",locations:[{start:{line:82,column:8},end:{line:84,column:9}},{start:{line:82,column:8},end:{line:84,column:9}}],line:82},6:{loc:{start:{line:101,column:8},end:{line:103,column:9}},type:"if",locations:[{start:{line:101,column:8},end:{line:103,column:9}},{start:{line:101,column:8},end:{line:103,column:9}}],line:101}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Queue{constructor(n){g.f[0]++;g.s[0]++;this._queue=[];g.s[1]++;this._fnHash=(g.b[0][0]++,n)||(g.b[0][1]++,Queue._hash)}static _hash(n){g.f[1]++;g.s[2]++;if((g.b[2][0]++,null===n)||(g.b[2][1]++,n===undefined)){g.b[1][0]++;g.s[3]++;return n}g.b[1][1]++;g.s[4]++;return n.hashCode?(g.b[3][0]++,n.hashCode()):(g.b[3][1]++,n.toString())}enqueue(n){g.f[2]++;g.s[5]++;this._queue.push(n)}enqueueFirst(n){g.f[3]++;g.s[6]++;this._queue.unshift(n)}dequeue(){g.f[4]++;g.s[7]++;return this._queue.shift()}peek(){g.f[5]++;g.s[8]++;return this._queue[0]}indexOf(n){g.f[6]++;const e=(g.s[9]++,this._fnHash(n));g.s[10]++;for(let l=0;l<this._queue.length;++l){g.s[11]++;if(e===this._fnHash(this._queue[l])){g.b[4][0]++;g.s[12]++;return l}g.b[4][1]++}g.s[13]++;return-1}remove(n){g.f[7]++;const e=(g.s[14]++,this.indexOf(n));g.s[15]++;if(e>-1){g.b[5][0]++;g.s[16]++;this._queue.splice(e,1)}else g.b[5][1]++}dequeueMulti(n){g.f[8]++;g.s[17]++;return this._queue.splice(0,n)}dequeueUntil(n){g.f[9]++;const e=(g.s[18]++,this.indexOf(n));g.s[19]++;if(e>-1){g.b[6][0]++;g.s[20]++;return this._queue.splice(0,e+1)}g.b[6][1]++;g.s[21]++;return[]}clear(){g.f[10]++;g.s[22]++;this._queue=[]}values(){g.f[11]++;g.s[23]++;return this._queue}isEmpty(){g.f[12]++;g.s[24]++;return 0===this.length}get length(){g.f[13]++;g.s[25]++;return this._queue.length}}g.s[26]++;Class.register(Queue);var A=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/array/UniqueQueue.js",e="9685501669d3a4953e1f4c947e5bd7aa7ccb4e06",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/array/UniqueQueue.js",statementMap:{0:{start:{line:9,column:8},end:{line:9,column:22}},1:{start:{line:10,column:8},end:{line:10,column:30}},2:{start:{line:19,column:8},end:{line:19,column:29}},3:{start:{line:20,column:8},end:{line:20,column:43}},4:{start:{line:29,column:8},end:{line:29,column:34}},5:{start:{line:30,column:8},end:{line:30,column:43}},6:{start:{line:39,column:25},end:{line:39,column:44}},7:{start:{line:40,column:8},end:{line:40,column:44}},8:{start:{line:40,column:37},end:{line:40,column:44}},9:{start:{line:42,column:8},end:{line:42,column:29}},10:{start:{line:43,column:8},end:{line:43,column:32}},11:{start:{line:52,column:8},end:{line:54,column:9}},12:{start:{line:53,column:12},end:{line:53,column:38}},13:{start:{line:62,column:22},end:{line:62,column:37}},14:{start:{line:63,column:8},end:{line:63,column:46}},15:{start:{line:64,column:8},end:{line:64,column:21}},16:{start:{line:73,column:8},end:{line:73,column:28}},17:{start:{line:74,column:8},end:{line:74,column:46}},18:{start:{line:83,column:23},end:{line:83,column:48}},19:{start:{line:84,column:8},end:{line:86,column:9}},20:{start:{line:85,column:12},end:{line:85,column:50}},21:{start:{line:87,column:8},end:{line:87,column:22}},22:{start:{line:96,column:23},end:{line:96,column:48}},23:{start:{line:97,column:8},end:{line:99,column:9}},24:{start:{line:98,column:12},end:{line:98,column:48}},25:{start:{line:100,column:8},end:{line:100,column:22}},26:{start:{line:103,column:0},end:{line:103,column:28}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:4},end:{line:8,column:5}},loc:{start:{line:8,column:24},end:{line:11,column:5}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:18,column:4},end:{line:18,column:5}},loc:{start:{line:18,column:19},end:{line:21,column:5}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:28,column:4},end:{line:28,column:5}},loc:{start:{line:28,column:24},end:{line:31,column:5}},line:28},3:{name:"(anonymous_3)",decl:{start:{line:38,column:4},end:{line:38,column:5}},loc:{start:{line:38,column:25},end:{line:44,column:5}},line:38},4:{name:"(anonymous_4)",decl:{start:{line:51,column:4},end:{line:51,column:5}},loc:{start:{line:51,column:26},end:{line:55,column:5}},line:51},5:{name:"(anonymous_5)",decl:{start:{line:61,column:4},end:{line:61,column:5}},loc:{start:{line:61,column:14},end:{line:65,column:5}},line:61},6:{name:"(anonymous_6)",decl:{start:{line:72,column:4},end:{line:72,column:5}},loc:{start:{line:72,column:18},end:{line:75,column:5}},line:72},7:{name:"(anonymous_7)",decl:{start:{line:82,column:4},end:{line:82,column:5}},loc:{start:{line:82,column:24},end:{line:88,column:5}},line:82},8:{name:"(anonymous_8)",decl:{start:{line:95,column:4},end:{line:95,column:5}},loc:{start:{line:95,column:24},end:{line:101,column:5}},line:95}},branchMap:{0:{loc:{start:{line:40,column:8},end:{line:40,column:44}},type:"if",locations:[{start:{line:40,column:8},end:{line:40,column:44}},{start:{line:40,column:8},end:{line:40,column:44}}],line:40}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class UniqueQueue extends Queue{constructor(n){A.f[0]++;A.s[0]++;super(n);A.s[1]++;this._set=new Set}enqueue(n){A.f[1]++;A.s[2]++;super.enqueue(n);A.s[3]++;this._set.add(this._fnHash(n))}enqueueFirst(n){A.f[2]++;A.s[4]++;super.enqueueFirst(n);A.s[5]++;this._set.add(this._fnHash(n))}enqueueUnique(n){A.f[3]++;const e=(A.s[6]++,this._fnHash(n));A.s[7]++;if(this._set.has(e)){A.b[0][0]++;A.s[8]++}else{A.b[0][1]++;A.s[9]++;super.enqueue(n);A.s[10]++;this._set.add(e)}}enqueueAllNew(n){A.f[4]++;A.s[11]++;for(const e of n){A.s[12]++;this.enqueueUnique(e)}}dequeue(){A.f[5]++;const n=(A.s[13]++,super.dequeue());A.s[14]++;this._set["delete"](this._fnHash(n));A.s[15]++;return n}remove(n){A.f[6]++;A.s[16]++;super.remove(n);A.s[17]++;this._set["delete"](this._fnHash(n))}dequeueMulti(n){A.f[7]++;const e=(A.s[18]++,super.dequeueMulti(n));A.s[19]++;for(const l of e){A.s[20]++;this._set["delete"](this._fnHash(l))}A.s[21]++;return e}dequeueUntil(n){A.f[8]++;const e=(A.s[22]++,super.dequeueUntil(n));A.s[23]++;for(const l of e){A.s[24]++;this._set["delete"](this._fnHash(l))}A.s[25]++;return e}}A.s[26]++;Class.register(UniqueQueue);var w=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/array/ThrottledQueue.js",e="f8158ba0543be30b1a87cc187bce127846f3b7c9",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/array/ThrottledQueue.js",statementMap:{0:{start:{line:10,column:8},end:{line:10,column:16}},1:{start:{line:11,column:8},end:{line:11,column:32}},2:{start:{line:12,column:8},end:{line:12,column:36}},3:{start:{line:13,column:8},end:{line:13,column:45}},4:{start:{line:15,column:8},end:{line:15,column:36}},5:{start:{line:16,column:8},end:{line:19,column:30}},6:{start:{line:17,column:12},end:{line:17,column:94}},7:{start:{line:18,column:12},end:{line:18,column:99}},8:{start:{line:18,column:79},end:{line:18,column:99}},9:{start:{line:23,column:8},end:{line:23,column:32}},10:{start:{line:27,column:8},end:{line:27,column:49}},11:{start:{line:27,column:42},end:{line:27,column:49}},12:{start:{line:28,column:8},end:{line:28,column:29}},13:{start:{line:32,column:8},end:{line:32,column:34}},14:{start:{line:33,column:8},end:{line:33,column:59}},15:{start:{line:33,column:41},end:{line:33,column:59}},16:{start:{line:37,column:8},end:{line:40,column:9}},17:{start:{line:38,column:12},end:{line:38,column:33}},18:{start:{line:39,column:12},end:{line:39,column:35}},19:{start:{line:41,column:8},end:{line:41,column:20}},20:{start:{line:49,column:8},end:{line:49,column:48}},21:{start:{line:50,column:8},end:{line:50,column:36}},22:{start:{line:51,column:8},end:{line:51,column:41}},23:{start:{line:58,column:8},end:{line:58,column:34}},24:{start:{line:62,column:8},end:{line:62,column:57}},25:{start:{line:66,column:0},end:{line:66,column:31}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:4},end:{line:9,column:5}},loc:{start:{line:9,column:161},end:{line:20,column:5}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:16,column:46},end:{line:16,column:47}},loc:{start:{line:16,column:52},end:{line:19,column:9}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:22,column:4},end:{line:22,column:5}},loc:{start:{line:22,column:11},end:{line:24,column:5}},line:22},3:{name:"(anonymous_3)",decl:{start:{line:26,column:4},end:{line:26,column:5}},loc:{start:{line:26,column:19},end:{line:29,column:5}},line:26},4:{name:"(anonymous_4)",decl:{start:{line:31,column:4},end:{line:31,column:5}},loc:{start:{line:31,column:24},end:{line:34,column:5}},line:31},5:{name:"(anonymous_5)",decl:{start:{line:36,column:4},end:{line:36,column:5}},loc:{start:{line:36,column:14},end:{line:42,column:5}},line:36},6:{name:"(anonymous_6)",decl:{start:{line:48,column:4},end:{line:48,column:5}},loc:{start:{line:48,column:24},end:{line:52,column:5}},line:48},7:{name:"(anonymous_7)",decl:{start:{line:57,column:4},end:{line:57,column:5}},loc:{start:{line:57,column:18},end:{line:59,column:5}},line:57},8:{name:"(anonymous_8)",decl:{start:{line:61,column:4},end:{line:61,column:5}},loc:{start:{line:61,column:20},end:{line:63,column:5}},line:61}},branchMap:{0:{loc:{start:{line:9,column:16},end:{line:9,column:52}},type:"default-arg",locations:[{start:{line:9,column:28},end:{line:9,column:52}}],line:9},1:{loc:{start:{line:9,column:54},end:{line:9,column:78}},type:"default-arg",locations:[{start:{line:9,column:69},end:{line:9,column:78}}],line:9},2:{loc:{start:{line:9,column:80},end:{line:9,column:104}},type:"default-arg",locations:[{start:{line:9,column:100},end:{line:9,column:104}}],line:9},3:{loc:{start:{line:9,column:106},end:{line:9,column:140}},type:"default-arg",locations:[{start:{line:9,column:116},end:{line:9,column:140}}],line:9},4:{loc:{start:{line:18,column:12},end:{line:18,column:99}},type:"if",locations:[{start:{line:18,column:12},end:{line:18,column:99}},{start:{line:18,column:12},end:{line:18,column:99}}],line:18},5:{loc:{start:{line:18,column:16},end:{line:18,column:77}},type:"binary-expr",locations:[{start:{line:18,column:16},end:{line:18,column:55}},{start:{line:18,column:59},end:{line:18,column:77}}],line:18},6:{loc:{start:{line:27,column:8},end:{line:27,column:49}},type:"if",locations:[{start:{line:27,column:8},end:{line:27,column:49}},{start:{line:27,column:8},end:{line:27,column:49}}],line:27},7:{loc:{start:{line:33,column:8},end:{line:33,column:59}},type:"if",locations:[{start:{line:33,column:8},end:{line:33,column:59}},{start:{line:33,column:8},end:{line:33,column:59}}],line:33},8:{loc:{start:{line:37,column:8},end:{line:40,column:9}},type:"if",locations:[{start:{line:37,column:8},end:{line:40,column:9}},{start:{line:37,column:8},end:{line:40,column:9}}],line:37}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0],1:[0],2:[0],3:[0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class ThrottledQueue extends UniqueQueue{constructor(n=(w.b[0][0]++,Number.POSITIVE_INFINITY),e=(w.b[1][0]++,n),l=(w.b[2][0]++,1e3),t=(w.b[3][0]++,Number.POSITIVE_INFINITY),o){w.f[0]++;w.s[0]++;super();w.s[1]++;this._maxSize=t;w.s[2]++;this._maxAtOnce=n;w.s[3]++;this._availableNow=this._maxAtOnce;w.s[4]++;this._timers=new Timers;w.s[5]++;this._timers.setInterval("allowance",()=>{w.f[1]++;w.s[6]++;this._availableNow=Math.min(this._maxAtOnce,this._availableNow+e);w.s[7]++;if((w.b[5][0]++,"function"==typeof o)&&(w.b[5][1]++,this.isAvailable())){w.b[4][0]++;w.s[8]++;o()}else w.b[4][1]++},l)}stop(){w.f[2]++;w.s[9]++;this._timers.clearAll()}enqueue(n){w.f[3]++;w.s[10]++;if(this.length>=this._maxSize){w.b[6][0]++;w.s[11]++}else{w.b[6][1]++;w.s[12]++;super.enqueue(n)}}enqueueFirst(n){w.f[4]++;w.s[13]++;super.enqueueFirst(n);w.s[14]++;if(this.length>this._maxSize){w.b[7][0]++;w.s[15]++;this._queue.pop()}else w.b[7][1]++}dequeue(){w.f[5]++;w.s[16]++;if(this.available>0){w.b[8][0]++;w.s[17]++;this._availableNow--;w.s[18]++;return super.dequeue()}w.b[8][1]++;w.s[19]++;return null}dequeueMulti(n){w.f[6]++;w.s[20]++;n=Math.min(this.available,n);w.s[21]++;this._availableNow-=n;w.s[22]++;return super.dequeueMulti(n)}isAvailable(){w.f[7]++;w.s[23]++;return this.available>0}get available(){w.f[8]++;w.s[24]++;return Math.min(this._availableNow,this.length)}}w.s[25]++;Class.register(ThrottledQueue);var C=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/array/SortedList.js",e="eaa9cd5ae39cb2a6ed2ee1dcab451181799a14f9",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/array/SortedList.js",statementMap:{0:{start:{line:3,column:8},end:{line:3,column:32}},1:{start:{line:4,column:8},end:{line:4,column:55}},2:{start:{line:8,column:8},end:{line:8,column:73}},3:{start:{line:12,column:16},end:{line:12,column:17}},4:{start:{line:12,column:23},end:{line:12,column:44}},5:{start:{line:13,column:27},end:{line:13,column:31}},6:{start:{line:14,column:29},end:{line:14,column:33}},7:{start:{line:16,column:8},end:{line:29,column:9}},8:{start:{line:17,column:12},end:{line:17,column:51}},9:{start:{line:18,column:12},end:{line:18,column:54}},10:{start:{line:20,column:12},end:{line:28,column:13}},11:{start:{line:21,column:16},end:{line:21,column:37}},12:{start:{line:23,column:17},end:{line:28,column:13}},13:{start:{line:24,column:16},end:{line:24,column:37}},14:{start:{line:27,column:16},end:{line:27,column:36}},15:{start:{line:31,column:8},end:{line:31,column:18}},16:{start:{line:35,column:16},end:{line:35,column:17}},17:{start:{line:35,column:23},end:{line:35,column:44}},18:{start:{line:36,column:27},end:{line:36,column:31}},19:{start:{line:37,column:29},end:{line:37,column:33}},20:{start:{line:39,column:8},end:{line:52,column:9}},21:{start:{line:40,column:12},end:{line:40,column:51}},22:{start:{line:41,column:12},end:{line:41,column:54}},23:{start:{line:43,column:12},end:{line:51,column:13}},24:{start:{line:44,column:16},end:{line:44,column:37}},25:{start:{line:46,column:17},end:{line:51,column:13}},26:{start:{line:47,column:16},end:{line:47,column:37}},27:{start:{line:50,column:16},end:{line:50,column:22}},28:{start:{line:54,column:8},end:{line:54,column:17}},29:{start:{line:58,column:8},end:{line:58,column:65}},30:{start:{line:62,column:8},end:{line:62,column:34}},31:{start:{line:66,column:8},end:{line:66,column:32}},32:{start:{line:70,column:8},end:{line:70,column:29}},33:{start:{line:74,column:8},end:{line:74,column:49}},34:{start:{line:78,column:22},end:{line:78,column:41}},35:{start:{line:79,column:8},end:{line:81,column:9}},36:{start:{line:80,column:12},end:{line:80,column:40}},37:{start:{line:85,column:8},end:{line:85,column:24}},38:{start:{line:89,column:8},end:{line:89,column:26}},39:{start:{line:96,column:8},end:{line:96,column:45}},40:{start:{line:100,column:8},end:{line:100,column:65}},41:{start:{line:105,column:8},end:{line:105,column:33}},42:{start:{line:108,column:0},end:{line:108,column:27}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:4},end:{line:2,column:5}},loc:{start:{line:2,column:42},end:{line:5,column:5}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:26},end:{line:9,column:5}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:11,column:4},end:{line:11,column:5}},loc:{start:{line:11,column:15},end:{line:32,column:5}},line:11},3:{name:"(anonymous_3)",decl:{start:{line:34,column:4},end:{line:34,column:5}},loc:{start:{line:34,column:23},end:{line:55,column:5}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:57,column:4},end:{line:57,column:5}},loc:{start:{line:57,column:15},end:{line:59,column:5}},line:57},5:{name:"(anonymous_5)",decl:{start:{line:61,column:4},end:{line:61,column:5}},loc:{start:{line:61,column:12},end:{line:63,column:5}},line:61},6:{name:"(anonymous_6)",decl:{start:{line:65,column:4},end:{line:65,column:5}},loc:{start:{line:65,column:10},end:{line:67,column:5}},line:65},7:{name:"(anonymous_7)",decl:{start:{line:69,column:4},end:{line:69,column:5}},loc:{start:{line:69,column:16},end:{line:71,column:5}},line:69},8:{name:"(anonymous_8)",decl:{start:{line:73,column:4},end:{line:73,column:5}},loc:{start:{line:73,column:15},end:{line:75,column:5}},line:73},9:{name:"(anonymous_9)",decl:{start:{line:77,column:4},end:{line:77,column:5}},loc:{start:{line:77,column:18},end:{line:82,column:5}},line:77},10:{name:"(anonymous_10)",decl:{start:{line:84,column:4},end:{line:84,column:5}},loc:{start:{line:84,column:12},end:{line:86,column:5}},line:84},11:{name:"(anonymous_11)",decl:{start:{line:88,column:4},end:{line:88,column:5}},loc:{start:{line:88,column:13},end:{line:90,column:5}},line:88},12:{name:"(anonymous_12)",decl:{start:{line:95,column:4},end:{line:95,column:5}},loc:{start:{line:95,column:24},end:{line:97,column:5}},line:95},13:{name:"(anonymous_13)",decl:{start:{line:99,column:4},end:{line:99,column:5}},loc:{start:{line:99,column:11},end:{line:101,column:5}},line:99},14:{name:"(anonymous_14)",decl:{start:{line:104,column:4},end:{line:104,column:5}},loc:{start:{line:104,column:17},end:{line:106,column:5}},line:104}},branchMap:{0:{loc:{start:{line:2,column:16},end:{line:2,column:31}},type:"default-arg",locations:[{start:{line:2,column:29},end:{line:2,column:31}}],line:2},1:{loc:{start:{line:4,column:24},end:{line:4,column:54}},type:"binary-expr",locations:[{start:{line:4,column:24},end:{line:4,column:31}},{start:{line:4,column:35},end:{line:4,column:54}}],line:4},2:{loc:{start:{line:8,column:15},end:{line:8,column:72}},type:"cond-expr",locations:[{start:{line:8,column:27},end:{line:8,column:39}},{start:{line:8,column:43},end:{line:8,column:71}}],line:8},3:{loc:{start:{line:8,column:43},end:{line:8,column:71}},type:"cond-expr",locations:[{start:{line:8,column:51},end:{line:8,column:52}},{start:{line:8,column:56},end:{line:8,column:70}}],line:8},4:{loc:{start:{line:8,column:56},end:{line:8,column:70}},type:"cond-expr",locations:[{start:{line:8,column:64},end:{line:8,column:66}},{start:{line:8,column:69},end:{line:8,column:70}}],line:8},5:{loc:{start:{line:20,column:12},end:{line:28,column:13}},type:"if",locations:[{start:{line:20,column:12},end:{line:28,column:13}},{start:{line:20,column:12},end:{line:28,column:13}}],line:20},6:{loc:{start:{line:23,column:17},end:{line:28,column:13}},type:"if",locations:[{start:{line:23,column:17},end:{line:28,column:13}},{start:{line:23,column:17},end:{line:28,column:13}}],line:23},7:{loc:{start:{line:43,column:12},end:{line:51,column:13}},type:"if",locations:[{start:{line:43,column:12},end:{line:51,column:13}},{start:{line:43,column:12},end:{line:51,column:13}}],line:43},8:{loc:{start:{line:46,column:17},end:{line:51,column:13}},type:"if",locations:[{start:{line:46,column:17},end:{line:51,column:13}},{start:{line:46,column:17},end:{line:51,column:13}}],line:46},9:{loc:{start:{line:79,column:8},end:{line:81,column:9}},type:"if",locations:[{start:{line:79,column:8},end:{line:81,column:9}},{start:{line:79,column:8},end:{line:81,column:9}}],line:79}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class SortedList{constructor(n=(C.b[0][0]++,[]),e){C.f[0]++;C.s[0]++;this._list=n;C.s[1]++;this._compare=(C.b[1][0]++,e)||(C.b[1][1]++,SortedList._compare)}static _compare(n,e){C.f[1]++;C.s[2]++;return n.compare?(C.b[2][0]++,n.compare(e)):(C.b[2][1]++,n>e?(C.b[3][0]++,1):(C.b[3][1]++,n<e?(C.b[4][0]++,-1):(C.b[4][1]++,0)))}indexOf(n){C.f[2]++;let e=(C.s[3]++,0),l=(C.s[4]++,this._list.length-1),t=(C.s[5]++,null),o=(C.s[6]++,null);C.s[7]++;for(;e<=l;){C.s[8]++;t=Math.round((e+l)/2);C.s[9]++;o=this._list[t];C.s[10]++;if(this._compare(o,n)<0){C.b[5][0]++;C.s[11]++;e=t+1}else{C.b[5][1]++;C.s[12]++;if(!(this._compare(o,n)>0)){C.b[6][1]++;C.s[14]++;return t}C.b[6][0]++;C.s[13]++;l=t-1}}C.s[15]++;return-1}_insertionIndex(n){C.f[3]++;let e=(C.s[16]++,0),l=(C.s[17]++,this._list.length-1),t=(C.s[18]++,null),o=(C.s[19]++,null);C.s[20]++;for(;e<=l;){C.s[21]++;t=Math.round((e+l)/2);C.s[22]++;o=this._list[t];C.s[23]++;if(this._compare(o,n)<0){C.b[7][0]++;C.s[24]++;e=t+1}else{C.b[7][1]++;C.s[25]++;if(!(this._compare(o,n)>0)){C.b[8][1]++;C.s[27]++;break}C.b[8][0]++;C.s[26]++;l=t-1}}C.s[28]++;return e}add(n){C.f[4]++;C.s[29]++;this._list.splice(this._insertionIndex(n),0,n)}shift(){C.f[5]++;C.s[30]++;return this._list.shift()}pop(){C.f[6]++;C.s[31]++;return this._list.pop()}peekFirst(){C.f[7]++;C.s[32]++;return this._list[0]}peekLast(){C.f[8]++;C.s[33]++;return this._list[this._list.length-1]}remove(n){C.f[9]++;const e=(C.s[34]++,this.indexOf(n));C.s[35]++;if(e>-1){C.b[9][0]++;C.s[36]++;this._list.splice(e,1)}else C.b[9][1]++}clear(){C.f[10]++;C.s[37]++;this._list=[]}values(){C.f[11]++;C.s[38]++;return this._list}[Symbol.iterator](){C.f[12]++;C.s[39]++;return this._list[Symbol.iterator]()}copy(){C.f[13]++;C.s[40]++;return new SortedList(this._list.slice(),this._compare)}get length(){C.f[14]++;C.s[41]++;return this._list.length}}C.s[42]++;Class.register(SortedList);var S=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/assert/Assert.js",e="6daeeb35a33f7619c989c17dfe7086f6c8a5f2a7",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/assert/Assert.js",statementMap:{0:{start:{line:8,column:8},end:{line:10,column:9}},1:{start:{line:9,column:12},end:{line:9,column:37}},2:{start:{line:13,column:0},end:{line:13,column:23}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:57},end:{line:11,column:5}},line:7}},branchMap:{0:{loc:{start:{line:7,column:27},end:{line:7,column:55}},type:"default-arg",locations:[{start:{line:7,column:37},end:{line:7,column:55}}],line:7},1:{loc:{start:{line:8,column:8},end:{line:10,column:9}},type:"if",locations:[{start:{line:8,column:8},end:{line:10,column:9}},{start:{line:8,column:8},end:{line:10,column:9}}],line:8}},s:{0:0,1:0,2:0},f:{0:0},b:{0:[0],1:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Assert{static that(n,e=(S.b[0][0]++,"Assertion failed")){S.f[0]++;S.s[0]++;if(!n){S.b[1][0]++;S.s[1]++;throw new Error(e)}S.b[1][1]++}}S.s[2]++;Class.register(Assert);var E=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/buffer/BufferUtils.js",e="06c77d34028fb5cf8dd76c4cd7964f04917947bb",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/buffer/BufferUtils.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:71}},1:{start:{line:15,column:20},end:{line:15,column:49}},2:{start:{line:16,column:8},end:{line:18,column:9}},3:{start:{line:17,column:12},end:{line:17,column:42}},4:{start:{line:19,column:8},end:{line:19,column:19}},5:{start:{line:23,column:8},end:{line:23,column:93}},6:{start:{line:23,column:48},end:{line:23,column:93}},7:{start:{line:24,column:8},end:{line:24,column:115}},8:{start:{line:24,column:55},end:{line:24,column:115}},9:{start:{line:25,column:8},end:{line:31,column:9}},10:{start:{line:26,column:12},end:{line:30,column:13}},11:{start:{line:27,column:16},end:{line:27,column:82}},12:{start:{line:29,column:16},end:{line:29,column:56}},13:{start:{line:32,column:8},end:{line:34,column:85}},14:{start:{line:38,column:8},end:{line:38,column:194}},15:{start:{line:43,column:23},end:{line:43,column:25}},16:{start:{line:44,column:8},end:{line:47,column:9}},17:{start:{line:45,column:12},end:{line:45,column:96}},18:{start:{line:46,column:12},end:{line:46,column:59}},19:{start:{line:48,column:8},end:{line:48,column:31}},20:{start:{line:53,column:20},end:{line:53,column:29}},21:{start:{line:54,column:27},end:{line:54,column:34}},22:{start:{line:55,column:21},end:{line:55,column:23}},23:{start:{line:56,column:22},end:{line:56,column:24}},24:{start:{line:57,column:31},end:{line:57,column:36}},25:{start:{line:60,column:8},end:{line:62,column:9}},26:{start:{line:61,column:12},end:{line:61,column:121}},27:{start:{line:65,column:8},end:{line:76,column:9}},28:{start:{line:66,column:12},end:{line:66,column:30}},29:{start:{line:67,column:12},end:{line:67,column:59}},30:{start:{line:68,column:12},end:{line:68,column:68}},31:{start:{line:69,column:12},end:{line:69,column:27}},32:{start:{line:70,column:15},end:{line:76,column:9}},33:{start:{line:71,column:12},end:{line:71,column:53}},34:{start:{line:72,column:12},end:{line:72,column:60}},35:{start:{line:73,column:12},end:{line:73,column:68}},36:{start:{line:74,column:12},end:{line:74,column:68}},37:{start:{line:75,column:12},end:{line:75,column:26}},38:{start:{line:78,column:8},end:{line:78,column:27}},39:{start:{line:80,column:8},end:{line:80,column:30}},40:{start:{line:88,column:8},end:{line:96,column:9}},41:{start:{line:89,column:12},end:{line:89,column:57}},42:{start:{line:90,column:15},end:{line:96,column:9}},43:{start:{line:91,column:12},end:{line:95,column:13}},44:{start:{line:92,column:16},end:{line:92,column:87}},45:{start:{line:98,column:8},end:{line:98,column:72}},46:{start:{line:106,column:8},end:{line:106,column:85}},47:{start:{line:106,column:67},end:{line:106,column:82}},48:{start:{line:114,column:8},end:{line:114,column:103}},49:{start:{line:122,column:8},end:{line:122,column:143}},50:{start:{line:122,column:125},end:{line:122,column:140}},51:{start:{line:131,column:20},end:{line:131,column:21}},52:{start:{line:131,column:31},end:{line:131,column:32}},53:{start:{line:131,column:57},end:{line:131,column:59}},54:{start:{line:133,column:8},end:{line:147,column:9}},55:{start:{line:134,column:12},end:{line:134,column:26}},56:{start:{line:135,column:12},end:{line:135,column:45}},57:{start:{line:136,column:12},end:{line:136,column:43}},58:{start:{line:138,column:12},end:{line:142,column:13}},59:{start:{line:139,column:16},end:{line:139,column:27}},60:{start:{line:140,column:16},end:{line:140,column:39}},61:{start:{line:141,column:16},end:{line:141,column:47}},62:{start:{line:144,column:12},end:{line:144,column:30}},63:{start:{line:145,column:12},end:{line:145,column:34}},64:{start:{line:146,column:12},end:{line:146,column:30}},65:{start:{line:149,column:8},end:{line:151,column:9}},66:{start:{line:150,column:12},end:{line:150,column:42}},67:{start:{line:153,column:8},end:{line:155,column:9}},68:{start:{line:154,column:12},end:{line:154,column:32}},69:{start:{line:157,column:8},end:{line:157,column:19}},70:{start:{line:166,column:24},end:{line:166,column:26}},71:{start:{line:167,column:8},end:{line:169,column:11}},72:{start:{line:168,column:12},end:{line:168,column:48}},73:{start:{line:168,column:33},end:{line:168,column:48}},74:{start:{line:171,column:28},end:{line:171,column:29}},75:{start:{line:171,column:39},end:{line:171,column:40}},76:{start:{line:171,column:48},end:{line:171,column:50}},77:{start:{line:172,column:8},end:{line:190,column:11}},78:{start:{line:174,column:12},end:{line:174,column:72}},79:{start:{line:174,column:65},end:{line:174,column:72}},80:{start:{line:176,column:12},end:{line:176,column:42}},81:{start:{line:178,column:12},end:{line:178,column:23}},82:{start:{line:179,column:12},end:{line:189,column:13}},83:{start:{line:180,column:16},end:{line:180,column:41}},84:{start:{line:181,column:19},end:{line:189,column:13}},85:{start:{line:182,column:16},end:{line:182,column:53}},86:{start:{line:183,column:16},end:{line:183,column:27}},87:{start:{line:184,column:16},end:{line:184,column:49}},88:{start:{line:186,column:16},end:{line:186,column:41}},89:{start:{line:187,column:16},end:{line:187,column:26}},90:{start:{line:188,column:16},end:{line:188,column:26}},91:{start:{line:192,column:8},end:{line:194,column:9}},92:{start:{line:193,column:12},end:{line:193,column:28}},93:{start:{line:196,column:8},end:{line:196,column:35}},94:{start:{line:204,column:18},end:{line:204,column:20}},95:{start:{line:205,column:8},end:{line:209,column:9}},96:{start:{line:206,column:25},end:{line:206,column:34}},97:{start:{line:207,column:12},end:{line:207,column:56}},98:{start:{line:208,column:12},end:{line:208,column:57}},99:{start:{line:210,column:8},end:{line:210,column:19}},100:{start:{line:218,column:8},end:{line:218,column:25}},101:{start:{line:219,column:8},end:{line:219,column:54}},102:{start:{line:219,column:42},end:{line:219,column:54}},103:{start:{line:220,column:8},end:{line:220,column:103}},104:{start:{line:220,column:82},end:{line:220,column:100}},105:{start:{line:230,column:18},end:{line:230,column:58}},106:{start:{line:231,column:8},end:{line:231,column:20}},107:{start:{line:232,column:8},end:{line:232,column:27}},108:{start:{line:233,column:8},end:{line:233,column:17}},109:{start:{line:242,column:8},end:{line:242,column:48}},110:{start:{line:242,column:35},end:{line:242,column:48}},111:{start:{line:243,column:22},end:{line:243,column:39}},112:{start:{line:244,column:22},end:{line:244,column:39}},113:{start:{line:245,column:8},end:{line:247,column:9}},114:{start:{line:246,column:12},end:{line:246,column:52}},115:{start:{line:246,column:39},end:{line:246,column:52}},116:{start:{line:248,column:8},end:{line:248,column:20}},117:{start:{line:257,column:8},end:{line:257,column:43}},118:{start:{line:257,column:33},end:{line:257,column:43}},119:{start:{line:258,column:8},end:{line:258,column:42}},120:{start:{line:258,column:33},end:{line:258,column:42}},121:{start:{line:259,column:8},end:{line:262,column:9}},122:{start:{line:260,column:12},end:{line:260,column:39}},123:{start:{line:260,column:29},end:{line:260,column:39}},124:{start:{line:261,column:12},end:{line:261,column:38}},125:{start:{line:261,column:29},end:{line:261,column:38}},126:{start:{line:263,column:8},end:{line:263,column:17}},127:{start:{line:272,column:20},end:{line:272,column:48}},128:{start:{line:273,column:8},end:{line:275,column:9}},129:{start:{line:274,column:12},end:{line:274,column:33}},130:{start:{line:276,column:8},end:{line:276,column:19}},131:{start:{line:279,column:0},end:{line:279,column:97}},132:{start:{line:280,column:0},end:{line:284,column:2}},133:{start:{line:285,column:0},end:{line:285,column:46}},134:{start:{line:286,column:0},end:{line:286,column:32}},135:{start:{line:287,column:0},end:{line:289,column:1}},136:{start:{line:288,column:4},end:{line:288,column:67}},137:{start:{line:291,column:0},end:{line:291,column:28}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:27},end:{line:8,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:14,column:4},end:{line:14,column:5}},loc:{start:{line:14,column:29},end:{line:20,column:5}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:22,column:4},end:{line:22,column:5}},loc:{start:{line:22,column:37},end:{line:35,column:5}},line:22},3:{name:"(anonymous_3)",decl:{start:{line:37,column:4},end:{line:37,column:5}},loc:{start:{line:37,column:33},end:{line:39,column:5}},line:37},4:{name:"(anonymous_4)",decl:{start:{line:41,column:4},end:{line:41,column:5}},loc:{start:{line:41,column:46},end:{line:49,column:5}},line:41},5:{name:"(anonymous_5)",decl:{start:{line:51,column:4},end:{line:51,column:5}},loc:{start:{line:51,column:36},end:{line:81,column:5}},line:51},6:{name:"(anonymous_6)",decl:{start:{line:87,column:4},end:{line:87,column:5}},loc:{start:{line:87,column:28},end:{line:99,column:5}},line:87},7:{name:"(anonymous_7)",decl:{start:{line:105,column:4},end:{line:105,column:5}},loc:{start:{line:105,column:30},end:{line:107,column:5}},line:105},8:{name:"(anonymous_8)",decl:{start:{line:106,column:62},end:{line:106,column:63}},loc:{start:{line:106,column:67},end:{line:106,column:82}},line:106},9:{name:"(anonymous_9)",decl:{start:{line:113,column:4},end:{line:113,column:5}},loc:{start:{line:113,column:31},end:{line:115,column:5}},line:113},10:{name:"(anonymous_10)",decl:{start:{line:121,column:4},end:{line:121,column:5}},loc:{start:{line:121,column:33},end:{line:123,column:5}},line:121},11:{name:"(anonymous_11)",decl:{start:{line:122,column:120},end:{line:122,column:121}},loc:{start:{line:122,column:125},end:{line:122,column:140}},line:122},12:{name:"(anonymous_12)",decl:{start:{line:130,column:4},end:{line:130,column:5}},loc:{start:{line:130,column:71},end:{line:158,column:5}},line:130},13:{name:"(anonymous_13)",decl:{start:{line:165,column:4},end:{line:165,column:5}},loc:{start:{line:165,column:76},end:{line:197,column:5}},line:165},14:{name:"(anonymous_14)",decl:{start:{line:167,column:49},end:{line:167,column:50}},loc:{start:{line:167,column:59},end:{line:169,column:9}},line:167},15:{name:"(anonymous_15)",decl:{start:{line:172,column:47},end:{line:172,column:48}},loc:{start:{line:172,column:57},end:{line:190,column:9}},line:172},16:{name:"(anonymous_16)",decl:{start:{line:203,column:4},end:{line:203,column:5}},loc:{start:{line:203,column:25},end:{line:211,column:5}},line:203},17:{name:"(anonymous_17)",decl:{start:{line:217,column:4},end:{line:217,column:5}},loc:{start:{line:217,column:24},end:{line:221,column:5}},line:217},18:{name:"(anonymous_18)",decl:{start:{line:220,column:74},end:{line:220,column:75}},loc:{start:{line:220,column:82},end:{line:220,column:100}},line:220},19:{name:"(anonymous_19)",decl:{start:{line:229,column:4},end:{line:229,column:5}},loc:{start:{line:229,column:35},end:{line:234,column:5}},line:229},20:{name:"(anonymous_20)",decl:{start:{line:241,column:4},end:{line:241,column:5}},loc:{start:{line:241,column:24},end:{line:249,column:5}},line:241},21:{name:"(anonymous_21)",decl:{start:{line:256,column:4},end:{line:256,column:5}},loc:{start:{line:256,column:25},end:{line:264,column:5}},line:256},22:{name:"(anonymous_22)",decl:{start:{line:271,column:4},end:{line:271,column:5}},loc:{start:{line:271,column:21},end:{line:277,column:5}},line:271}},branchMap:{0:{loc:{start:{line:23,column:8},end:{line:23,column:93}},type:"if",locations:[{start:{line:23,column:8},end:{line:23,column:93}},{start:{line:23,column:8},end:{line:23,column:93}}],line:23},1:{loc:{start:{line:24,column:8},end:{line:24,column:115}},type:"if",locations:[{start:{line:24,column:8},end:{line:24,column:115}},{start:{line:24,column:8},end:{line:24,column:115}}],line:24},2:{loc:{start:{line:25,column:8},end:{line:31,column:9}},type:"if",locations:[{start:{line:25,column:8},end:{line:31,column:9}},{start:{line:25,column:8},end:{line:31,column:9}}],line:25},3:{loc:{start:{line:61,column:61},end:{line:61,column:118}},type:"cond-expr",locations:[{start:{line:61,column:91},end:{line:61,column:95}},{start:{line:61,column:99},end:{line:61,column:117}}],line:61},4:{loc:{start:{line:65,column:8},end:{line:76,column:9}},type:"if",locations:[{start:{line:65,column:8},end:{line:76,column:9}},{start:{line:65,column:8},end:{line:76,column:9}}],line:65},5:{loc:{start:{line:70,column:15},end:{line:76,column:9}},type:"if",locations:[{start:{line:70,column:15},end:{line:76,column:9}},{start:{line:70,column:15},end:{line:76,column:9}}],line:70},6:{loc:{start:{line:88,column:8},end:{line:96,column:9}},type:"if",locations:[{start:{line:88,column:8},end:{line:96,column:9}},{start:{line:88,column:8},end:{line:96,column:9}}],line:88},7:{loc:{start:{line:90,column:15},end:{line:96,column:9}},type:"if",locations:[{start:{line:90,column:15},end:{line:96,column:9}},{start:{line:90,column:15},end:{line:96,column:9}}],line:90},8:{loc:{start:{line:90,column:19},end:{line:90,column:98}},type:"binary-expr",locations:[{start:{line:90,column:19},end:{line:90,column:53}},{start:{line:90,column:57},end:{line:90,column:98}}],line:90},9:{loc:{start:{line:130,column:25},end:{line:130,column:69}},type:"default-arg",locations:[{start:{line:130,column:36},end:{line:130,column:69}}],line:130},10:{loc:{start:{line:138,column:12},end:{line:142,column:13}},type:"if",locations:[{start:{line:138,column:12},end:{line:142,column:13}},{start:{line:138,column:12},end:{line:142,column:13}}],line:138},11:{loc:{start:{line:149,column:8},end:{line:151,column:9}},type:"if",locations:[{start:{line:149,column:8},end:{line:151,column:9}},{start:{line:149,column:8},end:{line:151,column:9}}],line:149},12:{loc:{start:{line:153,column:15},end:{line:153,column:61}},type:"binary-expr",locations:[{start:{line:153,column:15},end:{line:153,column:35}},{start:{line:153,column:39},end:{line:153,column:61}}],line:153},13:{loc:{start:{line:165,column:30},end:{line:165,column:74}},type:"default-arg",locations:[{start:{line:165,column:41},end:{line:165,column:74}}],line:165},14:{loc:{start:{line:168,column:12},end:{line:168,column:48}},type:"if",locations:[{start:{line:168,column:12},end:{line:168,column:48}},{start:{line:168,column:12},end:{line:168,column:48}}],line:168},15:{loc:{start:{line:174,column:12},end:{line:174,column:72}},type:"if",locations:[{start:{line:174,column:12},end:{line:174,column:72}},{start:{line:174,column:12},end:{line:174,column:72}}],line:174},16:{loc:{start:{line:174,column:16},end:{line:174,column:63}},type:"binary-expr",locations:[{start:{line:174,column:16},end:{line:174,column:38}},{start:{line:174,column:42},end:{line:174,column:63}}],line:174},17:{loc:{start:{line:179,column:12},end:{line:189,column:13}},type:"if",locations:[{start:{line:179,column:12},end:{line:189,column:13}},{start:{line:179,column:12},end:{line:189,column:13}}],line:179},18:{loc:{start:{line:181,column:19},end:{line:189,column:13}},type:"if",locations:[{start:{line:181,column:19},end:{line:189,column:13}},{start:{line:181,column:19},end:{line:189,column:13}}],line:181},19:{loc:{start:{line:192,column:8},end:{line:194,column:9}},type:"if",locations:[{start:{line:192,column:8},end:{line:194,column:9}},{start:{line:192,column:8},end:{line:194,column:9}}],line:192},20:{loc:{start:{line:192,column:12},end:{line:192,column:38}},type:"binary-expr",locations:[{start:{line:192,column:12},end:{line:192,column:23}},{start:{line:192,column:27},end:{line:192,column:38}}],line:192},21:{loc:{start:{line:219,column:8},end:{line:219,column:54}},type:"if",locations:[{start:{line:219,column:8},end:{line:219,column:54}},{start:{line:219,column:8},end:{line:219,column:54}}],line:219},22:{loc:{start:{line:220,column:48},end:{line:220,column:72}},type:"binary-expr",locations:[{start:{line:220,column:48},end:{line:220,column:66}},{start:{line:220,column:70},end:{line:220,column:72}}],line:220},23:{loc:{start:{line:242,column:8},end:{line:242,column:48}},type:"if",locations:[{start:{line:242,column:8},end:{line:242,column:48}},{start:{line:242,column:8},end:{line:242,column:48}}],line:242},24:{loc:{start:{line:246,column:12},end:{line:246,column:52}},type:"if",locations:[{start:{line:246,column:12},end:{line:246,column:52}},{start:{line:246,column:12},end:{line:246,column:52}}],line:246},25:{loc:{start:{line:257,column:8},end:{line:257,column:43}},type:"if",locations:[{start:{line:257,column:8},end:{line:257,column:43}},{start:{line:257,column:8},end:{line:257,column:43}}],line:257},26:{loc:{start:{line:258,column:8},end:{line:258,column:42}},type:"if",locations:[{start:{line:258,column:8},end:{line:258,column:42}},{start:{line:258,column:8},end:{line:258,column:42}}],line:258},27:{loc:{start:{line:260,column:12},end:{line:260,column:39}},type:"if",locations:[{start:{line:260,column:12},end:{line:260,column:39}},{start:{line:260,column:12},end:{line:260,column:39}}],line:260},28:{loc:{start:{line:261,column:12},end:{line:261,column:38}},type:"if",locations:[{start:{line:261,column:12},end:{line:261,column:38}},{start:{line:261,column:12},end:{line:261,column:38}}],line:261}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0],10:[0,0],11:[0,0],12:[0,0],13:[0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class BufferUtils{static toAscii(n){E.f[0]++;E.s[0]++;return String.fromCharCode.apply(null,new Uint8Array(n))}static fromAscii(n){E.f[1]++;const e=(E.s[1]++,new Uint8Array(n.length));E.s[2]++;for(let l=0;l<n.length;++l){E.s[3]++;e[l]=n.charCodeAt(l)}E.s[4]++;return e}static _codePointTextDecoder(n){E.f[2]++;E.s[5]++;if("undefined"==typeof TextDecoder){E.b[0][0]++;E.s[6]++;throw new Error("TextDecoder not supported")}E.b[0][1]++;E.s[7]++;if(null===BufferUtils._ISO_8859_15_DECODER){E.b[1][0]++;E.s[8]++;throw new Error("TextDecoder does not supprot iso-8859-15")}E.b[1][1]++;E.s[9]++;if(BufferUtils._ISO_8859_15_DECODER===undefined){E.b[2][0]++;E.s[10]++;try{E.s[11]++;BufferUtils._ISO_8859_15_DECODER=new TextDecoder("iso-8859-15")}finally{E.s[12]++;BufferUtils._ISO_8859_15_DECODER=null}}else E.b[2][1]++;E.s[13]++;return BufferUtils._ISO_8859_15_DECODER.decode(n).replace("€","¤").replace("Š","¦").replace("š","¨").replace("Ž","´").replace("ž","¸").replace("Œ","¼").replace("œ","½").replace("Ÿ","¾")}static _tripletToBase64(n){E.f[3]++;E.s[14]++;return BufferUtils._BASE64_LOOKUP[n>>18&63]+BufferUtils._BASE64_LOOKUP[n>>12&63]+BufferUtils._BASE64_LOOKUP[n>>6&63]+BufferUtils._BASE64_LOOKUP[63&n]}static _base64encodeChunk(n,e,l){E.f[4]++;let t;const o=(E.s[15]++,[]);E.s[16]++;for(let i=e;i<l;i+=3){E.s[17]++;t=(n[i]<<16&16711680)+(n[i+1]<<8&65280)+(255&n[i+2]);E.s[18]++;o.push(BufferUtils._tripletToBase64(t))}E.s[19]++;return o.join("")}static _base64fromByteArray(n){E.f[5]++;let e;const l=(E.s[20]++,n.length),t=(E.s[21]++,l%3);let o=(E.s[22]++,"");const i=(E.s[23]++,[]),c=(E.s[24]++,16383);E.s[25]++;for(let s=0,u=l-t;s<u;s+=c){E.s[26]++;i.push(BufferUtils._base64encodeChunk(n,s,s+c>u?(E.b[3][0]++,u):(E.b[3][1]++,s+c)))}E.s[27]++;if(1===t){E.b[4][0]++;E.s[28]++;e=n[l-1];E.s[29]++;o+=BufferUtils._BASE64_LOOKUP[e>>2];E.s[30]++;o+=BufferUtils._BASE64_LOOKUP[e<<4&63];E.s[31]++;o+="=="}else{E.b[4][1]++;E.s[32]++;if(2===t){E.b[5][0]++;E.s[33]++;e=(n[l-2]<<8)+n[l-1];E.s[34]++;o+=BufferUtils._BASE64_LOOKUP[e>>10];E.s[35]++;o+=BufferUtils._BASE64_LOOKUP[e>>4&63];E.s[36]++;o+=BufferUtils._BASE64_LOOKUP[e<<2&63];E.s[37]++;o+="="}else E.b[5][1]++}E.s[38]++;i.push(o);E.s[39]++;return i.join("")}static toBase64(n){E.f[6]++;E.s[40]++;if(PlatformUtils.isNodeJs()){E.b[6][0]++;E.s[41]++;return new Buffer(n).toString("base64")}E.b[6][1]++;E.s[42]++;if((E.b[8][0]++,"undefined"!=typeof TextDecoder)&&(E.b[8][1]++,null!==BufferUtils._ISO_8859_15_DECODER)){E.b[7][0]++;E.s[43]++;try{E.s[44]++;return btoa(BufferUtils._codePointTextDecoder(new Uint8Array(n)))}catch(e){}}else E.b[7][1]++;E.s[45]++;return BufferUtils._base64fromByteArray(new Uint8Array(n))}static fromBase64(n){E.f[7]++;E.s[46]++;return new SerialBuffer(Uint8Array.from(atob(n),n=>{E.f[8]++;E.s[47]++;return n.charCodeAt(0)}))}static toBase64Url(n){E.f[9]++;E.s[48]++;return BufferUtils.toBase64(n).replace(/\//g,"_").replace(/\+/g,"-").replace(/=/g,".")}static fromBase64Url(n){E.f[10]++;E.s[49]++;return new SerialBuffer(Uint8Array.from(atob(n.replace(/_/g,"/").replace(/-/g,"+").replace(/\./g,"=")),n=>{E.f[11]++;E.s[50]++;return n.charCodeAt(0)}))}static toBase32(n,e=(E.b[9][0]++,BufferUtils.BASE32_ALPHABET.NIMIQ)){E.f[12]++;let l,t,o,i=(E.s[51]++,3),c=(E.s[52]++,0),s=(E.s[53]++,"");E.s[54]++;for(o=0;o<n.length;o++){E.s[55]++;l=n[o];E.s[56]++;t=c|l>>i;E.s[57]++;s+=e[31&t];E.s[58]++;if(i>5){E.b[10][0]++;E.s[59]++;i-=5;E.s[60]++;t=l>>i;E.s[61]++;s+=e[31&t]}else E.b[10][1]++;E.s[62]++;i=5-i;E.s[63]++;c=l<<i;E.s[64]++;i=8-i}E.s[65]++;if(3!==i){E.b[11][0]++;E.s[66]++;s+=e[31&c]}else E.b[11][1]++;E.s[67]++;for(;(E.b[12][0]++,s.length%8!=0)&&(E.b[12][1]++,33===e.length);){E.s[68]++;s+=e[32]}E.s[69]++;return s}static fromBase32(n,e=(E.b[13][0]++,BufferUtils.BASE32_ALPHABET.NIMIQ)){E.f[13]++;const l=(E.s[70]++,[]);E.s[71]++;e.toUpperCase().split("").forEach((n,e)=>{E.f[14]++;E.s[72]++;if(n in l)E.b[14][1]++;else{E.b[14][0]++;E.s[73]++;l[n]=e}});let t,o=(E.s[74]++,8),i=(E.s[75]++,0),c=(E.s[76]++,[]);E.s[77]++;n.toUpperCase().split("").forEach(n=>{E.f[15]++;E.s[78]++;if((E.b[16][0]++,33!==e.length)||(E.b[16][1]++,n!==e[32])){E.b[15][1]++;E.s[80]++;t=255&l[n];E.s[81]++;o-=5;E.s[82]++;if(o>0){E.b[17][0]++;E.s[83]++;i|=t<<o}else{E.b[17][1]++;E.s[84]++;if(o<0){E.b[18][0]++;E.s[85]++;c.push(i|t>>-o);E.s[86]++;o+=8;E.s[87]++;i=t<<o&255}else{E.b[18][1]++;E.s[88]++;c.push(i|t);E.s[89]++;o=8;E.s[90]++;i=0}}}else{E.b[15][0]++;E.s[79]++}});E.s[91]++;if((E.b[20][0]++,8!==o)&&(E.b[20][1]++,0!==i)){E.b[19][0]++;E.s[92]++;c.push(i)}else E.b[19][1]++;E.s[93]++;return new Uint8Array(c)}static toHex(n){E.f[16]++;let e=(E.s[94]++,"");E.s[95]++;for(let l=0;l<n.length;l++){const t=(E.s[96]++,n[l]);E.s[97]++;e+=BufferUtils.HEX_ALPHABET[t>>>4];E.s[98]++;e+=BufferUtils.HEX_ALPHABET[15&t]}E.s[99]++;return e}static fromHex(n){E.f[17]++;E.s[100]++;n=n.trim();E.s[101]++;if(!StringUtils.isHexBytes(n)){E.b[21][0]++;E.s[102]++;return null}E.b[21][1]++;E.s[103]++;return new SerialBuffer(Uint8Array.from((E.b[22][0]++,n.match(/.{2}/g))||(E.b[22][1]++,[]),n=>{E.f[18]++;E.s[104]++;return parseInt(n,16)}))}static concatTypedArrays(n,e){E.f[19]++;const l=(E.s[105]++,new n.constructor(n.length+e.length));E.s[106]++;l.set(n,0);E.s[107]++;l.set(e,n.length);E.s[108]++;return l}static equals(n,e){E.f[20]++;E.s[109]++;if(n.length!==e.length){E.b[23][0]++;E.s[110]++;return!1}E.b[23][1]++;const l=(E.s[111]++,new Uint8Array(n)),t=(E.s[112]++,new Uint8Array(e));E.s[113]++;for(let o=0;o<n.length;o++){E.s[114]++;if(l[o]!==t[o]){E.b[24][0]++;E.s[115]++;return!1}E.b[24][1]++}E.s[116]++;return!0}static compare(n,e){E.f[21]++;E.s[117]++;if(n.length<e.length){E.b[25][0]++;E.s[118]++;return-1}E.b[25][1]++;E.s[119]++;if(n.length>e.length){E.b[26][0]++;E.s[120]++;return 1}E.b[26][1]++;E.s[121]++;for(let l=0;l<n.length;l++){E.s[122]++;if(n[l]<e[l]){E.b[27][0]++;E.s[123]++;return-1}E.b[27][1]++;E.s[124]++;if(n[l]>e[l]){E.b[28][0]++;E.s[125]++;return 1}E.b[28][1]++}E.s[126]++;return 0}static xor(n,e){E.f[22]++;const l=(E.s[127]++,new Uint8Array(n.byteLength));E.s[128]++;for(let t=0;t<n.byteLength;++t){E.s[129]++;l[t]=n[t]^e[t]}E.s[130]++;return l}}E.s[131]++;BufferUtils.BASE64_ALPHABET="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";E.s[132]++;BufferUtils.BASE32_ALPHABET={RFC4648:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",RFC4648_HEX:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",NIMIQ:"0123456789ABCDEFGHJKLMNPQRSTUVXY"};E.s[133]++;BufferUtils.HEX_ALPHABET="0123456789abcdef";E.s[134]++;BufferUtils._BASE64_LOOKUP=[];E.s[135]++;for(let rl=0,al=BufferUtils.BASE64_ALPHABET.length;rl<al;++rl){E.s[136]++;BufferUtils._BASE64_LOOKUP[rl]=BufferUtils.BASE64_ALPHABET[rl]}E.s[137]++;Class.register(BufferUtils);var T=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/buffer/SerialBuffer.js",e="074949bb6cfd663d98c9f386955bdd66673e130a",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/buffer/SerialBuffer.js",statementMap:{0:{start:{line:6,column:8},end:{line:6,column:37}},1:{start:{line:7,column:8},end:{line:7,column:47}},2:{start:{line:8,column:8},end:{line:8,column:26}},3:{start:{line:9,column:8},end:{line:9,column:27}},4:{start:{line:18,column:8},end:{line:18,column:53}},5:{start:{line:23,column:8},end:{line:23,column:29}},6:{start:{line:28,column:8},end:{line:28,column:83}},7:{start:{line:28,column:50},end:{line:28,column:83}},8:{start:{line:29,column:8},end:{line:29,column:30}},9:{start:{line:34,column:8},end:{line:34,column:30}},10:{start:{line:39,column:8},end:{line:39,column:84}},11:{start:{line:39,column:50},end:{line:39,column:84}},12:{start:{line:40,column:8},end:{line:40,column:31}},13:{start:{line:48,column:8},end:{line:48,column:26}},14:{start:{line:49,column:8},end:{line:49,column:27}},15:{start:{line:57,column:22},end:{line:57,column:74}},16:{start:{line:58,column:8},end:{line:58,column:32}},17:{start:{line:59,column:8},end:{line:59,column:21}},18:{start:{line:66,column:8},end:{line:66,column:40}},19:{start:{line:67,column:8},end:{line:67,column:43}},20:{start:{line:74,column:8},end:{line:74,column:52}},21:{start:{line:81,column:8},end:{line:81,column:53}},22:{start:{line:88,column:22},end:{line:88,column:57}},23:{start:{line:89,column:8},end:{line:89,column:27}},24:{start:{line:90,column:8},end:{line:90,column:21}},25:{start:{line:97,column:8},end:{line:97,column:52}},26:{start:{line:98,column:8},end:{line:98,column:28}},27:{start:{line:105,column:22},end:{line:105,column:57}},28:{start:{line:106,column:8},end:{line:106,column:27}},29:{start:{line:107,column:8},end:{line:107,column:21}},30:{start:{line:114,column:8},end:{line:114,column:52}},31:{start:{line:115,column:8},end:{line:115,column:28}},32:{start:{line:122,column:22},end:{line:122,column:117}},33:{start:{line:123,column:8},end:{line:123,column:77}},34:{start:{line:123,column:42},end:{line:123,column:77}},35:{start:{line:124,column:8},end:{line:124,column:27}},36:{start:{line:125,column:8},end:{line:125,column:21}},37:{start:{line:132,column:8},end:{line:132,column:77}},38:{start:{line:132,column:42},end:{line:132,column:77}},39:{start:{line:133,column:8},end:{line:133,column:82}},40:{start:{line:134,column:8},end:{line:134,column:56}},41:{start:{line:135,column:8},end:{line:135,column:28}},42:{start:{line:142,column:22},end:{line:142,column:38}},43:{start:{line:143,column:8},end:{line:151,column:9}},44:{start:{line:144,column:12},end:{line:144,column:25}},45:{start:{line:145,column:15},end:{line:151,column:9}},46:{start:{line:146,column:12},end:{line:146,column:37}},47:{start:{line:147,column:15},end:{line:151,column:9}},48:{start:{line:148,column:12},end:{line:148,column:37}},49:{start:{line:150,column:12},end:{line:150,column:37}},50:{start:{line:158,column:8},end:{line:158,column:77}},51:{start:{line:158,column:42},end:{line:158,column:77}},52:{start:{line:159,column:8},end:{line:170,column:9}},53:{start:{line:160,column:12},end:{line:160,column:35}},54:{start:{line:161,column:15},end:{line:170,column:9}},55:{start:{line:162,column:12},end:{line:162,column:34}},56:{start:{line:163,column:12},end:{line:163,column:36}},57:{start:{line:164,column:15},end:{line:170,column:9}},58:{start:{line:165,column:12},end:{line:165,column:34}},59:{start:{line:166,column:12},end:{line:166,column:36}},60:{start:{line:168,column:12},end:{line:168,column:34}},61:{start:{line:169,column:12},end:{line:169,column:36}},62:{start:{line:178,column:8},end:{line:178,column:77}},63:{start:{line:178,column:42},end:{line:178,column:77}},64:{start:{line:179,column:8},end:{line:187,column:9}},65:{start:{line:180,column:12},end:{line:180,column:21}},66:{start:{line:181,column:15},end:{line:187,column:9}},67:{start:{line:182,column:12},end:{line:182,column:21}},68:{start:{line:183,column:15},end:{line:187,column:9}},69:{start:{line:184,column:12},end:{line:184,column:21}},70:{start:{line:186,column:12},end:{line:186,column:21}},71:{start:{line:194,column:22},end:{line:194,column:58}},72:{start:{line:195,column:8},end:{line:195,column:27}},73:{start:{line:196,column:8},end:{line:196,column:21}},74:{start:{line:203,column:8},end:{line:203,column:53}},75:{start:{line:204,column:8},end:{line:204,column:28}},76:{start:{line:212,column:22},end:{line:212,column:39}},77:{start:{line:213,column:8},end:{line:213,column:42}},78:{start:{line:221,column:8},end:{line:221,column:102}},79:{start:{line:221,column:71},end:{line:221,column:102}},80:{start:{line:222,column:22},end:{line:222,column:50}},81:{start:{line:223,column:8},end:{line:223,column:26}},82:{start:{line:231,column:22},end:{line:231,column:39}},83:{start:{line:232,column:16},end:{line:232,column:17}},84:{start:{line:233,column:8},end:{line:233,column:51}},85:{start:{line:233,column:47},end:{line:233,column:51}},86:{start:{line:234,column:21},end:{line:234,column:70}},87:{start:{line:235,column:8},end:{line:235,column:41}},88:{start:{line:243,column:8},end:{line:243,column:100}},89:{start:{line:243,column:69},end:{line:243,column:100}},90:{start:{line:244,column:22},end:{line:244,column:50}},91:{start:{line:245,column:8},end:{line:245,column:26}},92:{start:{line:246,column:24},end:{line:246,column:49}},93:{start:{line:247,column:8},end:{line:247,column:44}},94:{start:{line:254,column:23},end:{line:254,column:39}},95:{start:{line:255,column:8},end:{line:255,column:75}},96:{start:{line:255,column:50},end:{line:255,column:75}},97:{start:{line:256,column:22},end:{line:256,column:39}},98:{start:{line:257,column:8},end:{line:257,column:42}},99:{start:{line:264,column:8},end:{line:264,column:117}},100:{start:{line:264,column:82},end:{line:264,column:117}},101:{start:{line:265,column:22},end:{line:265,column:50}},102:{start:{line:266,column:8},end:{line:266,column:42}},103:{start:{line:267,column:8},end:{line:267,column:26}},104:{start:{line:275,column:8},end:{line:275,column:117}},105:{start:{line:275,column:82},end:{line:275,column:117}},106:{start:{line:276,column:8},end:{line:276,column:43}},107:{start:{line:279,column:0},end:{line:279,column:29}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:39},end:{line:10,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:25},end:{line:19,column:5}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:22,column:4},end:{line:22,column:5}},loc:{start:{line:22,column:18},end:{line:24,column:5}},line:22},3:{name:"(anonymous_3)",decl:{start:{line:27,column:4},end:{line:27,column:5}},loc:{start:{line:27,column:23},end:{line:30,column:5}},line:27},4:{name:"(anonymous_4)",decl:{start:{line:33,column:4},end:{line:33,column:5}},loc:{start:{line:33,column:19},end:{line:35,column:5}},line:33},5:{name:"(anonymous_5)",decl:{start:{line:38,column:4},end:{line:38,column:5}},loc:{start:{line:38,column:24},end:{line:41,column:5}},line:38},6:{name:"(anonymous_6)",decl:{start:{line:47,column:4},end:{line:47,column:5}},loc:{start:{line:47,column:12},end:{line:50,column:5}},line:47},7:{name:"(anonymous_7)",decl:{start:{line:56,column:4},end:{line:56,column:5}},loc:{start:{line:56,column:17},end:{line:60,column:5}},line:56},8:{name:"(anonymous_8)",decl:{start:{line:65,column:4},end:{line:65,column:5}},loc:{start:{line:65,column:17},end:{line:68,column:5}},line:65},9:{name:"(anonymous_9)",decl:{start:{line:73,column:4},end:{line:73,column:5}},loc:{start:{line:73,column:16},end:{line:75,column:5}},line:73},10:{name:"(anonymous_10)",decl:{start:{line:80,column:4},end:{line:80,column:5}},loc:{start:{line:80,column:22},end:{line:82,column:5}},line:80},11:{name:"(anonymous_11)",decl:{start:{line:87,column:4},end:{line:87,column:5}},loc:{start:{line:87,column:17},end:{line:91,column:5}},line:87},12:{name:"(anonymous_12)",decl:{start:{line:96,column:4},end:{line:96,column:5}},loc:{start:{line:96,column:23},end:{line:99,column:5}},line:96},13:{name:"(anonymous_13)",decl:{start:{line:104,column:4},end:{line:104,column:5}},loc:{start:{line:104,column:17},end:{line:108,column:5}},line:104},14:{name:"(anonymous_14)",decl:{start:{line:113,column:4},end:{line:113,column:5}},loc:{start:{line:113,column:23},end:{line:116,column:5}},line:113},15:{name:"(anonymous_15)",decl:{start:{line:121,column:4},end:{line:121,column:5}},loc:{start:{line:121,column:17},end:{line:126,column:5}},line:121},16:{name:"(anonymous_16)",decl:{start:{line:131,column:4},end:{line:131,column:5}},loc:{start:{line:131,column:23},end:{line:136,column:5}},line:131},17:{name:"(anonymous_17)",decl:{start:{line:141,column:4},end:{line:141,column:5}},loc:{start:{line:141,column:18},end:{line:152,column:5}},line:141},18:{name:"(anonymous_18)",decl:{start:{line:157,column:4},end:{line:157,column:5}},loc:{start:{line:157,column:24},end:{line:171,column:5}},line:157},19:{name:"(anonymous_19)",decl:{start:{line:177,column:4},end:{line:177,column:5}},loc:{start:{line:177,column:30},end:{line:188,column:5}},line:177},20:{name:"(anonymous_20)",decl:{start:{line:193,column:4},end:{line:193,column:5}},loc:{start:{line:193,column:18},end:{line:197,column:5}},line:193},21:{name:"(anonymous_21)",decl:{start:{line:202,column:4},end:{line:202,column:5}},loc:{start:{line:202,column:24},end:{line:205,column:5}},line:202},22:{name:"(anonymous_22)",decl:{start:{line:211,column:4},end:{line:211,column:5}},loc:{start:{line:211,column:23},end:{line:214,column:5}},line:211},23:{name:"(anonymous_23)",decl:{start:{line:220,column:4},end:{line:220,column:5}},loc:{start:{line:220,column:31},end:{line:224,column:5}},line:220},24:{name:"(anonymous_24)",decl:{start:{line:230,column:4},end:{line:230,column:5}},loc:{start:{line:230,column:29},end:{line:236,column:5}},line:230},25:{name:"(anonymous_25)",decl:{start:{line:242,column:4},end:{line:242,column:5}},loc:{start:{line:242,column:37},end:{line:248,column:5}},line:242},26:{name:"(anonymous_26)",decl:{start:{line:253,column:4},end:{line:253,column:5}},loc:{start:{line:253,column:26},end:{line:258,column:5}},line:253},27:{name:"(anonymous_27)",decl:{start:{line:263,column:4},end:{line:263,column:5}},loc:{start:{line:263,column:32},end:{line:268,column:5}},line:263},28:{name:"(anonymous_28)",decl:{start:{line:274,column:4},end:{line:274,column:5}},loc:{start:{line:274,column:38},end:{line:277,column:5}},line:274}},branchMap:{0:{loc:{start:{line:28,column:8},end:{line:28,column:83}},type:"if",locations:[{start:{line:28,column:8},end:{line:28,column:83}},{start:{line:28,column:8},end:{line:28,column:83}}],line:28},1:{loc:{start:{line:28,column:12},end:{line:28,column:48}},type:"binary-expr",locations:[{start:{line:28,column:12},end:{line:28,column:21}},{start:{line:28,column:25},end:{line:28,column:48}}],line:28},2:{loc:{start:{line:39,column:8},end:{line:39,column:84}},type:"if",locations:[{start:{line:39,column:8},end:{line:39,column:84}},{start:{line:39,column:8},end:{line:39,column:84}}],line:39},3:{loc:{start:{line:39,column:12},end:{line:39,column:48}},type:"binary-expr",locations:[{start:{line:39,column:12},end:{line:39,column:21}},{start:{line:39,column:25},end:{line:39,column:48}}],line:39},4:{loc:{start:{line:123,column:8},end:{line:123,column:77}},type:"if",locations:[{start:{line:123,column:8},end:{line:123,column:77}},{start:{line:123,column:8},end:{line:123,column:77}}],line:123},5:{loc:{start:{line:132,column:8},end:{line:132,column:77}},type:"if",locations:[{start:{line:132,column:8},end:{line:132,column:77}},{start:{line:132,column:8},end:{line:132,column:77}}],line:132},6:{loc:{start:{line:143,column:8},end:{line:151,column:9}},type:"if",locations:[{start:{line:143,column:8},end:{line:151,column:9}},{start:{line:143,column:8},end:{line:151,column:9}}],line:143},7:{loc:{start:{line:145,column:15},end:{line:151,column:9}},type:"if",locations:[{start:{line:145,column:15},end:{line:151,column:9}},{start:{line:145,column:15},end:{line:151,column:9}}],line:145},8:{loc:{start:{line:147,column:15},end:{line:151,column:9}},type:"if",locations:[{start:{line:147,column:15},end:{line:151,column:9}},{start:{line:147,column:15},end:{line:151,column:9}}],line:147},9:{loc:{start:{line:158,column:8},end:{line:158,column:77}},type:"if",locations:[{start:{line:158,column:8},end:{line:158,column:77}},{start:{line:158,column:8},end:{line:158,column:77}}],line:158},10:{loc:{start:{line:159,column:8},end:{line:170,column:9}},type:"if",locations:[{start:{line:159,column:8},end:{line:170,column:9}},{start:{line:159,column:8},end:{line:170,column:9}}],line:159},11:{loc:{start:{line:161,column:15},end:{line:170,column:9}},type:"if",locations:[{start:{line:161,column:15},end:{line:170,column:9}},{start:{line:161,column:15},end:{line:170,column:9}}],line:161},12:{loc:{start:{line:164,column:15},end:{line:170,column:9}},type:"if",locations:[{start:{line:164,column:15},end:{line:170,column:9}},{start:{line:164,column:15},end:{line:170,column:9}}],line:164},13:{loc:{start:{line:178,column:8},end:{line:178,column:77}},type:"if",locations:[{start:{line:178,column:8},end:{line:178,column:77}},{start:{line:178,column:8},end:{line:178,column:77}}],line:178},14:{loc:{start:{line:179,column:8},end:{line:187,column:9}},type:"if",locations:[{start:{line:179,column:8},end:{line:187,column:9}},{start:{line:179,column:8},end:{line:187,column:9}}],line:179},15:{loc:{start:{line:181,column:15},end:{line:187,column:9}},type:"if",locations:[{start:{line:181,column:15},end:{line:187,column:9}},{start:{line:181,column:15},end:{line:187,column:9}}],line:181},16:{loc:{start:{line:183,column:15},end:{line:187,column:9}},type:"if",locations:[{start:{line:183,column:15},end:{line:187,column:9}},{start:{line:183,column:15},end:{line:187,column:9}}],line:183},17:{loc:{start:{line:221,column:8},end:{line:221,column:102}},type:"if",locations:[{start:{line:221,column:8},end:{line:221,column:102}},{start:{line:221,column:8},end:{line:221,column:102}}],line:221},18:{loc:{start:{line:221,column:12},end:{line:221,column:69}},type:"binary-expr",locations:[{start:{line:221,column:12},end:{line:221,column:42}},{start:{line:221,column:46},end:{line:221,column:69}}],line:221},19:{loc:{start:{line:233,column:15},end:{line:233,column:45}},type:"binary-expr",locations:[{start:{line:233,column:15},end:{line:233,column:25}},{start:{line:233,column:29},end:{line:233,column:45}}],line:233},20:{loc:{start:{line:243,column:8},end:{line:243,column:100}},type:"if",locations:[{start:{line:243,column:8},end:{line:243,column:100}},{start:{line:243,column:8},end:{line:243,column:100}}],line:243},21:{loc:{start:{line:243,column:12},end:{line:243,column:67}},type:"binary-expr",locations:[{start:{line:243,column:12},end:{line:243,column:42}},{start:{line:243,column:46},end:{line:243,column:67}}],line:243},22:{loc:{start:{line:255,column:8},end:{line:255,column:75}},type:"if",locations:[{start:{line:255,column:8},end:{line:255,column:75}},{start:{line:255,column:8},end:{line:255,column:75}}],line:255},23:{loc:{start:{line:264,column:8},end:{line:264,column:117}},type:"if",locations:[{start:{line:264,column:8},end:{line:264,column:117}},{start:{line:264,column:8},end:{line:264,column:117}}],line:264},24:{loc:{start:{line:264,column:12},end:{line:264,column:80}},type:"binary-expr",locations:[{start:{line:264,column:12},end:{line:264,column:42}},{start:{line:264,column:46},end:{line:264,column:80}}],line:264},25:{loc:{start:{line:275,column:8},end:{line:275,column:117}},type:"if",locations:[{start:{line:275,column:8},end:{line:275,column:117}},{start:{line:275,column:8},end:{line:275,column:117}}],line:275},26:{loc:{start:{line:275,column:12},end:{line:275,column:80}},type:"binary-expr",locations:[{start:{line:275,column:12},end:{line:275,column:42}},{start:{line:275,column:46},end:{line:275,column:80}}],line:275}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class SerialBuffer extends Uint8Array{constructor(n){T.f[0]++;T.s[0]++;super(n);T.s[1]++;this._view=new DataView(this.buffer);T.s[2]++;this._readPos=0;T.s[3]++;this._writePos=0}subarray(n,e){T.f[1]++;T.s[4]++;return ArrayUtils.subarray(this,n,e)}get readPos(){T.f[2]++;T.s[5]++;return this._readPos}set readPos(n){T.f[3]++;T.s[6]++;if((T.b[1][0]++,n<0)||(T.b[1][1]++,n>this.byteLength)){T.b[0][0]++;T.s[7]++;throw`Invalid readPos ${n}`}T.b[0][1]++;T.s[8]++;this._readPos=n}get writePos(){T.f[4]++;T.s[9]++;return this._writePos}set writePos(n){T.f[5]++;T.s[10]++;if((T.b[3][0]++,n<0)||(T.b[3][1]++,n>this.byteLength)){T.b[2][0]++;T.s[11]++;throw`Invalid writePos ${n}`}T.b[2][1]++;T.s[12]++;this._writePos=n}reset(){T.f[6]++;T.s[13]++;this._readPos=0;T.s[14]++;this._writePos=0}read(n){T.f[7]++;const e=(T.s[15]++,this.subarray(this._readPos,this._readPos+n));T.s[16]++;this._readPos+=n;T.s[17]++;return e}write(n){T.f[8]++;T.s[18]++;this.set(n,this._writePos);T.s[19]++;this._writePos+=n.byteLength}readUint8(){T.f[9]++;T.s[20]++;return this._view.getUint8(this._readPos++)}writeUint8(n){T.f[10]++;T.s[21]++;this._view.setUint8(this._writePos++,n)}readUint16(){T.f[11]++;const n=(T.s[22]++,this._view.getUint16(this._readPos));T.s[23]++;this._readPos+=2;T.s[24]++;return n}writeUint16(n){T.f[12]++;T.s[25]++;this._view.setUint16(this._writePos,n);T.s[26]++;this._writePos+=2}readUint32(){T.f[13]++;const n=(T.s[27]++,this._view.getUint32(this._readPos));T.s[28]++;this._readPos+=4;T.s[29]++;return n}writeUint32(n){T.f[14]++;T.s[30]++;this._view.setUint32(this._writePos,n);T.s[31]++;this._writePos+=4}readUint64(){T.f[15]++;const n=(T.s[32]++,this._view.getUint32(this._readPos)*Math.pow(2,32)+this._view.getUint32(this._readPos+4));T.s[33]++;if(!NumberUtils.isUint64(n)){T.b[4][0]++;T.s[34]++;throw new Error("Malformed value")}T.b[4][1]++;T.s[35]++;this._readPos+=8;T.s[36]++;return n}writeUint64(n){T.f[16]++;T.s[37]++;if(!NumberUtils.isUint64(n)){T.b[5][0]++;T.s[38]++;throw new Error("Malformed value")}T.b[5][1]++;T.s[39]++;this._view.setUint32(this._writePos,Math.floor(n/Math.pow(2,32)));T.s[40]++;this._view.setUint32(this._writePos+4,n);T.s[41]++;this._writePos+=8}readVarUint(){T.f[17]++;const n=(T.s[42]++,this.readUint8());T.s[43]++;if(n<253){T.b[6][0]++;T.s[44]++;return n}T.b[6][1]++;T.s[45]++;if(253===n){T.b[7][0]++;T.s[46]++;return this.readUint16()}T.b[7][1]++;T.s[47]++;if(254===n){T.b[8][0]++;T.s[48]++;return this.readUint32()}T.b[8][1]++;T.s[49]++;return this.readUint64()}writeVarUint(n){T.f[18]++;T.s[50]++;if(!NumberUtils.isUint64(n)){T.b[9][0]++;T.s[51]++;throw new Error("Malformed value")}T.b[9][1]++;T.s[52]++;if(n<253){T.b[10][0]++;T.s[53]++;this.writeUint8(n)}else{T.b[10][1]++;T.s[54]++;if(n<=65535){T.b[11][0]++;T.s[55]++;this.writeUint8(253);T.s[56]++;this.writeUint16(n)}else{T.b[11][1]++;T.s[57]++;if(n<=4294967295){T.b[12][0]++;T.s[58]++;this.writeUint8(254);T.s[59]++;this.writeUint32(n)}else{T.b[12][1]++;T.s[60]++;this.writeUint8(255);T.s[61]++;this.writeUint64(n)}}}}static varUintSize(n){T.f[19]++;T.s[62]++;if(!NumberUtils.isUint64(n)){T.b[13][0]++;T.s[63]++;throw new Error("Malformed value")}T.b[13][1]++;T.s[64]++;if(n<253){T.b[14][0]++;T.s[65]++;return 1}T.b[14][1]++;T.s[66]++;if(n<=65535){T.b[15][0]++;T.s[67]++;return 3}T.b[15][1]++;T.s[68]++;if(n<=4294967295){T.b[16][0]++;T.s[69]++;return 5}T.b[16][1]++;T.s[70]++;return 9}readFloat64(){T.f[20]++;const n=(T.s[71]++,this._view.getFloat64(this._readPos));T.s[72]++;this._readPos+=8;T.s[73]++;return n}writeFloat64(n){T.f[21]++;T.s[74]++;this._view.setFloat64(this._writePos,n);T.s[75]++;this._writePos+=8}readString(n){T.f[22]++;const e=(T.s[76]++,this.read(n));T.s[77]++;return BufferUtils.toAscii(e)}writeString(n,e){T.f[23]++;T.s[78]++;if((T.b[18][0]++,StringUtils.isMultibyte(n))||(T.b[18][1]++,n.length!==e)){T.b[17][0]++;T.s[79]++;throw"Malformed value/length"}T.b[17][1]++;const l=(T.s[80]++,BufferUtils.fromAscii(n));T.s[81]++;this.write(l)}readPaddedString(n){T.f[24]++;const e=(T.s[82]++,this.read(n));let l=(T.s[83]++,0);T.s[84]++;for(;(T.b[19][0]++,l<n)&&(T.b[19][1]++,0!==e[l]);){T.s[85]++;l++}const t=(T.s[86]++,new Uint8Array(e.buffer,e.byteOffset,l));T.s[87]++;return BufferUtils.toAscii(t)}writePaddedString(n,e){T.f[25]++;T.s[88]++;if((T.b[21][0]++,StringUtils.isMultibyte(n))||(T.b[21][1]++,n.length>e)){T.b[20][0]++;T.s[89]++;throw"Malformed value/length"}T.b[20][1]++;const l=(T.s[90]++,BufferUtils.fromAscii(n));T.s[91]++;this.write(l);const t=(T.s[92]++,e-l.byteLength);T.s[93]++;this.write(new Uint8Array(t))}readVarLengthString(){T.f[26]++;const n=(T.s[94]++,this.readUint8());T.s[95]++;if(this._readPos+n>this.length){T.b[22][0]++;T.s[96]++;throw"Malformed length"}T.b[22][1]++;const e=(T.s[97]++,this.read(n));T.s[98]++;return BufferUtils.toAscii(e)}writeVarLengthString(n){T.f[27]++;T.s[99]++;if((T.b[24][0]++,StringUtils.isMultibyte(n))||(T.b[24][1]++,!NumberUtils.isUint8(n.length))){T.b[23][0]++;T.s[100]++;throw new Error("Malformed value")}T.b[23][1]++;const e=(T.s[101]++,BufferUtils.fromAscii(n));T.s[102]++;this.writeUint8(e.byteLength);T.s[103]++;this.write(e)}static varLengthStringSize(n){T.f[28]++;T.s[104]++;if((T.b[26][0]++,StringUtils.isMultibyte(n))||(T.b[26][1]++,!NumberUtils.isUint8(n.length))){T.b[25][0]++;T.s[105]++;throw new Error("Malformed value")}T.b[25][1]++;T.s[106]++;return 1+n.length}}T.s[107]++;Class.register(SerialBuffer);var k=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/synchronizer/Synchronizer.js",e="ba117c8405e6112d6b02da8a53631788a7fe3893",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/synchronizer/Synchronizer.js",statementMap:{0:{start:{line:3,column:8},end:{line:3,column:16}},1:{start:{line:4,column:8},end:{line:4,column:25}},2:{start:{line:5,column:8},end:{line:5,column:30}},3:{start:{line:15,column:8},end:{line:20,column:11}},4:{start:{line:16,column:12},end:{line:16,column:73}},5:{start:{line:17,column:12},end:{line:19,column:13}},6:{start:{line:18,column:16},end:{line:18,column:62}},7:{start:{line:28,column:8},end:{line:30,column:9}},8:{start:{line:29,column:12},end:{line:29,column:41}},9:{start:{line:29,column:28},end:{line:29,column:41}},10:{start:{line:31,column:8},end:{line:31,column:25}},11:{start:{line:35,column:8},end:{line:35,column:29}},12:{start:{line:36,column:8},end:{line:36,column:38}},13:{start:{line:38,column:8},end:{line:46,column:9}},14:{start:{line:39,column:24},end:{line:39,column:43}},15:{start:{line:40,column:12},end:{line:45,column:13}},16:{start:{line:41,column:31},end:{line:41,column:45}},17:{start:{line:42,column:16},end:{line:42,column:36}},18:{start:{line:44,column:16},end:{line:44,column:46}},19:{start:{line:44,column:32},end:{line:44,column:46}},20:{start:{line:48,column:8},end:{line:48,column:30}},21:{start:{line:49,column:8},end:{line:49,column:36}},22:{start:{line:54,column:8},end:{line:54,column:29}},23:{start:{line:57,column:0},end:{line:57,column:29}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:4},end:{line:2,column:5}},loc:{start:{line:2,column:18},end:{line:6,column:5}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:14,column:4},end:{line:14,column:5}},loc:{start:{line:14,column:13},end:{line:21,column:5}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:15,column:27},end:{line:15,column:28}},loc:{start:{line:15,column:48},end:{line:20,column:9}},line:15},3:{name:"(anonymous_3)",decl:{start:{line:27,column:4},end:{line:27,column:5}},loc:{start:{line:27,column:12},end:{line:32,column:5}},line:27},4:{name:"(anonymous_4)",decl:{start:{line:34,column:4},end:{line:34,column:5}},loc:{start:{line:34,column:20},end:{line:50,column:5}},line:34},5:{name:"(anonymous_5)",decl:{start:{line:53,column:4},end:{line:53,column:5}},loc:{start:{line:53,column:18},end:{line:55,column:5}},line:53}},branchMap:{0:{loc:{start:{line:17,column:12},end:{line:19,column:13}},type:"if",locations:[{start:{line:17,column:12},end:{line:19,column:13}},{start:{line:17,column:12},end:{line:19,column:13}}],line:17},1:{loc:{start:{line:29,column:12},end:{line:29,column:41}},type:"if",locations:[{start:{line:29,column:12},end:{line:29,column:41}},{start:{line:29,column:12},end:{line:29,column:41}}],line:29},2:{loc:{start:{line:44,column:16},end:{line:44,column:46}},type:"if",locations:[{start:{line:44,column:16},end:{line:44,column:46}},{start:{line:44,column:16},end:{line:44,column:46}}],line:44}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Synchronizer extends Observable{constructor(){k.f[0]++;k.s[0]++;super();k.s[1]++;this._queue=[];k.s[2]++;this._working=!1}push(n){k.f[1]++;k.s[3]++;return new Promise((e,l)=>{k.f[2]++;k.s[4]++;this._queue.push({fn:n,resolve:e,reject:l});k.s[5]++;if(this._working)k.b[0][1]++;else{k.b[0][0]++;k.s[6]++;this._doWork()["catch"](Log.w.tag(Synchronizer))}})}clear(){k.f[3]++;k.s[7]++;for(const n of this._queue){k.s[8]++;if(n.reject){k.b[1][0]++;k.s[9]++;n.reject()}else k.b[1][1]++}k.s[10]++;this._queue=[]}async _doWork(){k.f[4]++;k.s[11]++;this._working=!0;k.s[12]++;this.fire("work-start",this);k.s[13]++;for(;this._queue.length>0;){const e=(k.s[14]++,this._queue.shift());k.s[15]++;try{const l=(k.s[16]++,await e.fn());k.s[17]++;e.resolve(l)}catch(n){k.s[18]++;if(e.reject){k.b[2][0]++;k.s[19]++;e.reject(n)}else k.b[2][1]++}}k.s[20]++;this._working=!1;k.s[21]++;this.fire("work-end",this)}get working(){k.f[5]++;k.s[22]++;return this._working}}k.s[23]++;Class.register(Synchronizer);var P=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/synchronizer/MultiSynchronizer.js",e="0d8e1fcd00cf14a70aa81b13a623ae957a375c5e",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/synchronizer/MultiSynchronizer.js",statementMap:{0:{start:{line:3,column:8},end:{line:3,column:16}},1:{start:{line:5,column:8},end:{line:5,column:40}},2:{start:{line:16,column:26},end:{line:16,column:54}},3:{start:{line:17,column:8},end:{line:22,column:9}},4:{start:{line:18,column:12},end:{line:18,column:45}},5:{start:{line:19,column:12},end:{line:19,column:96}},6:{start:{line:19,column:47},end:{line:19,column:94}},7:{start:{line:20,column:12},end:{line:20,column:92}},8:{start:{line:20,column:45},end:{line:20,column:90}},9:{start:{line:21,column:12},end:{line:21,column:54}},10:{start:{line:23,column:8},end:{line:23,column:36}},11:{start:{line:31,column:8},end:{line:33,column:9}},12:{start:{line:32,column:12},end:{line:32,column:33}},13:{start:{line:34,column:8},end:{line:34,column:36}},14:{start:{line:42,column:28},end:{line:42,column:56}},15:{start:{line:43,column:8},end:{line:43,column:52}},16:{start:{line:46,column:0},end:{line:46,column:34}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:4},end:{line:2,column:5}},loc:{start:{line:2,column:18},end:{line:6,column:5}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:15,column:4},end:{line:15,column:5}},loc:{start:{line:15,column:18},end:{line:24,column:5}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:19,column:41},end:{line:19,column:42}},loc:{start:{line:19,column:47},end:{line:19,column:94}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:20,column:39},end:{line:20,column:40}},loc:{start:{line:20,column:45},end:{line:20,column:90}},line:20},4:{name:"(anonymous_4)",decl:{start:{line:30,column:4},end:{line:30,column:5}},loc:{start:{line:30,column:12},end:{line:35,column:5}},line:30},5:{name:"(anonymous_5)",decl:{start:{line:41,column:4},end:{line:41,column:5}},loc:{start:{line:41,column:19},end:{line:44,column:5}},line:41}},branchMap:{0:{loc:{start:{line:17,column:8},end:{line:22,column:9}},type:"if",locations:[{start:{line:17,column:8},end:{line:22,column:9}},{start:{line:17,column:8},end:{line:22,column:9}}],line:17},1:{loc:{start:{line:43,column:15},end:{line:43,column:51}},type:"binary-expr",locations:[{start:{line:43,column:15},end:{line:43,column:28}},{start:{line:43,column:32},end:{line:43,column:51}}],line:43}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class MultiSynchronizer extends Observable{constructor(){P.f[0]++;P.s[0]++;super();P.s[1]++;this._synchronizers=new Map}push(n,e){P.f[1]++;let l=(P.s[2]++,this._synchronizers.get(n));P.s[3]++;if(l)P.b[0][1]++;else{P.b[0][0]++;P.s[4]++;l=new Synchronizer;P.s[5]++;l.on("work-start",()=>{P.f[2]++;P.s[6]++;return this.fire("work-start",l,n,this)});P.s[7]++;l.on("work-end",()=>{P.f[3]++;P.s[8]++;return this.fire("work-end",l,n,this)});P.s[9]++;this._synchronizers.set(n,l)}P.s[10]++;return l.push(e)}clear(){P.f[4]++;P.s[11]++;for(const n of this._synchronizers.values()){P.s[12]++;n.clear()}P.s[13]++;this._synchronizers.clear()}isWorking(n){P.f[5]++;const e=(P.s[14]++,this._synchronizers.get(n));P.s[15]++;return(P.b[1][0]++,!!e)&&(P.b[1][1]++,e.working)}}P.s[16]++;Class.register(MultiSynchronizer);var v=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/synchronizer/PrioritySynchronizer.js",e="d64374a501704d6dfa6e1d536e2a5b7a186420bb",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/synchronizer/PrioritySynchronizer.js",statementMap:{0:{start:{line:6,column:8},end:{line:6,column:16}},1:{start:{line:7,column:8},end:{line:7,column:26}},2:{start:{line:8,column:8},end:{line:10,column:9}},3:{start:{line:9,column:12},end:{line:9,column:33}},4:{start:{line:11,column:8},end:{line:11,column:30}},5:{start:{line:22,column:8},end:{line:22,column:119}},6:{start:{line:24,column:8},end:{line:29,column:11}},7:{start:{line:25,column:12},end:{line:25,column:84}},8:{start:{line:26,column:12},end:{line:28,column:13}},9:{start:{line:27,column:16},end:{line:27,column:70}},10:{start:{line:37,column:8},end:{line:41,column:9}},11:{start:{line:38,column:12},end:{line:40,column:13}},12:{start:{line:39,column:16},end:{line:39,column:45}},13:{start:{line:39,column:32},end:{line:39,column:45}},14:{start:{line:42,column:8},end:{line:42,column:26}},15:{start:{line:46,column:8},end:{line:46,column:29}},16:{start:{line:47,column:8},end:{line:47,column:38}},17:{start:{line:49,column:8},end:{line:59,column:9}},18:{start:{line:50,column:12},end:{line:58,column:13}},19:{start:{line:51,column:28},end:{line:51,column:41}},20:{start:{line:52,column:16},end:{line:57,column:17}},21:{start:{line:53,column:35},end:{line:53,column:49}},22:{start:{line:54,column:20},end:{line:54,column:40}},23:{start:{line:56,column:20},end:{line:56,column:50}},24:{start:{line:56,column:36},end:{line:56,column:50}},25:{start:{line:61,column:8},end:{line:61,column:30}},26:{start:{line:62,column:8},end:{line:62,column:36}},27:{start:{line:67,column:8},end:{line:67,column:29}},28:{start:{line:70,column:0},end:{line:70,column:37}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:31},end:{line:12,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:21,column:4},end:{line:21,column:5}},loc:{start:{line:21,column:23},end:{line:30,column:5}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:24,column:27},end:{line:24,column:28}},loc:{start:{line:24,column:48},end:{line:29,column:9}},line:24},3:{name:"(anonymous_3)",decl:{start:{line:36,column:4},end:{line:36,column:5}},loc:{start:{line:36,column:12},end:{line:43,column:5}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:45,column:4},end:{line:45,column:5}},loc:{start:{line:45,column:20},end:{line:63,column:5}},line:45},5:{name:"(anonymous_5)",decl:{start:{line:66,column:4},end:{line:66,column:5}},loc:{start:{line:66,column:18},end:{line:68,column:5}},line:66}},branchMap:{0:{loc:{start:{line:22,column:20},end:{line:22,column:97}},type:"binary-expr",locations:[{start:{line:22,column:20},end:{line:22,column:33}},{start:{line:22,column:37},end:{line:22,column:67}},{start:{line:22,column:71},end:{line:22,column:97}}],line:22},1:{loc:{start:{line:26,column:12},end:{line:28,column:13}},type:"if",locations:[{start:{line:26,column:12},end:{line:28,column:13}},{start:{line:26,column:12},end:{line:28,column:13}}],line:26},2:{loc:{start:{line:39,column:16},end:{line:39,column:45}},type:"if",locations:[{start:{line:39,column:16},end:{line:39,column:45}},{start:{line:39,column:16},end:{line:39,column:45}}],line:39},3:{loc:{start:{line:56,column:20},end:{line:56,column:50}},type:"if",locations:[{start:{line:56,column:20},end:{line:56,column:50}},{start:{line:56,column:20},end:{line:56,column:50}}],line:56}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class PrioritySynchronizer extends Observable{constructor(n){v.f[0]++;v.s[0]++;super();v.s[1]++;this._queues=[];v.s[2]++;for(let e=0;e<n;e++){v.s[3]++;this._queues[e]=[]}v.s[4]++;this._working=!1}push(n,e){v.f[1]++;v.s[5]++;Assert.that((v.b[0][0]++,n>=0)&&(v.b[0][1]++,n<this._queues.length)&&(v.b[0][2]++,Number.isInteger(n)),"Invalid priority");v.s[6]++;return new Promise((l,t)=>{v.f[2]++;v.s[7]++;this._queues[n].push({fn:e,resolve:l,reject:t});v.s[8]++;if(this._working)v.b[1][1]++;else{v.b[1][0]++;v.s[9]++;this._doWork()["catch"](Log.w.tag(PrioritySynchronizer))}})}clear(){v.f[3]++;v.s[10]++;for(const n of this._queues){v.s[11]++;for(const e of n){v.s[12]++;if(e.reject){v.b[2][0]++;v.s[13]++;e.reject()}else v.b[2][1]++}}v.s[14]++;this._queues=[]}async _doWork(){v.f[4]++;v.s[15]++;this._working=!0;v.s[16]++;this.fire("work-start",this);v.s[17]++;for(const e of this._queues){v.s[18]++;for(;e.length>0;){const l=(v.s[19]++,e.shift());v.s[20]++;try{const e=(v.s[21]++,await l.fn());v.s[22]++;l.resolve(e)}catch(n){v.s[23]++;if(l.reject){v.b[3][0]++;v.s[24]++;l.reject(n)}else v.b[3][1]++}}}v.s[25]++;this._working=!1;v.s[26]++;this.fire("work-end",this)}get working(){v.f[5]++;v.s[27]++;return this._working}}v.s[28]++;Class.register(PrioritySynchronizer);var I=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/RateLimit.js",e="56ac936e87e4a834bcba4efb942fd65a958e7c85",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/RateLimit.js",statementMap:{0:{start:{line:8,column:8},end:{line:8,column:49}},1:{start:{line:10,column:8},end:{line:10,column:36}},2:{start:{line:13,column:8},end:{line:13,column:28}},3:{start:{line:15,column:8},end:{line:15,column:26}},4:{start:{line:23,column:8},end:{line:26,column:9}},5:{start:{line:24,column:12},end:{line:24,column:41}},6:{start:{line:25,column:12},end:{line:25,column:30}},7:{start:{line:27,column:8},end:{line:27,column:65}},8:{start:{line:31,column:0},end:{line:31,column:26}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:54},end:{line:16,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:22,column:4},end:{line:22,column:5}},loc:{start:{line:22,column:21},end:{line:28,column:5}},line:22}},branchMap:{0:{loc:{start:{line:6,column:35},end:{line:6,column:52}},type:"default-arg",locations:[{start:{line:6,column:47},end:{line:6,column:52}}],line:6},1:{loc:{start:{line:22,column:9},end:{line:22,column:19}},type:"default-arg",locations:[{start:{line:22,column:18},end:{line:22,column:19}}],line:22},2:{loc:{start:{line:23,column:8},end:{line:26,column:9}},type:"if",locations:[{start:{line:23,column:8},end:{line:26,column:9}},{start:{line:23,column:8},end:{line:26,column:9}}],line:23}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0},b:{0:[0],1:[0],2:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class RateLimit{constructor(n,e=(I.b[0][0]++,6e4)){I.f[0]++;I.s[0]++;this._allowedEntries=n;I.s[1]++;this._timeRange=e;I.s[2]++;this._lastReset=0;I.s[3]++;this._counter=0}note(n=(I.b[1][0]++,1)){I.f[1]++;I.s[4]++;if(this._lastReset<Date.now()-this._timeRange){I.b[2][0]++;I.s[5]++;this._lastReset=Date.now();I.s[6]++;this._counter=0}else I.b[2][1]++;I.s[7]++;return(this._counter+=n)<=this._allowedEntries}}I.s[8]++;Class.register(RateLimit);var M=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/IWorker.js",e="64ab2ef47a185e7a9426c118c38baeceacf3f291",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/IWorker.js",statementMap:{0:{start:{line:6,column:8},end:{line:6,column:56}},1:{start:{line:10,column:8},end:{line:18,column:9}},2:{start:{line:11,column:12},end:{line:11,column:71}},3:{start:{line:12,column:12},end:{line:12,column:61}},4:{start:{line:14,column:12},end:{line:16,column:13}},5:{start:{line:15,column:16},end:{line:15,column:57}},6:{start:{line:17,column:12},end:{line:17,column:194}},7:{start:{line:22,column:8},end:{line:22,column:129}},8:{start:{line:22,column:52},end:{line:22,column:106}},9:{start:{line:26,column:8},end:{line:39,column:9}},10:{start:{line:27,column:12},end:{line:36,column:13}},11:{start:{line:28,column:16},end:{line:33,column:17}},12:{start:{line:29,column:32},end:{line:29,column:108}},13:{start:{line:30,column:20},end:{line:30,column:83}},14:{start:{line:32,column:20},end:{line:32,column:100}},15:{start:{line:35,column:16},end:{line:35,column:108}},16:{start:{line:38,column:12},end:{line:38,column:76}},17:{start:{line:43,column:8},end:{line:43,column:45}},18:{start:{line:47,column:8},end:{line:47,column:41}},19:{start:{line:51,column:8},end:{line:51,column:93}},20:{start:{line:55,column:8},end:{line:55,column:139}},21:{start:{line:59,column:8},end:{line:62,column:9}},22:{start:{line:61,column:12},end:{line:61,column:55}},23:{start:{line:63,column:8},end:{line:63,column:76}},24:{start:{line:64,column:8},end:{line:64,column:61}},25:{start:{line:69,column:21},end:{line:69,column:61}},26:{start:{line:70,column:23},end:{line:70,column:55}},27:{start:{line:71,column:8},end:{line:71,column:40}},28:{start:{line:72,column:8},end:{line:72,column:25}},29:{start:{line:77,column:20},end:{line:77,column:57}},30:{start:{line:77,column:26},end:{line:77,column:57}},31:{start:{line:78,column:8},end:{line:78,column:40}},32:{start:{line:79,column:8},end:{line:79,column:28}},33:{start:{line:82,column:8},end:{line:82,column:33}},34:{start:{line:86,column:27},end:{line:133,column:9}},35:{start:{line:92,column:16},end:{line:92,column:24}},36:{start:{line:93,column:16},end:{line:93,column:34}},37:{start:{line:94,column:16},end:{line:94,column:36}},38:{start:{line:95,column:16},end:{line:95,column:38}},39:{start:{line:96,column:16},end:{line:96,column:66}},40:{start:{line:98,column:16},end:{line:98,column:42}},41:{start:{line:99,column:16},end:{line:99,column:93}},42:{start:{line:99,column:77},end:{line:99,column:89}},43:{start:{line:103,column:27},end:{line:103,column:57}},44:{start:{line:104,column:16},end:{line:113,column:17}},45:{start:{line:105,column:20},end:{line:105,column:61}},46:{start:{line:107,column:20},end:{line:107,column:54}},47:{start:{line:108,column:20},end:{line:112,column:21}},48:{start:{line:109,column:24},end:{line:109,column:52}},49:{start:{line:110,column:27},end:{line:112,column:21}},50:{start:{line:111,column:24},end:{line:111,column:50}},51:{start:{line:123,column:16},end:{line:127,column:19}},52:{start:{line:124,column:32},end:{line:124,column:85}},53:{start:{line:125,column:20},end:{line:125,column:64}},54:{start:{line:126,column:20},end:{line:126,column:50}},55:{start:{line:131,column:16},end:{line:131,column:47}},56:{start:{line:134,column:8},end:{line:140,column:9}},57:{start:{line:135,column:12},end:{line:139,column:13}},58:{start:{line:136,column:16},end:{line:138,column:18}},59:{start:{line:137,column:20},end:{line:137,column:56}},60:{start:{line:141,column:8},end:{line:141,column:26}},61:{start:{line:150,column:21},end:{line:189,column:9}},62:{start:{line:152,column:16},end:{line:152,column:24}},63:{start:{line:156,column:16},end:{line:156,column:68}},64:{start:{line:160,column:16},end:{line:169,column:17}},65:{start:{line:161,column:32},end:{line:161,column:77}},66:{start:{line:162,column:20},end:{line:166,column:21}},67:{start:{line:163,column:24},end:{line:163,column:87}},68:{start:{line:163,column:49},end:{line:163,column:83}},69:{start:{line:165,column:24},end:{line:165,column:53}},70:{start:{line:168,column:20},end:{line:168,column:63}},71:{start:{line:173,column:16},end:{line:173,column:34}},72:{start:{line:174,column:16},end:{line:177,column:17}},73:{start:{line:175,column:20},end:{line:175,column:37}},74:{start:{line:176,column:20},end:{line:176,column:67}},75:{start:{line:176,column:46},end:{line:176,column:66}},76:{start:{line:181,column:16},end:{line:181,column:55}},77:{start:{line:185,column:16},end:{line:187,column:17}},78:{start:{line:186,column:20},end:{line:186,column:33}},79:{start:{line:190,column:8},end:{line:196,column:9}},80:{start:{line:191,column:12},end:{line:195,column:13}},81:{start:{line:192,column:16},end:{line:194,column:18}},82:{start:{line:193,column:20},end:{line:193,column:73}},83:{start:{line:197,column:8},end:{line:197,column:20}},84:{start:{line:201,column:26},end:{line:313,column:9}},85:{start:{line:209,column:16},end:{line:209,column:24}},86:{start:{line:211,column:16},end:{line:211,column:58}},87:{start:{line:213,column:16},end:{line:213,column:34}},88:{start:{line:215,column:16},end:{line:215,column:38}},89:{start:{line:217,column:16},end:{line:217,column:35}},90:{start:{line:219,column:16},end:{line:219,column:39}},91:{start:{line:221,column:16},end:{line:221,column:40}},92:{start:{line:225,column:16},end:{line:225,column:43}},93:{start:{line:227,column:16},end:{line:227,column:28}},94:{start:{line:231,column:16},end:{line:231,column:38}},95:{start:{line:235,column:16},end:{line:235,column:39}},96:{start:{line:236,column:16},end:{line:236,column:63}},97:{start:{line:240,column:16},end:{line:240,column:35}},98:{start:{line:241,column:16},end:{line:241,column:44}},99:{start:{line:250,column:16},end:{line:260,column:17}},100:{start:{line:251,column:20},end:{line:257,column:23}},101:{start:{line:252,column:24},end:{line:252,column:78}},102:{start:{line:253,column:39},end:{line:253,column:64}},103:{start:{line:254,column:24},end:{line:256,column:25}},104:{start:{line:255,column:28},end:{line:255,column:73}},105:{start:{line:259,column:20},end:{line:259,column:80}},106:{start:{line:269,column:27},end:{line:269,column:53}},107:{start:{line:270,column:16},end:{line:282,column:17}},108:{start:{line:271,column:20},end:{line:276,column:21}},109:{start:{line:273,column:24},end:{line:273,column:87}},110:{start:{line:275,column:24},end:{line:275,column:38}},111:{start:{line:277,column:20},end:{line:280,column:21}},112:{start:{line:278,column:24},end:{line:278,column:41}},113:{start:{line:279,column:24},end:{line:279,column:31}},114:{start:{line:281,column:20},end:{line:281,column:54}},115:{start:{line:283,column:16},end:{line:283,column:47}},116:{start:{line:287,column:16},end:{line:290,column:17}},117:{start:{line:288,column:20},end:{line:288,column:93}},118:{start:{line:289,column:20},end:{line:289,column:39}},119:{start:{line:292,column:39},end:{line:292,column:41}},120:{start:{line:293,column:16},end:{line:295,column:17}},121:{start:{line:294,column:20},end:{line:294,column:129}},122:{start:{line:296,column:39},end:{line:296,column:72}},123:{start:{line:297,column:16},end:{line:300,column:17}},124:{start:{line:298,column:20},end:{line:298,column:47}},125:{start:{line:299,column:20},end:{line:299,column:65}},126:{start:{line:302,column:16},end:{line:310,column:17}},127:{start:{line:303,column:35},end:{line:303,column:83}},128:{start:{line:304,column:32},end:{line:304,column:61}},129:{start:{line:305,column:20},end:{line:309,column:21}},130:{start:{line:307,column:24},end:{line:307,column:53}},131:{start:{line:308,column:24},end:{line:308,column:41}},132:{start:{line:311,column:16},end:{line:311,column:28}},133:{start:{line:314,column:8},end:{line:320,column:9}},134:{start:{line:315,column:12},end:{line:319,column:13}},135:{start:{line:316,column:16},end:{line:318,column:18}},136:{start:{line:317,column:20},end:{line:317,column:56}},137:{start:{line:321,column:8},end:{line:321,column:25}},138:{start:{line:325,column:0},end:{line:325,column:36}},139:{start:{line:326,column:0},end:{line:326,column:35}},140:{start:{line:327,column:0},end:{line:327,column:24}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:50},end:{line:7,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:9,column:4},end:{line:9,column:5}},loc:{start:{line:9,column:64},end:{line:19,column:5}},line:9},2:{name:"(anonymous_2)",decl:{start:{line:21,column:4},end:{line:21,column:5}},loc:{start:{line:21,column:74},end:{line:23,column:5}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:22,column:42},end:{line:22,column:43}},loc:{start:{line:22,column:52},end:{line:22,column:106}},line:22},4:{name:"(anonymous_4)",decl:{start:{line:25,column:4},end:{line:25,column:5}},loc:{start:{line:25,column:40},end:{line:40,column:5}},line:25},5:{name:"(anonymous_5)",decl:{start:{line:42,column:4},end:{line:42,column:5}},loc:{start:{line:42,column:35},end:{line:44,column:5}},line:42},6:{name:"(anonymous_6)",decl:{start:{line:46,column:4},end:{line:46,column:5}},loc:{start:{line:46,column:33},end:{line:48,column:5}},line:46},7:{name:"(anonymous_7)",decl:{start:{line:50,column:4},end:{line:50,column:5}},loc:{start:{line:50,column:34},end:{line:52,column:5}},line:50},8:{name:"(anonymous_8)",decl:{start:{line:54,column:4},end:{line:54,column:5}},loc:{start:{line:54,column:25},end:{line:56,column:5}},line:54},9:{name:"(anonymous_9)",decl:{start:{line:58,column:4},end:{line:58,column:5}},loc:{start:{line:58,column:48},end:{line:65,column:5}},line:58},10:{name:"(anonymous_10)",decl:{start:{line:67,column:4},end:{line:67,column:5}},loc:{start:{line:67,column:44},end:{line:83,column:5}},line:67},11:{name:"(anonymous_11)",decl:{start:{line:77,column:20},end:{line:77,column:21}},loc:{start:{line:77,column:26},end:{line:77,column:57}},line:77},12:{name:"(anonymous_12)",decl:{start:{line:85,column:4},end:{line:85,column:5}},loc:{start:{line:85,column:24},end:{line:142,column:5}},line:85},13:{name:"(anonymous_13)",decl:{start:{line:91,column:12},end:{line:91,column:13}},loc:{start:{line:91,column:38},end:{line:100,column:13}},line:91},14:{name:"(anonymous_14)",decl:{start:{line:99,column:69},end:{line:99,column:70}},loc:{start:{line:99,column:75},end:{line:99,column:91}},line:99},15:{name:"(anonymous_15)",decl:{start:{line:102,column:12},end:{line:102,column:13}},loc:{start:{line:102,column:26},end:{line:114,column:13}},line:102},16:{name:"(anonymous_16)",decl:{start:{line:122,column:12},end:{line:122,column:13}},loc:{start:{line:122,column:40},end:{line:128,column:13}},line:122},17:{name:"(anonymous_17)",decl:{start:{line:123,column:35},end:{line:123,column:36}},loc:{start:{line:123,column:55},end:{line:127,column:17}},line:123},18:{name:"(anonymous_18)",decl:{start:{line:130,column:12},end:{line:130,column:13}},loc:{start:{line:130,column:22},end:{line:132,column:13}},line:130},19:{name:"(anonymous_19)",decl:{start:{line:136,column:49},end:{line:136,column:50}},loc:{start:{line:136,column:68},end:{line:138,column:17}},line:136},20:{name:"(anonymous_20)",decl:{start:{line:149,column:4},end:{line:149,column:5}},loc:{start:{line:149,column:23},end:{line:198,column:5}},line:149},21:{name:"(anonymous_21)",decl:{start:{line:151,column:12},end:{line:151,column:13}},loc:{start:{line:151,column:26},end:{line:153,column:13}},line:151},22:{name:"(anonymous_22)",decl:{start:{line:155,column:12},end:{line:155,column:13}},loc:{start:{line:155,column:41},end:{line:157,column:13}},line:155},23:{name:"(anonymous_23)",decl:{start:{line:159,column:12},end:{line:159,column:13}},loc:{start:{line:159,column:28},end:{line:170,column:13}},line:159},24:{name:"(anonymous_24)",decl:{start:{line:163,column:33},end:{line:163,column:34}},loc:{start:{line:163,column:47},end:{line:163,column:85}},line:163},25:{name:"(anonymous_25)",decl:{start:{line:172,column:12},end:{line:172,column:13}},loc:{start:{line:172,column:23},end:{line:178,column:13}},line:172},26:{name:"(anonymous_26)",decl:{start:{line:176,column:37},end:{line:176,column:38}},loc:{start:{line:176,column:46},end:{line:176,column:66}},line:176},27:{name:"(anonymous_27)",decl:{start:{line:180,column:12},end:{line:180,column:13}},loc:{start:{line:180,column:35},end:{line:182,column:13}},line:180},28:{name:"(anonymous_28)",decl:{start:{line:184,column:12},end:{line:184,column:13}},loc:{start:{line:184,column:22},end:{line:188,column:13}},line:184},29:{name:"(anonymous_29)",decl:{start:{line:192,column:43},end:{line:192,column:44}},loc:{start:{line:192,column:55},end:{line:194,column:17}},line:192},30:{name:"(anonymous_30)",decl:{start:{line:200,column:4},end:{line:200,column:5}},loc:{start:{line:200,column:23},end:{line:322,column:5}},line:200},31:{name:"(anonymous_31)",decl:{start:{line:208,column:12},end:{line:208,column:13}},loc:{start:{line:208,column:67},end:{line:222,column:13}},line:208},32:{name:"(anonymous_32)",decl:{start:{line:224,column:12},end:{line:224,column:13}},loc:{start:{line:224,column:26},end:{line:228,column:13}},line:224},33:{name:"(anonymous_33)",decl:{start:{line:230,column:12},end:{line:230,column:13}},loc:{start:{line:230,column:27},end:{line:232,column:13}},line:230},34:{name:"(anonymous_34)",decl:{start:{line:234,column:12},end:{line:234,column:13}},loc:{start:{line:234,column:32},end:{line:237,column:13}},line:234},35:{name:"(anonymous_35)",decl:{start:{line:239,column:12},end:{line:239,column:13}},loc:{start:{line:239,column:22},end:{line:242,column:13}},line:239},36:{name:"(anonymous_36)",decl:{start:{line:249,column:12},end:{line:249,column:13}},loc:{start:{line:249,column:32},end:{line:261,column:13}},line:249},37:{name:"(anonymous_37)",decl:{start:{line:251,column:39},end:{line:251,column:40}},loc:{start:{line:251,column:59},end:{line:257,column:21}},line:251},38:{name:"(anonymous_38)",decl:{start:{line:268,column:12},end:{line:268,column:13}},loc:{start:{line:268,column:32},end:{line:284,column:13}},line:268},39:{name:"(anonymous_39)",decl:{start:{line:286,column:12},end:{line:286,column:13}},loc:{start:{line:286,column:34},end:{line:312,column:13}},line:286},40:{name:"(anonymous_40)",decl:{start:{line:316,column:48},end:{line:316,column:49}},loc:{start:{line:316,column:67},end:{line:318,column:17}},line:316}},branchMap:{0:{loc:{start:{line:10,column:8},end:{line:18,column:9}},type:"if",locations:[{start:{line:10,column:8},end:{line:18,column:9}},{start:{line:10,column:8},end:{line:18,column:9}}],line:10},1:{loc:{start:{line:14,column:12},end:{line:16,column:13}},type:"if",locations:[{start:{line:14,column:12},end:{line:16,column:13}},{start:{line:14,column:12},end:{line:16,column:13}}],line:14},2:{loc:{start:{line:27,column:12},end:{line:36,column:13}},type:"if",locations:[{start:{line:27,column:12},end:{line:36,column:13}},{start:{line:27,column:12},end:{line:36,column:13}}],line:27},3:{loc:{start:{line:28,column:16},end:{line:33,column:17}},type:"if",locations:[{start:{line:28,column:16},end:{line:33,column:17}},{start:{line:28,column:16},end:{line:33,column:17}}],line:28},4:{loc:{start:{line:51,column:15},end:{line:51,column:92}},type:"binary-expr",locations:[{start:{line:51,column:15},end:{line:51,column:55}},{start:{line:51,column:59},end:{line:51,column:92}}],line:51},5:{loc:{start:{line:55,column:15},end:{line:55,column:138}},type:"cond-expr",locations:[{start:{line:55,column:47},end:{line:55,column:53}},{start:{line:55,column:56},end:{line:55,column:138}}],line:55},6:{loc:{start:{line:55,column:56},end:{line:55,column:138}},type:"cond-expr",locations:[{start:{line:55,column:88},end:{line:55,column:94}},{start:{line:55,column:97},end:{line:55,column:138}}],line:55},7:{loc:{start:{line:55,column:97},end:{line:55,column:138}},type:"cond-expr",locations:[{start:{line:55,column:127},end:{line:55,column:131}},{start:{line:55,column:134},end:{line:55,column:138}}],line:55},8:{loc:{start:{line:59,column:8},end:{line:62,column:9}},type:"if",locations:[{start:{line:59,column:8},end:{line:62,column:9}},{start:{line:59,column:8},end:{line:62,column:9}}],line:59},9:{loc:{start:{line:63,column:40},end:{line:63,column:75}},type:"binary-expr",locations:[{start:{line:63,column:40},end:{line:63,column:69}},{start:{line:63,column:73},end:{line:63,column:75}}],line:63},10:{loc:{start:{line:104,column:16},end:{line:113,column:17}},type:"if",locations:[{start:{line:104,column:16},end:{line:113,column:17}},{start:{line:104,column:16},end:{line:113,column:17}}],line:104},11:{loc:{start:{line:108,column:20},end:{line:112,column:21}},type:"if",locations:[{start:{line:108,column:20},end:{line:112,column:21}},{start:{line:108,column:20},end:{line:112,column:21}}],line:108},12:{loc:{start:{line:110,column:27},end:{line:112,column:21}},type:"if",locations:[{start:{line:110,column:27},end:{line:112,column:21}},{start:{line:110,column:27},end:{line:112,column:21}}],line:110},13:{loc:{start:{line:122,column:29},end:{line:122,column:38}},type:"default-arg",locations:[{start:{line:122,column:36},end:{line:122,column:38}}],line:122},14:{loc:{start:{line:135,column:12},end:{line:139,column:13}},type:"if",locations:[{start:{line:135,column:12},end:{line:139,column:13}},{start:{line:135,column:12},end:{line:139,column:13}}],line:135},15:{loc:{start:{line:135,column:16},end:{line:135,column:93}},type:"binary-expr",locations:[{start:{line:135,column:16},end:{line:135,column:63}},{start:{line:135,column:67},end:{line:135,column:93}}],line:135},16:{loc:{start:{line:162,column:20},end:{line:166,column:21}},type:"if",locations:[{start:{line:162,column:20},end:{line:166,column:21}},{start:{line:162,column:20},end:{line:166,column:21}}],line:162},17:{loc:{start:{line:168,column:47},end:{line:168,column:61}},type:"binary-expr",locations:[{start:{line:168,column:47},end:{line:168,column:56}},{start:{line:168,column:60},end:{line:168,column:61}}],line:168},18:{loc:{start:{line:174,column:16},end:{line:177,column:17}},type:"if",locations:[{start:{line:174,column:16},end:{line:177,column:17}},{start:{line:174,column:16},end:{line:177,column:17}}],line:174},19:{loc:{start:{line:185,column:16},end:{line:187,column:17}},type:"if",locations:[{start:{line:185,column:16},end:{line:187,column:17}},{start:{line:185,column:16},end:{line:187,column:17}}],line:185},20:{loc:{start:{line:191,column:12},end:{line:195,column:13}},type:"if",locations:[{start:{line:191,column:12},end:{line:195,column:13}},{start:{line:191,column:12},end:{line:195,column:13}}],line:191},21:{loc:{start:{line:191,column:16},end:{line:191,column:93}},type:"binary-expr",locations:[{start:{line:191,column:16},end:{line:191,column:63}},{start:{line:191,column:67},end:{line:191,column:93}}],line:191},22:{loc:{start:{line:208,column:42},end:{line:208,column:55}},type:"default-arg",locations:[{start:{line:208,column:49},end:{line:208,column:55}}],line:208},23:{loc:{start:{line:208,column:57},end:{line:208,column:65}},type:"default-arg",locations:[{start:{line:208,column:64},end:{line:208,column:65}}],line:208},24:{loc:{start:{line:250,column:16},end:{line:260,column:17}},type:"if",locations:[{start:{line:250,column:16},end:{line:260,column:17}},{start:{line:250,column:16},end:{line:260,column:17}}],line:250},25:{loc:{start:{line:254,column:24},end:{line:256,column:25}},type:"if",locations:[{start:{line:254,column:24},end:{line:256,column:25}},{start:{line:254,column:24},end:{line:256,column:25}}],line:254},26:{loc:{start:{line:277,column:20},end:{line:280,column:21}},type:"if",locations:[{start:{line:277,column:20},end:{line:280,column:21}},{start:{line:277,column:20},end:{line:280,column:21}}],line:277},27:{loc:{start:{line:287,column:16},end:{line:290,column:17}},type:"if",locations:[{start:{line:287,column:16},end:{line:290,column:17}},{start:{line:287,column:16},end:{line:290,column:17}}],line:287},28:{loc:{start:{line:287,column:20},end:{line:287,column:71}},type:"binary-expr",locations:[{start:{line:287,column:20},end:{line:287,column:49}},{start:{line:287,column:53},end:{line:287,column:71}}],line:287},29:{loc:{start:{line:303,column:35},end:{line:303,column:83}},type:"binary-expr",locations:[{start:{line:303,column:35},end:{line:303,column:60}},{start:{line:303,column:64},end:{line:303,column:83}}],line:303},30:{loc:{start:{line:305,column:20},end:{line:309,column:21}},type:"if",locations:[{start:{line:305,column:20},end:{line:309,column:21}},{start:{line:305,column:20},end:{line:309,column:21}}],line:305},31:{loc:{start:{line:315,column:12},end:{line:319,column:13}},type:"if",locations:[{start:{line:315,column:12},end:{line:319,column:13}},{start:{line:315,column:12},end:{line:319,column:13}}],line:315},32:{loc:{start:{line:315,column:16},end:{line:315,column:93}},type:"binary-expr",locations:[{start:{line:315,column:16},end:{line:315,column:63}},{start:{line:315,column:67},end:{line:315,column:93}}],line:315}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0],23:[0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class IWorker{static async createProxy(n,e,l){M.f[0]++;M.s[0]++;return new(IWorker.Proxy(n))(l,e)}static async startWorkerForProxy(n,e,l){M.f[1]++;M.s[1]++;if(IWorker._workersSupported){M.b[0][1]++;M.s[4]++;if(l)M.b[1][1]++;else{M.b[1][0]++;M.s[5]++;l=`${Nimiq._path}worker.js`}M.s[6]++;return IWorker.createProxy(n,e,new Worker(window.URL.createObjectURL(new Blob([`Nimiq = {_path: '${Nimiq._path}'}; importScripts('${l.replace(/'/g,"")}');`]))))}M.b[0][0]++;M.s[2]++;await IWorker._workerImplementation[n.name].init(e);M.s[3]++;return IWorker._workerImplementation[n.name]}static async startWorkerPoolForProxy(n,e,l,t){M.f[2]++;M.s[7]++;return new(IWorker.Pool(n))(e=>{M.f[3]++;M.s[8]++;return IWorker.startWorkerForProxy(n,e,t)},e,l).start()}static async stubBaseOnMessage(n){M.f[4]++;M.s[9]++;try{M.s[10]++;if("init"===n.data.command){M.b[2][0]++;M.s[11]++;if(IWorker._workerImplementation[n.data.args[0]]){M.b[3][0]++;const e=(M.s[12]++,await IWorker._workerImplementation[n.data.args[0]].init(n.data.args[1]));M.s[13]++;self.postMessage({status:"OK",result:e,id:n.data.id})}else{M.b[3][1]++;M.s[14]++;self.postMessage({status:"error",result:"Unknown worker!",id:n.data.id})}}else{M.b[2][1]++;M.s[15]++;self.postMessage({status:"error",result:"Worker not yet initialized!",id:n.data.id})}}catch(e){M.s[16]++;self.postMessage({status:"error",result:e,id:n.data.id})}}static get _workersSupported(){M.f[5]++;M.s[17]++;return"undefined"!=typeof Worker}static get areWorkersAsync(){M.f[6]++;M.s[18]++;return IWorker._workersSupported}static get _insideWebWorker(){M.f[7]++;M.s[19]++;return(M.b[4][0]++,"undefined"!=typeof WorkerGlobalScope)&&(M.b[4][1]++,self instanceof WorkerGlobalScope)}static get _global(){M.f[8]++;M.s[20]++;return"undefined"!=typeof global?(M.b[5][0]++,global):(M.b[5][1]++,"undefined"!=typeof window?(M.b[6][0]++,window):(M.b[6][1]++,"undefined"!=typeof self?(M.b[7][0]++,self):(M.b[7][1]++,null)))}static prepareForWorkerUse(n,e){M.f[9]++;M.s[21]++;if(IWorker._insideWebWorker){M.b[8][0]++;M.s[22]++;self.onmessage=IWorker.stubBaseOnMessage}else M.b[8][1]++;M.s[23]++;IWorker._workerImplementation=(M.b[9][0]++,IWorker._workerImplementation)||(M.b[9][1]++,{});M.s[24]++;IWorker._workerImplementation[n.name]=e}static _loadBrowserScript(n,e){M.f[10]++;const l=(M.s[25]++,document.getElementsByTagName("head")[0]),t=(M.s[26]++,document.createElement("script"));M.s[27]++;t.type="text/javascript";M.s[28]++;t.src=n;M.s[29]++;const o=()=>{M.f[11]++;M.s[30]++;return window.setTimeout(e,100)};M.s[31]++;t.onreadystatechange=o;M.s[32]++;t.onload=o;M.s[33]++;l.appendChild(t)}static Proxy(n){M.f[12]++;M.s[34]++;const e=class extends n{constructor(e,l){M.f[13]++;M.s[35]++;super();M.s[36]++;this._name=l;M.s[37]++;this._messageId=0;M.s[38]++;this._worker=e;M.s[39]++;this._worker.onmessage=this._receive.bind(this);M.s[40]++;this._waiting=new Map;M.s[41]++;return this._invoke("init",[n.name,l]).then(()=>{M.f[14]++;M.s[42]++;return this})}_receive(n){M.f[15]++;const e=(M.s[43]++,this._waiting.get(n.data.id));M.s[44]++;if(e){M.b[10][1]++;M.s[46]++;this._waiting["delete"](n.data.id);M.s[47]++;if("OK"===n.data.status){M.b[11][0]++;M.s[48]++;e.resolve(n.data.result)}else{M.b[11][1]++;M.s[49]++;if("error"===n.data.status){M.b[12][0]++;M.s[50]++;e.error(n.data.result)}else M.b[12][1]++}}else{M.b[10][0]++;M.s[45]++;Log.w(WorkerProxy,"Unknown reply",n)}}_invoke(n,e=(M.b[13][0]++,[])){M.f[16]++;M.s[51]++;return new Promise((l,t)=>{M.f[17]++;const o=(M.s[52]++,{command:n,args:e,id:this._messageId++});M.s[53]++;this._waiting.set(o.id,{resolve:l,error:t});M.s[54]++;this._worker.postMessage(o)})}destroy(){M.f[18]++;M.s[55]++;return this._invoke("destroy")}};M.s[56]++;for(const l of Object.getOwnPropertyNames(n.prototype)){M.s[57]++;if((M.b[15][0]++,"function"==typeof n.prototype[l])&&(M.b[15][1]++,"constructor"!==l)){M.b[14][0]++;M.s[58]++;e.prototype[l]=function(...n){M.f[19]++;M.s[59]++;return this._invoke(l,n)}}else M.b[14][1]++}M.s[60]++;return e}static Stub(n){M.f[20]++;M.s[61]++;const e=class extends n{constructor(){M.f[21]++;M.s[62]++;super()}_result(n,e,l){M.f[22]++;M.s[63]++;self.postMessage({status:e,result:l,id:n.data.id})}_onmessage(n){M.f[23]++;M.s[64]++;try{const l=(M.s[65]++,this._invoke(n.data.command,n.data.args));M.s[66]++;if(l instanceof Promise){M.b[16][0]++;M.s[67]++;l.then(e=>{M.f[24]++;M.s[68]++;this._result(n,"OK",e)})}else{M.b[16][1]++;M.s[69]++;this._result(n,"OK",l)}}catch(e){M.s[70]++;this._result(n,"error",(M.b[17][0]++,e.message)||(M.b[17][1]++,e))}}init(n){M.f[25]++;M.s[71]++;this._name=n;M.s[72]++;if(IWorker._insideWebWorker){M.b[18][0]++;M.s[73]++;self.name=n;M.s[74]++;self.onmessage=(n=>{M.f[26]++;M.s[75]++;return this._onmessage(n)})}else M.b[18][1]++}_invoke(n,e){M.f[27]++;M.s[76]++;return this[n].apply(this,e)}destroy(){M.f[28]++;M.s[77]++;if(IWorker._insideWebWorker){M.b[19][0]++;M.s[78]++;self.close()}else M.b[19][1]++}};M.s[79]++;for(const l of Object.getOwnPropertyNames(n.prototype)){M.s[80]++;if((M.b[21][0]++,"function"==typeof n.prototype[l])&&(M.b[21][1]++,"constructor"!==l)){M.b[20][0]++;M.s[81]++;e.prototype[l]=function(){M.f[29]++;M.s[82]++;throw`Not implemented in IWorker Stub: ${l}`}}else M.b[20][1]++}M.s[83]++;return e}static Pool(n){M.f[30]++;M.s[84]++;const e=class extends n{constructor(n,e=(M.b[22][0]++,"pool"),l=(M.b[23][0]++,1)){M.f[31]++;M.s[85]++;super();M.s[86]++;this._proxyInitializer=n;M.s[87]++;this._name=e;M.s[88]++;this._poolSize=l;M.s[89]++;this._workers=[];M.s[90]++;this._freeWorkers=[];M.s[91]++;this._waitingCalls=[]}async start(){M.f[32]++;M.s[92]++;await this._updateToSize();M.s[93]++;return this}get poolSize(){M.f[33]++;M.s[94]++;return this._poolSize}set poolSize(n){M.f[34]++;M.s[95]++;this._poolSize=n;M.s[96]++;this._updateToSize()["catch"](Log.w.tag(IWorker))}destroy(){M.f[35]++;M.s[97]++;this._poolSize=0;M.s[98]++;return this._updateToSize()}_invoke(n,e){M.f[36]++;M.s[99]++;if(IWorker._workersSupported){M.b[24][0]++;M.s[100]++;return new Promise((l,t)=>{M.f[37]++;M.s[101]++;this._waitingCalls.push({name:n,args:e,resolve:l,error:t});const o=(M.s[102]++,this._freeWorkers.shift());M.s[103]++;if(o){M.b[25][0]++;M.s[104]++;this._step(o)["catch"](Log.w.tag(IWorker))}else M.b[25][1]++})}M.b[24][1]++;M.s[105]++;return this._workers[0][n].apply(this._workers[0],e)}async _step(n){M.f[38]++;let e=(M.s[106]++,this._waitingCalls.shift());M.s[107]++;for(;e;){M.s[108]++;try{M.s[109]++;e.resolve(await n[e.name].apply(n,e.args))}catch(l){M.s[110]++;e.error(l)}M.s[111]++;if(-1===this._workers.indexOf(n)){M.b[26][0]++;M.s[112]++;n.destroy();M.s[113]++;return}M.b[26][1]++;M.s[114]++;e=this._waitingCalls.shift()}M.s[115]++;this._freeWorkers.push(n)}async _updateToSize(){M.f[39]++;M.s[116]++;if((M.b[28][0]++,"undefined"==typeof Worker)&&(M.b[28][1]++,this._poolSize>1)){M.b[27][0]++;M.s[117]++;Log.d(IWorker,"Pool of size larger than 1 requires WebWorker support.");M.s[118]++;this._poolSize=1}else M.b[27][1]++;const n=(M.s[119]++,[]);M.s[120]++;for(;this._workers.length+n.length<this._poolSize;){M.s[121]++;n.push(this._proxyInitializer(`${this._name}#${this._workers.length+n.length}`))}const e=(M.s[122]++,await Promise.all(n));M.s[123]++;for(const l of e){M.s[124]++;this._workers.push(l);M.s[125]++;this._step(l)["catch"](Log.w.tag(IWorker))}M.s[126]++;for(;this._workers.length>this._poolSize;){const n=(M.s[127]++,(M.b[29][0]++,this._freeWorkers.shift())||(M.b[29][1]++,this._workers.pop())),e=(M.s[128]++,this._workers.indexOf(n));M.s[129]++;if(e>=0){M.b[30][0]++;M.s[130]++;this._workers.splice(e,1);M.s[131]++;n.destroy()}else M.b[30][1]++}M.s[132]++;return this}};M.s[133]++;for(const l of Object.getOwnPropertyNames(n.prototype)){M.s[134]++;if((M.b[32][0]++,"function"==typeof n.prototype[l])&&(M.b[32][1]++,"constructor"!==l)){M.b[31][0]++;M.s[135]++;e.prototype[l]=function(...n){M.f[40]++;M.s[136]++;return this._invoke(l,n)}}else M.b[31][1]++}M.s[137]++;return e}}M.s[138]++;IWorker._moduleLoadedCallbacks={};M.s[139]++;IWorker._workerImplementation={};M.s[140]++;Class.register(IWorker);var N=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/WasmHelper.js",e="b80ce5e705028a1e76cd0466782e4c2506b34efc",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/WasmHelper.js",statementMap:{0:{start:{line:4,column:8},end:{line:4,column:45}},1:{start:{line:4,column:38},end:{line:4,column:45}},2:{start:{line:5,column:8},end:{line:8,column:9}},3:{start:{line:6,column:12},end:{line:6,column:63}},4:{start:{line:7,column:12},end:{line:7,column:19}},5:{start:{line:9,column:8},end:{line:9,column:41}},6:{start:{line:10,column:8},end:{line:14,column:9}},7:{start:{line:11,column:12},end:{line:11,column:67}},8:{start:{line:13,column:12},end:{line:13,column:65}},9:{start:{line:15,column:8},end:{line:15,column:42}},10:{start:{line:19,column:8},end:{line:19,column:46}},11:{start:{line:19,column:39},end:{line:19,column:46}},12:{start:{line:20,column:8},end:{line:24,column:9}},13:{start:{line:21,column:12},end:{line:21,column:60}},14:{start:{line:23,column:12},end:{line:23,column:58}},15:{start:{line:33,column:8},end:{line:33,column:48}},16:{start:{line:34,column:8},end:{line:37,column:9}},17:{start:{line:35,column:12},end:{line:35,column:71}},18:{start:{line:36,column:12},end:{line:36,column:42}},19:{start:{line:39,column:8},end:{line:58,column:11}},20:{start:{line:40,column:12},end:{line:57,column:13}},21:{start:{line:41,column:28},end:{line:41,column:48}},22:{start:{line:42,column:16},end:{line:42,column:44}},23:{start:{line:43,column:16},end:{line:43,column:49}},24:{start:{line:44,column:16},end:{line:48,column:18}},25:{start:{line:45,column:20},end:{line:45,column:82}},26:{start:{line:46,column:20},end:{line:46,column:73}},27:{start:{line:47,column:20},end:{line:47,column:34}},28:{start:{line:49,column:16},end:{line:52,column:18}},29:{start:{line:50,column:20},end:{line:50,column:85}},30:{start:{line:51,column:20},end:{line:51,column:35}},31:{start:{line:53,column:16},end:{line:53,column:31}},32:{start:{line:55,column:16},end:{line:55,column:81}},33:{start:{line:56,column:16},end:{line:56,column:31}},34:{start:{line:62,column:8},end:{line:62,column:48}},35:{start:{line:63,column:8},end:{line:66,column:9}},36:{start:{line:64,column:12},end:{line:64,column:71}},37:{start:{line:65,column:12},end:{line:65,column:25}},38:{start:{line:68,column:29},end:{line:74,column:9}},39:{start:{line:69,column:22},end:{line:69,column:48}},40:{start:{line:70,column:12},end:{line:72,column:13}},41:{start:{line:71,column:16},end:{line:71,column:30}},42:{start:{line:73,column:12},end:{line:73,column:21}},43:{start:{line:75,column:19},end:{line:75,column:32}},44:{start:{line:76,column:8},end:{line:84,column:9}},45:{start:{line:77,column:25},end:{line:77,column:46}},46:{start:{line:78,column:12},end:{line:78,column:74}},47:{start:{line:79,column:12},end:{line:79,column:71}},48:{start:{line:80,column:12},end:{line:80,column:24}},49:{start:{line:82,column:12},end:{line:82,column:83}},50:{start:{line:83,column:12},end:{line:83,column:25}},51:{start:{line:88,column:8},end:{line:88,column:97}},52:{start:{line:88,column:84},end:{line:88,column:97}},53:{start:{line:89,column:8},end:{line:89,column:54}},54:{start:{line:91,column:31},end:{line:91,column:63}},55:{start:{line:92,column:8},end:{line:116,column:11}},56:{start:{line:93,column:12},end:{line:95,column:13}},57:{start:{line:94,column:16},end:{line:94,column:74}},58:{start:{line:94,column:60},end:{line:94,column:73}},59:{start:{line:96,column:12},end:{line:115,column:13}},60:{start:{line:97,column:16},end:{line:100,column:19}},61:{start:{line:98,column:20},end:{line:98,column:72}},62:{start:{line:99,column:20},end:{line:99,column:42}},63:{start:{line:101,column:16},end:{line:101,column:88}},64:{start:{line:102,column:16},end:{line:102,column:43}},65:{start:{line:102,column:29},end:{line:102,column:43}},66:{start:{line:103,column:19},end:{line:115,column:13}},67:{start:{line:104,column:16},end:{line:107,column:19}},68:{start:{line:105,column:20},end:{line:105,column:72}},69:{start:{line:106,column:20},end:{line:106,column:58}},70:{start:{line:108,column:16},end:{line:108,column:88}},71:{start:{line:109,column:16},end:{line:109,column:43}},72:{start:{line:109,column:29},end:{line:109,column:43}},73:{start:{line:110,column:19},end:{line:115,column:13}},74:{start:{line:111,column:16},end:{line:111,column:77}},75:{start:{line:112,column:16},end:{line:112,column:43}},76:{start:{line:112,column:29},end:{line:112,column:43}},77:{start:{line:114,column:16},end:{line:114,column:50}},78:{start:{line:120,column:8},end:{line:120,column:97}},79:{start:{line:120,column:84},end:{line:120,column:97}},80:{start:{line:121,column:8},end:{line:121,column:54}},81:{start:{line:123,column:31},end:{line:123,column:63}},82:{start:{line:125,column:8},end:{line:128,column:9}},83:{start:{line:126,column:12},end:{line:126,column:73}},84:{start:{line:127,column:12},end:{line:127,column:37}},85:{start:{line:127,column:25},end:{line:127,column:37}},86:{start:{line:129,column:8},end:{line:129,column:21}},87:{start:{line:133,column:8},end:{line:136,column:9}},88:{start:{line:134,column:12},end:{line:134,column:56}},89:{start:{line:135,column:12},end:{line:135,column:61}},90:{start:{line:140,column:21},end:{line:140,column:61}},91:{start:{line:141,column:23},end:{line:141,column:55}},92:{start:{line:142,column:8},end:{line:142,column:40}},93:{start:{line:143,column:8},end:{line:143,column:25}},94:{start:{line:144,column:8},end:{line:144,column:33}},95:{start:{line:148,column:8},end:{line:148,column:88}},96:{start:{line:148,column:57},end:{line:148,column:88}},97:{start:{line:149,column:8},end:{line:149,column:101}},98:{start:{line:149,column:71},end:{line:149,column:101}},99:{start:{line:150,column:8},end:{line:150,column:20}},100:{start:{line:154,column:8},end:{line:154,column:92}},101:{start:{line:154,column:57},end:{line:154,column:92}},102:{start:{line:155,column:8},end:{line:155,column:107}},103:{start:{line:155,column:73},end:{line:155,column:107}},104:{start:{line:156,column:8},end:{line:156,column:22}},105:{start:{line:160,column:8},end:{line:160,column:139}},106:{start:{line:163,column:0},end:{line:163,column:39}},107:{start:{line:165,column:0},end:{line:165,column:27}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:3,column:4},end:{line:3,column:5}},loc:{start:{line:3,column:35},end:{line:16,column:5}},line:3},1:{name:"(anonymous_1)",decl:{start:{line:18,column:4},end:{line:18,column:5}},loc:{start:{line:18,column:28},end:{line:25,column:5}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:32,column:4},end:{line:32,column:5}},loc:{start:{line:32,column:54},end:{line:59,column:5}},line:32},3:{name:"(anonymous_3)",decl:{start:{line:39,column:27},end:{line:39,column:28}},loc:{start:{line:39,column:40},end:{line:58,column:9}},line:39},4:{name:"(anonymous_4)",decl:{start:{line:44,column:29},end:{line:44,column:30}},loc:{start:{line:44,column:41},end:{line:48,column:17}},line:44},5:{name:"(anonymous_5)",decl:{start:{line:49,column:30},end:{line:49,column:31}},loc:{start:{line:49,column:42},end:{line:52,column:17}},line:49},6:{name:"(anonymous_6)",decl:{start:{line:61,column:4},end:{line:61,column:5}},loc:{start:{line:61,column:53},end:{line:85,column:5}},line:61},7:{name:"(anonymous_7)",decl:{start:{line:68,column:29},end:{line:68,column:30}},loc:{start:{line:68,column:44},end:{line:74,column:9}},line:68},8:{name:"(anonymous_8)",decl:{start:{line:87,column:4},end:{line:87,column:5}},loc:{start:{line:87,column:58},end:{line:117,column:5}},line:87},9:{name:"(anonymous_9)",decl:{start:{line:92,column:27},end:{line:92,column:28}},loc:{start:{line:92,column:54},end:{line:116,column:9}},line:92},10:{name:"(anonymous_10)",decl:{start:{line:94,column:54},end:{line:94,column:55}},loc:{start:{line:94,column:60},end:{line:94,column:73}},line:94},11:{name:"(anonymous_11)",decl:{start:{line:97,column:34},end:{line:97,column:35}},loc:{start:{line:97,column:47},end:{line:100,column:17}},line:97},12:{name:"(anonymous_12)",decl:{start:{line:104,column:34},end:{line:104,column:35}},loc:{start:{line:104,column:47},end:{line:107,column:17}},line:104},13:{name:"(anonymous_13)",decl:{start:{line:119,column:4},end:{line:119,column:5}},loc:{start:{line:119,column:57},end:{line:130,column:5}},line:119},14:{name:"(anonymous_14)",decl:{start:{line:132,column:4},end:{line:132,column:5}},loc:{start:{line:132,column:47},end:{line:137,column:5}},line:132},15:{name:"(anonymous_15)",decl:{start:{line:139,column:4},end:{line:139,column:5}},loc:{start:{line:139,column:35},end:{line:145,column:5}},line:139},16:{name:"(anonymous_16)",decl:{start:{line:147,column:4},end:{line:147,column:5}},loc:{start:{line:147,column:33},end:{line:151,column:5}},line:147},17:{name:"(anonymous_17)",decl:{start:{line:153,column:4},end:{line:153,column:5}},loc:{start:{line:153,column:37},end:{line:157,column:5}},line:153},18:{name:"(anonymous_18)",decl:{start:{line:159,column:4},end:{line:159,column:5}},loc:{start:{line:159,column:25},end:{line:161,column:5}},line:159}},branchMap:{0:{loc:{start:{line:4,column:8},end:{line:4,column:45}},type:"if",locations:[{start:{line:4,column:8},end:{line:4,column:45}},{start:{line:4,column:8},end:{line:4,column:45}}],line:4},1:{loc:{start:{line:5,column:8},end:{line:8,column:9}},type:"if",locations:[{start:{line:5,column:8},end:{line:8,column:9}},{start:{line:5,column:8},end:{line:8,column:9}}],line:5},2:{loc:{start:{line:10,column:8},end:{line:14,column:9}},type:"if",locations:[{start:{line:10,column:8},end:{line:14,column:9}},{start:{line:10,column:8},end:{line:14,column:9}}],line:10},3:{loc:{start:{line:19,column:8},end:{line:19,column:46}},type:"if",locations:[{start:{line:19,column:8},end:{line:19,column:46}},{start:{line:19,column:8},end:{line:19,column:46}}],line:19},4:{loc:{start:{line:20,column:8},end:{line:24,column:9}},type:"if",locations:[{start:{line:20,column:8},end:{line:24,column:9}},{start:{line:20,column:8},end:{line:24,column:9}}],line:20},5:{loc:{start:{line:32,column:35},end:{line:32,column:52}},type:"default-arg",locations:[{start:{line:32,column:44},end:{line:32,column:52}}],line:32},6:{loc:{start:{line:34,column:8},end:{line:37,column:9}},type:"if",locations:[{start:{line:34,column:8},end:{line:37,column:9}},{start:{line:34,column:8},end:{line:37,column:9}}],line:34},7:{loc:{start:{line:45,column:49},end:{line:45,column:81}},type:"binary-expr",locations:[{start:{line:45,column:49},end:{line:45,column:75}},{start:{line:45,column:79},end:{line:45,column:81}}],line:45},8:{loc:{start:{line:61,column:34},end:{line:61,column:51}},type:"default-arg",locations:[{start:{line:61,column:43},end:{line:61,column:51}}],line:61},9:{loc:{start:{line:63,column:8},end:{line:66,column:9}},type:"if",locations:[{start:{line:63,column:8},end:{line:66,column:9}},{start:{line:63,column:8},end:{line:66,column:9}}],line:63},10:{loc:{start:{line:78,column:41},end:{line:78,column:73}},type:"binary-expr",locations:[{start:{line:78,column:41},end:{line:78,column:67}},{start:{line:78,column:71},end:{line:78,column:73}}],line:78},11:{loc:{start:{line:87,column:39},end:{line:87,column:56}},type:"default-arg",locations:[{start:{line:87,column:48},end:{line:87,column:56}}],line:87},12:{loc:{start:{line:88,column:8},end:{line:88,column:97}},type:"if",locations:[{start:{line:88,column:8},end:{line:88,column:97}},{start:{line:88,column:8},end:{line:88,column:97}}],line:88},13:{loc:{start:{line:88,column:12},end:{line:88,column:82}},type:"binary-expr",locations:[{start:{line:88,column:12},end:{line:88,column:18}},{start:{line:88,column:22},end:{line:88,column:48}},{start:{line:88,column:52},end:{line:88,column:82}}],line:88},14:{loc:{start:{line:91,column:31},end:{line:91,column:63}},type:"binary-expr",locations:[{start:{line:91,column:31},end:{line:91,column:57}},{start:{line:91,column:61},end:{line:91,column:63}}],line:91},15:{loc:{start:{line:93,column:12},end:{line:95,column:13}},type:"if",locations:[{start:{line:93,column:12},end:{line:95,column:13}},{start:{line:93,column:12},end:{line:95,column:13}}],line:93},16:{loc:{start:{line:96,column:12},end:{line:115,column:13}},type:"if",locations:[{start:{line:96,column:12},end:{line:115,column:13}},{start:{line:96,column:12},end:{line:115,column:13}}],line:96},17:{loc:{start:{line:102,column:16},end:{line:102,column:43}},type:"if",locations:[{start:{line:102,column:16},end:{line:102,column:43}},{start:{line:102,column:16},end:{line:102,column:43}}],line:102},18:{loc:{start:{line:103,column:19},end:{line:115,column:13}},type:"if",locations:[{start:{line:103,column:19},end:{line:115,column:13}},{start:{line:103,column:19},end:{line:115,column:13}}],line:103},19:{loc:{start:{line:109,column:16},end:{line:109,column:43}},type:"if",locations:[{start:{line:109,column:16},end:{line:109,column:43}},{start:{line:109,column:16},end:{line:109,column:43}}],line:109},20:{loc:{start:{line:110,column:19},end:{line:115,column:13}},type:"if",locations:[{start:{line:110,column:19},end:{line:115,column:13}},{start:{line:110,column:19},end:{line:115,column:13}}],line:110},21:{loc:{start:{line:112,column:16},end:{line:112,column:43}},type:"if",locations:[{start:{line:112,column:16},end:{line:112,column:43}},{start:{line:112,column:16},end:{line:112,column:43}}],line:112},22:{loc:{start:{line:119,column:38},end:{line:119,column:55}},type:"default-arg",locations:[{start:{line:119,column:47},end:{line:119,column:55}}],line:119},23:{loc:{start:{line:120,column:8},end:{line:120,column:97}},type:"if",locations:[{start:{line:120,column:8},end:{line:120,column:97}},{start:{line:120,column:8},end:{line:120,column:97}}],line:120},24:{loc:{start:{line:120,column:12},end:{line:120,column:82}},type:"binary-expr",locations:[{start:{line:120,column:12},end:{line:120,column:18}},{start:{line:120,column:22},end:{line:120,column:48}},{start:{line:120,column:52},end:{line:120,column:82}}],line:120},25:{loc:{start:{line:123,column:31},end:{line:123,column:63}},type:"binary-expr",locations:[{start:{line:123,column:31},end:{line:123,column:57}},{start:{line:123,column:61},end:{line:123,column:63}}],line:123},26:{loc:{start:{line:125,column:8},end:{line:128,column:9}},type:"if",locations:[{start:{line:125,column:8},end:{line:128,column:9}},{start:{line:125,column:8},end:{line:128,column:9}}],line:125},27:{loc:{start:{line:127,column:12},end:{line:127,column:37}},type:"if",locations:[{start:{line:127,column:12},end:{line:127,column:37}},{start:{line:127,column:12},end:{line:127,column:37}}],line:127},28:{loc:{start:{line:132,column:28},end:{line:132,column:45}},type:"default-arg",locations:[{start:{line:132,column:37},end:{line:132,column:45}}],line:132},29:{loc:{start:{line:133,column:8},end:{line:136,column:9}},type:"if",locations:[{start:{line:133,column:8},end:{line:136,column:9}},{start:{line:133,column:8},end:{line:136,column:9}}],line:133},30:{loc:{start:{line:148,column:8},end:{line:148,column:88}},type:"if",locations:[{start:{line:148,column:8},end:{line:148,column:88}},{start:{line:148,column:8},end:{line:148,column:88}}],line:148},31:{loc:{start:{line:148,column:12},end:{line:148,column:55}},type:"binary-expr",locations:[{start:{line:148,column:12},end:{line:148,column:40}},{start:{line:148,column:44},end:{line:148,column:55}}],line:148},32:{loc:{start:{line:149,column:8},end:{line:149,column:101}},type:"if",locations:[{start:{line:149,column:8},end:{line:149,column:101}},{start:{line:149,column:8},end:{line:149,column:101}}],line:149},33:{loc:{start:{line:149,column:12},end:{line:149,column:69}},type:"binary-expr",locations:[{start:{line:149,column:12},end:{line:149,column:41}},{start:{line:149,column:45},end:{line:149,column:69}}],line:149},34:{loc:{start:{line:154,column:8},end:{line:154,column:92}},type:"if",locations:[{start:{line:154,column:8},end:{line:154,column:92}},{start:{line:154,column:8},end:{line:154,column:92}}],line:154},35:{loc:{start:{line:154,column:12},end:{line:154,column:55}},type:"binary-expr",locations:[{start:{line:154,column:12},end:{line:154,column:40}},{start:{line:154,column:44},end:{line:154,column:55}}],line:154},36:{loc:{start:{line:155,column:8},end:{line:155,column:107}},type:"if",locations:[{start:{line:155,column:8},end:{line:155,column:107}},{start:{line:155,column:8},end:{line:155,column:107}}],line:155},37:{loc:{start:{line:155,column:12},end:{line:155,column:71}},type:"binary-expr",locations:[{start:{line:155,column:12},end:{line:155,column:41}},{start:{line:155,column:45},end:{line:155,column:71}}],line:155},38:{loc:{start:{line:160,column:15},end:{line:160,column:138}},type:"cond-expr",locations:[{start:{line:160,column:47},end:{line:160,column:53}},{start:{line:160,column:56},end:{line:160,column:138}}],line:160},39:{loc:{start:{line:160,column:56},end:{line:160,column:138}},type:"cond-expr",locations:[{start:{line:160,column:88},end:{line:160,column:94}},{start:{line:160,column:97},end:{line:160,column:138}}],line:160},40:{loc:{start:{line:160,column:97},end:{line:160,column:138}},type:"cond-expr",locations:[{start:{line:160,column:127},end:{line:160,column:131}},{start:{line:160,column:134},end:{line:160,column:138}}],line:160}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0],6:[0,0],7:[0,0],8:[0],9:[0,0],10:[0,0],11:[0],12:[0,0],13:[0,0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0],23:[0,0],24:[0,0,0],25:[0,0],26:[0,0],27:[0,0],28:[0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class WasmHelper{static async doImportBrowser(){N.f[0]++;N.s[0]++;if(PlatformUtils.isNodeJs()){N.b[0][0]++;N.s[1]++}else{N.b[0][1]++;N.s[2]++;if(WasmHelper._importStarted){N.b[1][0]++;N.s[3]++;Log.e(WasmHelper,"doImportBrowser invoked twice");N.s[4]++}else{N.b[1][1]++;N.s[5]++;WasmHelper._importStarted=!0;N.s[6]++;if(await WasmHelper.importWasmBrowser("worker-wasm.wasm")){N.b[2][0]++;N.s[7]++;await WasmHelper.importScriptBrowser("worker-wasm.js")}else{N.b[2][1]++;N.s[8]++;await WasmHelper.importScriptBrowser("worker-js.js")}N.s[9]++;WasmHelper._importFinished=!0}}}static doImportNodeJs(){N.f[1]++;N.s[10]++;if(PlatformUtils.isNodeJs()){N.b[3][1]++;N.s[12]++;if(WasmHelper.importWasmNodeJs("worker-wasm.wasm")){N.b[4][0]++;N.s[13]++;WasmHelper.importScriptNodeJs("worker-wasm.js")}else{N.b[4][1]++;N.s[14]++;WasmHelper.importScriptNodeJs("worker-js.js")}}else{N.b[3][0]++;N.s[11]++}}static importWasmBrowser(n,e=(N.b[5][0]++,"Module")){N.f[2]++;N.s[15]++;n=WasmHelper._adjustWasmPath(n);N.s[16]++;if(!WasmHelper._global.WebAssembly){N.b[6][0]++;N.s[17]++;Log.w(WasmHelper,"No support for WebAssembly available.");N.s[18]++;return Promise.resolve(!1)}N.b[6][1]++;N.s[19]++;return new Promise(l=>{N.f[3]++;N.s[20]++;try{const o=(N.s[21]++,new XMLHttpRequest);N.s[22]++;o.open("GET",n,!0);N.s[23]++;o.responseType="arraybuffer";N.s[24]++;o.onload=function(){N.f[4]++;N.s[25]++;WasmHelper._global[e]=(N.b[7][0]++,WasmHelper._global[e])||(N.b[7][1]++,{});N.s[26]++;WasmHelper._global[e].wasmBinary=o.response;N.s[27]++;l(!0)};N.s[28]++;o.onerror=function(){N.f[5]++;N.s[29]++;Log.w(WasmHelper,`Failed to access WebAssembly module ${n}`);N.s[30]++;l(!1)};N.s[31]++;o.send(null)}catch(t){N.s[32]++;Log.w(WasmHelper,`Failed to access WebAssembly module ${n}`);N.s[33]++;l(!1)}})}static importWasmNodeJs(n,e=(N.b[8][0]++,"Module")){N.f[6]++;N.s[34]++;n=WasmHelper._adjustWasmPath(n);N.s[35]++;if(!WasmHelper._global.WebAssembly){N.b[9][0]++;N.s[36]++;Log.w(WasmHelper,"No support for WebAssembly available.");N.s[37]++;return!1}N.b[9][1]++;N.s[38]++;const l=(N.s[43]++,require("fs"));N.s[44]++;try{const o=(N.s[45]++,l.readFileSync(n));N.s[46]++;WasmHelper._global[e]=(N.b[10][0]++,WasmHelper._global[e])||(N.b[10][1]++,{});N.s[47]++;WasmHelper._global[e].wasmBinary=function(n){N.f[7]++;const e=(N.s[39]++,new Uint8Array(n.length));N.s[40]++;for(let l=0;l<n.length;++l){N.s[41]++;e[l]=n[l]}N.s[42]++;return e}(o);N.s[48]++;return!0}catch(t){N.s[49]++;Log.w(WasmHelper,`Failed to access WebAssembly module ${n}: ${t}`);N.s[50]++;return!1}}static importScriptBrowser(n,e=(N.b[11][0]++,"Module")){N.f[8]++;N.s[51]++;if((N.b[13][0]++,e)&&(N.b[13][1]++,WasmHelper._global[e])&&(N.b[13][2]++,WasmHelper._global[e].asm)){N.b[12][0]++;N.s[52]++;return!1}N.b[12][1]++;N.s[53]++;n=WasmHelper._adjustScriptPath(n);const l=(N.s[54]++,(N.b[14][0]++,WasmHelper._global[e])||(N.b[14][1]++,{}));N.s[55]++;return new Promise(async(t,o)=>{N.f[9]++;N.s[56]++;if(e){N.b[15][0]++;N.s[57]++;l.onRuntimeInitialized=(()=>{N.f[10]++;N.s[58]++;return t(!0)})}else N.b[15][1]++;N.s[59]++;if("function"==typeof importScripts){N.b[16][0]++;N.s[60]++;await new Promise(l=>{N.f[11]++;N.s[61]++;WasmHelper._moduleLoadedCallbacks[e]=l;N.s[62]++;importScripts(n)});N.s[63]++;WasmHelper._global[e]=WasmHelper._global[e](l);N.s[64]++;if(e)N.b[17][1]++;else{N.b[17][0]++;N.s[65]++;t(!0)}}else{N.b[16][1]++;N.s[66]++;if("object"==typeof window){N.b[18][0]++;N.s[67]++;await new Promise(l=>{N.f[12]++;N.s[68]++;WasmHelper._moduleLoadedCallbacks[e]=l;N.s[69]++;WasmHelper._loadBrowserScript(n)});N.s[70]++;WasmHelper._global[e]=WasmHelper._global[e](l);N.s[71]++;if(e)N.b[19][1]++;else{N.b[19][0]++;N.s[72]++;t(!0)}}else{N.b[18][1]++;N.s[73]++;if("function"==typeof require){N.b[20][0]++;N.s[74]++;WasmHelper._global[e]=require(n)(l);N.s[75]++;if(e)N.b[21][1]++;else{N.b[21][0]++;N.s[76]++;t(!0)}}else{N.b[20][1]++;N.s[77]++;o("No way to load scripts.")}}}})}static importScriptNodeJs(n,e=(N.b[22][0]++,"Module")){N.f[13]++;N.s[78]++;if((N.b[24][0]++,e)&&(N.b[24][1]++,WasmHelper._global[e])&&(N.b[24][2]++,WasmHelper._global[e].asm)){N.b[23][0]++;N.s[79]++;return!1}N.b[23][1]++;N.s[80]++;n=WasmHelper._adjustScriptPath(n);const l=(N.s[81]++,(N.b[25][0]++,WasmHelper._global[e])||(N.b[25][1]++,{}));N.s[82]++;if("function"==typeof require){N.b[26][0]++;N.s[83]++;WasmHelper._global[e]=require(n)(l);N.s[84]++;if(!e){N.b[27][0]++;N.s[85]++;return!0}N.b[27][1]++}else N.b[26][1]++;N.s[86]++;return!1}static fireModuleLoaded(n=(N.b[28][0]++,"Module")){N.f[14]++;N.s[87]++;if("function"==typeof WasmHelper._moduleLoadedCallbacks[n]){N.b[29][0]++;N.s[88]++;WasmHelper._moduleLoadedCallbacks[n]();N.s[89]++;WasmHelper._moduleLoadedCallbacks[n]=null}else N.b[29][1]++}static _loadBrowserScript(n){N.f[15]++;const e=(N.s[90]++,document.getElementsByTagName("head")[0]),l=(N.s[91]++,document.createElement("script"));N.s[92]++;l.type="text/javascript";N.s[93]++;l.src=n;N.s[94]++;e.appendChild(l)}static _adjustWasmPath(n){N.f[16]++;N.s[95]++;if((N.b[31][0]++,"undefined"!=typeof Nimiq)&&(N.b[31][1]++,Nimiq._path)){N.b[30][0]++;N.s[96]++;n=`${Nimiq._path}${n}`}else N.b[30][1]++;N.s[97]++;if((N.b[33][0]++,"string"==typeof __dirname)&&(N.b[33][1]++,-1===n.indexOf("/"))){N.b[32][0]++;N.s[98]++;n=`${__dirname}/${n}`}else N.b[32][1]++;N.s[99]++;return n}static _adjustScriptPath(n){N.f[17]++;N.s[100]++;if((N.b[35][0]++,"undefined"!=typeof Nimiq)&&(N.b[35][1]++,Nimiq._path)){N.b[34][0]++;N.s[101]++;n=`${Nimiq._path}${n}`}else N.b[34][1]++;N.s[102]++;if((N.b[37][0]++,"string"==typeof __dirname)&&(N.b[37][1]++,-1===n.indexOf("/"))){N.b[36][0]++;N.s[103]++;n=`${__dirname}/${n}`}else N.b[36][1]++;N.s[104]++;return n}static get _global(){N.f[18]++;N.s[105]++;return"undefined"!=typeof global?(N.b[38][0]++,global):(N.b[38][1]++,"undefined"!=typeof window?(N.b[39][0]++,window):(N.b[39][1]++,"undefined"!=typeof self?(N.b[40][0]++,self):(N.b[40][1]++,null)))}}N.s[106]++;WasmHelper._moduleLoadedCallbacks={};N.s[107]++;Class.register(WasmHelper);var B=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/crypto/CryptoWorker.js",e="ea50084624d8ddc9436f7a11a8cd7767b75871d9",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/crypto/CryptoWorker.js",statementMap:{0:{start:{line:5,column:23},end:{line:5,column:49}},1:{start:{line:11,column:8},end:{line:13,column:9}},2:{start:{line:12,column:12},end:{line:12,column:105}},3:{start:{line:14,column:8},end:{line:14,column:41}},4:{start:{line:47,column:0},end:{line:47,column:33}},5:{start:{line:49,column:0},end:{line:49,column:29}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:21},end:{line:5,column:51}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:10,column:4},end:{line:10,column:5}},loc:{start:{line:10,column:36},end:{line:15,column:5}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:20,column:4},end:{line:20,column:5}},loc:{start:{line:20,column:32},end:{line:20,column:34}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:26,column:4},end:{line:26,column:5}},loc:{start:{line:26,column:38},end:{line:26,column:40}},line:26},4:{name:"(anonymous_4)",decl:{start:{line:34,column:4},end:{line:34,column:5}},loc:{start:{line:34,column:37},end:{line:34,column:39}},line:34},5:{name:"(anonymous_5)",decl:{start:{line:44,column:4},end:{line:44,column:5}},loc:{start:{line:44,column:80},end:{line:44,column:82}},line:44}},branchMap:{0:{loc:{start:{line:11,column:8},end:{line:13,column:9}},type:"if",locations:[{start:{line:11,column:8},end:{line:13,column:9}},{start:{line:11,column:8},end:{line:13,column:9}}],line:11}},s:{0:0,1:0,2:0,3:0,4:0,5:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class CryptoWorker{static get lib(){B.f[0]++;B.s[0]++;return CryptoLib.instance}static async getInstanceAsync(){B.f[1]++;B.s[1]++;if(CryptoWorker._workerAsync)B.b[0][1]++;else{B.b[0][0]++;B.s[2]++;CryptoWorker._workerAsync=await IWorker.startWorkerPoolForProxy(CryptoWorker,"crypto",4)}B.s[3]++;return CryptoWorker._workerAsync}async computeArgon2d(n){B.f[2]++}async computeArgon2dBatch(n){B.f[3]++}async kdf(n,e,l){B.f[4]++}async blockVerify(n,e,l,t,o){B.f[5]++}}B.s[4]++;CryptoWorker._workerAsync=null;B.s[5]++;Class.register(CryptoWorker);var R=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/crypto/CryptoWorkerImpl.js",e="79db31a8d491ad6985d4afb08852fa0812407f26",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/crypto/CryptoWorkerImpl.js",statementMap:{0:{start:{line:3,column:8},end:{line:3,column:16}},1:{start:{line:5,column:8},end:{line:5,column:37}},2:{start:{line:9,column:8},end:{line:9,column:47}},3:{start:{line:10,column:8},end:{line:10,column:43}},4:{start:{line:11,column:8},end:{line:11,column:41}},5:{start:{line:19,column:8},end:{line:47,column:9}},6:{start:{line:20,column:24},end:{line:20,column:76}},7:{start:{line:21,column:24},end:{line:21,column:79}},8:{start:{line:22,column:12},end:{line:24,column:13}},9:{start:{line:23,column:16},end:{line:23,column:26}},10:{start:{line:25,column:12},end:{line:25,column:23}},11:{start:{line:28,column:12},end:{line:46,column:13}},12:{start:{line:29,column:16},end:{line:29,column:46}},13:{start:{line:30,column:33},end:{line:30,column:69}},14:{start:{line:31,column:32},end:{line:31,column:59}},15:{start:{line:32,column:31},end:{line:32,column:62}},16:{start:{line:33,column:16},end:{line:33,column:86}},17:{start:{line:34,column:28},end:{line:34,column:84}},18:{start:{line:35,column:16},end:{line:37,column:17}},19:{start:{line:36,column:20},end:{line:36,column:30}},20:{start:{line:38,column:29},end:{line:38,column:53}},21:{start:{line:39,column:16},end:{line:39,column:82}},22:{start:{line:40,column:16},end:{line:40,column:28}},23:{start:{line:42,column:16},end:{line:42,column:43}},24:{start:{line:43,column:16},end:{line:43,column:24}},25:{start:{line:45,column:16},end:{line:45,column:74}},26:{start:{line:45,column:44},end:{line:45,column:74}},27:{start:{line:55,column:23},end:{line:55,column:25}},28:{start:{line:56,column:8},end:{line:92,column:9}},29:{start:{line:57,column:12},end:{line:64,column:13}},30:{start:{line:58,column:28},end:{line:58,column:80}},31:{start:{line:59,column:28},end:{line:59,column:83}},32:{start:{line:60,column:16},end:{line:62,column:17}},33:{start:{line:61,column:20},end:{line:61,column:30}},34:{start:{line:63,column:16},end:{line:63,column:33}},35:{start:{line:65,column:12},end:{line:65,column:26}},36:{start:{line:68,column:12},end:{line:91,column:13}},37:{start:{line:69,column:16},end:{line:69,column:46}},38:{start:{line:70,column:33},end:{line:70,column:69}},39:{start:{line:71,column:32},end:{line:71,column:59}},40:{start:{line:72,column:33},end:{line:72,column:51}},41:{start:{line:73,column:16},end:{line:84,column:17}},42:{start:{line:74,column:20},end:{line:74,column:50}},43:{start:{line:75,column:35},end:{line:75,column:66}},44:{start:{line:76,column:20},end:{line:76,column:90}},45:{start:{line:77,column:32},end:{line:77,column:88}},46:{start:{line:78,column:20},end:{line:80,column:21}},47:{start:{line:79,column:24},end:{line:79,column:34}},48:{start:{line:81,column:33},end:{line:81,column:57}},49:{start:{line:82,column:20},end:{line:82,column:86}},50:{start:{line:83,column:20},end:{line:83,column:38}},51:{start:{line:85,column:16},end:{line:85,column:30}},52:{start:{line:87,column:16},end:{line:87,column:43}},53:{start:{line:88,column:16},end:{line:88,column:24}},54:{start:{line:90,column:16},end:{line:90,column:74}},55:{start:{line:90,column:44},end:{line:90,column:74}},56:{start:{line:102,column:8},end:{line:132,column:9}},57:{start:{line:103,column:24},end:{line:103,column:76}},58:{start:{line:104,column:24},end:{line:104,column:108}},59:{start:{line:105,column:12},end:{line:107,column:13}},60:{start:{line:106,column:16},end:{line:106,column:26}},61:{start:{line:108,column:12},end:{line:108,column:23}},62:{start:{line:111,column:12},end:{line:131,column:13}},63:{start:{line:112,column:16},end:{line:112,column:46}},64:{start:{line:113,column:33},end:{line:113,column:69}},65:{start:{line:114,column:32},end:{line:114,column:59}},66:{start:{line:115,column:31},end:{line:115,column:60}},67:{start:{line:116,column:16},end:{line:116,column:82}},68:{start:{line:117,column:33},end:{line:117,column:63}},69:{start:{line:118,column:16},end:{line:118,column:86}},70:{start:{line:119,column:28},end:{line:119,column:114}},71:{start:{line:120,column:16},end:{line:122,column:17}},72:{start:{line:121,column:20},end:{line:121,column:30}},73:{start:{line:123,column:29},end:{line:123,column:53}},74:{start:{line:124,column:16},end:{line:124,column:82}},75:{start:{line:125,column:16},end:{line:125,column:28}},76:{start:{line:127,column:16},end:{line:127,column:43}},77:{start:{line:128,column:16},end:{line:128,column:24}},78:{start:{line:130,column:16},end:{line:130,column:74}},79:{start:{line:130,column:44},end:{line:130,column:74}},80:{start:{line:145,column:8},end:{line:148,column:10}},81:{start:{line:150,column:22},end:{line:150,column:74}},82:{start:{line:151,column:8},end:{line:153,column:9}},83:{start:{line:152,column:12},end:{line:152,column:68}},84:{start:{line:155,column:22},end:{line:155,column:50}},85:{start:{line:156,column:20},end:{line:156,column:44}},86:{start:{line:157,column:30},end:{line:157,column:52}},87:{start:{line:158,column:25},end:{line:158,column:42}},88:{start:{line:159,column:8},end:{line:159,column:128}},89:{start:{line:163,column:0},end:{line:163,column:66}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:4},end:{line:2,column:5}},loc:{start:{line:2,column:18},end:{line:6,column:5}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:8,column:4},end:{line:8,column:5}},loc:{start:{line:8,column:21},end:{line:12,column:5}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:18,column:4},end:{line:18,column:5}},loc:{start:{line:18,column:26},end:{line:48,column:5}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:54,column:4},end:{line:54,column:5}},loc:{start:{line:54,column:32},end:{line:93,column:5}},line:54},4:{name:"(anonymous_4)",decl:{start:{line:101,column:4},end:{line:101,column:5}},loc:{start:{line:101,column:31},end:{line:133,column:5}},line:101},5:{name:"(anonymous_5)",decl:{start:{line:143,column:4},end:{line:143,column:5}},loc:{start:{line:143,column:90},end:{line:160,column:5}},line:143}},branchMap:{0:{loc:{start:{line:19,column:8},end:{line:47,column:9}},type:"if",locations:[{start:{line:19,column:8},end:{line:47,column:9}},{start:{line:19,column:8},end:{line:47,column:9}}],line:19},1:{loc:{start:{line:22,column:12},end:{line:24,column:13}},type:"if",locations:[{start:{line:22,column:12},end:{line:24,column:13}},{start:{line:22,column:12},end:{line:24,column:13}}],line:22},2:{loc:{start:{line:35,column:16},end:{line:37,column:17}},type:"if",locations:[{start:{line:35,column:16},end:{line:37,column:17}},{start:{line:35,column:16},end:{line:37,column:17}}],line:35},3:{loc:{start:{line:45,column:16},end:{line:45,column:74}},type:"if",locations:[{start:{line:45,column:16},end:{line:45,column:74}},{start:{line:45,column:16},end:{line:45,column:74}}],line:45},4:{loc:{start:{line:56,column:8},end:{line:92,column:9}},type:"if",locations:[{start:{line:56,column:8},end:{line:92,column:9}},{start:{line:56,column:8},end:{line:92,column:9}}],line:56},5:{loc:{start:{line:60,column:16},end:{line:62,column:17}},type:"if",locations:[{start:{line:60,column:16},end:{line:62,column:17}},{start:{line:60,column:16},end:{line:62,column:17}}],line:60},6:{loc:{start:{line:78,column:20},end:{line:80,column:21}},type:"if",locations:[{start:{line:78,column:20},end:{line:80,column:21}},{start:{line:78,column:20},end:{line:80,column:21}}],line:78},7:{loc:{start:{line:90,column:16},end:{line:90,column:74}},type:"if",locations:[{start:{line:90,column:16},end:{line:90,column:74}},{start:{line:90,column:16},end:{line:90,column:74}}],line:90},8:{loc:{start:{line:102,column:8},end:{line:132,column:9}},type:"if",locations:[{start:{line:102,column:8},end:{line:132,column:9}},{start:{line:102,column:8},end:{line:132,column:9}}],line:102},9:{loc:{start:{line:105,column:12},end:{line:107,column:13}},type:"if",locations:[{start:{line:105,column:12},end:{line:107,column:13}},{start:{line:105,column:12},end:{line:107,column:13}}],line:105},10:{loc:{start:{line:120,column:16},end:{line:122,column:17}},type:"if",locations:[{start:{line:120,column:16},end:{line:122,column:17}},{start:{line:120,column:16},end:{line:122,column:17}}],line:120},11:{loc:{start:{line:130,column:16},end:{line:130,column:74}},type:"if",locations:[{start:{line:130,column:16},end:{line:130,column:74}},{start:{line:130,column:16},end:{line:130,column:74}}],line:130}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class CryptoWorkerImpl extends(IWorker.Stub(CryptoWorker)){constructor(){R.f[0]++;R.s[0]++;super();R.s[1]++;this._superInit=super.init}async init(n){R.f[1]++;R.s[2]++;await this._superInit.call(this,n);R.s[3]++;await WasmHelper.doImportBrowser();R.s[4]++;CryptoWorker._workerAsync=this}computeArgon2d(n){R.f[2]++;R.s[5]++;if(PlatformUtils.isNodeJs()){R.b[0][0]++;const e=(R.s[6]++,new Uint8Array(Hash.getSize(Hash.Algorithm.ARGON2D))),l=(R.s[7]++,NodeNative.node_argon2(e,new Uint8Array(n),512));R.s[8]++;if(0!==l){R.b[1][0]++;R.s[9]++;throw l}R.b[1][1]++;R.s[10]++;return e}{R.b[0][1]++;let l;R.s[11]++;try{R.s[12]++;l=Module.stackSave();const t=(R.s[13]++,Hash.getSize(Hash.Algorithm.ARGON2D)),o=(R.s[14]++,Module.stackAlloc(t)),i=(R.s[15]++,Module.stackAlloc(n.length));R.s[16]++;new Uint8Array(Module.HEAPU8.buffer,i,n.length).set(n);const c=(R.s[17]++,Module._nimiq_argon2(o,i,n.length,512));R.s[18]++;if(0!==c){R.b[2][0]++;R.s[19]++;throw c}R.b[2][1]++;const s=(R.s[20]++,new Uint8Array(t));R.s[21]++;s.set(new Uint8Array(Module.HEAPU8.buffer,o,t));R.s[22]++;return s}catch(e){R.s[23]++;Log.w(CryptoWorkerImpl,e);R.s[24]++;throw e}finally{R.s[25]++;if(l!==undefined){R.b[3][0]++;R.s[26]++;Module.stackRestore(l)}else R.b[3][1]++}}}computeArgon2dBatch(n){R.f[3]++;const e=(R.s[27]++,[]);R.s[28]++;if(PlatformUtils.isNodeJs()){R.b[4][0]++;R.s[29]++;for(const l of n){const n=(R.s[30]++,new Uint8Array(Hash.getSize(Hash.Algorithm.ARGON2D))),t=(R.s[31]++,NodeNative.node_argon2(n,new Uint8Array(l),512));R.s[32]++;if(0!==t){R.b[5][0]++;R.s[33]++;throw t}R.b[5][1]++;R.s[34]++;e.push(n)}R.s[35]++;return e}{R.b[4][1]++;let t;R.s[36]++;try{R.s[37]++;t=Module.stackSave();const o=(R.s[38]++,Hash.getSize(Hash.Algorithm.ARGON2D)),i=(R.s[39]++,Module.stackAlloc(o)),c=(R.s[40]++,Module.stackSave());R.s[41]++;for(const l of n){R.s[42]++;Module.stackRestore(c);const n=(R.s[43]++,Module.stackAlloc(l.length));R.s[44]++;new Uint8Array(Module.HEAPU8.buffer,n,l.length).set(l);const t=(R.s[45]++,Module._nimiq_argon2(i,n,l.length,512));R.s[46]++;if(0!==t){R.b[6][0]++;R.s[47]++;throw t}R.b[6][1]++;const s=(R.s[48]++,new Uint8Array(o));R.s[49]++;s.set(new Uint8Array(Module.HEAPU8.buffer,i,o));R.s[50]++;e.push(s)}R.s[51]++;return e}catch(l){R.s[52]++;Log.w(CryptoWorkerImpl,l);R.s[53]++;throw l}finally{R.s[54]++;if(t!==undefined){R.b[7][0]++;R.s[55]++;Module.stackRestore(t)}else R.b[7][1]++}}}kdf(n,e,l){R.f[4]++;R.s[56]++;if(PlatformUtils.isNodeJs()){R.b[8][0]++;const t=(R.s[57]++,new Uint8Array(Hash.getSize(Hash.Algorithm.ARGON2D))),o=(R.s[58]++,NodeNative.node_kdf(t,new Uint8Array(n),new Uint8Array(e),512,l));R.s[59]++;if(0!==o){R.b[9][0]++;R.s[60]++;throw o}R.b[9][1]++;R.s[61]++;return t}{R.b[8][1]++;let o;R.s[62]++;try{R.s[63]++;o=Module.stackSave();const i=(R.s[64]++,Hash.getSize(Hash.Algorithm.ARGON2D)),c=(R.s[65]++,Module.stackAlloc(i)),s=(R.s[66]++,Module.stackAlloc(n.length));R.s[67]++;new Uint8Array(Module.HEAPU8.buffer,s,n.length).set(n);const u=(R.s[68]++,Module.stackAlloc(e.length));R.s[69]++;new Uint8Array(Module.HEAPU8.buffer,u,e.length).set(e);const m=(R.s[70]++,Module._nimiq_kdf(c,s,n.length,u,e.length,512,l));R.s[71]++;if(0!==m){R.b[10][0]++;R.s[72]++;throw m}R.b[10][1]++;const r=(R.s[73]++,new Uint8Array(i));R.s[74]++;r.set(new Uint8Array(Module.HEAPU8.buffer,c,i));R.s[75]++;return r}catch(t){R.s[76]++;Log.w(CryptoWorkerImpl,t);R.s[77]++;throw t}finally{R.s[78]++;if(o!==undefined){R.b[11][0]++;R.s[79]++;Module.stackRestore(o)}else R.b[11][1]++}}}async blockVerify(n,e,l,t,o){R.f[5]++;R.s[80]++;GenesisConfig={GENESIS_HASH:Hash.unserialize(new SerialBuffer(t)),NETWORK_ID:o};const i=(R.s[81]++,Block.unserialize(new SerialBuffer(n)));R.s[82]++;for(let r=0;r<e.length;r++){R.s[83]++;i.body.transactions[r]._valid=e[r]}const c=(R.s[84]++,await i._verify(l)),s=(R.s[85]++,await i.header.pow()),u=(R.s[86]++,i.interlink.hash()),m=(R.s[87]++,i.body.hash());R.s[88]++;return{valid:c,pow:s.serialize(),interlinkHash:u.serialize(),bodyHash:m.serialize()}}}R.s[89]++;IWorker.prepareForWorkerUse(CryptoWorker,new CryptoWorkerImpl);var O=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/crc/CRC32.js",e="a71fff571acd67cc179716203453ee3b9af8de0c",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/crc/CRC32.js",statementMap:{0:{start:{line:4,column:22},end:{line:4,column:24}},1:{start:{line:6,column:8},end:{line:12,column:9}},2:{start:{line:7,column:12},end:{line:7,column:18}},3:{start:{line:8,column:12},end:{line:10,column:13}},4:{start:{line:9,column:16},end:{line:9,column:68}},5:{start:{line:11,column:12},end:{line:11,column:31}},6:{start:{line:13,column:8},end:{line:13,column:21}},7:{start:{line:21,column:8},end:{line:21,column:63}},8:{start:{line:21,column:27},end:{line:21,column:63}},9:{start:{line:22,column:8},end:{line:22,column:79}},10:{start:{line:22,column:31},end:{line:22,column:79}},11:{start:{line:24,column:24},end:{line:24,column:43}},12:{start:{line:25,column:29},end:{line:25,column:31}},13:{start:{line:27,column:18},end:{line:27,column:30}},14:{start:{line:28,column:18},end:{line:28,column:20}},15:{start:{line:30,column:8},end:{line:32,column:9}},16:{start:{line:31,column:12},end:{line:31,column:72}},17:{start:{line:33,column:8},end:{line:33,column:28}},18:{start:{line:35,column:8},end:{line:38,column:79}},19:{start:{line:40,column:8},end:{line:40,column:33}},20:{start:{line:43,column:0},end:{line:43,column:20}},21:{start:{line:44,column:0},end:{line:44,column:24}},22:{start:{line:45,column:0},end:{line:45,column:31}},23:{start:{line:46,column:0},end:{line:46,column:22}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:4},end:{line:2,column:5}},loc:{start:{line:2,column:27},end:{line:14,column:5}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:20,column:4},end:{line:20,column:5}},loc:{start:{line:20,column:24},end:{line:41,column:5}},line:20}},branchMap:{0:{loc:{start:{line:9,column:20},end:{line:9,column:67}},type:"cond-expr",locations:[{start:{line:9,column:28},end:{line:9,column:57}},{start:{line:9,column:60},end:{line:9,column:67}}],line:9},1:{loc:{start:{line:21,column:8},end:{line:21,column:63}},type:"if",locations:[{start:{line:21,column:8},end:{line:21,column:63}},{start:{line:21,column:8},end:{line:21,column:63}}],line:21},2:{loc:{start:{line:22,column:8},end:{line:22,column:79}},type:"if",locations:[{start:{line:22,column:8},end:{line:22,column:79}},{start:{line:22,column:8},end:{line:22,column:79}}],line:22}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},f:{0:0,1:0},b:{0:[0,0],1:[0,0],2:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class CRC32{static _createTable(){O.f[0]++;let n;const e=(O.s[0]++,[]);O.s[1]++;for(let l=0;l<256;++l){O.s[2]++;n=l;O.s[3]++;for(let e=0;e<8;++e){O.s[4]++;n=1&n?(O.b[0][0]++,CRC32._POLYNOMIAL^n>>>1):(O.b[0][1]++,n>>>1)}O.s[5]++;e[l]=n>>>0}O.s[6]++;return e}static compute(n){O.f[1]++;O.s[7]++;if(CRC32._table)O.b[1][1]++;else{O.b[1][0]++;O.s[8]++;CRC32._table=CRC32._createTable()}O.s[9]++;if(CRC32._hex_chars)O.b[2][1]++;else{O.b[2][0]++;O.s[10]++;CRC32._hex_chars="0123456789abcdef".split("")}const e=(O.s[11]++,new Uint8Array(n)),l=(O.s[12]++,-1);let t=(O.s[13]++,l),o=(O.s[14]++,"");O.s[15]++;for(let i=0;i<e.length;++i){O.s[16]++;t=CRC32._table[255&(t^e[i])]^t>>>8}O.s[17]++;t^=l;O.s[18]++;o+=CRC32._hex_chars[t>>28&15]+CRC32._hex_chars[t>>24&15]+CRC32._hex_chars[t>>20&15]+CRC32._hex_chars[t>>16&15]+CRC32._hex_chars[t>>12&15]+CRC32._hex_chars[t>>8&15]+CRC32._hex_chars[t>>4&15]+CRC32._hex_chars[15&t];O.s[19]++;return parseInt(o,16)}}O.s[20]++;CRC32._table=null;O.s[21]++;CRC32._hex_chars=null;O.s[22]++;CRC32._POLYNOMIAL=3988292384;O.s[23]++;Class.register(CRC32);var L=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/number/NumberUtils.js",e="9978166a31791215774ef19733a214631f252896",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/number/NumberUtils.js",statementMap:{0:{start:{line:7,column:8},end:{line:8,column:56}},1:{start:{line:16,column:8},end:{line:17,column:57}},2:{start:{line:25,column:8},end:{line:26,column:57}},3:{start:{line:34,column:8},end:{line:35,column:57}},4:{start:{line:42,column:8},end:{line:42,column:72}},5:{start:{line:49,column:8},end:{line:49,column:72}},6:{start:{line:53,column:0},end:{line:53,column:28}},7:{start:{line:54,column:0},end:{line:54,column:31}},8:{start:{line:55,column:0},end:{line:55,column:36}},9:{start:{line:56,column:0},end:{line:56,column:49}},10:{start:{line:58,column:0},end:{line:58,column:28}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:24},end:{line:9,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:15,column:4},end:{line:15,column:5}},loc:{start:{line:15,column:25},end:{line:18,column:5}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:24,column:4},end:{line:24,column:5}},loc:{start:{line:24,column:25},end:{line:27,column:5}},line:24},3:{name:"(anonymous_3)",decl:{start:{line:33,column:4},end:{line:33,column:5}},loc:{start:{line:33,column:25},end:{line:36,column:5}},line:33},4:{name:"(anonymous_4)",decl:{start:{line:41,column:4},end:{line:41,column:5}},loc:{start:{line:41,column:26},end:{line:43,column:5}},line:41},5:{name:"(anonymous_5)",decl:{start:{line:48,column:4},end:{line:48,column:5}},loc:{start:{line:48,column:26},end:{line:50,column:5}},line:48}},branchMap:{0:{loc:{start:{line:7,column:15},end:{line:8,column:55}},type:"binary-expr",locations:[{start:{line:7,column:15},end:{line:7,column:36}},{start:{line:8,column:15},end:{line:8,column:23}},{start:{line:8,column:27},end:{line:8,column:55}}],line:7},1:{loc:{start:{line:16,column:15},end:{line:17,column:56}},type:"binary-expr",locations:[{start:{line:16,column:15},end:{line:16,column:36}},{start:{line:17,column:15},end:{line:17,column:23}},{start:{line:17,column:27},end:{line:17,column:56}}],line:16},2:{loc:{start:{line:25,column:15},end:{line:26,column:56}},type:"binary-expr",locations:[{start:{line:25,column:15},end:{line:25,column:36}},{start:{line:26,column:15},end:{line:26,column:23}},{start:{line:26,column:27},end:{line:26,column:56}}],line:25},3:{loc:{start:{line:34,column:15},end:{line:35,column:56}},type:"binary-expr",locations:[{start:{line:34,column:15},end:{line:34,column:36}},{start:{line:35,column:15},end:{line:35,column:23}},{start:{line:35,column:27},end:{line:35,column:56}}],line:34}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0,0],1:[0,0,0],2:[0,0,0],3:[0,0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class NumberUtils{static isUint8(n){L.f[0]++;L.s[0]++;return(L.b[0][0]++,Number.isInteger(n))&&(L.b[0][1]++,n>=0)&&(L.b[0][2]++,n<=NumberUtils.UINT8_MAX)}static isUint16(n){L.f[1]++;L.s[1]++;return(L.b[1][0]++,Number.isInteger(n))&&(L.b[1][1]++,n>=0)&&(L.b[1][2]++,n<=NumberUtils.UINT16_MAX)}static isUint32(n){L.f[2]++;L.s[2]++;return(L.b[2][0]++,Number.isInteger(n))&&(L.b[2][1]++,n>=0)&&(L.b[2][2]++,n<=NumberUtils.UINT32_MAX)}static isUint64(n){L.f[3]++;L.s[3]++;return(L.b[3][0]++,Number.isInteger(n))&&(L.b[3][1]++,n>=0)&&(L.b[3][2]++,n<=NumberUtils.UINT64_MAX)}static randomUint32(){L.f[4]++;L.s[4]++;return Math.floor(Math.random()*(NumberUtils.UINT32_MAX+1))}static randomUint64(){L.f[5]++;L.s[5]++;return Math.floor(Math.random()*(NumberUtils.UINT64_MAX+1))}}L.s[6]++;NumberUtils.UINT8_MAX=255;L.s[7]++;NumberUtils.UINT16_MAX=65535;L.s[8]++;NumberUtils.UINT32_MAX=4294967295;L.s[9]++;NumberUtils.UINT64_MAX=Number.MAX_SAFE_INTEGER;L.s[10]++;Class.register(NumberUtils);var U=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/merkle/MerkleTree.js",e="91e7f54d879c06458255e850f8ceeae8ebed5a93",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/merkle/MerkleTree.js",statementMap:{0:{start:{line:8,column:8},end:{line:8,column:55}},1:{start:{line:18,column:20},end:{line:18,column:33}},2:{start:{line:19,column:8},end:{line:21,column:9}},3:{start:{line:20,column:12},end:{line:20,column:49}},4:{start:{line:22,column:8},end:{line:24,column:9}},5:{start:{line:23,column:12},end:{line:23,column:37}},6:{start:{line:26,column:20},end:{line:26,column:39}},7:{start:{line:27,column:21},end:{line:27,column:41}},8:{start:{line:28,column:22},end:{line:28,column:39}},9:{start:{line:29,column:25},end:{line:29,column:62}},10:{start:{line:30,column:26},end:{line:30,column:64}},11:{start:{line:31,column:8},end:{line:31,column:102}},12:{start:{line:40,column:8},end:{line:42,column:9}},13:{start:{line:41,column:12},end:{line:41,column:21}},14:{start:{line:43,column:8},end:{line:45,column:9}},15:{start:{line:44,column:12},end:{line:44,column:28}},16:{start:{line:46,column:8},end:{line:48,column:9}},17:{start:{line:47,column:12},end:{line:47,column:45}},18:{start:{line:49,column:8},end:{line:51,column:9}},19:{start:{line:50,column:12},end:{line:50,column:33}},20:{start:{line:52,column:8},end:{line:52,column:103}},21:{start:{line:55,column:0},end:{line:55,column:27}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:58},end:{line:9,column:5}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:40},end:{line:32,column:5}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:39,column:4},end:{line:39,column:5}},loc:{start:{line:39,column:20},end:{line:53,column:5}},line:39}},branchMap:{0:{loc:{start:{line:7,column:31},end:{line:7,column:56}},type:"default-arg",locations:[{start:{line:7,column:40},end:{line:7,column:56}}],line:7},1:{loc:{start:{line:19,column:8},end:{line:21,column:9}},type:"if",locations:[{start:{line:19,column:8},end:{line:21,column:9}},{start:{line:19,column:8},end:{line:21,column:9}}],line:19},2:{loc:{start:{line:22,column:8},end:{line:24,column:9}},type:"if",locations:[{start:{line:22,column:8},end:{line:24,column:9}},{start:{line:22,column:8},end:{line:24,column:9}}],line:22},3:{loc:{start:{line:40,column:8},end:{line:42,column:9}},type:"if",locations:[{start:{line:40,column:8},end:{line:42,column:9}},{start:{line:40,column:8},end:{line:42,column:9}}],line:40},4:{loc:{start:{line:43,column:8},end:{line:45,column:9}},type:"if",locations:[{start:{line:43,column:8},end:{line:45,column:9}},{start:{line:43,column:8},end:{line:45,column:9}}],line:43},5:{loc:{start:{line:46,column:8},end:{line:48,column:9}},type:"if",locations:[{start:{line:46,column:8},end:{line:48,column:9}},{start:{line:46,column:8},end:{line:48,column:9}}],line:46},6:{loc:{start:{line:49,column:8},end:{line:51,column:9}},type:"if",locations:[{start:{line:49,column:8},end:{line:51,column:9}},{start:{line:49,column:8},end:{line:51,column:9}}],line:49}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},f:{0:0,1:0,2:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class MerkleTree{static computeRoot(n,e=(U.b[0][0]++,MerkleTree._hash)){U.f[0]++;U.s[0]++;return MerkleTree._computeRoot(n,e)}static _computeRoot(n,e){U.f[1]++;const l=(U.s[1]++,n.length);U.s[2]++;if(0===l){U.b[1][0]++;U.s[3]++;return Hash.light(new Uint8Array(0))}U.b[1][1]++;U.s[4]++;if(1===l){U.b[2][0]++;U.s[5]++;return e(n[0])}U.b[2][1]++;const t=(U.s[6]++,Math.round(l/2)),o=(U.s[7]++,n.slice(0,t)),i=(U.s[8]++,n.slice(t)),c=(U.s[9]++,MerkleTree._computeRoot(o,e)),s=(U.s[10]++,MerkleTree._computeRoot(i,e));U.s[11]++;return Hash.light(BufferUtils.concatTypedArrays(c.serialize(),s.serialize()))}static _hash(n){U.f[2]++;U.s[12]++;if(n instanceof Hash){U.b[3][0]++;U.s[13]++;return n}U.b[3][1]++;U.s[14]++;if("function"==typeof n.hash){U.b[4][0]++;U.s[15]++;return n.hash()}U.b[4][1]++;U.s[16]++;if("function"==typeof n.serialize){U.b[5][0]++;U.s[17]++;return Hash.light(n.serialize())}U.b[5][1]++;U.s[18]++;if(n instanceof Uint8Array){U.b[6][0]++;U.s[19]++;return Hash.light(n)}U.b[6][1]++;U.s[20]++;throw new Error("MerkleTree objects must be Uint8Array or have a .hash()/.serialize() method")}}U.s[21]++;Class.register(MerkleTree);var x=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/merkle/MerklePath.js",e="919c6d4214cdf2965205fb5d83efe6384d644ece",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/merkle/MerklePath.js",statementMap:{0:{start:{line:6,column:8},end:{line:7,column:101}},1:{start:{line:7,column:32},end:{line:7,column:63}},2:{start:{line:7,column:66},end:{line:7,column:101}},3:{start:{line:12,column:8},end:{line:12,column:28}},4:{start:{line:22,column:25},end:{line:22,column:42}},5:{start:{line:23,column:21},end:{line:23,column:23}},6:{start:{line:24,column:8},end:{line:24,column:60}},7:{start:{line:25,column:8},end:{line:25,column:36}},8:{start:{line:37,column:20},end:{line:37,column:33}},9:{start:{line:39,column:8},end:{line:42,column:9}},10:{start:{line:40,column:12},end:{line:40,column:49}},11:{start:{line:41,column:12},end:{line:41,column:54}},12:{start:{line:43,column:8},end:{line:46,column:9}},13:{start:{line:44,column:12},end:{line:44,column:37}},14:{start:{line:45,column:12},end:{line:45,column:70}},15:{start:{line:48,column:20},end:{line:48,column:39}},16:{start:{line:49,column:21},end:{line:49,column:41}},17:{start:{line:50,column:22},end:{line:50,column:39}},18:{start:{line:51,column:58},end:{line:51,column:107}},19:{start:{line:52,column:60},end:{line:52,column:110}},20:{start:{line:53,column:8},end:{line:53,column:102}},21:{start:{line:55,column:8},end:{line:61,column:9}},22:{start:{line:56,column:12},end:{line:56,column:60}},23:{start:{line:57,column:12},end:{line:57,column:53}},24:{start:{line:58,column:15},end:{line:61,column:9}},25:{start:{line:59,column:12},end:{line:59,column:58}},26:{start:{line:60,column:12},end:{line:60,column:53}},27:{start:{line:63,column:8},end:{line:63,column:50}},28:{start:{line:73,column:19},end:{line:73,column:36}},29:{start:{line:74,column:8},end:{line:82,column:9}},30:{start:{line:75,column:25},end:{line:75,column:34}},31:{start:{line:76,column:25},end:{line:76,column:34}},32:{start:{line:77,column:27},end:{line:77,column:68}},33:{start:{line:78,column:12},end:{line:78,column:45}},34:{start:{line:78,column:22},end:{line:78,column:45}},35:{start:{line:79,column:12},end:{line:79,column:35}},36:{start:{line:80,column:12},end:{line:80,column:46}},37:{start:{line:80,column:23},end:{line:80,column:46}},38:{start:{line:81,column:12},end:{line:81,column:38}},39:{start:{line:83,column:8},end:{line:83,column:20}},40:{start:{line:92,column:22},end:{line:92,column:34}},41:{start:{line:93,column:29},end:{line:93,column:49}},42:{start:{line:94,column:25},end:{line:94,column:53}},43:{start:{line:96,column:8},end:{line:100,column:9}},44:{start:{line:97,column:12},end:{line:99,column:13}},45:{start:{line:98,column:16},end:{line:98,column:64}},46:{start:{line:102,column:8},end:{line:102,column:24}},47:{start:{line:110,column:22},end:{line:110,column:37}},48:{start:{line:111,column:29},end:{line:111,column:49}},49:{start:{line:112,column:25},end:{line:112,column:47}},50:{start:{line:114,column:22},end:{line:114,column:24}},51:{start:{line:115,column:8},end:{line:119,column:9}},52:{start:{line:116,column:25},end:{line:116,column:81}},53:{start:{line:117,column:25},end:{line:117,column:46}},54:{start:{line:118,column:12},end:{line:118,column:55}},55:{start:{line:120,column:8},end:{line:120,column:37}},56:{start:{line:128,column:8},end:{line:128,column:59}},57:{start:{line:129,column:8},end:{line:129,column:43}},58:{start:{line:130,column:8},end:{line:130,column:53}},59:{start:{line:132,column:8},end:{line:134,column:9}},60:{start:{line:133,column:12},end:{line:133,column:37}},61:{start:{line:135,column:8},end:{line:135,column:19}},62:{start:{line:140,column:29},end:{line:140,column:62}},63:{start:{line:141,column:8},end:{line:143,column:83}},64:{start:{line:143,column:48},end:{line:143,column:78}},65:{start:{line:151,column:8},end:{line:153,column:72}},66:{start:{line:153,column:46},end:{line:153,column:70}},67:{start:{line:158,column:8},end:{line:158,column:27}},68:{start:{line:161,column:0},end:{line:161,column:27}},69:{start:{line:169,column:8},end:{line:169,column:26}},70:{start:{line:170,column:8},end:{line:170,column:26}},71:{start:{line:175,column:8},end:{line:175,column:26}},72:{start:{line:180,column:8},end:{line:180,column:26}},73:{start:{line:188,column:8},end:{line:190,column:37}},74:{start:{line:193,column:0},end:{line:193,column:31}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:23},end:{line:13,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:7,column:26},end:{line:7,column:27}},loc:{start:{line:7,column:32},end:{line:7,column:63}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:21,column:4},end:{line:21,column:5}},loc:{start:{line:21,column:65},end:{line:26,column:5}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:36,column:4},end:{line:36,column:5}},loc:{start:{line:36,column:52},end:{line:64,column:5}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:71,column:4},end:{line:71,column:5}},loc:{start:{line:71,column:54},end:{line:84,column:5}},line:71},5:{name:"(anonymous_5)",decl:{start:{line:91,column:4},end:{line:91,column:5}},loc:{start:{line:91,column:28},end:{line:103,column:5}},line:91},6:{name:"(anonymous_6)",decl:{start:{line:109,column:4},end:{line:109,column:5}},loc:{start:{line:109,column:28},end:{line:121,column:5}},line:109},7:{name:"(anonymous_7)",decl:{start:{line:127,column:4},end:{line:127,column:5}},loc:{start:{line:127,column:19},end:{line:136,column:5}},line:127},8:{name:"(anonymous_8)",decl:{start:{line:139,column:4},end:{line:139,column:5}},loc:{start:{line:139,column:25},end:{line:144,column:5}},line:139},9:{name:"(anonymous_9)",decl:{start:{line:143,column:33},end:{line:143,column:34}},loc:{start:{line:143,column:48},end:{line:143,column:78}},line:143},10:{name:"(anonymous_10)",decl:{start:{line:150,column:4},end:{line:150,column:5}},loc:{start:{line:150,column:14},end:{line:154,column:5}},line:150},11:{name:"(anonymous_11)",decl:{start:{line:153,column:33},end:{line:153,column:34}},loc:{start:{line:153,column:46},end:{line:153,column:70}},line:153},12:{name:"(anonymous_12)",decl:{start:{line:157,column:4},end:{line:157,column:5}},loc:{start:{line:157,column:16},end:{line:159,column:5}},line:157},13:{name:"(anonymous_13)",decl:{start:{line:168,column:4},end:{line:168,column:5}},loc:{start:{line:168,column:28},end:{line:171,column:5}},line:168},14:{name:"(anonymous_14)",decl:{start:{line:174,column:4},end:{line:174,column:5}},loc:{start:{line:174,column:15},end:{line:176,column:5}},line:174},15:{name:"(anonymous_15)",decl:{start:{line:179,column:4},end:{line:179,column:5}},loc:{start:{line:179,column:15},end:{line:181,column:5}},line:179},16:{name:"(anonymous_16)",decl:{start:{line:187,column:4},end:{line:187,column:5}},loc:{start:{line:187,column:14},end:{line:191,column:5}},line:187}},branchMap:{0:{loc:{start:{line:6,column:8},end:{line:7,column:101}},type:"if",locations:[{start:{line:6,column:8},end:{line:7,column:101}},{start:{line:6,column:8},end:{line:7,column:101}}],line:6},1:{loc:{start:{line:6,column:12},end:{line:7,column:64}},type:"binary-expr",locations:[{start:{line:6,column:12},end:{line:6,column:33}},{start:{line:6,column:37},end:{line:6,column:71}},{start:{line:7,column:15},end:{line:7,column:64}}],line:6},2:{loc:{start:{line:21,column:38},end:{line:21,column:63}},type:"default-arg",locations:[{start:{line:21,column:47},end:{line:21,column:63}}],line:21},3:{loc:{start:{line:39,column:8},end:{line:42,column:9}},type:"if",locations:[{start:{line:39,column:8},end:{line:42,column:9}},{start:{line:39,column:8},end:{line:42,column:9}}],line:39},4:{loc:{start:{line:43,column:8},end:{line:46,column:9}},type:"if",locations:[{start:{line:43,column:8},end:{line:46,column:9}},{start:{line:43,column:8},end:{line:46,column:9}}],line:43},5:{loc:{start:{line:55,column:8},end:{line:61,column:9}},type:"if",locations:[{start:{line:55,column:8},end:{line:61,column:9}},{start:{line:55,column:8},end:{line:61,column:9}}],line:55},6:{loc:{start:{line:58,column:15},end:{line:61,column:9}},type:"if",locations:[{start:{line:58,column:15},end:{line:61,column:9}},{start:{line:58,column:15},end:{line:61,column:9}}],line:58},7:{loc:{start:{line:71,column:27},end:{line:71,column:52}},type:"default-arg",locations:[{start:{line:71,column:36},end:{line:71,column:52}}],line:71},8:{loc:{start:{line:78,column:12},end:{line:78,column:45}},type:"if",locations:[{start:{line:78,column:12},end:{line:78,column:45}},{start:{line:78,column:12},end:{line:78,column:45}}],line:78},9:{loc:{start:{line:80,column:12},end:{line:80,column:46}},type:"if",locations:[{start:{line:80,column:12},end:{line:80,column:46}},{start:{line:80,column:12},end:{line:80,column:46}}],line:80},10:{loc:{start:{line:97,column:12},end:{line:99,column:13}},type:"if",locations:[{start:{line:97,column:12},end:{line:99,column:13}},{start:{line:97,column:12},end:{line:99,column:13}}],line:97},11:{loc:{start:{line:128,column:14},end:{line:128,column:58}},type:"binary-expr",locations:[{start:{line:128,column:14},end:{line:128,column:17}},{start:{line:128,column:21},end:{line:128,column:58}}],line:128},12:{loc:{start:{line:151,column:15},end:{line:153,column:71}},type:"binary-expr",locations:[{start:{line:151,column:15},end:{line:151,column:38}},{start:{line:152,column:15},end:{line:152,column:53}},{start:{line:153,column:15},end:{line:153,column:71}}],line:151},13:{loc:{start:{line:188,column:15},end:{line:190,column:36}},type:"binary-expr",locations:[{start:{line:188,column:15},end:{line:188,column:42}},{start:{line:189,column:15},end:{line:189,column:40}},{start:{line:190,column:15},end:{line:190,column:36}}],line:188}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},b:{0:[0,0],1:[0,0,0],2:[0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0,0],13:[0,0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class MerklePath{constructor(n){x.f[0]++;x.s[0]++;if((x.b[1][0]++,!Array.isArray(n))||(x.b[1][1]++,!NumberUtils.isUint8(n.length))||(x.b[1][2]++,n.some(n=>{x.f[1]++;x.s[1]++;return!(n instanceof MerklePathNode)}))){x.b[0][0]++;x.s[2]++;throw new Error("Malformed nodes")}x.b[0][1]++;x.s[3]++;this._nodes=n}static compute(n,e,l=(x.b[2][0]++,MerkleTree._hash)){x.f[2]++;const t=(x.s[4]++,l(e)),o=(x.s[5]++,[]);x.s[6]++;MerklePath._compute(n,t,o,l);x.s[7]++;return new MerklePath(o)}static _compute(n,e,l,t){x.f[3]++;const o=(x.s[8]++,n.length);let i;x.s[9]++;if(0===o){x.b[3][0]++;x.s[10]++;i=Hash.light(new Uint8Array(0));x.s[11]++;return{containsLeaf:!1,inner:i}}x.b[3][1]++;x.s[12]++;if(1===o){x.b[4][0]++;x.s[13]++;i=t(n[0]);x.s[14]++;return{containsLeaf:i.equals(e),inner:i}}x.b[4][1]++;const c=(x.s[15]++,Math.round(o/2)),s=(x.s[16]++,n.slice(0,c)),u=(x.s[17]++,n.slice(c)),{containsLeaf:m,inner:r}=(x.s[18]++,MerklePath._compute(s,e,l,t)),{containsLeaf:a,inner:d}=(x.s[19]++,MerklePath._compute(u,e,l,t));x.s[20]++;i=Hash.light(BufferUtils.concatTypedArrays(r.serialize(),d.serialize()));x.s[21]++;if(m){x.b[5][0]++;x.s[22]++;l.push(new MerklePathNode(d,!1));x.s[23]++;return{containsLeaf:!0,inner:i}}x.b[5][1]++;x.s[24]++;if(a){x.b[6][0]++;x.s[25]++;l.push(new MerklePathNode(r,!0));x.s[26]++;return{containsLeaf:!0,inner:i}}x.b[6][1]++;x.s[27]++;return{containsLeaf:!1,inner:i}}computeRoot(n,e=(x.b[7][0]++,MerkleTree._hash)){x.f[4]++;let l=(x.s[28]++,e(n));x.s[29]++;for(const t of this._nodes){const n=(x.s[30]++,t.left),e=(x.s[31]++,t.hash),o=(x.s[32]++,new SerialBuffer(2*e.serializedSize));x.s[33]++;if(n){x.b[8][0]++;x.s[34]++;e.serialize(o)}else x.b[8][1]++;x.s[35]++;l.serialize(o);x.s[36]++;if(n)x.b[9][1]++;else{x.b[9][0]++;x.s[37]++;e.serialize(o)}x.s[38]++;l=Hash.light(o)}x.s[39]++;return l}static _compress(n){x.f[5]++;const e=(x.s[40]++,n.length),l=(x.s[41]++,Math.ceil(e/8)),t=(x.s[42]++,new Uint8Array(l));x.s[43]++;for(let o=0;o<e;o++){x.s[44]++;if(n[o].left){x.b[10][0]++;x.s[45]++;t[Math.floor(o/8)]|=128>>>o%8}else x.b[10][1]++}x.s[46]++;return t}static unserialize(n){x.f[6]++;const e=(x.s[47]++,n.readUint8()),l=(x.s[48]++,Math.ceil(e/8)),t=(x.s[49]++,n.read(l)),o=(x.s[50]++,[]);x.s[51]++;for(let i=0;i<e;i++){const e=(x.s[52]++,0!=(t[Math.floor(i/8)]&128>>>i%8)),l=(x.s[53]++,Hash.unserialize(n));x.s[54]++;o.push(new MerklePathNode(l,e))}x.s[55]++;return new MerklePath(o)}serialize(n){x.f[7]++;x.s[56]++;n=(x.b[11][0]++,n)||(x.b[11][1]++,new SerialBuffer(this.serializedSize));x.s[57]++;n.writeUint8(this._nodes.length);x.s[58]++;n.write(MerklePath._compress(this._nodes));x.s[59]++;for(const e of this._nodes){x.s[60]++;e.hash.serialize(n)}x.s[61]++;return n}get serializedSize(){x.f[8]++;const n=(x.s[62]++,Math.ceil(this._nodes.length/8));x.s[63]++;return 1+n+this._nodes.reduce((n,e)=>{x.f[9]++;x.s[64]++;return n+e.hash.serializedSize},0)}equals(n){x.f[10]++;x.s[65]++;return(x.b[12][0]++,n instanceof MerklePath)&&(x.b[12][1]++,this._nodes.length===n._nodes.length)&&(x.b[12][2]++,this._nodes.every((e,l)=>{x.f[11]++;x.s[66]++;return e.equals(n._nodes[l])}))}get nodes(){x.f[12]++;x.s[67]++;return this._nodes}}x.s[68]++;Class.register(MerklePath);class MerklePathNode{constructor(n,e){x.f[13]++;x.s[69]++;this._hash=n;x.s[70]++;this._left=e}get hash(){x.f[14]++;x.s[71]++;return this._hash}get left(){x.f[15]++;x.s[72]++;return this._left}equals(n){x.f[16]++;x.s[73]++;return(x.b[13][0]++,n instanceof MerklePathNode)&&(x.b[13][1]++,this._hash.equals(n.hash))&&(x.b[13][2]++,this._left===n.left)}}x.s[74]++;Class.register(MerklePathNode);var D=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/merkle/MerkleProof.js",e="92c506bbf07d0f6e0c7b66aa7f413ed8ec510a93",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/merkle/MerkleProof.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:111}},1:{start:{line:7,column:76},end:{line:7,column:111}},2:{start:{line:8,column:8},end:{line:8,column:124}},3:{start:{line:8,column:84},end:{line:8,column:124}},4:{start:{line:13,column:8},end:{line:13,column:29}},5:{start:{line:14,column:8},end:{line:14,column:38}},6:{start:{line:24,column:27},end:{line:24,column:49}},7:{start:{line:25,column:56},end:{line:25,column:104}},8:{start:{line:26,column:8},end:{line:26,column:49}},9:{start:{line:38,column:23},end:{line:38,column:32}},10:{start:{line:39,column:8},end:{line:39,column:40}},11:{start:{line:40,column:8},end:{line:40,column:35}},12:{start:{line:42,column:24},end:{line:42,column:25}},13:{start:{line:42,column:40},end:{line:42,column:41}},14:{start:{line:43,column:8},end:{line:65,column:9}},15:{start:{line:44,column:26},end:{line:44,column:44}},16:{start:{line:45,column:37},end:{line:45,column:76}},17:{start:{line:47,column:12},end:{line:64,column:13}},18:{start:{line:48,column:16},end:{line:48,column:50}},19:{start:{line:49,column:16},end:{line:49,column:28}},20:{start:{line:52,column:17},end:{line:64,column:13}},21:{start:{line:55,column:16},end:{line:57,column:17}},22:{start:{line:56,column:20},end:{line:56,column:55}},23:{start:{line:58,column:16},end:{line:58,column:34}},24:{start:{line:59,column:16},end:{line:59,column:28}},25:{start:{line:63,column:16},end:{line:63,column:29}},26:{start:{line:67,column:8},end:{line:69,column:9}},27:{start:{line:68,column:12},end:{line:68,column:50}},28:{start:{line:71,column:8},end:{line:71,column:71}},29:{start:{line:82,column:20},end:{line:82,column:33}},30:{start:{line:84,column:8},end:{line:87,column:9}},31:{start:{line:85,column:12},end:{line:85,column:49}},32:{start:{line:86,column:12},end:{line:86,column:119}},33:{start:{line:88,column:8},end:{line:97,column:9}},34:{start:{line:89,column:12},end:{line:89,column:37}},35:{start:{line:90,column:27},end:{line:90,column:63}},36:{start:{line:90,column:48},end:{line:90,column:62}},37:{start:{line:91,column:12},end:{line:96,column:14}},38:{start:{line:99,column:20},end:{line:99,column:39}},39:{start:{line:100,column:21},end:{line:100,column:41}},40:{start:{line:101,column:22},end:{line:101,column:39}},41:{start:{line:102,column:95},end:{line:102,column:141}},42:{start:{line:103,column:99},end:{line:103,column:146}},43:{start:{line:104,column:8},end:{line:104,column:102}},44:{start:{line:107,column:8},end:{line:109,column:9}},45:{start:{line:108,column:12},end:{line:108,column:119}},46:{start:{line:112,column:25},end:{line:112,column:32}},47:{start:{line:113,column:8},end:{line:113,column:49}},48:{start:{line:114,column:19},end:{line:114,column:27}},49:{start:{line:115,column:8},end:{line:115,column:38}},50:{start:{line:117,column:8},end:{line:117,column:52}},51:{start:{line:119,column:8},end:{line:119,column:85}},52:{start:{line:129,column:23},end:{line:129,column:45}},53:{start:{line:130,column:22},end:{line:130,column:24}},54:{start:{line:131,column:27},end:{line:131,column:46}},55:{start:{line:132,column:8},end:{line:161,column:9}},56:{start:{line:133,column:12},end:{line:160,column:13}},57:{start:{line:135,column:20},end:{line:137,column:21}},58:{start:{line:136,column:24},end:{line:136,column:62}},59:{start:{line:138,column:20},end:{line:138,column:51}},60:{start:{line:139,column:20},end:{line:139,column:26}},61:{start:{line:141,column:20},end:{line:143,column:21}},62:{start:{line:142,column:24},end:{line:142,column:62}},63:{start:{line:144,column:20},end:{line:144,column:47}},64:{start:{line:145,column:20},end:{line:145,column:26}},65:{start:{line:147,column:20},end:{line:149,column:21}},66:{start:{line:148,column:24},end:{line:148,column:62}},67:{start:{line:150,column:38},end:{line:150,column:57}},68:{start:{line:151,column:35},end:{line:151,column:116}},69:{start:{line:151,column:85},end:{line:151,column:111}},70:{start:{line:152,column:42},end:{line:152,column:51}},71:{start:{line:153,column:20},end:{line:153,column:43}},72:{start:{line:154,column:20},end:{line:154,column:44}},73:{start:{line:155,column:20},end:{line:155,column:51}},74:{start:{line:156,column:20},end:{line:156,column:26}},75:{start:{line:159,column:20},end:{line:159,column:58}},76:{start:{line:164,column:8},end:{line:166,column:9}},77:{start:{line:165,column:12},end:{line:165,column:54}},78:{start:{line:168,column:8},end:{line:168,column:24}},79:{start:{line:177,column:22},end:{line:177,column:39}},80:{start:{line:178,column:27},end:{line:178,column:47}},81:{start:{line:179,column:23},end:{line:179,column:49}},82:{start:{line:181,column:8},end:{line:184,column:9}},83:{start:{line:182,column:23},end:{line:182,column:42}},84:{start:{line:183,column:12},end:{line:183,column:59}},85:{start:{line:186,column:8},end:{line:186,column:22}},86:{start:{line:194,column:24},end:{line:194,column:40}},87:{start:{line:195,column:27},end:{line:195,column:49}},88:{start:{line:196,column:23},end:{line:196,column:43}},89:{start:{line:198,column:27},end:{line:198,column:29}},90:{start:{line:199,column:8},end:{line:202,column:9}},91:{start:{line:200,column:24},end:{line:200,column:73}},92:{start:{line:201,column:12},end:{line:201,column:32}},93:{start:{line:204,column:27},end:{line:204,column:43}},94:{start:{line:205,column:23},end:{line:205,column:25}},95:{start:{line:206,column:8},end:{line:208,column:9}},96:{start:{line:207,column:12},end:{line:207,column:47}},97:{start:{line:209,column:8},end:{line:209,column:51}},98:{start:{line:217,column:8},end:{line:217,column:59}},99:{start:{line:218,column:8},end:{line:218,column:49}},100:{start:{line:219,column:8},end:{line:219,column:59}},101:{start:{line:220,column:8},end:{line:220,column:44}},102:{start:{line:221,column:8},end:{line:223,column:9}},103:{start:{line:222,column:12},end:{line:222,column:32}},104:{start:{line:224,column:8},end:{line:224,column:19}},105:{start:{line:229,column:27},end:{line:229,column:65}},106:{start:{line:230,column:8},end:{line:232,column:78}},107:{start:{line:232,column:48},end:{line:232,column:73}},108:{start:{line:240,column:8},end:{line:244,column:74}},109:{start:{line:242,column:46},end:{line:242,column:70}},110:{start:{line:244,column:49},end:{line:244,column:72}},111:{start:{line:249,column:8},end:{line:249,column:27}},112:{start:{line:253,column:0},end:{line:257,column:2}},113:{start:{line:258,column:0},end:{line:258,column:28}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:36},end:{line:15,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:23,column:4},end:{line:23,column:5}},loc:{start:{line:23,column:66},end:{line:27,column:5}},line:23},2:{name:"(anonymous_2)",decl:{start:{line:37,column:4},end:{line:37,column:5}},loc:{start:{line:37,column:88},end:{line:72,column:5}},line:37},3:{name:"(anonymous_3)",decl:{start:{line:81,column:4},end:{line:81,column:5}},loc:{start:{line:81,column:48},end:{line:120,column:5}},line:81},4:{name:"(anonymous_4)",decl:{start:{line:90,column:43},end:{line:90,column:44}},loc:{start:{line:90,column:48},end:{line:90,column:62}},line:90},5:{name:"(anonymous_5)",decl:{start:{line:127,column:4},end:{line:127,column:5}},loc:{start:{line:127,column:55},end:{line:169,column:5}},line:127},6:{name:"(anonymous_6)",decl:{start:{line:151,column:69},end:{line:151,column:70}},loc:{start:{line:151,column:85},end:{line:151,column:111}},line:151},7:{name:"(anonymous_7)",decl:{start:{line:176,column:4},end:{line:176,column:5}},loc:{start:{line:176,column:33},end:{line:187,column:5}},line:176},8:{name:"(anonymous_8)",decl:{start:{line:193,column:4},end:{line:193,column:5}},loc:{start:{line:193,column:28},end:{line:210,column:5}},line:193},9:{name:"(anonymous_9)",decl:{start:{line:216,column:4},end:{line:216,column:5}},loc:{start:{line:216,column:19},end:{line:225,column:5}},line:216},10:{name:"(anonymous_10)",decl:{start:{line:228,column:4},end:{line:228,column:5}},loc:{start:{line:228,column:25},end:{line:233,column:5}},line:228},11:{name:"(anonymous_11)",decl:{start:{line:232,column:33},end:{line:232,column:34}},loc:{start:{line:232,column:48},end:{line:232,column:73}},line:232},12:{name:"(anonymous_12)",decl:{start:{line:239,column:4},end:{line:239,column:5}},loc:{start:{line:239,column:14},end:{line:245,column:5}},line:239},13:{name:"(anonymous_13)",decl:{start:{line:242,column:33},end:{line:242,column:34}},loc:{start:{line:242,column:46},end:{line:242,column:70}},line:242},14:{name:"(anonymous_14)",decl:{start:{line:244,column:38},end:{line:244,column:39}},loc:{start:{line:244,column:49},end:{line:244,column:72}},line:244},15:{name:"(anonymous_15)",decl:{start:{line:248,column:4},end:{line:248,column:5}},loc:{start:{line:248,column:16},end:{line:250,column:5}},line:248}},branchMap:{0:{loc:{start:{line:7,column:8},end:{line:7,column:111}},type:"if",locations:[{start:{line:7,column:8},end:{line:7,column:111}},{start:{line:7,column:8},end:{line:7,column:111}}],line:7},1:{loc:{start:{line:7,column:12},end:{line:7,column:74}},type:"binary-expr",locations:[{start:{line:7,column:12},end:{line:7,column:34}},{start:{line:7,column:38},end:{line:7,column:74}}],line:7},2:{loc:{start:{line:8,column:8},end:{line:8,column:124}},type:"if",locations:[{start:{line:8,column:8},end:{line:8,column:124}},{start:{line:8,column:8},end:{line:8,column:124}}],line:8},3:{loc:{start:{line:8,column:12},end:{line:8,column:82}},type:"binary-expr",locations:[{start:{line:8,column:12},end:{line:8,column:38}},{start:{line:8,column:42},end:{line:8,column:82}}],line:8},4:{loc:{start:{line:23,column:39},end:{line:23,column:64}},type:"default-arg",locations:[{start:{line:23,column:48},end:{line:23,column:64}}],line:23},5:{loc:{start:{line:37,column:61},end:{line:37,column:86}},type:"default-arg",locations:[{start:{line:37,column:70},end:{line:37,column:86}}],line:37},6:{loc:{start:{line:43,column:15},end:{line:43,column:74}},type:"binary-expr",locations:[{start:{line:43,column:15},end:{line:43,column:41}},{start:{line:43,column:45},end:{line:43,column:74}}],line:43},7:{loc:{start:{line:47,column:12},end:{line:64,column:13}},type:"if",locations:[{start:{line:47,column:12},end:{line:64,column:13}},{start:{line:47,column:12},end:{line:64,column:13}}],line:47},8:{loc:{start:{line:52,column:17},end:{line:64,column:13}},type:"if",locations:[{start:{line:52,column:17},end:{line:64,column:13}},{start:{line:52,column:17},end:{line:64,column:13}}],line:52},9:{loc:{start:{line:55,column:16},end:{line:57,column:17}},type:"if",locations:[{start:{line:55,column:16},end:{line:57,column:17}},{start:{line:55,column:16},end:{line:57,column:17}}],line:55},10:{loc:{start:{line:67,column:8},end:{line:69,column:9}},type:"if",locations:[{start:{line:67,column:8},end:{line:69,column:9}},{start:{line:67,column:8},end:{line:69,column:9}}],line:67},11:{loc:{start:{line:67,column:12},end:{line:67,column:62}},type:"binary-expr",locations:[{start:{line:67,column:12},end:{line:67,column:41}},{start:{line:67,column:45},end:{line:67,column:62}}],line:67},12:{loc:{start:{line:84,column:8},end:{line:87,column:9}},type:"if",locations:[{start:{line:84,column:8},end:{line:87,column:9}},{start:{line:84,column:8},end:{line:87,column:9}}],line:84},13:{loc:{start:{line:88,column:8},end:{line:97,column:9}},type:"if",locations:[{start:{line:88,column:8},end:{line:97,column:9}},{start:{line:88,column:8},end:{line:97,column:9}}],line:88},14:{loc:{start:{line:93,column:29},end:{line:93,column:111}},type:"cond-expr",locations:[{start:{line:93,column:38},end:{line:93,column:73}},{start:{line:93,column:76},end:{line:93,column:111}}],line:93},15:{loc:{start:{line:94,column:22},end:{line:94,column:42}},type:"cond-expr",locations:[{start:{line:94,column:31},end:{line:94,column:33}},{start:{line:94,column:36},end:{line:94,column:42}}],line:94},16:{loc:{start:{line:107,column:8},end:{line:109,column:9}},type:"if",locations:[{start:{line:107,column:8},end:{line:109,column:9}},{start:{line:107,column:8},end:{line:109,column:9}}],line:107},17:{loc:{start:{line:107,column:12},end:{line:107,column:35}},type:"binary-expr",locations:[{start:{line:107,column:12},end:{line:107,column:21}},{start:{line:107,column:25},end:{line:107,column:35}}],line:107},18:{loc:{start:{line:127,column:28},end:{line:127,column:53}},type:"default-arg",locations:[{start:{line:127,column:37},end:{line:127,column:53}}],line:127},19:{loc:{start:{line:133,column:12},end:{line:160,column:13}},type:"switch",locations:[{start:{line:134,column:16},end:{line:139,column:26}},{start:{line:140,column:16},end:{line:145,column:26}},{start:{line:146,column:16},end:{line:157,column:17}},{start:{line:158,column:16},end:{line:159,column:58}}],line:133},20:{loc:{start:{line:135,column:20},end:{line:137,column:21}},type:"if",locations:[{start:{line:135,column:20},end:{line:137,column:21}},{start:{line:135,column:20},end:{line:137,column:21}}],line:135},21:{loc:{start:{line:141,column:20},end:{line:143,column:21}},type:"if",locations:[{start:{line:141,column:20},end:{line:143,column:21}},{start:{line:141,column:20},end:{line:143,column:21}}],line:141},22:{loc:{start:{line:147,column:20},end:{line:149,column:21}},type:"if",locations:[{start:{line:147,column:20},end:{line:149,column:21}},{start:{line:147,column:20},end:{line:149,column:21}}],line:147},23:{loc:{start:{line:164,column:8},end:{line:166,column:9}},type:"if",locations:[{start:{line:164,column:8},end:{line:166,column:9}},{start:{line:164,column:8},end:{line:166,column:9}}],line:164},24:{loc:{start:{line:164,column:12},end:{line:164,column:80}},type:"binary-expr",locations:[{start:{line:164,column:12},end:{line:164,column:30}},{start:{line:164,column:34},end:{line:164,column:57}},{start:{line:164,column:61},end:{line:164,column:80}}],line:164},25:{loc:{start:{line:217,column:14},end:{line:217,column:58}},type:"binary-expr",locations:[{start:{line:217,column:14},end:{line:217,column:17}},{start:{line:217,column:21},end:{line:217,column:58}}],line:217},26:{loc:{start:{line:240,column:15},end:{line:244,column:73}},type:"binary-expr",locations:[{start:{line:240,column:15},end:{line:240,column:39}},{start:{line:241,column:15},end:{line:241,column:53}},{start:{line:242,column:15},end:{line:242,column:71}},{start:{line:243,column:15},end:{line:243,column:63}},{start:{line:244,column:15},end:{line:244,column:73}}],line:240}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0],5:[0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0],19:[0,0,0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0,0],25:[0,0],26:[0,0,0,0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class MerkleProof{constructor(n,e){D.f[0]++;D.s[0]++;if((D.b[1][0]++,!Array.isArray(n))||(D.b[1][1]++,!NumberUtils.isUint16(n.length))){D.b[0][0]++;D.s[1]++;throw new Error("Malformed nodes")}D.b[0][1]++;D.s[2]++;if((D.b[3][0]++,!Array.isArray(e))||(D.b[3][1]++,!NumberUtils.isUint16(e.length))){D.b[2][0]++;D.s[3]++;throw new Error("Malformed operations")}D.b[2][1]++;D.s[4]++;this._nodes=n;D.s[5]++;this._operations=e}static compute(n,e,l=(D.b[4][0]++,MerkleTree._hash)){D.f[1]++;const t=(D.s[6]++,e.map(l)),{containsLeaf:o,operations:i,path:c,inner:s}=(D.s[7]++,MerkleProof._compute(n,t,l));D.s[8]++;return new MerkleProof(c,i)}static computeWithAbsence(n,e,l,t=(D.b[5][0]++,MerkleTree._hash)){D.f[2]++;const o=(D.s[9]++,new Set);D.s[10]++;e=e.slice();D.s[11]++;e.sort(l);let i=(D.s[12]++,0),c=(D.s[13]++,0);D.s[14]++;for(;(D.b[6][0]++,c<n.length)&&(D.b[6][1]++,i<e.length);){const t=(D.s[15]++,n[c]),s=(D.s[16]++,l(t,e[i]));D.s[17]++;if(0===s){D.b[7][0]++;D.s[18]++;o.add(e[i]);D.s[19]++;++i}else{D.b[7][1]++;D.s[20]++;if(s>0){D.b[8][0]++;D.s[21]++;if(c>0){D.b[9][0]++;D.s[22]++;o.add(n[c-1])}else D.b[9][1]++;D.s[23]++;o.add(t);D.s[24]++;++i}else{D.b[8][1]++;D.s[25]++;++c}}}D.s[26]++;if((D.b[11][0]++,i<e.length)&&(D.b[11][1]++,n.length>0)){D.b[10][0]++;D.s[27]++;o.add(n[n.length-1])}else D.b[10][1]++;D.s[28]++;return MerkleProof.compute(n,Array.from(o),t)}static _compute(n,e,l){D.f[3]++;const t=(D.s[29]++,n.length);let o;D.s[30]++;if(0===t){D.b[12][0]++;D.s[31]++;o=Hash.light(new Uint8Array(0));D.s[32]++;return{containsLeaf:!1,operations:[MerkleProof.Operation.CONSUME_PROOF],path:[o],inner:o}}D.b[12][1]++;D.s[33]++;if(1===t){D.b[13][0]++;D.s[34]++;o=l(n[0]);const t=(D.s[35]++,e.some(n=>{D.f[4]++;D.s[36]++;return o.equals(n)}));D.s[37]++;return{containsLeaf:t,operations:[t?(D.b[14][0]++,MerkleProof.Operation.CONSUME_INPUT):(D.b[14][1]++,MerkleProof.Operation.CONSUME_PROOF)],path:t?(D.b[15][0]++,[]):(D.b[15][1]++,[o]),inner:o}}D.b[13][1]++;const i=(D.s[38]++,Math.round(t/2)),c=(D.s[39]++,n.slice(0,i)),s=(D.s[40]++,n.slice(i)),{containsLeaf:u,operations:m,path:r,inner:a}=(D.s[41]++,MerkleProof._compute(c,e,l)),{containsLeaf:d,operations:h,path:f,inner:_}=(D.s[42]++,MerkleProof._compute(s,e,l));D.s[43]++;o=Hash.light(BufferUtils.concatTypedArrays(a.serialize(),_.serialize()));D.s[44]++;if((D.b[17][0]++,!u)&&(D.b[17][1]++,!d)){D.b[16][0]++;D.s[45]++;return{containsLeaf:!1,operations:[MerkleProof.Operation.CONSUME_PROOF],path:[o],inner:o}}D.b[16][1]++;let y=(D.s[46]++,m);D.s[47]++;y=y.concat(h);let b=(D.s[48]++,r);D.s[49]++;b=b.concat(f);D.s[50]++;y.push(MerkleProof.Operation.HASH);D.s[51]++;return{containsLeaf:!0,operations:y,path:b,inner:o}}computeRoot(n,e=(D.b[18][0]++,MerkleTree._hash)){D.f[5]++;const l=(D.s[52]++,n.map(e)),t=(D.s[53]++,[]),o=(D.s[54]++,this._nodes.slice());D.s[55]++;for(const i of this._operations){D.s[56]++;switch(i){case MerkleProof.Operation.CONSUME_PROOF:D.b[19][0]++;D.s[57]++;if(0===o.length){D.b[20][0]++;D.s[58]++;throw new Error("Invalid operation.")}D.b[20][1]++;D.s[59]++;t.push(o.shift());D.s[60]++;break;case MerkleProof.Operation.CONSUME_INPUT:D.b[19][1]++;D.s[61]++;if(0===l.length){D.b[21][0]++;D.s[62]++;throw new Error("Invalid operation.")}D.b[21][1]++;D.s[63]++;t.push(l.shift());D.s[64]++;break;case MerkleProof.Operation.HASH:D.b[19][2]++;{D.s[65]++;if(t.length<2){D.b[22][0]++;D.s[66]++;throw new Error("Invalid operation.")}D.b[22][1]++;const n=(D.s[67]++,t.splice(-2,2)),e=(D.s[68]++,new SerialBuffer(n.reduce((n,e)=>{D.f[6]++;D.s[69]++;return n+e.serializedSize},0))),[l,o]=(D.s[70]++,n);D.s[71]++;l.serialize(e);D.s[72]++;o.serialize(e);D.s[73]++;t.push(Hash.light(e));D.s[74]++;break}default:D.b[19][3]++;D.s[75]++;throw new Error("Invalid operation.")}}D.s[76]++;if((D.b[24][0]++,1!==t.length)||(D.b[24][1]++,0!==o.length)||(D.b[24][2]++,0!==l.length)){D.b[23][0]++;D.s[77]++;throw Error("Did not consume all nodes.")}D.b[23][1]++;D.s[78]++;return t[0]}static _compress(n){D.f[7]++;const e=(D.s[79]++,n.length),l=(D.s[80]++,Math.ceil(e/4)),t=(D.s[81]++,new Uint8Array(l));D.s[82]++;for(let o=0;o<e;o++){const e=(D.s[83]++,3&n[o]);D.s[84]++;t[Math.floor(o/4)]|=e<<o%4*2}D.s[85]++;return t}static unserialize(n){D.f[8]++;const e=(D.s[86]++,n.readUint16()),l=(D.s[87]++,Math.ceil(e/4)),t=(D.s[88]++,n.read(l)),o=(D.s[89]++,[]);D.s[90]++;for(let s=0;s<e;s++){const n=(D.s[91]++,t[Math.floor(s/4)]>>>s%4*2&3);D.s[92]++;o.push(n)}const i=(D.s[93]++,n.readUint16()),c=(D.s[94]++,[]);D.s[95]++;for(let s=0;s<i;s++){D.s[96]++;c.push(Hash.unserialize(n))}D.s[97]++;return new MerkleProof(c,o)}serialize(n){D.f[9]++;D.s[98]++;n=(D.b[25][0]++,n)||(D.b[25][1]++,new SerialBuffer(this.serializedSize));D.s[99]++;n.writeUint16(this._operations.length);D.s[100]++;n.write(MerkleProof._compress(this._operations));D.s[101]++;n.writeUint16(this._nodes.length);D.s[102]++;for(const e of this._nodes){D.s[103]++;e.serialize(n)}D.s[104]++;return n}get serializedSize(){D.f[10]++;const n=(D.s[105]++,Math.ceil(this._operations.length/4));D.s[106]++;return 4+n+this._nodes.reduce((n,e)=>{D.f[11]++;D.s[107]++;return n+e.serializedSize},0)}equals(n){D.f[12]++;D.s[108]++;return(D.b[26][0]++,n instanceof MerkleProof)&&(D.b[26][1]++,this._nodes.length===n._nodes.length)&&(D.b[26][2]++,this._nodes.every((e,l)=>{D.f[13]++;D.s[109]++;return e.equals(n._nodes[l])}))&&(D.b[26][3]++,this._operations.length===n._operations.length)&&(D.b[26][4]++,this._operations.every((e,l)=>{D.f[14]++;D.s[110]++;return e===n._operations[l]}))}get nodes(){D.f[15]++;D.s[111]++;return this._nodes}}D.s[112]++;MerkleProof.Operation={CONSUME_PROOF:0,CONSUME_INPUT:1,HASH:2};D.s[113]++;Class.register(MerkleProof);var z=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/platform/PlatformUtils.js",e="128ee09d83192065255946ae7ba2862dc910289a",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/platform/PlatformUtils.js",statementMap:{0:{start:{line:6,column:8},end:{line:6,column:45}},1:{start:{line:13,column:8},end:{line:13,column:106}},2:{start:{line:20,column:32},end:{line:20,column:127}},3:{start:{line:21,column:8},end:{line:21,column:35}},4:{start:{line:28,column:8},end:{line:28,column:106}},5:{start:{line:31,column:0},end:{line:31,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:23},end:{line:7,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:12,column:4},end:{line:12,column:5}},loc:{start:{line:12,column:22},end:{line:14,column:5}},line:12},2:{name:"(anonymous_2)",decl:{start:{line:19,column:4},end:{line:19,column:5}},loc:{start:{line:19,column:28},end:{line:22,column:5}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:27,column:4},end:{line:27,column:5}},loc:{start:{line:27,column:22},end:{line:29,column:5}},line:27}},branchMap:{0:{loc:{start:{line:13,column:15},end:{line:13,column:105}},type:"binary-expr",locations:[{start:{line:13,column:15},end:{line:13,column:41}},{start:{line:13,column:45},end:{line:13,column:72}},{start:{line:13,column:76},end:{line:13,column:105}}],line:13},1:{loc:{start:{line:20,column:32},end:{line:20,column:127}},type:"cond-expr",locations:[{start:{line:20,column:61},end:{line:20,column:119}},{start:{line:20,column:123},end:{line:20,column:127}}],line:20},2:{loc:{start:{line:20,column:61},end:{line:20,column:119}},type:"binary-expr",locations:[{start:{line:20,column:61},end:{line:20,column:85}},{start:{line:20,column:89},end:{line:20,column:119}}],line:20},3:{loc:{start:{line:28,column:15},end:{line:28,column:105}},type:"binary-expr",locations:[{start:{line:28,column:16},end:{line:28,column:42}},{start:{line:28,column:46},end:{line:28,column:77}},{start:{line:28,column:82},end:{line:28,column:105}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0,5:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class PlatformUtils{static isBrowser(){z.f[0]++;z.s[0]++;return"undefined"!=typeof window}static isNodeJs(){z.f[1]++;z.s[1]++;return(z.b[0][0]++,!PlatformUtils.isBrowser())&&(z.b[0][1]++,"object"==typeof process)&&(z.b[0][2]++,"function"==typeof require)}static supportsWebRTC(){z.f[2]++;let n=(z.s[2]++,PlatformUtils.isBrowser()?(z.b[1][0]++,(z.b[2][0]++,window.RTCPeerConnection)||(z.b[2][1]++,window.webkitRTCPeerConnection)):(z.b[1][1]++,null));z.s[3]++;return!!n}static isOnline(){z.f[3]++;z.s[4]++;return(z.b[3][0]++,!PlatformUtils.isBrowser())||(z.b[3][1]++,!("onLine"in window.navigator))||(z.b[3][2]++,window.navigator.onLine)}}z.s[5]++;Class.register(PlatformUtils);var H=function(){var n="/home/soeren/nimiq/core/src/main/generic/utils/string/StringUtils.js",e="3d53471cf66fd914ff8c0ac79f654137f5294f86",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/utils/string/StringUtils.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:43}},1:{start:{line:15,column:8},end:{line:15,column:42}},2:{start:{line:24,column:8},end:{line:24,column:50}},3:{start:{line:24,column:37},end:{line:24,column:50}},4:{start:{line:25,column:8},end:{line:25,column:47}},5:{start:{line:25,column:34},end:{line:25,column:47}},6:{start:{line:26,column:8},end:{line:26,column:82}},7:{start:{line:26,column:69},end:{line:26,column:82}},8:{start:{line:27,column:8},end:{line:27,column:20}},9:{start:{line:36,column:16},end:{line:36,column:17}},10:{start:{line:37,column:8},end:{line:39,column:9}},11:{start:{line:38,column:12},end:{line:38,column:43}},12:{start:{line:38,column:37},end:{line:38,column:43}},13:{start:{line:40,column:8},end:{line:40,column:33}},14:{start:{line:44,column:0},end:{line:44,column:28}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:28},end:{line:8,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:14,column:4},end:{line:14,column:5}},loc:{start:{line:14,column:22},end:{line:16,column:5}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:23,column:4},end:{line:23,column:5}},loc:{start:{line:23,column:35},end:{line:28,column:5}},line:23},3:{name:"(anonymous_3)",decl:{start:{line:35,column:4},end:{line:35,column:5}},loc:{start:{line:35,column:36},end:{line:41,column:5}},line:35}},branchMap:{0:{loc:{start:{line:24,column:8},end:{line:24,column:50}},type:"if",locations:[{start:{line:24,column:8},end:{line:24,column:50}},{start:{line:24,column:8},end:{line:24,column:50}}],line:24},1:{loc:{start:{line:25,column:8},end:{line:25,column:47}},type:"if",locations:[{start:{line:25,column:8},end:{line:25,column:47}},{start:{line:25,column:8},end:{line:25,column:47}}],line:25},2:{loc:{start:{line:26,column:8},end:{line:26,column:82}},type:"if",locations:[{start:{line:26,column:8},end:{line:26,column:82}},{start:{line:26,column:8},end:{line:26,column:82}}],line:26},3:{loc:{start:{line:26,column:12},end:{line:26,column:67}},type:"binary-expr",locations:[{start:{line:26,column:12},end:{line:26,column:38}},{start:{line:26,column:42},end:{line:26,column:67}}],line:26},4:{loc:{start:{line:38,column:12},end:{line:38,column:43}},type:"if",locations:[{start:{line:38,column:12},end:{line:38,column:43}},{start:{line:38,column:12},end:{line:38,column:43}}],line:38}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class StringUtils{static isMultibyte(n){H.f[0]++;H.s[0]++;return/[\uD800-\uDFFF]/.test(n)}static isHex(n){H.f[1]++;H.s[1]++;return/^[0-9A-Fa-f]*$/.test(n)}static isHexBytes(n,e){H.f[2]++;H.s[2]++;if(!StringUtils.isHex(n)){H.b[0][0]++;H.s[3]++;return!1}H.b[0][1]++;H.s[4]++;if(n.length%2!=0){H.b[1][0]++;H.s[5]++;return!1}H.b[1][1]++;H.s[6]++;if((H.b[3][0]++,"number"==typeof e)&&(H.b[3][1]++,n.length/2!==e)){H.b[2][0]++;H.s[7]++;return!1}H.b[2][1]++;H.s[8]++;return!0}static commonPrefix(n,e){H.f[3]++;let l=(H.s[9]++,0);H.s[10]++;for(;l<n.length;++l){H.s[11]++;if(n[l]!==e[l]){H.b[4][0]++;H.s[12]++;break}H.b[4][1]++}H.s[13]++;return n.substr(0,l)}}H.s[14]++;Class.register(StringUtils);var q=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/Policy.js",e="bad24493e36a644f82ab26caac963390194d816c",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/Policy.js",statementMap:{0:{start:{line:8,column:8},end:{line:8,column:60}},1:{start:{line:17,column:8},end:{line:17,column:51}},2:{start:{line:27,column:26},end:{line:27,column:109}},3:{start:{line:28,column:8},end:{line:28,column:81}},4:{start:{line:31,column:23},end:{line:31,column:64}},5:{start:{line:32,column:21},end:{line:32,column:74}},6:{start:{line:35,column:21},end:{line:35,column:101}},7:{start:{line:37,column:8},end:{line:45,column:9}},8:{start:{line:38,column:12},end:{line:38,column:58}},9:{start:{line:40,column:30},end:{line:40,column:71}},10:{start:{line:41,column:12},end:{line:41,column:73}},11:{start:{line:43,column:12},end:{line:43,column:59}},12:{start:{line:44,column:12},end:{line:44,column:51}},13:{start:{line:48,column:8},end:{line:48,column:92}},14:{start:{line:59,column:21},end:{line:59,column:34}},15:{start:{line:60,column:8},end:{line:62,column:9}},16:{start:{line:61,column:12},end:{line:61,column:55}},17:{start:{line:63,column:8},end:{line:63,column:22}},18:{start:{line:72,column:30},end:{line:72,column:65}},19:{start:{line:73,column:8},end:{line:73,column:65}},20:{start:{line:83,column:8},end:{line:83,column:39}},21:{start:{line:83,column:30},end:{line:83,column:39}},22:{start:{line:84,column:26},end:{line:84,column:61}},23:{start:{line:85,column:8},end:{line:87,column:9}},24:{start:{line:86,column:12},end:{line:86,column:47}},25:{start:{line:88,column:26},end:{line:88,column:59}},26:{start:{line:89,column:8},end:{line:89,column:63}},27:{start:{line:98,column:0},end:{line:98,column:23}},28:{start:{line:105,column:0},end:{line:105,column:28}},29:{start:{line:112,column:0},end:{line:112,column:43}},30:{start:{line:119,column:0},end:{line:119,column:37}},31:{start:{line:126,column:0},end:{line:126,column:44}},32:{start:{line:133,column:0},end:{line:133,column:41}},33:{start:{line:143,column:0},end:{line:143,column:31}},34:{start:{line:150,column:0},end:{line:150,column:28}},35:{start:{line:158,column:0},end:{line:158,column:40}},36:{start:{line:165,column:0},end:{line:165,column:40}},37:{start:{line:172,column:0},end:{line:172,column:38}},38:{start:{line:179,column:0},end:{line:179,column:35}},39:{start:{line:189,column:0},end:{line:189,column:15}},40:{start:{line:197,column:0},end:{line:197,column:15}},41:{start:{line:205,column:0},end:{line:205,column:19}},42:{start:{line:213,column:0},end:{line:213,column:37}},43:{start:{line:223,column:0},end:{line:223,column:30}},44:{start:{line:231,column:0},end:{line:231,column:32}},45:{start:{line:232,column:0},end:{line:232,column:27}},46:{start:{line:233,column:0},end:{line:233,column:35}},47:{start:{line:234,column:0},end:{line:234,column:23}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:34},end:{line:9,column:5}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:16,column:4},end:{line:16,column:5}},loc:{start:{line:16,column:37},end:{line:18,column:5}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:25,column:4},end:{line:25,column:5}},loc:{start:{line:25,column:36},end:{line:49,column:5}},line:25},3:{name:"(anonymous_3)",decl:{start:{line:58,column:4},end:{line:58,column:5}},loc:{start:{line:58,column:67},end:{line:64,column:5}},line:58},4:{name:"(anonymous_4)",decl:{start:{line:71,column:4},end:{line:71,column:5}},loc:{start:{line:71,column:38},end:{line:74,column:5}},line:71},5:{name:"(anonymous_5)",decl:{start:{line:82,column:4},end:{line:82,column:5}},loc:{start:{line:82,column:54},end:{line:90,column:5}},line:82}},branchMap:{0:{loc:{start:{line:35,column:21},end:{line:35,column:101}},type:"cond-expr",locations:[{start:{line:35,column:41},end:{line:35,column:62}},{start:{line:35,column:65},end:{line:35,column:101}}],line:35},1:{loc:{start:{line:58,column:52},end:{line:58,column:65}},type:"default-arg",locations:[{start:{line:58,column:64},end:{line:58,column:65}}],line:58},2:{loc:{start:{line:83,column:8},end:{line:83,column:39}},type:"if",locations:[{start:{line:83,column:8},end:{line:83,column:39}},{start:{line:83,column:8},end:{line:83,column:39}}],line:83},3:{loc:{start:{line:85,column:8},end:{line:87,column:9}},type:"if",locations:[{start:{line:85,column:8},end:{line:87,column:9}},{start:{line:85,column:8},end:{line:87,column:9}}],line:85},4:{loc:{start:{line:85,column:12},end:{line:85,column:97}},type:"binary-expr",locations:[{start:{line:85,column:12},end:{line:85,column:53}},{start:{line:85,column:57},end:{line:85,column:97}}],line:85}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0],2:[0,0],3:[0,0],4:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Policy{static coinsToSatoshis(n){q.f[0]++;q.s[0]++;return Math.round(n*Policy.SATOSHIS_PER_COIN)}static satoshisToCoins(n){q.f[1]++;q.s[1]++;return n/Policy.SATOSHIS_PER_COIN}static supplyAfter(n){q.f[2]++;let e=(q.s[2]++,Math.floor(n/Policy._supplyCacheInterval)*Policy._supplyCacheInterval);q.s[3]++;e=Math.max(0,Math.min(e,Policy._supplyCacheMax));const l=(q.s[4]++,e/Policy._supplyCacheInterval),t=(q.s[5]++,Math.floor(n/Policy._supplyCacheInterval));let o=(q.s[6]++,0===e?(q.b[0][0]++,Policy.INITIAL_SUPPLY):(q.b[0][1]++,Policy._supplyCache.get(e)));q.s[7]++;for(let i=l;i<t;++i){q.s[8]++;e=i*Policy._supplyCacheInterval;const n=(q.s[9]++,(i+1)*Policy._supplyCacheInterval-1);q.s[10]++;o=Policy._supplyAfter(o,n,e);q.s[11]++;Policy._supplyCache.set(n+1,o);q.s[12]++;Policy._supplyCacheMax=n+1}q.s[13]++;return Policy._supplyAfter(o,n,t*Policy._supplyCacheInterval)}static _supplyAfter(n,e,l=(q.b[1][0]++,0)){q.f[3]++;let t=(q.s[14]++,n);q.s[15]++;for(let o=l;o<=e;++o){q.s[16]++;t+=Policy._blockRewardAt(t,o)}q.s[17]++;return t}static blockRewardAt(n){q.f[4]++;const e=(q.s[18]++,Policy.supplyAfter(n-1));q.s[19]++;return Policy._blockRewardAt(e,n)}static _blockRewardAt(n,e){q.f[5]++;q.s[20]++;if(e<=0){q.b[2][0]++;q.s[21]++;return 0}q.b[2][1]++;const l=(q.s[22]++,Policy.TOTAL_SUPPLY-n);q.s[23]++;if((q.b[4][0]++,e>=Policy.EMISSION_TAIL_START)&&(q.b[4][1]++,l>=Policy.EMISSION_TAIL_REWARD)){q.b[3][0]++;q.s[24]++;return Policy.EMISSION_TAIL_REWARD}q.b[3][1]++;const t=(q.s[25]++,l%Policy.EMISSION_SPEED);q.s[26]++;return(l-t)/Policy.EMISSION_SPEED}}q.s[27]++;Policy.BLOCK_TIME=60;q.s[28]++;Policy.BLOCK_SIZE_MAX=1e5;q.s[29]++;Policy.BLOCK_TARGET_MAX=Math.pow(2,240);q.s[30]++;Policy.DIFFICULTY_BLOCK_WINDOW=120;q.s[31]++;Policy.DIFFICULTY_MAX_ADJUSTMENT_FACTOR=2;q.s[32]++;Policy.TRANSACTION_VALIDITY_WINDOW=120;q.s[33]++;Policy.SATOSHIS_PER_COIN=1e5;q.s[34]++;Policy.TOTAL_SUPPLY=21e14;q.s[35]++;Policy.INITIAL_SUPPLY=252e12;q.s[36]++;Policy.EMISSION_SPEED=Math.pow(2,22);q.s[37]++;Policy.EMISSION_TAIL_START=48692960;q.s[38]++;Policy.EMISSION_TAIL_REWARD=4e3;q.s[39]++;Policy.M=240;q.s[40]++;Policy.K=120;q.s[41]++;Policy.DELTA=.1;q.s[42]++;Policy.NUM_BLOCKS_VERIFICATION=250;q.s[43]++;Policy.NUM_SNAPSHOTS_MAX=20;q.s[44]++;Policy._supplyCache=new Map;q.s[45]++;Policy._supplyCacheMax=0;q.s[46]++;Policy._supplyCacheInterval=5e3;q.s[47]++;Class.register(Policy);var K=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/primitive/Serializable.js",e="539489e83ba6f0797db6820ba6b625614db614f6",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/primitive/Serializable.js",statementMap:{0:{start:{line:10,column:8},end:{line:10,column:96}},1:{start:{line:18,column:8},end:{line:18,column:68}},2:{start:{line:22,column:8},end:{line:22,column:31}},3:{start:{line:35,column:8},end:{line:35,column:31}},4:{start:{line:42,column:8},end:{line:42,column:54}},5:{start:{line:49,column:8},end:{line:49,column:51}},6:{start:{line:53,column:0},end:{line:53,column:29}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:4},end:{line:9,column:5}},loc:{start:{line:9,column:14},end:{line:11,column:5}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:15},end:{line:19,column:5}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:21,column:4},end:{line:21,column:5}},loc:{start:{line:21,column:15},end:{line:23,column:5}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:29,column:4},end:{line:29,column:5}},loc:{start:{line:29,column:19},end:{line:29,column:21}},line:29},4:{name:"(anonymous_4)",decl:{start:{line:34,column:4},end:{line:34,column:5}},loc:{start:{line:34,column:15},end:{line:36,column:5}},line:34},5:{name:"(anonymous_5)",decl:{start:{line:41,column:4},end:{line:41,column:5}},loc:{start:{line:41,column:15},end:{line:43,column:5}},line:41},6:{name:"(anonymous_6)",decl:{start:{line:48,column:4},end:{line:48,column:5}},loc:{start:{line:48,column:12},end:{line:50,column:5}},line:48}},branchMap:{0:{loc:{start:{line:10,column:15},end:{line:10,column:95}},type:"binary-expr",locations:[{start:{line:10,column:15},end:{line:10,column:40}},{start:{line:10,column:44},end:{line:10,column:95}}],line:10}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Serializable{equals(n){K.f[0]++;K.s[0]++;return(K.b[0][0]++,n instanceof Serializable)&&(K.b[0][1]++,BufferUtils.equals(this.serialize(),n.serialize()))}compare(n){K.f[1]++;K.s[1]++;return BufferUtils.compare(this.serialize(),n.serialize())}hashCode(){K.f[2]++;K.s[2]++;return this.toBase64()}serialize(n){K.f[3]++}toString(){K.f[4]++;K.s[3]++;return this.toBase64()}toBase64(){K.f[5]++;K.s[4]++;return BufferUtils.toBase64(this.serialize())}toHex(){K.f[6]++;K.s[5]++;return BufferUtils.toHex(this.serialize())}}K.s[6]++;Class.register(Serializable);var F=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/primitive/Hash.js",e="2fa90b4a111867bf1dcf370e02cee6bc2f350e7b",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/primitive/Hash.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:25}},1:{start:{line:7,column:16},end:{line:7,column:25}},2:{start:{line:8,column:20},end:{line:8,column:42}},3:{start:{line:9,column:8},end:{line:9,column:29}},4:{start:{line:18,column:8},end:{line:23,column:9}},5:{start:{line:19,column:12},end:{line:19,column:58}},6:{start:{line:21,column:12},end:{line:21,column:89}},7:{start:{line:21,column:46},end:{line:21,column:89}},8:{start:{line:22,column:12},end:{line:22,column:101}},9:{start:{line:22,column:56},end:{line:22,column:101}},10:{start:{line:24,column:8},end:{line:24,column:16}},11:{start:{line:25,column:8},end:{line:25,column:24}},12:{start:{line:27,column:8},end:{line:27,column:36}},13:{start:{line:36,column:8},end:{line:36,column:33}},14:{start:{line:44,column:8},end:{line:44,column:74}},15:{start:{line:53,column:8},end:{line:53,column:33}},16:{start:{line:61,column:8},end:{line:61,column:115}},17:{start:{line:69,column:8},end:{line:69,column:72}},18:{start:{line:79,column:8},end:{line:84,column:9}},19:{start:{line:80,column:41},end:{line:80,column:66}},20:{start:{line:81,column:40},end:{line:81,column:64}},21:{start:{line:83,column:21},end:{line:83,column:63}},22:{start:{line:93,column:8},end:{line:93,column:70}},23:{start:{line:101,column:8},end:{line:101,column:59}},24:{start:{line:102,column:8},end:{line:102,column:29}},25:{start:{line:103,column:8},end:{line:103,column:19}},26:{start:{line:112,column:8},end:{line:112,column:46}},27:{start:{line:117,column:8},end:{line:117,column:46}},28:{start:{line:122,column:8},end:{line:122,column:25}},29:{start:{line:127,column:8},end:{line:127,column:31}},30:{start:{line:135,column:8},end:{line:135,column:88}},31:{start:{line:143,column:8},end:{line:143,column:56}},32:{start:{line:151,column:8},end:{line:151,column:50}},33:{start:{line:159,column:8},end:{line:163,column:9}},34:{start:{line:160,column:12},end:{line:160,column:37}},35:{start:{line:165,column:8},end:{line:169,column:9}},36:{start:{line:166,column:12},end:{line:166,column:40}},37:{start:{line:171,column:8},end:{line:171,column:47}},38:{start:{line:179,column:8},end:{line:179,column:33}},39:{start:{line:187,column:21},end:{line:187,column:45}},40:{start:{line:188,column:8},end:{line:188,column:80}},41:{start:{line:188,column:38},end:{line:188,column:80}},42:{start:{line:189,column:8},end:{line:189,column:20}},43:{start:{line:197,column:8},end:{line:222,column:9}},44:{start:{line:198,column:24},end:{line:198,column:76}},45:{start:{line:199,column:12},end:{line:199,column:63}},46:{start:{line:200,column:12},end:{line:200,column:23}},47:{start:{line:203,column:12},end:{line:221,column:13}},48:{start:{line:204,column:16},end:{line:204,column:46}},49:{start:{line:205,column:33},end:{line:205,column:69}},50:{start:{line:206,column:32},end:{line:206,column:59}},51:{start:{line:207,column:31},end:{line:207,column:62}},52:{start:{line:208,column:16},end:{line:208,column:86}},53:{start:{line:209,column:28},end:{line:209,column:79}},54:{start:{line:210,column:16},end:{line:212,column:17}},55:{start:{line:211,column:20},end:{line:211,column:30}},56:{start:{line:213,column:29},end:{line:213,column:53}},57:{start:{line:214,column:16},end:{line:214,column:82}},58:{start:{line:215,column:16},end:{line:215,column:28}},59:{start:{line:217,column:16},end:{line:217,column:31}},60:{start:{line:218,column:16},end:{line:218,column:24}},61:{start:{line:220,column:16},end:{line:220,column:74}},62:{start:{line:220,column:44},end:{line:220,column:74}},63:{start:{line:230,column:8},end:{line:252,column:9}},64:{start:{line:231,column:24},end:{line:231,column:75}},65:{start:{line:232,column:12},end:{line:232,column:63}},66:{start:{line:233,column:12},end:{line:233,column:23}},67:{start:{line:236,column:12},end:{line:251,column:13}},68:{start:{line:237,column:16},end:{line:237,column:46}},69:{start:{line:238,column:33},end:{line:238,column:68}},70:{start:{line:239,column:32},end:{line:239,column:59}},71:{start:{line:240,column:31},end:{line:240,column:62}},72:{start:{line:241,column:16},end:{line:241,column:86}},73:{start:{line:242,column:16},end:{line:242,column:68}},74:{start:{line:243,column:29},end:{line:243,column:53}},75:{start:{line:244,column:16},end:{line:244,column:82}},76:{start:{line:245,column:16},end:{line:245,column:28}},77:{start:{line:247,column:16},end:{line:247,column:31}},78:{start:{line:248,column:16},end:{line:248,column:24}},79:{start:{line:250,column:16},end:{line:250,column:74}},80:{start:{line:250,column:44},end:{line:250,column:74}},81:{start:{line:259,column:0},end:{line:264,column:2}},82:{start:{line:268,column:0},end:{line:268,column:22}},83:{start:{line:269,column:0},end:{line:269,column:42}},84:{start:{line:270,column:0},end:{line:270,column:42}},85:{start:{line:271,column:0},end:{line:271,column:41}},86:{start:{line:272,column:0},end:{line:272,column:41}},87:{start:{line:274,column:0},end:{line:274,column:41}},88:{start:{line:275,column:0},end:{line:275,column:21}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:19},end:{line:10,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:57},end:{line:28,column:5}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:35,column:4},end:{line:35,column:5}},loc:{start:{line:35,column:22},end:{line:37,column:5}},line:35},3:{name:"(anonymous_3)",decl:{start:{line:43,column:4},end:{line:43,column:5}},loc:{start:{line:43,column:24},end:{line:45,column:5}},line:43},4:{name:"(anonymous_4)",decl:{start:{line:52,column:4},end:{line:52,column:5}},loc:{start:{line:52,column:21},end:{line:54,column:5}},line:52},5:{name:"(anonymous_5)",decl:{start:{line:60,column:4},end:{line:60,column:5}},loc:{start:{line:60,column:30},end:{line:62,column:5}},line:60},6:{name:"(anonymous_6)",decl:{start:{line:68,column:4},end:{line:68,column:5}},loc:{start:{line:68,column:23},end:{line:70,column:5}},line:68},7:{name:"(anonymous_7)",decl:{start:{line:77,column:4},end:{line:77,column:5}},loc:{start:{line:77,column:35},end:{line:85,column:5}},line:77},8:{name:"(anonymous_8)",decl:{start:{line:92,column:4},end:{line:92,column:5}},loc:{start:{line:92,column:64},end:{line:94,column:5}},line:92},9:{name:"(anonymous_9)",decl:{start:{line:100,column:4},end:{line:100,column:5}},loc:{start:{line:100,column:19},end:{line:104,column:5}},line:100},10:{name:"(anonymous_10)",decl:{start:{line:111,column:4},end:{line:111,column:5}},loc:{start:{line:111,column:25},end:{line:113,column:5}},line:111},11:{name:"(anonymous_11)",decl:{start:{line:116,column:4},end:{line:116,column:5}},loc:{start:{line:116,column:25},end:{line:118,column:5}},line:116},12:{name:"(anonymous_12)",decl:{start:{line:121,column:4},end:{line:121,column:5}},loc:{start:{line:121,column:16},end:{line:123,column:5}},line:121},13:{name:"(anonymous_13)",decl:{start:{line:126,column:4},end:{line:126,column:5}},loc:{start:{line:126,column:20},end:{line:128,column:5}},line:126},14:{name:"(anonymous_14)",decl:{start:{line:134,column:4},end:{line:134,column:5}},loc:{start:{line:134,column:14},end:{line:136,column:5}},line:134},15:{name:"(anonymous_15)",decl:{start:{line:142,column:4},end:{line:142,column:5}},loc:{start:{line:142,column:30},end:{line:144,column:5}},line:142},16:{name:"(anonymous_16)",decl:{start:{line:150,column:4},end:{line:150,column:5}},loc:{start:{line:150,column:24},end:{line:152,column:5}},line:150},17:{name:"(anonymous_17)",decl:{start:{line:158,column:4},end:{line:158,column:5}},loc:{start:{line:158,column:27},end:{line:172,column:5}},line:158},18:{name:"(anonymous_18)",decl:{start:{line:178,column:4},end:{line:178,column:5}},loc:{start:{line:178,column:21},end:{line:180,column:5}},line:178},19:{name:"(anonymous_19)",decl:{start:{line:186,column:4},end:{line:186,column:5}},loc:{start:{line:186,column:30},end:{line:190,column:5}},line:186},20:{name:"(anonymous_20)",decl:{start:{line:196,column:4},end:{line:196,column:5}},loc:{start:{line:196,column:33},end:{line:223,column:5}},line:196},21:{name:"(anonymous_21)",decl:{start:{line:229,column:4},end:{line:229,column:5}},loc:{start:{line:229,column:32},end:{line:253,column:5}},line:229}},branchMap:{0:{loc:{start:{line:7,column:8},end:{line:7,column:25}},type:"if",locations:[{start:{line:7,column:8},end:{line:7,column:25}},{start:{line:7,column:8},end:{line:7,column:25}}],line:7},1:{loc:{start:{line:17,column:21},end:{line:17,column:55}},type:"default-arg",locations:[{start:{line:17,column:33},end:{line:17,column:55}}],line:17},2:{loc:{start:{line:18,column:8},end:{line:23,column:9}},type:"if",locations:[{start:{line:18,column:8},end:{line:23,column:9}},{start:{line:18,column:8},end:{line:23,column:9}}],line:18},3:{loc:{start:{line:21,column:12},end:{line:21,column:89}},type:"if",locations:[{start:{line:21,column:12},end:{line:21,column:89}},{start:{line:21,column:12},end:{line:21,column:89}}],line:21},4:{loc:{start:{line:22,column:12},end:{line:22,column:101}},type:"if",locations:[{start:{line:22,column:12},end:{line:22,column:101}},{start:{line:22,column:12},end:{line:22,column:101}}],line:22},5:{loc:{start:{line:79,column:8},end:{line:84,column:9}},type:"switch",locations:[{start:{line:80,column:12},end:{line:80,column:66}},{start:{line:81,column:12},end:{line:81,column:64}},{start:{line:83,column:12},end:{line:83,column:63}}],line:79},6:{loc:{start:{line:92,column:28},end:{line:92,column:62}},type:"default-arg",locations:[{start:{line:92,column:40},end:{line:92,column:62}}],line:92},7:{loc:{start:{line:101,column:14},end:{line:101,column:58}},type:"binary-expr",locations:[{start:{line:101,column:14},end:{line:101,column:17}},{start:{line:101,column:21},end:{line:101,column:58}}],line:101},8:{loc:{start:{line:135,column:15},end:{line:135,column:87}},type:"binary-expr",locations:[{start:{line:135,column:15},end:{line:135,column:32}},{start:{line:135,column:36},end:{line:135,column:68}},{start:{line:135,column:72},end:{line:135,column:87}}],line:135},9:{loc:{start:{line:188,column:8},end:{line:188,column:80}},type:"if",locations:[{start:{line:188,column:8},end:{line:188,column:80}},{start:{line:188,column:8},end:{line:188,column:80}}],line:188},10:{loc:{start:{line:197,column:8},end:{line:222,column:9}},type:"if",locations:[{start:{line:197,column:8},end:{line:222,column:9}},{start:{line:197,column:8},end:{line:222,column:9}}],line:197},11:{loc:{start:{line:210,column:16},end:{line:212,column:17}},type:"if",locations:[{start:{line:210,column:16},end:{line:212,column:17}},{start:{line:210,column:16},end:{line:212,column:17}}],line:210},12:{loc:{start:{line:220,column:16},end:{line:220,column:74}},type:"if",locations:[{start:{line:220,column:16},end:{line:220,column:74}},{start:{line:220,column:16},end:{line:220,column:74}}],line:220},13:{loc:{start:{line:230,column:8},end:{line:252,column:9}},type:"if",locations:[{start:{line:230,column:8},end:{line:252,column:9}},{start:{line:230,column:8},end:{line:252,column:9}}],line:230},14:{loc:{start:{line:250,column:16},end:{line:250,column:74}},type:"if",locations:[{start:{line:250,column:16},end:{line:250,column:74}},{start:{line:250,column:16},end:{line:250,column:74}}],line:250}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},b:{0:[0,0],1:[0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0],6:[0],7:[0,0],8:[0,0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Hash extends Serializable{static copy(n){F.f[0]++;F.s[0]++;if(!n){F.b[0][0]++;F.s[1]++;return n}F.b[0][1]++;const e=(F.s[2]++,new Uint8Array(n._obj));F.s[3]++;return new Hash(e)}constructor(n,e=(F.b[1][0]++,Hash.Algorithm.BLAKE2B)){F.f[1]++;F.s[4]++;if(null===n){F.b[2][0]++;F.s[5]++;n=new Uint8Array(Hash.getSize(e))}else{F.b[2][1]++;F.s[6]++;if(!(n instanceof Uint8Array)){F.b[3][0]++;F.s[7]++;throw new Error("Primitive: Invalid type")}F.b[3][1]++;F.s[8]++;if(n.length!==Hash.getSize(e)){F.b[4][0]++;F.s[9]++;throw new Error("Primitive: Invalid length")}F.b[4][1]++}F.s[10]++;super();F.s[11]++;this._obj=n;F.s[12]++;this._algorithm=e}static light(n){F.f[2]++;F.s[13]++;return Hash.blake2b(n)}static blake2b(n){F.f[3]++;F.s[14]++;return new Hash(Hash.computeBlake2b(n),Hash.Algorithm.BLAKE2B)}static hard(n){F.f[4]++;F.s[15]++;return Hash.argon2d(n)}static async argon2d(n){F.f[5]++;F.s[16]++;return new Hash(await(await CryptoWorker.getInstanceAsync()).computeArgon2d(n),Hash.Algorithm.ARGON2D)}static sha256(n){F.f[6]++;F.s[17]++;return new Hash(Hash.computeSha256(n),Hash.Algorithm.SHA256)}static compute(n,e){F.f[7]++;F.s[18]++;switch(e){case Hash.Algorithm.BLAKE2B:F.b[5][0]++;F.s[19]++;return Hash.blake2b(n);case Hash.Algorithm.SHA256:F.b[5][1]++;F.s[20]++;return Hash.sha256(n);default:F.b[5][2]++;F.s[21]++;throw new Error("Invalid hash algorithm")}}static unserialize(n,e=(F.b[6][0]++,Hash.Algorithm.BLAKE2B)){F.f[8]++;F.s[22]++;return new Hash(n.read(Hash.getSize(e)),e)}serialize(n){F.f[9]++;F.s[23]++;n=(F.b[7][0]++,n)||(F.b[7][1]++,new SerialBuffer(this.serializedSize));F.s[24]++;n.write(this._obj);F.s[25]++;return n}subarray(n,e){F.f[10]++;F.s[26]++;return this._obj.subarray(n,e)}get serializedSize(){F.f[11]++;F.s[27]++;return Hash.SIZE.get(this._algorithm)}get array(){F.f[12]++;F.s[28]++;return this._obj}get algorithm(){F.f[13]++;F.s[29]++;return this._algorithm}equals(n){F.f[14]++;F.s[30]++;return(F.b[8][0]++,n instanceof Hash)&&(F.b[8][1]++,n._algorithm===this._algorithm)&&(F.b[8][2]++,super.equals(n))}static fromBase64(n){F.f[15]++;F.s[31]++;return new Hash(BufferUtils.fromBase64(n))}static fromHex(n){F.f[16]++;F.s[32]++;return new Hash(BufferUtils.fromHex(n))}static fromString(n){F.f[17]++;F.s[33]++;try{F.s[34]++;return Hash.fromHex(n)}catch(e){}F.s[35]++;try{F.s[36]++;return Hash.fromBase64(n)}catch(e){}F.s[37]++;throw new Error("Invalid hash format")}static isHash(n){F.f[18]++;F.s[38]++;return n instanceof Hash}static getSize(n){F.f[19]++;const e=(F.s[39]++,Hash.SIZE.get(n));F.s[40]++;if("number"!=typeof e){F.b[9][0]++;F.s[41]++;throw new Error("Invalid hash algorithm")}F.b[9][1]++;F.s[42]++;return e}static computeBlake2b(n){F.f[20]++;F.s[43]++;if(PlatformUtils.isNodeJs()){F.b[10][0]++;const e=(F.s[44]++,new Uint8Array(Hash.getSize(Hash.Algorithm.BLAKE2B)));F.s[45]++;NodeNative.node_blake2(e,new Uint8Array(n));F.s[46]++;return e}{F.b[10][1]++;let l;F.s[47]++;try{F.s[48]++;l=Module.stackSave();const t=(F.s[49]++,Hash.getSize(Hash.Algorithm.BLAKE2B)),o=(F.s[50]++,Module.stackAlloc(t)),i=(F.s[51]++,Module.stackAlloc(n.length));F.s[52]++;new Uint8Array(Module.HEAPU8.buffer,i,n.length).set(n);const c=(F.s[53]++,Module._nimiq_blake2(o,i,n.length));F.s[54]++;if(0!==c){F.b[11][0]++;F.s[55]++;throw c}F.b[11][1]++;const s=(F.s[56]++,new Uint8Array(t));F.s[57]++;s.set(new Uint8Array(Module.HEAPU8.buffer,o,t));F.s[58]++;return s}catch(e){F.s[59]++;Log.w(Hash,e);F.s[60]++;throw e}finally{F.s[61]++;if(l!==undefined){F.b[12][0]++;F.s[62]++;Module.stackRestore(l)}else F.b[12][1]++}}}static computeSha256(n){F.f[21]++;F.s[63]++;if(PlatformUtils.isNodeJs()){F.b[13][0]++;const e=(F.s[64]++,new Uint8Array(Hash.getSize(Hash.Algorithm.SHA256)));F.s[65]++;NodeNative.node_sha256(e,new Uint8Array(n));F.s[66]++;return e}{F.b[13][1]++;let l;F.s[67]++;try{F.s[68]++;l=Module.stackSave();const t=(F.s[69]++,Hash.getSize(Hash.Algorithm.SHA256)),o=(F.s[70]++,Module.stackAlloc(t)),i=(F.s[71]++,Module.stackAlloc(n.length));F.s[72]++;new Uint8Array(Module.HEAPU8.buffer,i,n.length).set(n);F.s[73]++;Module._nimiq_sha256(o,i,n.length);const c=(F.s[74]++,new Uint8Array(t));F.s[75]++;c.set(new Uint8Array(Module.HEAPU8.buffer,o,t));F.s[76]++;return c}catch(e){F.s[77]++;Log.w(Hash,e);F.s[78]++;throw e}finally{F.s[79]++;if(l!==undefined){F.b[14][0]++;F.s[80]++;Module.stackRestore(l)}else F.b[14][1]++}}}}F.s[81]++;Hash.Algorithm={BLAKE2B:1,ARGON2D:2,SHA256:3,SHA512:4};F.s[82]++;Hash.SIZE=new Map;F.s[83]++;Hash.SIZE.set(Hash.Algorithm.BLAKE2B,32);F.s[84]++;Hash.SIZE.set(Hash.Algorithm.ARGON2D,32);F.s[85]++;Hash.SIZE.set(Hash.Algorithm.SHA256,32);F.s[86]++;Hash.SIZE.set(Hash.Algorithm.SHA512,64);F.s[87]++;Hash.NULL=new Hash(new Uint8Array(32));F.s[88]++;Class.register(Hash);var j=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/primitive/PrivateKey.js",e="9cad476f24213b0329a53b0e9a127acd885107c7",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/primitive/PrivateKey.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:16}},1:{start:{line:8,column:8},end:{line:8,column:85}},2:{start:{line:8,column:42},end:{line:8,column:85}},3:{start:{line:9,column:8},end:{line:9,column:89}},4:{start:{line:9,column:44},end:{line:9,column:89}},5:{start:{line:10,column:8},end:{line:10,column:24}},6:{start:{line:17,column:27},end:{line:17,column:58}},7:{start:{line:18,column:8},end:{line:18,column:53}},8:{start:{line:19,column:8},end:{line:19,column:42}},9:{start:{line:27,column:8},end:{line:27,column:57}},10:{start:{line:35,column:8},end:{line:35,column:59}},11:{start:{line:36,column:8},end:{line:36,column:29}},12:{start:{line:37,column:8},end:{line:37,column:19}},13:{start:{line:42,column:8},end:{line:42,column:31}},14:{start:{line:50,column:8},end:{line:50,column:39}},15:{start:{line:58,column:8},end:{line:58,column:58}},16:{start:{line:68,column:8},end:{line:72,column:9}},17:{start:{line:71,column:12},end:{line:71,column:46}},18:{start:{line:73,column:8},end:{line:98,column:9}},19:{start:{line:74,column:24},end:{line:74,column:54}},20:{start:{line:75,column:12},end:{line:75,column:160}},21:{start:{line:76,column:12},end:{line:76,column:23}},22:{start:{line:79,column:12},end:{line:97,column:13}},23:{start:{line:80,column:16},end:{line:80,column:46}},24:{start:{line:81,column:32},end:{line:81,column:65}},25:{start:{line:82,column:41},end:{line:82,column:77}},26:{start:{line:83,column:40},end:{line:83,column:75}},27:{start:{line:84,column:45},end:{line:84,column:85}},28:{start:{line:85,column:16},end:{line:85,column:106}},29:{start:{line:86,column:16},end:{line:86,column:103}},30:{start:{line:87,column:16},end:{line:87,column:118}},31:{start:{line:88,column:16},end:{line:88,column:130}},32:{start:{line:89,column:47},end:{line:89,column:78}},33:{start:{line:90,column:16},end:{line:90,column:107}},34:{start:{line:91,column:16},end:{line:91,column:46}},35:{start:{line:93,column:16},end:{line:93,column:43}},36:{start:{line:94,column:16},end:{line:94,column:24}},37:{start:{line:96,column:16},end:{line:96,column:74}},38:{start:{line:96,column:44},end:{line:96,column:74}},39:{start:{line:102,column:0},end:{line:102,column:21}},40:{start:{line:104,column:0},end:{line:104,column:27}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:21},end:{line:11,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:16,column:4},end:{line:16,column:5}},loc:{start:{line:16,column:22},end:{line:20,column:5}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:26,column:4},end:{line:26,column:5}},loc:{start:{line:26,column:28},end:{line:28,column:5}},line:26},3:{name:"(anonymous_3)",decl:{start:{line:34,column:4},end:{line:34,column:5}},loc:{start:{line:34,column:19},end:{line:38,column:5}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:41,column:4},end:{line:41,column:5}},loc:{start:{line:41,column:25},end:{line:43,column:5}},line:41},5:{name:"(anonymous_5)",decl:{start:{line:49,column:4},end:{line:49,column:5}},loc:{start:{line:49,column:26},end:{line:51,column:5}},line:49},6:{name:"(anonymous_6)",decl:{start:{line:57,column:4},end:{line:57,column:5}},loc:{start:{line:57,column:14},end:{line:59,column:5}},line:57},7:{name:"(anonymous_7)",decl:{start:{line:67,column:4},end:{line:67,column:5}},loc:{start:{line:67,column:73},end:{line:99,column:5}},line:67}},branchMap:{0:{loc:{start:{line:8,column:8},end:{line:8,column:85}},type:"if",locations:[{start:{line:8,column:8},end:{line:8,column:85}},{start:{line:8,column:8},end:{line:8,column:85}}],line:8},1:{loc:{start:{line:9,column:8},end:{line:9,column:89}},type:"if",locations:[{start:{line:9,column:8},end:{line:9,column:89}},{start:{line:9,column:8},end:{line:9,column:89}}],line:9},2:{loc:{start:{line:35,column:14},end:{line:35,column:58}},type:"binary-expr",locations:[{start:{line:35,column:14},end:{line:35,column:17}},{start:{line:35,column:21},end:{line:35,column:58}}],line:35},3:{loc:{start:{line:58,column:15},end:{line:58,column:57}},type:"binary-expr",locations:[{start:{line:58,column:15},end:{line:58,column:38}},{start:{line:58,column:42},end:{line:58,column:57}}],line:58},4:{loc:{start:{line:68,column:8},end:{line:72,column:9}},type:"if",locations:[{start:{line:68,column:8},end:{line:72,column:9}},{start:{line:68,column:8},end:{line:72,column:9}}],line:68},5:{loc:{start:{line:68,column:12},end:{line:70,column:80}},type:"binary-expr",locations:[{start:{line:68,column:12},end:{line:68,column:53}},{start:{line:69,column:15},end:{line:69,column:54}},{start:{line:70,column:15},end:{line:70,column:80}}],line:68},6:{loc:{start:{line:73,column:8},end:{line:98,column:9}},type:"if",locations:[{start:{line:73,column:8},end:{line:98,column:9}},{start:{line:73,column:8},end:{line:98,column:9}}],line:73},7:{loc:{start:{line:96,column:16},end:{line:96,column:74}},type:"if",locations:[{start:{line:96,column:16},end:{line:96,column:74}},{start:{line:96,column:16},end:{line:96,column:74}}],line:96}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0],6:[0,0],7:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class PrivateKey extends Serializable{constructor(n){j.f[0]++;j.s[0]++;super();j.s[1]++;if(!(n instanceof Uint8Array)){j.b[0][0]++;j.s[2]++;throw new Error("Primitive: Invalid type")}j.b[0][1]++;j.s[3]++;if(n.length!==PrivateKey.SIZE){j.b[1][0]++;j.s[4]++;throw new Error("Primitive: Invalid length")}j.b[1][1]++;j.s[5]++;this._obj=n}static generate(){j.f[1]++;const n=(j.s[6]++,new Uint8Array(PrivateKey.SIZE));j.s[7]++;CryptoWorker.lib.getRandomValues(n);j.s[8]++;return new PrivateKey(n)}static unserialize(n){j.f[2]++;j.s[9]++;return new PrivateKey(n.read(PrivateKey.SIZE))}serialize(n){j.f[3]++;j.s[10]++;n=(j.b[2][0]++,n)||(j.b[2][1]++,new SerialBuffer(this.serializedSize));j.s[11]++;n.write(this._obj);j.s[12]++;return n}get serializedSize(){j.f[4]++;j.s[13]++;return PrivateKey.SIZE}overwrite(n){j.f[5]++;j.s[14]++;this._obj.set(n._obj)}equals(n){j.f[6]++;j.s[15]++;return(j.b[3][0]++,n instanceof PrivateKey)&&(j.b[3][1]++,super.equals(n))}static _privateKeyDelinearize(n,e,l){j.f[7]++;j.s[16]++;if((j.b[5][0]++,n.byteLength!==PrivateKey.SIZE)||(j.b[5][1]++,e.byteLength!==PublicKey.SIZE)||(j.b[5][2]++,l.byteLength!==Hash.getSize(Hash.Algorithm.SHA512))){j.b[4][0]++;j.s[17]++;throw Error("Wrong buffer size.")}j.b[4][1]++;j.s[18]++;if(PlatformUtils.isNodeJs()){j.b[6][0]++;const t=(j.s[19]++,new Uint8Array(PublicKey.SIZE));j.s[20]++;NodeNative.node_ed25519_derive_delinearized_private_key(t,new Uint8Array(l),new Uint8Array(e),new Uint8Array(n));j.s[21]++;return t}{j.b[6][1]++;let o;j.s[22]++;try{j.s[23]++;o=Module.stackSave();const i=(j.s[24]++,Module.stackAlloc(PublicKey.SIZE)),c=(j.s[25]++,Module.stackAlloc(n.length)),s=(j.s[26]++,Module.stackAlloc(e.length)),u=(j.s[27]++,Module.stackAlloc(l.length));j.s[28]++;new Uint8Array(Module.HEAPU8.buffer,c,n.length).set(n);j.s[29]++;new Uint8Array(Module.HEAPU8.buffer,s,e.length).set(e);j.s[30]++;new Uint8Array(Module.HEAPU8.buffer,u,l.length).set(l);j.s[31]++;Module._ed25519_derive_delinearized_private_key(i,u,s,c);const m=(j.s[32]++,new Uint8Array(PrivateKey.SIZE));j.s[33]++;m.set(new Uint8Array(Module.HEAPU8.buffer,i,PrivateKey.SIZE));j.s[34]++;return m}catch(t){j.s[35]++;Log.w(CryptoWorkerImpl,t);j.s[36]++;throw t}finally{j.s[37]++;if(o!==undefined){j.b[7][0]++;j.s[38]++;Module.stackRestore(o)}else j.b[7][1]++}}}}j.s[39]++;PrivateKey.SIZE=32;j.s[40]++;Class.register(PrivateKey);var G=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/primitive/PublicKey.js",e="8b3a7d28d6ea106495f688adc4a398dd76d05c4d",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/primitive/PublicKey.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:25}},1:{start:{line:7,column:16},end:{line:7,column:25}},2:{start:{line:8,column:8},end:{line:8,column:53}},3:{start:{line:16,column:8},end:{line:16,column:16}},4:{start:{line:17,column:8},end:{line:17,column:85}},5:{start:{line:17,column:42},end:{line:17,column:85}},6:{start:{line:18,column:8},end:{line:18,column:88}},7:{start:{line:18,column:43},end:{line:18,column:88}},8:{start:{line:19,column:8},end:{line:19,column:24}},9:{start:{line:27,column:8},end:{line:27,column:74}},10:{start:{line:35,column:8},end:{line:35,column:40}},11:{start:{line:36,column:8},end:{line:36,column:48}},12:{start:{line:36,column:34},end:{line:36,column:46}},13:{start:{line:37,column:8},end:{line:37,column:72}},14:{start:{line:45,column:8},end:{line:45,column:55}},15:{start:{line:53,column:8},end:{line:53,column:59}},16:{start:{line:54,column:8},end:{line:54,column:29}},17:{start:{line:55,column:8},end:{line:55,column:19}},18:{start:{line:60,column:8},end:{line:60,column:30}},19:{start:{line:68,column:8},end:{line:68,column:57}},20:{start:{line:75,column:8},end:{line:75,column:44}},21:{start:{line:83,column:8},end:{line:83,column:54}},22:{start:{line:90,column:8},end:{line:90,column:45}},23:{start:{line:97,column:8},end:{line:97,column:55}},24:{start:{line:105,column:30},end:{line:105,column:64}},25:{start:{line:105,column:50},end:{line:105,column:63}},26:{start:{line:106,column:31},end:{line:106,column:71}},27:{start:{line:107,column:20},end:{line:107,column:95}},28:{start:{line:108,column:8},end:{line:108,column:34}},29:{start:{line:116,column:8},end:{line:118,column:9}},30:{start:{line:117,column:12},end:{line:117,column:46}},31:{start:{line:119,column:8},end:{line:145,column:9}},32:{start:{line:120,column:24},end:{line:120,column:54}},33:{start:{line:121,column:12},end:{line:121,column:87}},34:{start:{line:122,column:12},end:{line:122,column:23}},35:{start:{line:125,column:12},end:{line:144,column:13}},36:{start:{line:126,column:16},end:{line:126,column:46}},37:{start:{line:127,column:32},end:{line:127,column:65}},38:{start:{line:128,column:37},end:{line:128,column:98}},39:{start:{line:129,column:16},end:{line:129,column:45}},40:{start:{line:130,column:31},end:{line:130,column:67}},41:{start:{line:131,column:38},end:{line:131,column:98}},42:{start:{line:132,column:16},end:{line:132,column:46}},43:{start:{line:134,column:16},end:{line:134,column:67}},44:{start:{line:135,column:16},end:{line:135,column:38}},45:{start:{line:136,column:34},end:{line:136,column:64}},46:{start:{line:137,column:16},end:{line:137,column:44}},47:{start:{line:138,column:16},end:{line:138,column:33}},48:{start:{line:140,column:16},end:{line:140,column:36}},49:{start:{line:141,column:16},end:{line:141,column:24}},50:{start:{line:143,column:16},end:{line:143,column:74}},51:{start:{line:143,column:44},end:{line:143,column:74}},52:{start:{line:153,column:8},end:{line:155,column:9}},53:{start:{line:153,column:41},end:{line:153,column:80}},54:{start:{line:154,column:12},end:{line:154,column:46}},55:{start:{line:156,column:39},end:{line:156,column:89}},56:{start:{line:157,column:8},end:{line:159,column:9}},57:{start:{line:158,column:12},end:{line:158,column:74}},58:{start:{line:160,column:8},end:{line:182,column:9}},59:{start:{line:161,column:24},end:{line:161,column:75}},60:{start:{line:162,column:12},end:{line:162,column:101}},61:{start:{line:163,column:12},end:{line:163,column:23}},62:{start:{line:166,column:12},end:{line:181,column:13}},63:{start:{line:167,column:16},end:{line:167,column:46}},64:{start:{line:168,column:33},end:{line:168,column:68}},65:{start:{line:169,column:32},end:{line:169,column:59}},66:{start:{line:170,column:41},end:{line:170,column:89}},67:{start:{line:171,column:16},end:{line:171,column:130}},68:{start:{line:172,column:16},end:{line:172,column:95}},69:{start:{line:173,column:40},end:{line:173,column:64}},70:{start:{line:174,column:16},end:{line:174,column:93}},71:{start:{line:175,column:16},end:{line:175,column:39}},72:{start:{line:177,column:16},end:{line:177,column:36}},73:{start:{line:178,column:16},end:{line:178,column:24}},74:{start:{line:180,column:16},end:{line:180,column:74}},75:{start:{line:180,column:44},end:{line:180,column:74}},76:{start:{line:191,column:8},end:{line:194,column:9}},77:{start:{line:193,column:12},end:{line:193,column:46}},78:{start:{line:195,column:8},end:{line:218,column:9}},79:{start:{line:196,column:24},end:{line:196,column:54}},80:{start:{line:197,column:12},end:{line:197,column:123}},81:{start:{line:198,column:12},end:{line:198,column:23}},82:{start:{line:201,column:12},end:{line:217,column:13}},83:{start:{line:202,column:16},end:{line:202,column:46}},84:{start:{line:203,column:32},end:{line:203,column:65}},85:{start:{line:204,column:40},end:{line:204,column:75}},86:{start:{line:205,column:45},end:{line:205,column:85}},87:{start:{line:206,column:16},end:{line:206,column:103}},88:{start:{line:207,column:16},end:{line:207,column:118}},89:{start:{line:208,column:16},end:{line:208,column:103}},90:{start:{line:209,column:46},end:{line:209,column:76}},91:{start:{line:210,column:16},end:{line:210,column:105}},92:{start:{line:211,column:16},end:{line:211,column:45}},93:{start:{line:213,column:16},end:{line:213,column:36}},94:{start:{line:214,column:16},end:{line:214,column:24}},95:{start:{line:216,column:16},end:{line:216,column:74}},96:{start:{line:216,column:44},end:{line:216,column:74}},97:{start:{line:227,column:8},end:{line:230,column:9}},98:{start:{line:227,column:41},end:{line:227,column:80}},99:{start:{line:229,column:12},end:{line:229,column:46}},100:{start:{line:231,column:39},end:{line:231,column:89}},101:{start:{line:232,column:8},end:{line:234,column:9}},102:{start:{line:233,column:12},end:{line:233,column:74}},103:{start:{line:235,column:8},end:{line:258,column:9}},104:{start:{line:236,column:24},end:{line:236,column:54}},105:{start:{line:237,column:12},end:{line:237,column:151}},106:{start:{line:238,column:12},end:{line:238,column:23}},107:{start:{line:241,column:12},end:{line:257,column:13}},108:{start:{line:242,column:16},end:{line:242,column:46}},109:{start:{line:243,column:32},end:{line:243,column:65}},110:{start:{line:244,column:41},end:{line:244,column:89}},111:{start:{line:245,column:45},end:{line:245,column:85}},112:{start:{line:246,column:16},end:{line:246,column:130}},113:{start:{line:247,column:16},end:{line:247,column:118}},114:{start:{line:248,column:16},end:{line:248,column:135}},115:{start:{line:249,column:43},end:{line:249,column:73}},116:{start:{line:250,column:16},end:{line:250,column:102}},117:{start:{line:251,column:16},end:{line:251,column:42}},118:{start:{line:253,column:16},end:{line:253,column:36}},119:{start:{line:254,column:16},end:{line:254,column:24}},120:{start:{line:256,column:16},end:{line:256,column:74}},121:{start:{line:256,column:44},end:{line:256,column:74}},122:{start:{line:262,column:0},end:{line:262,column:20}},123:{start:{line:264,column:0},end:{line:264,column:26}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:19},end:{line:9,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:15,column:4},end:{line:15,column:5}},loc:{start:{line:15,column:21},end:{line:20,column:5}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:26,column:4},end:{line:26,column:5}},loc:{start:{line:26,column:30},end:{line:28,column:5}},line:26},3:{name:"(anonymous_3)",decl:{start:{line:34,column:4},end:{line:34,column:5}},loc:{start:{line:34,column:27},end:{line:38,column:5}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:36,column:24},end:{line:36,column:25}},loc:{start:{line:36,column:34},end:{line:36,column:46}},line:36},5:{name:"(anonymous_5)",decl:{start:{line:44,column:4},end:{line:44,column:5}},loc:{start:{line:44,column:28},end:{line:46,column:5}},line:44},6:{name:"(anonymous_6)",decl:{start:{line:52,column:4},end:{line:52,column:5}},loc:{start:{line:52,column:19},end:{line:56,column:5}},line:52},7:{name:"(anonymous_7)",decl:{start:{line:59,column:4},end:{line:59,column:5}},loc:{start:{line:59,column:25},end:{line:61,column:5}},line:59},8:{name:"(anonymous_8)",decl:{start:{line:67,column:4},end:{line:67,column:5}},loc:{start:{line:67,column:14},end:{line:69,column:5}},line:67},9:{name:"(anonymous_9)",decl:{start:{line:74,column:4},end:{line:74,column:5}},loc:{start:{line:74,column:11},end:{line:76,column:5}},line:74},10:{name:"(anonymous_10)",decl:{start:{line:82,column:4},end:{line:82,column:5}},loc:{start:{line:82,column:15},end:{line:84,column:5}},line:82},11:{name:"(anonymous_11)",decl:{start:{line:89,column:4},end:{line:89,column:5}},loc:{start:{line:89,column:16},end:{line:91,column:5}},line:89},12:{name:"(anonymous_12)",decl:{start:{line:96,column:4},end:{line:96,column:5}},loc:{start:{line:96,column:15},end:{line:98,column:5}},line:96},13:{name:"(anonymous_13)",decl:{start:{line:104,column:4},end:{line:104,column:5}},loc:{start:{line:104,column:58},end:{line:109,column:5}},line:104},14:{name:"(anonymous_14)",decl:{start:{line:105,column:45},end:{line:105,column:46}},loc:{start:{line:105,column:50},end:{line:105,column:63}},line:105},15:{name:"(anonymous_15)",decl:{start:{line:115,column:4},end:{line:115,column:5}},loc:{start:{line:115,column:40},end:{line:146,column:5}},line:115},16:{name:"(anonymous_16)",decl:{start:{line:152,column:4},end:{line:152,column:5}},loc:{start:{line:152,column:39},end:{line:183,column:5}},line:152},17:{name:"(anonymous_17)",decl:{start:{line:153,column:28},end:{line:153,column:29}},loc:{start:{line:153,column:41},end:{line:153,column:80}},line:153},18:{name:"(anonymous_18)",decl:{start:{line:190,column:4},end:{line:190,column:5}},loc:{start:{line:190,column:60},end:{line:219,column:5}},line:190},19:{name:"(anonymous_19)",decl:{start:{line:226,column:4},end:{line:226,column:5}},loc:{start:{line:226,column:74},end:{line:259,column:5}},line:226},20:{name:"(anonymous_20)",decl:{start:{line:227,column:28},end:{line:227,column:29}},loc:{start:{line:227,column:41},end:{line:227,column:80}},line:227}},branchMap:{0:{loc:{start:{line:7,column:8},end:{line:7,column:25}},type:"if",locations:[{start:{line:7,column:8},end:{line:7,column:25}},{start:{line:7,column:8},end:{line:7,column:25}}],line:7},1:{loc:{start:{line:17,column:8},end:{line:17,column:85}},type:"if",locations:[{start:{line:17,column:8},end:{line:17,column:85}},{start:{line:17,column:8},end:{line:17,column:85}}],line:17},2:{loc:{start:{line:18,column:8},end:{line:18,column:88}},type:"if",locations:[{start:{line:18,column:8},end:{line:18,column:88}},{start:{line:18,column:8},end:{line:18,column:88}}],line:18},3:{loc:{start:{line:53,column:14},end:{line:53,column:58}},type:"binary-expr",locations:[{start:{line:53,column:14},end:{line:53,column:17}},{start:{line:53,column:21},end:{line:53,column:58}}],line:53},4:{loc:{start:{line:68,column:15},end:{line:68,column:56}},type:"binary-expr",locations:[{start:{line:68,column:15},end:{line:68,column:37}},{start:{line:68,column:41},end:{line:68,column:56}}],line:68},5:{loc:{start:{line:116,column:8},end:{line:118,column:9}},type:"if",locations:[{start:{line:116,column:8},end:{line:118,column:9}},{start:{line:116,column:8},end:{line:118,column:9}}],line:116},6:{loc:{start:{line:119,column:8},end:{line:145,column:9}},type:"if",locations:[{start:{line:119,column:8},end:{line:145,column:9}},{start:{line:119,column:8},end:{line:145,column:9}}],line:119},7:{loc:{start:{line:143,column:16},end:{line:143,column:74}},type:"if",locations:[{start:{line:143,column:16},end:{line:143,column:74}},{start:{line:143,column:16},end:{line:143,column:74}}],line:143},8:{loc:{start:{line:153,column:8},end:{line:155,column:9}},type:"if",locations:[{start:{line:153,column:8},end:{line:155,column:9}},{start:{line:153,column:8},end:{line:155,column:9}}],line:153},9:{loc:{start:{line:160,column:8},end:{line:182,column:9}},type:"if",locations:[{start:{line:160,column:8},end:{line:182,column:9}},{start:{line:160,column:8},end:{line:182,column:9}}],line:160},10:{loc:{start:{line:180,column:16},end:{line:180,column:74}},type:"if",locations:[{start:{line:180,column:16},end:{line:180,column:74}},{start:{line:180,column:16},end:{line:180,column:74}}],line:180},11:{loc:{start:{line:191,column:8},end:{line:194,column:9}},type:"if",locations:[{start:{line:191,column:8},end:{line:194,column:9}},{start:{line:191,column:8},end:{line:194,column:9}}],line:191},12:{loc:{start:{line:191,column:12},end:{line:192,column:80}},type:"binary-expr",locations:[{start:{line:191,column:12},end:{line:191,column:51}},{start:{line:192,column:15},end:{line:192,column:80}}],line:191},13:{loc:{start:{line:195,column:8},end:{line:218,column:9}},type:"if",locations:[{start:{line:195,column:8},end:{line:218,column:9}},{start:{line:195,column:8},end:{line:218,column:9}}],line:195},14:{loc:{start:{line:216,column:16},end:{line:216,column:74}},type:"if",locations:[{start:{line:216,column:16},end:{line:216,column:74}},{start:{line:216,column:16},end:{line:216,column:74}}],line:216},15:{loc:{start:{line:227,column:8},end:{line:230,column:9}},type:"if",locations:[{start:{line:227,column:8},end:{line:230,column:9}},{start:{line:227,column:8},end:{line:230,column:9}}],line:227},16:{loc:{start:{line:227,column:12},end:{line:228,column:80}},type:"binary-expr",locations:[{start:{line:227,column:12},end:{line:227,column:81}},{start:{line:228,column:15},end:{line:228,column:80}}],line:227},17:{loc:{start:{line:235,column:8},end:{line:258,column:9}},type:"if",locations:[{start:{line:235,column:8},end:{line:258,column:9}},{start:{line:235,column:8},end:{line:258,column:9}}],line:235},18:{loc:{start:{line:256,column:16},end:{line:256,column:74}},type:"if",locations:[{start:{line:256,column:16},end:{line:256,column:74}},{start:{line:256,column:16},end:{line:256,column:74}}],line:256}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class PublicKey extends Serializable{static copy(n){G.f[0]++;G.s[0]++;if(!n){G.b[0][0]++;G.s[1]++;return n}G.b[0][1]++;G.s[2]++;return new PublicKey(new Uint8Array(n._obj))}constructor(n){G.f[1]++;G.s[3]++;super();G.s[4]++;if(!(n instanceof Uint8Array)){G.b[1][0]++;G.s[5]++;throw new Error("Primitive: Invalid type")}G.b[1][1]++;G.s[6]++;if(n.length!==PublicKey.SIZE){G.b[2][0]++;G.s[7]++;throw new Error("Primitive: Invalid length")}G.b[2][1]++;G.s[8]++;this._obj=n}static derive(n){G.f[2]++;G.s[9]++;return new PublicKey(PublicKey._publicKeyDerive(n._obj))}static sum(n){G.f[3]++;G.s[10]++;n=n.slice();G.s[11]++;n.sort((n,e)=>{G.f[4]++;G.s[12]++;return n.compare(e)});G.s[13]++;return PublicKey._delinearizeAndAggregatePublicKeys(n)}static unserialize(n){G.f[5]++;G.s[14]++;return new PublicKey(n.read(PublicKey.SIZE))}serialize(n){G.f[6]++;G.s[15]++;n=(G.b[3][0]++,n)||(G.b[3][1]++,new SerialBuffer(this.serializedSize));G.s[16]++;n.write(this._obj);G.s[17]++;return n}get serializedSize(){G.f[7]++;G.s[18]++;return PublicKey.SIZE}equals(n){G.f[8]++;G.s[19]++;return(G.b[4][0]++,n instanceof PublicKey)&&(G.b[4][1]++,super.equals(n))}hash(){G.f[9]++;G.s[20]++;return Hash.light(this.serialize())}compare(n){G.f[10]++;G.s[21]++;return BufferUtils.compare(this._obj,n._obj)}toAddress(){G.f[11]++;G.s[22]++;return Address.fromHash(this.hash())}toPeerId(){G.f[12]++;G.s[23]++;return new PeerId(this.hash().subarray(0,16))}static _delinearizeAndAggregatePublicKeys(n){G.f[13]++;const e=(G.s[24]++,n.map(n=>{G.f[14]++;G.s[25]++;return n.serialize()})),l=(G.s[26]++,PublicKey._publicKeysHash(e)),t=(G.s[27]++,PublicKey._publicKeysDelinearizeAndAggregate(e,l));G.s[28]++;return new PublicKey(t)}static _publicKeyDerive(n){G.f[15]++;G.s[29]++;if(n.byteLength!==PrivateKey.SIZE){G.b[5][0]++;G.s[30]++;throw Error("Wrong buffer size.")}G.b[5][1]++;G.s[31]++;if(PlatformUtils.isNodeJs()){G.b[6][0]++;const e=(G.s[32]++,new Uint8Array(PublicKey.SIZE));G.s[33]++;NodeNative.node_ed25519_public_key_derive(e,new Uint8Array(n));G.s[34]++;return e}{G.b[6][1]++;let l;G.s[35]++;try{G.s[36]++;l=Module.stackSave();const t=(G.s[37]++,Module.stackAlloc(PublicKey.SIZE)),o=(G.s[38]++,new Uint8Array(Module.HEAP8.buffer,t,PrivateKey.SIZE));G.s[39]++;o.set(n);const i=(G.s[40]++,Module.stackAlloc(n.length)),c=(G.s[41]++,new Uint8Array(Module.HEAP8.buffer,i,PrivateKey.SIZE));G.s[42]++;c.set(n);G.s[43]++;Module._ed25519_public_key_derive(t,i);G.s[44]++;c.fill(0);const s=(G.s[45]++,new Uint8Array(PublicKey.SIZE));G.s[46]++;s.set(o);G.s[47]++;return s}catch(e){G.s[48]++;Log.w(PublicKey,e);G.s[49]++;throw e}finally{G.s[50]++;if(l!==undefined){G.b[7][0]++;G.s[51]++;Module.stackRestore(l)}else G.b[7][1]++}}}static _publicKeysHash(n){G.f[16]++;G.s[52]++;if(n.some(n=>{G.f[17]++;G.s[53]++;return n.byteLength!==PublicKey.SIZE})){G.b[8][0]++;G.s[54]++;throw Error("Wrong buffer size.")}G.b[8][1]++;const e=(G.s[55]++,new Uint8Array(n.length*PublicKey.SIZE));G.s[56]++;for(let t=0;t<n.length;++t){G.s[57]++;e.set(n[t],t*PublicKey.SIZE)}G.s[58]++;if(PlatformUtils.isNodeJs()){G.b[9][0]++;const l=(G.s[59]++,new Uint8Array(Hash.getSize(Hash.Algorithm.SHA512)));G.s[60]++;NodeNative.node_ed25519_hash_public_keys(l,e,n.length);G.s[61]++;return l}{G.b[9][1]++;let t;G.s[62]++;try{G.s[63]++;t=Module.stackSave();const o=(G.s[64]++,Hash.getSize(Hash.Algorithm.SHA512)),i=(G.s[65]++,Module.stackAlloc(o)),c=(G.s[66]++,Module.stackAlloc(e.length));G.s[67]++;new Uint8Array(Module.HEAPU8.buffer,c,e.length).set(e);G.s[68]++;Module._ed25519_hash_public_keys(i,c,n.length);const s=(G.s[69]++,new Uint8Array(o));G.s[70]++;s.set(new Uint8Array(Module.HEAPU8.buffer,i,o));G.s[71]++;return s}catch(l){G.s[72]++;Log.w(PublicKey,l);G.s[73]++;throw l}finally{G.s[74]++;if(t!==undefined){G.b[10][0]++;G.s[75]++;Module.stackRestore(t)}else G.b[10][1]++}}}static _publicKeyDelinearize(n,e){G.f[18]++;G.s[76]++;if((G.b[12][0]++,n.byteLength!==PublicKey.SIZE)||(G.b[12][1]++,e.byteLength!==Hash.getSize(Hash.Algorithm.SHA512))){G.b[11][0]++;G.s[77]++;throw Error("Wrong buffer size.")}G.b[11][1]++;G.s[78]++;if(PlatformUtils.isNodeJs()){G.b[13][0]++;const l=(G.s[79]++,new Uint8Array(PublicKey.SIZE));G.s[80]++;NodeNative.node_ed25519_delinearize_public_key(l,new Uint8Array(e),new Uint8Array(n));G.s[81]++;return l}{G.b[13][1]++;let t;G.s[82]++;try{G.s[83]++;t=Module.stackSave();const o=(G.s[84]++,Module.stackAlloc(PublicKey.SIZE)),i=(G.s[85]++,Module.stackAlloc(n.length)),c=(G.s[86]++,Module.stackAlloc(e.length));G.s[87]++;new Uint8Array(Module.HEAPU8.buffer,i,n.length).set(n);G.s[88]++;new Uint8Array(Module.HEAPU8.buffer,c,e.length).set(e);G.s[89]++;Module._ed25519_delinearize_public_key(o,c,i);const s=(G.s[90]++,new Uint8Array(PublicKey.SIZE));G.s[91]++;s.set(new Uint8Array(Module.HEAPU8.buffer,o,PublicKey.SIZE));G.s[92]++;return s}catch(l){G.s[93]++;Log.w(PublicKey,l);G.s[94]++;throw l}finally{G.s[95]++;if(t!==undefined){G.b[14][0]++;G.s[96]++;Module.stackRestore(t)}else G.b[14][1]++}}}static _publicKeysDelinearizeAndAggregate(n,e){G.f[19]++;G.s[97]++;if((G.b[16][0]++,n.some(n=>{G.f[20]++;G.s[98]++;return n.byteLength!==PublicKey.SIZE}))||(G.b[16][1]++,e.byteLength!==Hash.getSize(Hash.Algorithm.SHA512))){G.b[15][0]++;G.s[99]++;throw Error("Wrong buffer size.")}G.b[15][1]++;const l=(G.s[100]++,new Uint8Array(n.length*PublicKey.SIZE));G.s[101]++;for(let o=0;o<n.length;++o){G.s[102]++;l.set(n[o],o*PublicKey.SIZE)}G.s[103]++;if(PlatformUtils.isNodeJs()){G.b[17][0]++;const t=(G.s[104]++,new Uint8Array(PublicKey.SIZE));G.s[105]++;NodeNative.node_ed25519_aggregate_delinearized_public_keys(t,new Uint8Array(e),l,n.length);G.s[106]++;return t}{G.b[17][1]++;let o;G.s[107]++;try{G.s[108]++;o=Module.stackSave();const i=(G.s[109]++,Module.stackAlloc(PublicKey.SIZE)),c=(G.s[110]++,Module.stackAlloc(l.length)),s=(G.s[111]++,Module.stackAlloc(e.length));G.s[112]++;new Uint8Array(Module.HEAPU8.buffer,c,l.length).set(l);G.s[113]++;new Uint8Array(Module.HEAPU8.buffer,s,e.length).set(e);G.s[114]++;Module._ed25519_aggregate_delinearized_public_keys(i,s,c,n.length);const u=(G.s[115]++,new Uint8Array(PublicKey.SIZE));G.s[116]++;u.set(new Uint8Array(Module.HEAPU8.buffer,i,PublicKey.SIZE));G.s[117]++;return u}catch(t){G.s[118]++;Log.w(PublicKey,t);G.s[119]++;throw t}finally{G.s[120]++;if(o!==undefined){G.b[18][0]++;G.s[121]++;Module.stackRestore(o)}else G.b[18][1]++}}}}G.s[122]++;PublicKey.SIZE=32;G.s[123]++;Class.register(PublicKey);var W=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/primitive/KeyPair.js",e="39158d1920631956a32a1cb02b9e9f6c2f27fd92",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/primitive/KeyPair.js",statementMap:{0:{start:{line:10,column:8},end:{line:10,column:88}},1:{start:{line:10,column:45},end:{line:10,column:88}},2:{start:{line:11,column:8},end:{line:11,column:87}},3:{start:{line:11,column:44},end:{line:11,column:87}},4:{start:{line:12,column:8},end:{line:12,column:16}},5:{start:{line:15,column:8},end:{line:15,column:30}},6:{start:{line:17,column:8},end:{line:17,column:40}},7:{start:{line:19,column:8},end:{line:19,column:34}},8:{start:{line:21,column:8},end:{line:21,column:36}},9:{start:{line:23,column:8},end:{line:23,column:74}},10:{start:{line:30,column:27},end:{line:30,column:48}},11:{start:{line:31,column:8},end:{line:31,column:69}},12:{start:{line:39,column:8},end:{line:39,column:69}},13:{start:{line:47,column:8},end:{line:47,column:64}},14:{start:{line:57,column:21},end:{line:57,column:36}},15:{start:{line:58,column:8},end:{line:58,column:60}},16:{start:{line:58,column:24},end:{line:58,column:60}},17:{start:{line:59,column:26},end:{line:59,column:41}},18:{start:{line:60,column:8},end:{line:60,column:68}},19:{start:{line:60,column:28},end:{line:60,column:68}},20:{start:{line:61,column:23},end:{line:61,column:45}},21:{start:{line:62,column:29},end:{line:62,column:56}},22:{start:{line:63,column:21},end:{line:63,column:57}},23:{start:{line:64,column:22},end:{line:64,column:62}},24:{start:{line:66,column:27},end:{line:66,column:109}},25:{start:{line:67,column:24},end:{line:67,column:50}},26:{start:{line:68,column:24},end:{line:68,column:48}},27:{start:{line:69,column:8},end:{line:71,column:9}},28:{start:{line:70,column:12},end:{line:70,column:43}},29:{start:{line:72,column:8},end:{line:72,column:23}},30:{start:{line:80,column:27},end:{line:80,column:54}},31:{start:{line:81,column:26},end:{line:81,column:52}},32:{start:{line:82,column:21},end:{line:82,column:26}},33:{start:{line:83,column:23},end:{line:83,column:27}},34:{start:{line:84,column:8},end:{line:90,column:9}},35:{start:{line:85,column:26},end:{line:85,column:41}},36:{start:{line:86,column:12},end:{line:89,column:13}},37:{start:{line:87,column:16},end:{line:87,column:30}},38:{start:{line:88,column:16},end:{line:88,column:40}},39:{start:{line:91,column:8},end:{line:91,column:68}},40:{start:{line:99,column:8},end:{line:99,column:59}},41:{start:{line:100,column:8},end:{line:100,column:40}},42:{start:{line:101,column:8},end:{line:101,column:38}},43:{start:{line:102,column:8},end:{line:107,column:9}},44:{start:{line:103,column:12},end:{line:103,column:30}},45:{start:{line:104,column:12},end:{line:104,column:38}},46:{start:{line:106,column:12},end:{line:106,column:30}},47:{start:{line:108,column:8},end:{line:108,column:19}},48:{start:{line:116,column:8},end:{line:116,column:63}},49:{start:{line:116,column:27},end:{line:116,column:63}},50:{start:{line:117,column:8},end:{line:117,column:32}},51:{start:{line:128,column:8},end:{line:128,column:68}},52:{start:{line:133,column:8},end:{line:133,column:89}},53:{start:{line:138,column:8},end:{line:138,column:132}},54:{start:{line:147,column:26},end:{line:147,column:38}},55:{start:{line:148,column:8},end:{line:154,column:9}},56:{start:{line:149,column:12},end:{line:153,column:13}},57:{start:{line:150,column:16},end:{line:150,column:52}},58:{start:{line:152,column:16},end:{line:152,column:77}},59:{start:{line:156,column:21},end:{line:156,column:63}},60:{start:{line:157,column:8},end:{line:157,column:47}},61:{start:{line:159,column:20},end:{line:159,column:56}},62:{start:{line:160,column:8},end:{line:160,column:26}},63:{start:{line:161,column:8},end:{line:161,column:61}},64:{start:{line:162,column:8},end:{line:162,column:108}},65:{start:{line:163,column:8},end:{line:163,column:24}},66:{start:{line:164,column:8},end:{line:164,column:85}},67:{start:{line:166,column:8},end:{line:166,column:37}},68:{start:{line:166,column:23},end:{line:166,column:37}},69:{start:{line:168,column:8},end:{line:168,column:19}},70:{start:{line:173,column:8},end:{line:173,column:112}},71:{start:{line:181,column:8},end:{line:181,column:68}},72:{start:{line:181,column:26},end:{line:181,column:68}},73:{start:{line:183,column:8},end:{line:183,column:48}},74:{start:{line:183,column:22},end:{line:183,column:48}},75:{start:{line:184,column:8},end:{line:187,column:9}},76:{start:{line:185,column:12},end:{line:185,column:48}},77:{start:{line:186,column:12},end:{line:186,column:61}},78:{start:{line:189,column:8},end:{line:189,column:75}},79:{start:{line:190,column:8},end:{line:190,column:40}},80:{start:{line:191,column:8},end:{line:191,column:28}},81:{start:{line:192,column:8},end:{line:192,column:38}},82:{start:{line:199,column:8},end:{line:199,column:65}},83:{start:{line:199,column:27},end:{line:199,column:65}},84:{start:{line:201,column:27},end:{line:201,column:57}},85:{start:{line:202,column:26},end:{line:202,column:54}},86:{start:{line:203,column:8},end:{line:209,column:9}},87:{start:{line:205,column:12},end:{line:205,column:50}},88:{start:{line:206,column:12},end:{line:206,column:33}},89:{start:{line:208,column:12},end:{line:208,column:43}},90:{start:{line:216,column:8},end:{line:216,column:68}},91:{start:{line:216,column:26},end:{line:216,column:68}},92:{start:{line:217,column:8},end:{line:217,column:81}},93:{start:{line:217,column:37},end:{line:217,column:81}},94:{start:{line:218,column:8},end:{line:218,column:40}},95:{start:{line:219,column:8},end:{line:219,column:28}},96:{start:{line:224,column:8},end:{line:224,column:60}},97:{start:{line:224,column:53},end:{line:224,column:60}},98:{start:{line:227,column:8},end:{line:227,column:126}},99:{start:{line:229,column:8},end:{line:229,column:40}},100:{start:{line:238,column:8},end:{line:238,column:129}},101:{start:{line:250,column:8},end:{line:250,column:114}},102:{start:{line:254,column:8},end:{line:254,column:28}},103:{start:{line:262,column:8},end:{line:262,column:55}},104:{start:{line:265,column:0},end:{line:265,column:30}},105:{start:{line:266,column:0},end:{line:266,column:32}},106:{start:{line:267,column:0},end:{line:267,column:35}},107:{start:{line:268,column:0},end:{line:268,column:32}},108:{start:{line:270,column:0},end:{line:270,column:24}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:4},end:{line:9,column:5}},loc:{start:{line:9,column:72},end:{line:24,column:5}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:29,column:4},end:{line:29,column:5}},loc:{start:{line:29,column:22},end:{line:32,column:5}},line:29},2:{name:"(anonymous_2)",decl:{start:{line:38,column:4},end:{line:38,column:5}},loc:{start:{line:38,column:30},end:{line:40,column:5}},line:38},3:{name:"(anonymous_3)",decl:{start:{line:46,column:4},end:{line:46,column:5}},loc:{start:{line:46,column:27},end:{line:48,column:5}},line:46},4:{name:"(anonymous_4)",decl:{start:{line:56,column:4},end:{line:56,column:5}},loc:{start:{line:56,column:41},end:{line:73,column:5}},line:56},5:{name:"(anonymous_5)",decl:{start:{line:79,column:4},end:{line:79,column:5}},loc:{start:{line:79,column:28},end:{line:92,column:5}},line:79},6:{name:"(anonymous_6)",decl:{start:{line:98,column:4},end:{line:98,column:5}},loc:{start:{line:98,column:19},end:{line:109,column:5}},line:98},7:{name:"(anonymous_7)",decl:{start:{line:115,column:4},end:{line:115,column:5}},loc:{start:{line:115,column:21},end:{line:118,column:5}},line:115},8:{name:"(anonymous_8)",decl:{start:{line:127,column:4},end:{line:127,column:5}},loc:{start:{line:127,column:22},end:{line:129,column:5}},line:127},9:{name:"(anonymous_9)",decl:{start:{line:132,column:4},end:{line:132,column:5}},loc:{start:{line:132,column:20},end:{line:134,column:5}},line:132},10:{name:"(anonymous_10)",decl:{start:{line:137,column:4},end:{line:137,column:5}},loc:{start:{line:137,column:25},end:{line:139,column:5}},line:137},11:{name:"(anonymous_11)",decl:{start:{line:146,column:4},end:{line:146,column:5}},loc:{start:{line:146,column:42},end:{line:169,column:5}},line:146},12:{name:"(anonymous_12)",decl:{start:{line:172,column:4},end:{line:172,column:5}},loc:{start:{line:172,column:24},end:{line:174,column:5}},line:172},13:{name:"(anonymous_13)",decl:{start:{line:180,column:4},end:{line:180,column:5}},loc:{start:{line:180,column:30},end:{line:193,column:5}},line:180},14:{name:"(anonymous_14)",decl:{start:{line:198,column:4},end:{line:198,column:5}},loc:{start:{line:198,column:22},end:{line:210,column:5}},line:198},15:{name:"(anonymous_15)",decl:{start:{line:215,column:4},end:{line:215,column:5}},loc:{start:{line:215,column:13},end:{line:220,column:5}},line:215},16:{name:"(anonymous_16)",decl:{start:{line:222,column:4},end:{line:222,column:5}},loc:{start:{line:222,column:31},end:{line:230,column:5}},line:222},17:{name:"(anonymous_17)",decl:{start:{line:237,column:4},end:{line:237,column:5}},loc:{start:{line:237,column:30},end:{line:239,column:5}},line:237},18:{name:"(anonymous_18)",decl:{start:{line:249,column:4},end:{line:249,column:5}},loc:{start:{line:249,column:57},end:{line:251,column:5}},line:249},19:{name:"(anonymous_19)",decl:{start:{line:253,column:4},end:{line:253,column:5}},loc:{start:{line:253,column:19},end:{line:255,column:5}},line:253},20:{name:"(anonymous_20)",decl:{start:{line:261,column:4},end:{line:261,column:5}},loc:{start:{line:261,column:14},end:{line:263,column:5}},line:261}},branchMap:{0:{loc:{start:{line:9,column:39},end:{line:9,column:53}},type:"default-arg",locations:[{start:{line:9,column:48},end:{line:9,column:53}}],line:9},1:{loc:{start:{line:9,column:55},end:{line:9,column:70}},type:"default-arg",locations:[{start:{line:9,column:66},end:{line:9,column:70}}],line:9},2:{loc:{start:{line:10,column:8},end:{line:10,column:88}},type:"if",locations:[{start:{line:10,column:8},end:{line:10,column:88}},{start:{line:10,column:8},end:{line:10,column:88}}],line:10},3:{loc:{start:{line:11,column:8},end:{line:11,column:87}},type:"if",locations:[{start:{line:11,column:8},end:{line:11,column:87}},{start:{line:11,column:8},end:{line:11,column:87}}],line:11},4:{loc:{start:{line:58,column:8},end:{line:58,column:60}},type:"if",locations:[{start:{line:58,column:8},end:{line:58,column:60}},{start:{line:58,column:8},end:{line:58,column:60}}],line:58},5:{loc:{start:{line:60,column:8},end:{line:60,column:68}},type:"if",locations:[{start:{line:60,column:8},end:{line:60,column:68}},{start:{line:60,column:8},end:{line:60,column:68}}],line:60},6:{loc:{start:{line:69,column:8},end:{line:71,column:9}},type:"if",locations:[{start:{line:69,column:8},end:{line:71,column:9}},{start:{line:69,column:8},end:{line:71,column:9}}],line:69},7:{loc:{start:{line:84,column:8},end:{line:90,column:9}},type:"if",locations:[{start:{line:84,column:8},end:{line:90,column:9}},{start:{line:84,column:8},end:{line:90,column:9}}],line:84},8:{loc:{start:{line:86,column:12},end:{line:89,column:13}},type:"if",locations:[{start:{line:86,column:12},end:{line:89,column:13}},{start:{line:86,column:12},end:{line:89,column:13}}],line:86},9:{loc:{start:{line:99,column:14},end:{line:99,column:58}},type:"binary-expr",locations:[{start:{line:99,column:14},end:{line:99,column:17}},{start:{line:99,column:21},end:{line:99,column:58}}],line:99},10:{loc:{start:{line:102,column:8},end:{line:107,column:9}},type:"if",locations:[{start:{line:102,column:8},end:{line:107,column:9}},{start:{line:102,column:8},end:{line:107,column:9}}],line:102},11:{loc:{start:{line:116,column:8},end:{line:116,column:63}},type:"if",locations:[{start:{line:116,column:8},end:{line:116,column:63}},{start:{line:116,column:8},end:{line:116,column:63}}],line:116},12:{loc:{start:{line:128,column:15},end:{line:128,column:67}},type:"binary-expr",locations:[{start:{line:128,column:15},end:{line:128,column:39}},{start:{line:128,column:43},end:{line:128,column:67}}],line:128},13:{loc:{start:{line:133,column:15},end:{line:133,column:88}},type:"binary-expr",locations:[{start:{line:133,column:15},end:{line:133,column:30}},{start:{line:133,column:35},end:{line:133,column:87}}],line:133},14:{loc:{start:{line:138,column:82},end:{line:138,column:130}},type:"cond-expr",locations:[{start:{line:138,column:97},end:{line:138,column:126}},{start:{line:138,column:129},end:{line:138,column:130}}],line:138},15:{loc:{start:{line:148,column:8},end:{line:154,column:9}},type:"if",locations:[{start:{line:148,column:8},end:{line:154,column:9}},{start:{line:148,column:8},end:{line:154,column:9}}],line:148},16:{loc:{start:{line:150,column:34},end:{line:150,column:50}},type:"binary-expr",locations:[{start:{line:150,column:34},end:{line:150,column:43}},{start:{line:150,column:47},end:{line:150,column:50}}],line:150},17:{loc:{start:{line:166,column:8},end:{line:166,column:37}},type:"if",locations:[{start:{line:166,column:8},end:{line:166,column:37}},{start:{line:166,column:8},end:{line:166,column:37}}],line:166},18:{loc:{start:{line:181,column:8},end:{line:181,column:68}},type:"if",locations:[{start:{line:181,column:8},end:{line:181,column:68}},{start:{line:181,column:8},end:{line:181,column:68}}],line:181},19:{loc:{start:{line:183,column:8},end:{line:183,column:48}},type:"if",locations:[{start:{line:183,column:8},end:{line:183,column:48}},{start:{line:183,column:8},end:{line:183,column:48}}],line:183},20:{loc:{start:{line:184,column:8},end:{line:187,column:9}},type:"if",locations:[{start:{line:184,column:8},end:{line:187,column:9}},{start:{line:184,column:8},end:{line:187,column:9}}],line:184},21:{loc:{start:{line:184,column:12},end:{line:184,column:58}},type:"binary-expr",locations:[{start:{line:184,column:12},end:{line:184,column:27}},{start:{line:184,column:31},end:{line:184,column:58}}],line:184},22:{loc:{start:{line:199,column:8},end:{line:199,column:65}},type:"if",locations:[{start:{line:199,column:8},end:{line:199,column:65}},{start:{line:199,column:8},end:{line:199,column:65}}],line:199},23:{loc:{start:{line:203,column:8},end:{line:209,column:9}},type:"if",locations:[{start:{line:203,column:8},end:{line:209,column:9}},{start:{line:203,column:8},end:{line:209,column:9}}],line:203},24:{loc:{start:{line:216,column:8},end:{line:216,column:68}},type:"if",locations:[{start:{line:216,column:8},end:{line:216,column:68}},{start:{line:216,column:8},end:{line:216,column:68}}],line:216},25:{loc:{start:{line:217,column:8},end:{line:217,column:81}},type:"if",locations:[{start:{line:217,column:8},end:{line:217,column:81}},{start:{line:217,column:8},end:{line:217,column:81}}],line:217},26:{loc:{start:{line:224,column:8},end:{line:224,column:60}},type:"if",locations:[{start:{line:224,column:8},end:{line:224,column:60}},{start:{line:224,column:8},end:{line:224,column:60}}],line:224},27:{loc:{start:{line:224,column:12},end:{line:224,column:51}},type:"binary-expr",locations:[{start:{line:224,column:12},end:{line:224,column:35}},{start:{line:224,column:39},end:{line:224,column:51}}],line:224},28:{loc:{start:{line:262,column:15},end:{line:262,column:54}},type:"binary-expr",locations:[{start:{line:262,column:15},end:{line:262,column:35}},{start:{line:262,column:39},end:{line:262,column:54}}],line:262}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},b:{0:[0],1:[0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class KeyPair extends Serializable{constructor(n,e,l=(W.b[0][0]++,!1),t=(W.b[1][0]++,null)){W.f[0]++;W.s[0]++;if(!(n instanceof Object)){W.b[2][0]++;W.s[1]++;throw new Error("Primitive: Invalid type")}W.b[2][1]++;W.s[2]++;if(!(e instanceof Object)){W.b[3][0]++;W.s[3]++;throw new Error("Primitive: Invalid type")}W.b[3][1]++;W.s[4]++;super();W.s[5]++;this._locked=l;W.s[6]++;this._lockedInternally=l;W.s[7]++;this._lockSalt=t;W.s[8]++;this._publicKey=e;W.s[9]++;this._internalPrivateKey=new PrivateKey(n.serialize())}static generate(){W.f[1]++;const n=(W.s[10]++,PrivateKey.generate());W.s[11]++;return new KeyPair(n,PublicKey.derive(n))}static derive(n){W.f[2]++;W.s[12]++;return new KeyPair(n,PublicKey.derive(n))}static fromHex(n){W.f[3]++;W.s[13]++;return KeyPair.unserialize(BufferUtils.fromHex(n))}static async fromEncrypted(n,e){W.f[4]++;const l=(W.s[14]++,n.readUint8());W.s[15]++;if(1!==l){W.b[4][0]++;W.s[16]++;throw new Error("Unsupported type")}W.b[4][1]++;const t=(W.s[17]++,n.readUint8());W.s[18]++;if(t>32){W.b[5][0]++;W.s[19]++;throw new Error("Rounds out-of-bounds")}W.b[5][1]++;const o=(W.s[20]++,Math.pow(2,t)),i=(W.s[21]++,PrivateKey.unserialize(n)),c=(W.s[22]++,n.read(KeyPair.EXPORT_SALT_LENGTH)),s=(W.s[23]++,n.read(KeyPair.EXPORT_CHECKSUM_LENGTH)),u=(W.s[24]++,new PrivateKey(await KeyPair._otpKdf(i.serialize(),e,c,o))),m=(W.s[25]++,KeyPair.derive(u)),r=(W.s[26]++,m.publicKey.hash());W.s[27]++;if(!BufferUtils.equals(r.subarray(0,4),s)){W.b[6][0]++;W.s[28]++;throw new Error("Invalid key")}W.b[6][1]++;W.s[29]++;return m}static unserialize(n){W.f[5]++;const e=(W.s[30]++,PrivateKey.unserialize(n)),l=(W.s[31]++,PublicKey.unserialize(n));let t=(W.s[32]++,!1),o=(W.s[33]++,null);W.s[34]++;if(n.readPos<n.byteLength){W.b[7][0]++;const e=(W.s[35]++,n.readUint8());W.s[36]++;if(1===e){W.b[8][0]++;W.s[37]++;t=!0;W.s[38]++;o=n.read(32)}else W.b[8][1]++}else W.b[7][1]++;W.s[39]++;return new KeyPair(e,l,t,o)}serialize(n){W.f[6]++;W.s[40]++;n=(W.b[9][0]++,n)||(W.b[9][1]++,new SerialBuffer(this.serializedSize));W.s[41]++;this._privateKey.serialize(n);W.s[42]++;this.publicKey.serialize(n);W.s[43]++;if(this._locked){W.b[10][0]++;W.s[44]++;n.writeUint8(1);W.s[45]++;n.write(this._lockSalt)}else{W.b[10][1]++;W.s[46]++;n.writeUint8(0)}W.s[47]++;return n}get privateKey(){W.f[7]++;W.s[48]++;if(this.isLocked){W.b[11][0]++;W.s[49]++;throw new Error("Wallet is locked")}W.b[11][1]++;W.s[50]++;return this._privateKey}get _privateKey(){W.f[8]++;W.s[51]++;return(W.b[12][0]++,this._unlockedPrivateKey)||(W.b[12][1]++,this._internalPrivateKey)}get publicKey(){W.f[9]++;W.s[52]++;return(W.b[13][0]++,this._publicKey)||(W.b[13][1]++,this._publicKey=new PublicKey(this._obj.publicKey))}get serializedSize(){W.f[10]++;W.s[53]++;return this._privateKey.serializedSize+this.publicKey.serializedSize+(this._locked?(W.b[14][0]++,this._lockSalt.byteLength+1):(W.b[14][1]++,1))}async exportEncrypted(n,e){W.f[11]++;const l=(W.s[54]++,this._locked);W.s[55]++;if(this._locked){W.b[15][0]++;W.s[56]++;try{W.s[57]++;await this.unlock((W.b[16][0]++,e)||(W.b[16][1]++,n))}catch(i){W.s[58]++;throw new Error("KeyPair is locked and lock key mismatches")}}else W.b[15][1]++;const t=(W.s[59]++,new Uint8Array(KeyPair.EXPORT_SALT_LENGTH));W.s[60]++;CryptoWorker.lib.getRandomValues(t);const o=(W.s[61]++,new SerialBuffer(this.encryptedSize));W.s[62]++;o.writeUint8(1);W.s[63]++;o.writeUint8(Math.log2(KeyPair.EXPORT_KDF_ROUNDS));W.s[64]++;o.write(await KeyPair._otpKdf(this.privateKey.serialize(),n,t,KeyPair.EXPORT_KDF_ROUNDS));W.s[65]++;o.write(t);W.s[66]++;o.write(this.publicKey.hash().subarray(0,KeyPair.EXPORT_CHECKSUM_LENGTH));W.s[67]++;if(l){W.b[17][0]++;W.s[68]++;this.relock()}else W.b[17][1]++;W.s[69]++;return o}get encryptedSize(){W.f[12]++;W.s[70]++;return 2+this.privateKey.serializedSize+KeyPair.EXPORT_SALT_LENGTH+KeyPair.EXPORT_CHECKSUM_LENGTH}async lock(n,e){W.f[13]++;W.s[71]++;if(this._locked){W.b[18][0]++;W.s[72]++;throw new Error("KeyPair already locked")}W.b[18][1]++;W.s[73]++;if(e){W.b[19][0]++;W.s[74]++;this._lockSalt=e}else W.b[19][1]++;W.s[75]++;if((W.b[21][0]++,this._lockSalt)&&(W.b[21][1]++,0!==this._lockSalt.length))W.b[20][1]++;else{W.b[20][0]++;W.s[76]++;this._lockSalt=new Uint8Array(32);W.s[77]++;CryptoWorker.lib.getRandomValues(this._lockSalt)}W.s[78]++;this._internalPrivateKey.overwrite(await this._otpPrivateKey(n));W.s[79]++;this._clearUnlockedPrivateKey();W.s[80]++;this._locked=!0;W.s[81]++;this._lockedInternally=!0}async unlock(n){W.f[14]++;W.s[82]++;if(!this._locked){W.b[22][0]++;W.s[83]++;throw new Error("KeyPair not locked")}W.b[22][1]++;const e=(W.s[84]++,await this._otpPrivateKey(n)),l=(W.s[85]++,PublicKey.derive(e));W.s[86]++;if(!l.equals(this.publicKey)){W.b[23][1]++;W.s[89]++;throw new Error("Invalid key")}W.b[23][0]++;W.s[87]++;this._unlockedPrivateKey=e;W.s[88]++;this._locked=!1}relock(){W.f[15]++;W.s[90]++;if(this._locked){W.b[24][0]++;W.s[91]++;throw new Error("KeyPair already locked")}W.b[24][1]++;W.s[92]++;if(!this._lockedInternally){W.b[25][0]++;W.s[93]++;throw new Error("KeyPair was never locked")}W.b[25][1]++;W.s[94]++;this._clearUnlockedPrivateKey();W.s[95]++;this._locked=!0}_clearUnlockedPrivateKey(){W.f[16]++;W.s[96]++;if((W.b[27][0]++,this._lockedInternally)&&(W.b[27][1]++,!this._locked)){W.b[26][1]++;W.s[98]++;this._unlockedPrivateKey.overwrite(PrivateKey.unserialize(new SerialBuffer(this._unlockedPrivateKey.serializedSize)));W.s[99]++;this._unlockedPrivateKey=null}else{W.b[26][0]++;W.s[97]++}}async _otpPrivateKey(n){W.f[17]++;W.s[100]++;return new PrivateKey(await KeyPair._otpKdf(this._privateKey.serialize(),n,this._lockSalt,KeyPair.LOCK_KDF_ROUNDS))}static async _otpKdf(n,e,l,t){W.f[18]++;W.s[101]++;return BufferUtils.xor(n,await(await CryptoWorker.getInstanceAsync()).kdf(e,l,t))}get isLocked(){W.f[19]++;W.s[102]++;return this._locked}equals(n){W.f[20]++;W.s[103]++;return(W.b[28][0]++,n instanceof KeyPair)&&(W.b[28][1]++,super.equals(n))}}W.s[104]++;KeyPair.LOCK_KDF_ROUNDS=256;W.s[105]++;KeyPair.EXPORT_KDF_ROUNDS=256;W.s[106]++;KeyPair.EXPORT_CHECKSUM_LENGTH=4;W.s[107]++;KeyPair.EXPORT_SALT_LENGTH=16;W.s[108]++;Class.register(KeyPair);var V=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/primitive/RandomSecret.js",e="117a189ebfa56e9d37e7fe94963f62a050482ec7",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/primitive/RandomSecret.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:16}},1:{start:{line:8,column:8},end:{line:8,column:85}},2:{start:{line:8,column:42},end:{line:8,column:85}},3:{start:{line:9,column:8},end:{line:9,column:91}},4:{start:{line:9,column:46},end:{line:9,column:91}},5:{start:{line:10,column:8},end:{line:10,column:24}},6:{start:{line:18,column:8},end:{line:18,column:61}},7:{start:{line:26,column:8},end:{line:26,column:59}},8:{start:{line:27,column:8},end:{line:27,column:29}},9:{start:{line:28,column:8},end:{line:28,column:19}},10:{start:{line:33,column:8},end:{line:33,column:33}},11:{start:{line:41,column:8},end:{line:41,column:60}},12:{start:{line:45,column:0},end:{line:45,column:23}},13:{start:{line:47,column:0},end:{line:47,column:29}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:21},end:{line:11,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:28},end:{line:19,column:5}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:25,column:4},end:{line:25,column:5}},loc:{start:{line:25,column:19},end:{line:29,column:5}},line:25},3:{name:"(anonymous_3)",decl:{start:{line:32,column:4},end:{line:32,column:5}},loc:{start:{line:32,column:25},end:{line:34,column:5}},line:32},4:{name:"(anonymous_4)",decl:{start:{line:40,column:4},end:{line:40,column:5}},loc:{start:{line:40,column:14},end:{line:42,column:5}},line:40}},branchMap:{0:{loc:{start:{line:8,column:8},end:{line:8,column:85}},type:"if",locations:[{start:{line:8,column:8},end:{line:8,column:85}},{start:{line:8,column:8},end:{line:8,column:85}}],line:8},1:{loc:{start:{line:9,column:8},end:{line:9,column:91}},type:"if",locations:[{start:{line:9,column:8},end:{line:9,column:91}},{start:{line:9,column:8},end:{line:9,column:91}}],line:9},2:{loc:{start:{line:26,column:14},end:{line:26,column:58}},type:"binary-expr",locations:[{start:{line:26,column:14},end:{line:26,column:17}},{start:{line:26,column:21},end:{line:26,column:58}}],line:26},3:{loc:{start:{line:41,column:15},end:{line:41,column:59}},type:"binary-expr",locations:[{start:{line:41,column:15},end:{line:41,column:40}},{start:{line:41,column:44},end:{line:41,column:59}}],line:41}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class RandomSecret extends Serializable{constructor(n){V.f[0]++;V.s[0]++;super();V.s[1]++;if(!(n instanceof Uint8Array)){V.b[0][0]++;V.s[2]++;throw new Error("Primitive: Invalid type")}V.b[0][1]++;V.s[3]++;if(n.length!==RandomSecret.SIZE){V.b[1][0]++;V.s[4]++;throw new Error("Primitive: Invalid length")}V.b[1][1]++;V.s[5]++;this._obj=n}static unserialize(n){V.f[1]++;V.s[6]++;return new RandomSecret(n.read(RandomSecret.SIZE))}serialize(n){V.f[2]++;V.s[7]++;n=(V.b[2][0]++,n)||(V.b[2][1]++,new SerialBuffer(this.serializedSize));V.s[8]++;n.write(this._obj);V.s[9]++;return n}get serializedSize(){V.f[3]++;V.s[10]++;return RandomSecret.SIZE}equals(n){V.f[4]++;V.s[11]++;return(V.b[3][0]++,n instanceof RandomSecret)&&(V.b[3][1]++,super.equals(n))}}V.s[12]++;RandomSecret.SIZE=32;V.s[13]++;Class.register(RandomSecret);var Q=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/primitive/Signature.js",e="520359b8b74f33fcec4d70c7954493327810dce9",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/primitive/Signature.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:25}},1:{start:{line:7,column:16},end:{line:7,column:25}},2:{start:{line:9,column:20},end:{line:9,column:42}},3:{start:{line:10,column:8},end:{line:10,column:34}},4:{start:{line:18,column:8},end:{line:18,column:16}},5:{start:{line:19,column:8},end:{line:19,column:85}},6:{start:{line:19,column:42},end:{line:19,column:85}},7:{start:{line:20,column:8},end:{line:20,column:88}},8:{start:{line:20,column:43},end:{line:20,column:88}},9:{start:{line:21,column:8},end:{line:21,column:24}},10:{start:{line:31,column:8},end:{line:31,column:96}},11:{start:{line:40,column:20},end:{line:40,column:115}},12:{start:{line:40,column:100},end:{line:40,column:113}},13:{start:{line:41,column:8},end:{line:41,column:34}},14:{start:{line:49,column:8},end:{line:49,column:55}},15:{start:{line:57,column:8},end:{line:57,column:59}},16:{start:{line:58,column:8},end:{line:58,column:29}},17:{start:{line:59,column:8},end:{line:59,column:19}},18:{start:{line:64,column:8},end:{line:64,column:30}},19:{start:{line:73,column:8},end:{line:73,column:75}},20:{start:{line:81,column:8},end:{line:81,column:57}},21:{start:{line:90,column:34},end:{line:90,column:90}},22:{start:{line:91,column:8},end:{line:91,column:84}},23:{start:{line:99,column:8},end:{line:99,column:91}},24:{start:{line:99,column:56},end:{line:99,column:89}},25:{start:{line:108,column:8},end:{line:110,column:9}},26:{start:{line:109,column:12},end:{line:109,column:46}},27:{start:{line:111,column:8},end:{line:134,column:9}},28:{start:{line:112,column:24},end:{line:112,column:61}},29:{start:{line:113,column:12},end:{line:113,column:91}},30:{start:{line:114,column:12},end:{line:114,column:23}},31:{start:{line:117,column:12},end:{line:133,column:13}},32:{start:{line:118,column:16},end:{line:118,column:46}},33:{start:{line:119,column:35},end:{line:119,column:75}},34:{start:{line:120,column:32},end:{line:120,column:59}},35:{start:{line:121,column:32},end:{line:121,column:59}},36:{start:{line:122,column:16},end:{line:122,column:79}},37:{start:{line:123,column:16},end:{line:123,column:79}},38:{start:{line:124,column:16},end:{line:124,column:74}},39:{start:{line:125,column:28},end:{line:125,column:65}},40:{start:{line:126,column:16},end:{line:126,column:97}},41:{start:{line:127,column:16},end:{line:127,column:27}},42:{start:{line:129,column:16},end:{line:129,column:36}},43:{start:{line:130,column:16},end:{line:130,column:24}},44:{start:{line:132,column:16},end:{line:132,column:74}},45:{start:{line:132,column:44},end:{line:132,column:74}},46:{start:{line:144,column:8},end:{line:147,column:9}},47:{start:{line:146,column:12},end:{line:146,column:46}},48:{start:{line:148,column:8},end:{line:177,column:9}},49:{start:{line:149,column:24},end:{line:149,column:54}},50:{start:{line:150,column:12},end:{line:150,column:126}},51:{start:{line:151,column:12},end:{line:151,column:23}},52:{start:{line:154,column:12},end:{line:176,column:13}},53:{start:{line:155,column:41},end:{line:155,column:74}},54:{start:{line:156,column:40},end:{line:156,column:109}},55:{start:{line:157,column:38},end:{line:157,column:71}},56:{start:{line:158,column:16},end:{line:158,column:96}},57:{start:{line:159,column:37},end:{line:159,column:72}},58:{start:{line:160,column:16},end:{line:160,column:99}},59:{start:{line:161,column:38},end:{line:161,column:74}},60:{start:{line:162,column:38},end:{line:162,column:107}},61:{start:{line:163,column:16},end:{line:163,column:46}},62:{start:{line:165,column:16},end:{line:165,column:119}},63:{start:{line:166,column:16},end:{line:166,column:38}},64:{start:{line:168,column:34},end:{line:168,column:64}},65:{start:{line:169,column:16},end:{line:169,column:47}},66:{start:{line:170,column:16},end:{line:170,column:33}},67:{start:{line:172,column:16},end:{line:172,column:36}},68:{start:{line:173,column:16},end:{line:173,column:24}},69:{start:{line:175,column:16},end:{line:175,column:74}},70:{start:{line:175,column:44},end:{line:175,column:74}},71:{start:{line:187,column:8},end:{line:206,column:9}},72:{start:{line:188,column:12},end:{line:188,column:131}},73:{start:{line:191,column:12},end:{line:205,column:13}},74:{start:{line:192,column:37},end:{line:192,column:72}},75:{start:{line:193,column:16},end:{line:193,column:99}},76:{start:{line:194,column:38},end:{line:194,column:71}},77:{start:{line:195,column:16},end:{line:195,column:96}},78:{start:{line:196,column:40},end:{line:196,column:75}},79:{start:{line:197,column:16},end:{line:197,column:102}},80:{start:{line:199,column:16},end:{line:199,column:114}},81:{start:{line:201,column:16},end:{line:201,column:36}},82:{start:{line:202,column:16},end:{line:202,column:24}},83:{start:{line:204,column:16},end:{line:204,column:74}},84:{start:{line:204,column:44},end:{line:204,column:74}},85:{start:{line:210,column:0},end:{line:210,column:20}},86:{start:{line:212,column:0},end:{line:212,column:26}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:19},end:{line:11,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:21},end:{line:22,column:5}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:30,column:4},end:{line:30,column:5}},loc:{start:{line:30,column:47},end:{line:32,column:5}},line:30},3:{name:"(anonymous_3)",decl:{start:{line:39,column:4},end:{line:39,column:5}},loc:{start:{line:39,column:57},end:{line:42,column:5}},line:39},4:{name:"(anonymous_4)",decl:{start:{line:40,column:95},end:{line:40,column:96}},loc:{start:{line:40,column:100},end:{line:40,column:113}},line:40},5:{name:"(anonymous_5)",decl:{start:{line:48,column:4},end:{line:48,column:5}},loc:{start:{line:48,column:28},end:{line:50,column:5}},line:48},6:{name:"(anonymous_6)",decl:{start:{line:56,column:4},end:{line:56,column:5}},loc:{start:{line:56,column:19},end:{line:60,column:5}},line:56},7:{name:"(anonymous_7)",decl:{start:{line:63,column:4},end:{line:63,column:5}},loc:{start:{line:63,column:25},end:{line:65,column:5}},line:63},8:{name:"(anonymous_8)",decl:{start:{line:72,column:4},end:{line:72,column:5}},loc:{start:{line:72,column:28},end:{line:74,column:5}},line:72},9:{name:"(anonymous_9)",decl:{start:{line:80,column:4},end:{line:80,column:5}},loc:{start:{line:80,column:14},end:{line:82,column:5}},line:80},10:{name:"(anonymous_10)",decl:{start:{line:89,column:4},end:{line:89,column:5}},loc:{start:{line:89,column:76},end:{line:92,column:5}},line:89},11:{name:"(anonymous_11)",decl:{start:{line:98,column:4},end:{line:98,column:5}},loc:{start:{line:98,column:58},end:{line:100,column:5}},line:98},12:{name:"(anonymous_12)",decl:{start:{line:99,column:40},end:{line:99,column:41}},loc:{start:{line:99,column:56},end:{line:99,column:89}},line:99},13:{name:"(anonymous_13)",decl:{start:{line:107,column:4},end:{line:107,column:5}},loc:{start:{line:107,column:29},end:{line:135,column:5}},line:107},14:{name:"(anonymous_14)",decl:{start:{line:143,column:4},end:{line:143,column:5}},loc:{start:{line:143,column:60},end:{line:178,column:5}},line:143},15:{name:"(anonymous_15)",decl:{start:{line:186,column:4},end:{line:186,column:5}},loc:{start:{line:186,column:59},end:{line:207,column:5}},line:186}},branchMap:{0:{loc:{start:{line:7,column:8},end:{line:7,column:25}},type:"if",locations:[{start:{line:7,column:8},end:{line:7,column:25}},{start:{line:7,column:8},end:{line:7,column:25}}],line:7},1:{loc:{start:{line:19,column:8},end:{line:19,column:85}},type:"if",locations:[{start:{line:19,column:8},end:{line:19,column:85}},{start:{line:19,column:8},end:{line:19,column:85}}],line:19},2:{loc:{start:{line:20,column:8},end:{line:20,column:88}},type:"if",locations:[{start:{line:20,column:8},end:{line:20,column:88}},{start:{line:20,column:8},end:{line:20,column:88}}],line:20},3:{loc:{start:{line:57,column:14},end:{line:57,column:58}},type:"binary-expr",locations:[{start:{line:57,column:14},end:{line:57,column:17}},{start:{line:57,column:21},end:{line:57,column:58}}],line:57},4:{loc:{start:{line:81,column:15},end:{line:81,column:56}},type:"binary-expr",locations:[{start:{line:81,column:15},end:{line:81,column:37}},{start:{line:81,column:41},end:{line:81,column:56}}],line:81},5:{loc:{start:{line:108,column:8},end:{line:110,column:9}},type:"if",locations:[{start:{line:108,column:8},end:{line:110,column:9}},{start:{line:108,column:8},end:{line:110,column:9}}],line:108},6:{loc:{start:{line:108,column:12},end:{line:108,column:92}},type:"binary-expr",locations:[{start:{line:108,column:12},end:{line:108,column:50}},{start:{line:108,column:54},end:{line:108,column:92}}],line:108},7:{loc:{start:{line:111,column:8},end:{line:134,column:9}},type:"if",locations:[{start:{line:111,column:8},end:{line:134,column:9}},{start:{line:111,column:8},end:{line:134,column:9}}],line:111},8:{loc:{start:{line:132,column:16},end:{line:132,column:74}},type:"if",locations:[{start:{line:132,column:16},end:{line:132,column:74}},{start:{line:132,column:16},end:{line:132,column:74}}],line:132},9:{loc:{start:{line:144,column:8},end:{line:147,column:9}},type:"if",locations:[{start:{line:144,column:8},end:{line:147,column:9}},{start:{line:144,column:8},end:{line:147,column:9}}],line:144},10:{loc:{start:{line:144,column:12},end:{line:145,column:56}},type:"binary-expr",locations:[{start:{line:144,column:12},end:{line:144,column:51}},{start:{line:145,column:15},end:{line:145,column:56}}],line:144},11:{loc:{start:{line:148,column:8},end:{line:177,column:9}},type:"if",locations:[{start:{line:148,column:8},end:{line:177,column:9}},{start:{line:148,column:8},end:{line:177,column:9}}],line:148},12:{loc:{start:{line:175,column:16},end:{line:175,column:74}},type:"if",locations:[{start:{line:175,column:16},end:{line:175,column:74}},{start:{line:175,column:16},end:{line:175,column:74}}],line:175},13:{loc:{start:{line:187,column:8},end:{line:206,column:9}},type:"if",locations:[{start:{line:187,column:8},end:{line:206,column:9}},{start:{line:187,column:8},end:{line:206,column:9}}],line:187},14:{loc:{start:{line:204,column:16},end:{line:204,column:74}},type:"if",locations:[{start:{line:204,column:16},end:{line:204,column:74}},{start:{line:204,column:16},end:{line:204,column:74}}],line:204}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Signature extends Serializable{static copy(n){Q.f[0]++;Q.s[0]++;if(!n){Q.b[0][0]++;Q.s[1]++;return n}Q.b[0][1]++;const e=(Q.s[2]++,new Uint8Array(n._obj));Q.s[3]++;return new Signature(e)}constructor(n){Q.f[1]++;Q.s[4]++;super();Q.s[5]++;if(!(n instanceof Uint8Array)){Q.b[1][0]++;Q.s[6]++;throw new Error("Primitive: Invalid type")}Q.b[1][1]++;Q.s[7]++;if(n.length!==Signature.SIZE){Q.b[2][0]++;Q.s[8]++;throw new Error("Primitive: Invalid length")}Q.b[2][1]++;Q.s[9]++;this._obj=n}static create(n,e,l){Q.f[2]++;Q.s[10]++;return new Signature(Signature._signatureCreate(n._obj,e._obj,l))}static fromPartialSignatures(n,e){Q.f[3]++;const l=(Q.s[11]++,Signature._combinePartialSignatures(n.serialize(),e.map(n=>{Q.f[4]++;Q.s[12]++;return n.serialize()})));Q.s[13]++;return new Signature(l)}static unserialize(n){Q.f[5]++;Q.s[14]++;return new Signature(n.read(Signature.SIZE))}serialize(n){Q.f[6]++;Q.s[15]++;n=(Q.b[3][0]++,n)||(Q.b[3][1]++,new SerialBuffer(this.serializedSize));Q.s[16]++;n.write(this._obj);Q.s[17]++;return n}get serializedSize(){Q.f[7]++;Q.s[18]++;return Signature.SIZE}verify(n,e){Q.f[8]++;Q.s[19]++;return Signature._signatureVerify(n._obj,e,this._obj)}equals(n){Q.f[9]++;Q.s[20]++;return(Q.b[4][0]++,n instanceof Signature)&&(Q.b[4][1]++,super.equals(n))}static _combinePartialSignatures(n,e){Q.f[10]++;const l=(Q.s[21]++,Signature._aggregatePartialSignatures(e));Q.s[22]++;return BufferUtils.concatTypedArrays(n,l)}static _aggregatePartialSignatures(n){Q.f[11]++;Q.s[23]++;return n.reduce((n,e)=>{Q.f[12]++;Q.s[24]++;return Signature._scalarsAdd(n,e)})}static _scalarsAdd(n,e){Q.f[13]++;Q.s[25]++;if((Q.b[6][0]++,n.byteLength!==PartialSignature.SIZE)||(Q.b[6][1]++,e.byteLength!==PartialSignature.SIZE)){Q.b[5][0]++;Q.s[26]++;throw Error("Wrong buffer size.")}Q.b[5][1]++;Q.s[27]++;if(PlatformUtils.isNodeJs()){Q.b[7][0]++;const l=(Q.s[28]++,new Uint8Array(PartialSignature.SIZE));Q.s[29]++;NodeNative.node_ed25519_add_scalars(l,new Uint8Array(n),new Uint8Array(e));Q.s[30]++;return l}{Q.b[7][1]++;let t;Q.s[31]++;try{Q.s[32]++;t=Module.stackSave();const o=(Q.s[33]++,Module.stackAlloc(PartialSignature.SIZE)),i=(Q.s[34]++,Module.stackAlloc(n.length)),c=(Q.s[35]++,Module.stackAlloc(e.length));Q.s[36]++;new Uint8Array(Module.HEAPU8.buffer,i,n.length).set(n);Q.s[37]++;new Uint8Array(Module.HEAPU8.buffer,c,e.length).set(e);Q.s[38]++;Module._ed25519_add_scalars(o,i,c);const s=(Q.s[39]++,new Uint8Array(PartialSignature.SIZE));Q.s[40]++;s.set(new Uint8Array(Module.HEAPU8.buffer,o,PartialSignature.SIZE));Q.s[41]++;return s}catch(l){Q.s[42]++;Log.w(Signature,l);Q.s[43]++;throw l}finally{Q.s[44]++;if(t!==undefined){Q.b[8][0]++;Q.s[45]++;Module.stackRestore(t)}else Q.b[8][1]++}}}static _signatureCreate(n,e,l){Q.f[14]++;Q.s[46]++;if((Q.b[10][0]++,e.byteLength!==PublicKey.SIZE)||(Q.b[10][1]++,n.byteLength!==PrivateKey.SIZE)){Q.b[9][0]++;Q.s[47]++;throw Error("Wrong buffer size.")}Q.b[9][1]++;Q.s[48]++;if(PlatformUtils.isNodeJs()){Q.b[11][0]++;const t=(Q.s[49]++,new Uint8Array(Signature.SIZE));Q.s[50]++;NodeNative.node_ed25519_sign(t,new Uint8Array(l),new Uint8Array(e),new Uint8Array(n));Q.s[51]++;return t}{Q.b[11][1]++;let o;Q.s[52]++;try{const i=(Q.s[53]++,Module.stackAlloc(Signature.SIZE)),c=(Q.s[54]++,new Uint8Array(Module.HEAP8.buffer,i,Signature.SIZE)),s=(Q.s[55]++,Module.stackAlloc(l.length));Q.s[56]++;new Uint8Array(Module.HEAP8.buffer,s,l.length).set(l);const u=(Q.s[57]++,Module.stackAlloc(e.length));Q.s[58]++;new Uint8Array(Module.HEAP8.buffer,u,e.length).set(e);const m=(Q.s[59]++,Module.stackAlloc(n.length)),r=(Q.s[60]++,new Uint8Array(Module.HEAP8.buffer,m,n.length));Q.s[61]++;r.set(n);Q.s[62]++;Module._ed25519_sign(i,s,l.byteLength,u,m);Q.s[63]++;r.fill(0);const a=(Q.s[64]++,new Uint8Array(Signature.SIZE));Q.s[65]++;a.set(c);Q.s[66]++;return a}catch(t){Q.s[67]++;Log.w(Signature,t);Q.s[68]++;throw t}finally{Q.s[69]++;if(o!==undefined){Q.b[12][0]++;Q.s[70]++;Module.stackRestore(o)}else Q.b[12][1]++}}}static _signatureVerify(n,e,l){Q.f[15]++;Q.s[71]++;if(PlatformUtils.isNodeJs()){Q.b[13][0]++;Q.s[72]++;return!!NodeNative.node_ed25519_verify(new Uint8Array(l),new Uint8Array(e),new Uint8Array(n))}{Q.b[13][1]++;let o;Q.s[73]++;try{const i=(Q.s[74]++,Module.stackAlloc(n.length));Q.s[75]++;new Uint8Array(Module.HEAP8.buffer,i,n.length).set(n);const c=(Q.s[76]++,Module.stackAlloc(e.length));Q.s[77]++;new Uint8Array(Module.HEAP8.buffer,c,e.length).set(e);const s=(Q.s[78]++,Module.stackAlloc(l.length));Q.s[79]++;new Uint8Array(Module.HEAP8.buffer,s,l.length).set(l);Q.s[80]++;return!!Module._ed25519_verify(s,c,e.byteLength,i)}catch(t){Q.s[81]++;Log.w(Signature,t);Q.s[82]++;throw t}finally{Q.s[83]++;if(o!==undefined){Q.b[14][0]++;Q.s[84]++;Module.stackRestore(o)}else Q.b[14][1]++}}}}Q.s[85]++;Signature.SIZE=64;Q.s[86]++;Class.register(Signature);var $=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/primitive/Commitment.js",e="7080368aa43af1317ed4240d4a363b6e6c13e5df",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/primitive/Commitment.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:25}},1:{start:{line:7,column:16},end:{line:7,column:25}},2:{start:{line:8,column:8},end:{line:8,column:54}},3:{start:{line:16,column:8},end:{line:16,column:94}},4:{start:{line:16,column:84},end:{line:16,column:90}},5:{start:{line:24,column:8},end:{line:24,column:16}},6:{start:{line:25,column:8},end:{line:25,column:85}},7:{start:{line:25,column:42},end:{line:25,column:85}},8:{start:{line:26,column:8},end:{line:26,column:89}},9:{start:{line:26,column:44},end:{line:26,column:89}},10:{start:{line:27,column:8},end:{line:27,column:24}},11:{start:{line:35,column:8},end:{line:35,column:57}},12:{start:{line:43,column:8},end:{line:43,column:59}},13:{start:{line:44,column:8},end:{line:44,column:29}},14:{start:{line:45,column:8},end:{line:45,column:19}},15:{start:{line:50,column:8},end:{line:50,column:31}},16:{start:{line:58,column:8},end:{line:58,column:58}},17:{start:{line:66,column:8},end:{line:68,column:9}},18:{start:{line:66,column:43},end:{line:66,column:83}},19:{start:{line:67,column:12},end:{line:67,column:46}},20:{start:{line:69,column:40},end:{line:69,column:91}},21:{start:{line:70,column:8},end:{line:72,column:9}},22:{start:{line:71,column:12},end:{line:71,column:76}},23:{start:{line:73,column:8},end:{line:94,column:9}},24:{start:{line:74,column:24},end:{line:74,column:54}},25:{start:{line:75,column:12},end:{line:75,column:108}},26:{start:{line:76,column:12},end:{line:76,column:23}},27:{start:{line:79,column:12},end:{line:93,column:13}},28:{start:{line:80,column:16},end:{line:80,column:46}},29:{start:{line:81,column:32},end:{line:81,column:65}},30:{start:{line:82,column:42},end:{line:82,column:91}},31:{start:{line:83,column:16},end:{line:83,column:133}},32:{start:{line:84,column:16},end:{line:84,column:102}},33:{start:{line:85,column:39},end:{line:85,column:69}},34:{start:{line:86,column:16},end:{line:86,column:98}},35:{start:{line:87,column:16},end:{line:87,column:38}},36:{start:{line:89,column:16},end:{line:89,column:43}},37:{start:{line:90,column:16},end:{line:90,column:24}},38:{start:{line:92,column:16},end:{line:92,column:74}},39:{start:{line:92,column:44},end:{line:92,column:74}},40:{start:{line:98,column:0},end:{line:98,column:21}},41:{start:{line:100,column:0},end:{line:100,column:27}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:19},end:{line:9,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:15,column:4},end:{line:15,column:5}},loc:{start:{line:15,column:28},end:{line:17,column:5}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:16,column:79},end:{line:16,column:80}},loc:{start:{line:16,column:84},end:{line:16,column:90}},line:16},3:{name:"(anonymous_3)",decl:{start:{line:23,column:4},end:{line:23,column:5}},loc:{start:{line:23,column:21},end:{line:28,column:5}},line:23},4:{name:"(anonymous_4)",decl:{start:{line:34,column:4},end:{line:34,column:5}},loc:{start:{line:34,column:28},end:{line:36,column:5}},line:34},5:{name:"(anonymous_5)",decl:{start:{line:42,column:4},end:{line:42,column:5}},loc:{start:{line:42,column:19},end:{line:46,column:5}},line:42},6:{name:"(anonymous_6)",decl:{start:{line:49,column:4},end:{line:49,column:5}},loc:{start:{line:49,column:25},end:{line:51,column:5}},line:49},7:{name:"(anonymous_7)",decl:{start:{line:57,column:4},end:{line:57,column:5}},loc:{start:{line:57,column:14},end:{line:59,column:5}},line:57},8:{name:"(anonymous_8)",decl:{start:{line:65,column:4},end:{line:65,column:5}},loc:{start:{line:65,column:46},end:{line:95,column:5}},line:65},9:{name:"(anonymous_9)",decl:{start:{line:66,column:29},end:{line:66,column:30}},loc:{start:{line:66,column:43},end:{line:66,column:83}},line:66}},branchMap:{0:{loc:{start:{line:7,column:8},end:{line:7,column:25}},type:"if",locations:[{start:{line:7,column:8},end:{line:7,column:25}},{start:{line:7,column:8},end:{line:7,column:25}}],line:7},1:{loc:{start:{line:25,column:8},end:{line:25,column:85}},type:"if",locations:[{start:{line:25,column:8},end:{line:25,column:85}},{start:{line:25,column:8},end:{line:25,column:85}}],line:25},2:{loc:{start:{line:26,column:8},end:{line:26,column:89}},type:"if",locations:[{start:{line:26,column:8},end:{line:26,column:89}},{start:{line:26,column:8},end:{line:26,column:89}}],line:26},3:{loc:{start:{line:43,column:14},end:{line:43,column:58}},type:"binary-expr",locations:[{start:{line:43,column:14},end:{line:43,column:17}},{start:{line:43,column:21},end:{line:43,column:58}}],line:43},4:{loc:{start:{line:58,column:15},end:{line:58,column:57}},type:"binary-expr",locations:[{start:{line:58,column:15},end:{line:58,column:38}},{start:{line:58,column:42},end:{line:58,column:57}}],line:58},5:{loc:{start:{line:66,column:8},end:{line:68,column:9}},type:"if",locations:[{start:{line:66,column:8},end:{line:68,column:9}},{start:{line:66,column:8},end:{line:68,column:9}}],line:66},6:{loc:{start:{line:73,column:8},end:{line:94,column:9}},type:"if",locations:[{start:{line:73,column:8},end:{line:94,column:9}},{start:{line:73,column:8},end:{line:94,column:9}}],line:73},7:{loc:{start:{line:92,column:16},end:{line:92,column:74}},type:"if",locations:[{start:{line:92,column:16},end:{line:92,column:74}},{start:{line:92,column:16},end:{line:92,column:74}}],line:92}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Commitment extends Serializable{static copy(n){$.f[0]++;$.s[0]++;if(!n){$.b[0][0]++;$.s[1]++;return n}$.b[0][1]++;$.s[2]++;return new Commitment(new Uint8Array(n._obj))}static sum(n){$.f[1]++;$.s[3]++;return new Commitment(Commitment._commitmentsAggregate(n.map(n=>{$.f[2]++;$.s[4]++;return n._obj})))}constructor(n){$.f[3]++;$.s[5]++;super();$.s[6]++;if(!(n instanceof Uint8Array)){$.b[1][0]++;$.s[7]++;throw new Error("Primitive: Invalid type")}$.b[1][1]++;$.s[8]++;if(n.length!==Commitment.SIZE){$.b[2][0]++;$.s[9]++;throw new Error("Primitive: Invalid length")}$.b[2][1]++;$.s[10]++;this._obj=n}static unserialize(n){$.f[4]++;$.s[11]++;return new Commitment(n.read(Commitment.SIZE))}serialize(n){$.f[5]++;$.s[12]++;n=($.b[3][0]++,n)||($.b[3][1]++,new SerialBuffer(this.serializedSize));$.s[13]++;n.write(this._obj);$.s[14]++;return n}get serializedSize(){$.f[6]++;$.s[15]++;return Commitment.SIZE}equals(n){$.f[7]++;$.s[16]++;return($.b[4][0]++,n instanceof Commitment)&&($.b[4][1]++,super.equals(n))}static _commitmentsAggregate(n){$.f[8]++;$.s[17]++;if(n.some(n=>{$.f[9]++;$.s[18]++;return n.byteLength!==PublicKey.SIZE})){$.b[5][0]++;$.s[19]++;throw Error("Wrong buffer size.")}$.b[5][1]++;const e=($.s[20]++,new Uint8Array(n.length*PublicKey.SIZE));$.s[21]++;for(let t=0;t<n.length;++t){$.s[22]++;e.set(n[t],t*PublicKey.SIZE)}$.s[23]++;if(PlatformUtils.isNodeJs()){$.b[6][0]++;const l=($.s[24]++,new Uint8Array(PublicKey.SIZE));$.s[25]++;NodeNative.node_ed25519_aggregate_commitments(l,e,n.length);$.s[26]++;return l}{$.b[6][1]++;let t;$.s[27]++;try{$.s[28]++;t=Module.stackSave();const o=($.s[29]++,Module.stackAlloc(PublicKey.SIZE)),i=($.s[30]++,Module.stackAlloc(e.length));$.s[31]++;new Uint8Array(Module.HEAPU8.buffer,i,e.length).set(e);$.s[32]++;Module._ed25519_aggregate_commitments(o,i,n.length);const c=($.s[33]++,new Uint8Array(PublicKey.SIZE));$.s[34]++;c.set(new Uint8Array(Module.HEAPU8.buffer,o,PublicKey.SIZE));$.s[35]++;return c}catch(l){$.s[36]++;Log.w(CryptoWorkerImpl,l);$.s[37]++;throw l}finally{$.s[38]++;if(t!==undefined){$.b[7][0]++;$.s[39]++;Module.stackRestore(t)}else $.b[7][1]++}}}}$.s[40]++;Commitment.SIZE=32;$.s[41]++;Class.register(Commitment);var X=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/primitive/CommitmentPair.js",e="3871aa0bda79cb646f352c6648961424c35ddc5f",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/primitive/CommitmentPair.js",statementMap:{0:{start:{line:8,column:8},end:{line:8,column:16}},1:{start:{line:9,column:8},end:{line:9,column:90}},2:{start:{line:9,column:47},end:{line:9,column:90}},3:{start:{line:10,column:8},end:{line:10,column:92}},4:{start:{line:10,column:49},end:{line:10,column:92}},5:{start:{line:11,column:8},end:{line:11,column:30}},6:{start:{line:12,column:8},end:{line:12,column:38}},7:{start:{line:19,column:27},end:{line:19,column:73}},8:{start:{line:20,column:8},end:{line:20,column:53}},9:{start:{line:21,column:20},end:{line:21,column:64}},10:{start:{line:22,column:8},end:{line:22,column:96}},11:{start:{line:30,column:23},end:{line:30,column:52}},12:{start:{line:31,column:27},end:{line:31,column:54}},13:{start:{line:32,column:8},end:{line:32,column:54}},14:{start:{line:40,column:8},end:{line:40,column:61}},15:{start:{line:48,column:8},end:{line:48,column:59}},16:{start:{line:49,column:8},end:{line:49,column:35}},17:{start:{line:50,column:8},end:{line:50,column:39}},18:{start:{line:51,column:8},end:{line:51,column:19}},19:{start:{line:56,column:8},end:{line:56,column:28}},20:{start:{line:61,column:8},end:{line:61,column:32}},21:{start:{line:66,column:8},end:{line:66,column:75}},22:{start:{line:74,column:8},end:{line:74,column:62}},23:{start:{line:82,column:8},end:{line:110,column:9}},24:{start:{line:83,column:31},end:{line:83,column:61}},25:{start:{line:84,column:27},end:{line:84,column:58}},26:{start:{line:85,column:12},end:{line:85,column:86}},27:{start:{line:86,column:12},end:{line:86,column:40}},28:{start:{line:89,column:12},end:{line:109,column:13}},29:{start:{line:90,column:16},end:{line:90,column:46}},30:{start:{line:91,column:42},end:{line:91,column:75}},31:{start:{line:92,column:38},end:{line:92,column:72}},32:{start:{line:93,column:31},end:{line:93,column:67}},33:{start:{line:94,column:16},end:{line:94,column:96}},34:{start:{line:95,column:28},end:{line:95,column:103}},35:{start:{line:96,column:16},end:{line:98,column:17}},36:{start:{line:97,column:20},end:{line:97,column:73}},37:{start:{line:99,column:35},end:{line:99,column:65}},38:{start:{line:100,column:31},end:{line:100,column:62}},39:{start:{line:101,column:16},end:{line:101,column:104}},40:{start:{line:102,column:16},end:{line:102,column:97}},41:{start:{line:103,column:16},end:{line:103,column:44}},42:{start:{line:105,column:16},end:{line:105,column:41}},43:{start:{line:106,column:16},end:{line:106,column:24}},44:{start:{line:108,column:16},end:{line:108,column:74}},45:{start:{line:108,column:44},end:{line:108,column:74}},46:{start:{line:114,column:0},end:{line:114,column:68}},47:{start:{line:115,column:0},end:{line:115,column:36}},48:{start:{line:117,column:0},end:{line:117,column:31}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:36},end:{line:13,column:5}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:18,column:4},end:{line:18,column:5}},loc:{start:{line:18,column:22},end:{line:23,column:5}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:29,column:4},end:{line:29,column:5}},loc:{start:{line:29,column:28},end:{line:33,column:5}},line:29},3:{name:"(anonymous_3)",decl:{start:{line:39,column:4},end:{line:39,column:5}},loc:{start:{line:39,column:27},end:{line:41,column:5}},line:39},4:{name:"(anonymous_4)",decl:{start:{line:47,column:4},end:{line:47,column:5}},loc:{start:{line:47,column:19},end:{line:52,column:5}},line:47},5:{name:"(anonymous_5)",decl:{start:{line:55,column:4},end:{line:55,column:5}},loc:{start:{line:55,column:17},end:{line:57,column:5}},line:55},6:{name:"(anonymous_6)",decl:{start:{line:60,column:4},end:{line:60,column:5}},loc:{start:{line:60,column:21},end:{line:62,column:5}},line:60},7:{name:"(anonymous_7)",decl:{start:{line:65,column:4},end:{line:65,column:5}},loc:{start:{line:65,column:25},end:{line:67,column:5}},line:65},8:{name:"(anonymous_8)",decl:{start:{line:73,column:4},end:{line:73,column:5}},loc:{start:{line:73,column:14},end:{line:75,column:5}},line:73},9:{name:"(anonymous_9)",decl:{start:{line:81,column:4},end:{line:81,column:5}},loc:{start:{line:81,column:41},end:{line:111,column:5}},line:81}},branchMap:{0:{loc:{start:{line:9,column:8},end:{line:9,column:90}},type:"if",locations:[{start:{line:9,column:8},end:{line:9,column:90}},{start:{line:9,column:8},end:{line:9,column:90}}],line:9},1:{loc:{start:{line:10,column:8},end:{line:10,column:92}},type:"if",locations:[{start:{line:10,column:8},end:{line:10,column:92}},{start:{line:10,column:8},end:{line:10,column:92}}],line:10},2:{loc:{start:{line:48,column:14},end:{line:48,column:58}},type:"binary-expr",locations:[{start:{line:48,column:14},end:{line:48,column:17}},{start:{line:48,column:21},end:{line:48,column:58}}],line:48},3:{loc:{start:{line:74,column:15},end:{line:74,column:61}},type:"binary-expr",locations:[{start:{line:74,column:15},end:{line:74,column:42}},{start:{line:74,column:46},end:{line:74,column:61}}],line:74},4:{loc:{start:{line:82,column:8},end:{line:110,column:9}},type:"if",locations:[{start:{line:82,column:8},end:{line:110,column:9}},{start:{line:82,column:8},end:{line:110,column:9}}],line:82},5:{loc:{start:{line:96,column:16},end:{line:98,column:17}},type:"if",locations:[{start:{line:96,column:16},end:{line:98,column:17}},{start:{line:96,column:16},end:{line:98,column:17}}],line:96},6:{loc:{start:{line:108,column:16},end:{line:108,column:74}},type:"if",locations:[{start:{line:108,column:16},end:{line:108,column:74}},{start:{line:108,column:16},end:{line:108,column:74}}],line:108}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class CommitmentPair extends Serializable{constructor(n,e){X.f[0]++;X.s[0]++;super();X.s[1]++;if(!(n instanceof RandomSecret)){X.b[0][0]++;X.s[2]++;throw new Error("Primitive: Invalid type")}X.b[0][1]++;X.s[3]++;if(!(e instanceof Commitment)){X.b[1][0]++;X.s[4]++;throw new Error("Primitive: Invalid type")}X.b[1][1]++;X.s[5]++;this._secret=n;X.s[6]++;this._commitment=e}static generate(){X.f[1]++;const n=(X.s[7]++,new Uint8Array(CommitmentPair.RANDOMNESS_SIZE));X.s[8]++;CryptoWorker.lib.getRandomValues(n);const e=(X.s[9]++,CommitmentPair._commitmentCreate(n));X.s[10]++;return new CommitmentPair(new RandomSecret(e.secret),new Commitment(e.commitment))}static unserialize(n){X.f[2]++;const e=(X.s[11]++,RandomSecret.unserialize(n)),l=(X.s[12]++,Commitment.unserialize(n));X.s[13]++;return new CommitmentPair(e,l)}static fromHex(n){X.f[3]++;X.s[14]++;return this.unserialize(BufferUtils.fromHex(n))}serialize(n){X.f[4]++;X.s[15]++;n=(X.b[2][0]++,n)||(X.b[2][1]++,new SerialBuffer(this.serializedSize));X.s[16]++;this.secret.serialize(n);X.s[17]++;this.commitment.serialize(n);X.s[18]++;return n}get secret(){X.f[5]++;X.s[19]++;return this._secret}get commitment(){X.f[6]++;X.s[20]++;return this._commitment}get serializedSize(){X.f[7]++;X.s[21]++;return this.secret.serializedSize+this.commitment.serializedSize}equals(n){X.f[8]++;X.s[22]++;return(X.b[3][0]++,n instanceof CommitmentPair)&&(X.b[3][1]++,super.equals(n))}static _commitmentCreate(n){X.f[9]++;X.s[23]++;if(PlatformUtils.isNodeJs()){X.b[4][0]++;const e=(X.s[24]++,new Uint8Array(PublicKey.SIZE)),l=(X.s[25]++,new Uint8Array(PrivateKey.SIZE));X.s[26]++;NodeNative.node_ed25519_create_commitment(l,e,n);X.s[27]++;return{commitment:e,secret:l}}{X.b[4][1]++;let l;X.s[28]++;try{X.s[29]++;l=Module.stackSave();const t=(X.s[30]++,Module.stackAlloc(PublicKey.SIZE)),o=(X.s[31]++,Module.stackAlloc(PrivateKey.SIZE)),i=(X.s[32]++,Module.stackAlloc(n.length));X.s[33]++;new Uint8Array(Module.HEAPU8.buffer,i,n.length).set(n);const c=(X.s[34]++,Module._ed25519_create_commitment(o,t,i));X.s[35]++;if(1!==c){X.b[5][0]++;X.s[36]++;throw new Error(`Secret must not be 0 or 1: ${c}`)}X.b[5][1]++;const s=(X.s[37]++,new Uint8Array(PublicKey.SIZE)),u=(X.s[38]++,new Uint8Array(PrivateKey.SIZE));X.s[39]++;s.set(new Uint8Array(Module.HEAPU8.buffer,t,PublicKey.SIZE));X.s[40]++;u.set(new Uint8Array(Module.HEAPU8.buffer,o,PrivateKey.SIZE));X.s[41]++;return{commitment:s,secret:u}}catch(e){X.s[42]++;Log.w(CommitmentPair,e);X.s[43]++;throw e}finally{X.s[44]++;if(l!==undefined){X.b[6][0]++;X.s[45]++;Module.stackRestore(l)}else X.b[6][1]++}}}}X.s[46]++;CommitmentPair.SERIALIZED_SIZE=RandomSecret.SIZE+Signature.SIZE;X.s[47]++;CommitmentPair.RANDOMNESS_SIZE=32;X.s[48]++;Class.register(CommitmentPair);var Z=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/primitive/PartialSignature.js",e="5fd18fbd6476518ce5ad1744c6709355a506231c",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/primitive/PartialSignature.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:16}},1:{start:{line:8,column:8},end:{line:8,column:85}},2:{start:{line:8,column:42},end:{line:8,column:85}},3:{start:{line:9,column:8},end:{line:9,column:95}},4:{start:{line:9,column:50},end:{line:9,column:95}},5:{start:{line:10,column:8},end:{line:10,column:24}},6:{start:{line:23,column:20},end:{line:24,column:72}},7:{start:{line:23,column:93},end:{line:23,column:99}},8:{start:{line:25,column:8},end:{line:25,column:41}},9:{start:{line:33,column:8},end:{line:33,column:69}},10:{start:{line:41,column:8},end:{line:41,column:59}},11:{start:{line:42,column:8},end:{line:42,column:29}},12:{start:{line:43,column:8},end:{line:43,column:19}},13:{start:{line:48,column:8},end:{line:48,column:37}},14:{start:{line:56,column:8},end:{line:56,column:64}},15:{start:{line:69,column:8},end:{line:75,column:9}},16:{start:{line:69,column:41},end:{line:69,column:80}},17:{start:{line:74,column:12},end:{line:74,column:46}},18:{start:{line:76,column:39},end:{line:76,column:89}},19:{start:{line:77,column:8},end:{line:79,column:9}},20:{start:{line:78,column:12},end:{line:78,column:74}},21:{start:{line:80,column:8},end:{line:111,column:9}},22:{start:{line:81,column:24},end:{line:81,column:61}},23:{start:{line:82,column:12},end:{line:82,column:267}},24:{start:{line:83,column:12},end:{line:83,column:23}},25:{start:{line:86,column:12},end:{line:110,column:13}},26:{start:{line:87,column:16},end:{line:87,column:46}},27:{start:{line:88,column:32},end:{line:88,column:72}},28:{start:{line:89,column:41},end:{line:89,column:89}},29:{start:{line:90,column:41},end:{line:90,column:77}},30:{start:{line:91,column:40},end:{line:91,column:75}},31:{start:{line:92,column:37},end:{line:92,column:69}},32:{start:{line:93,column:41},end:{line:93,column:86}},33:{start:{line:94,column:38},end:{line:94,column:71}},34:{start:{line:95,column:16},end:{line:95,column:130}},35:{start:{line:96,column:16},end:{line:96,column:106}},36:{start:{line:97,column:16},end:{line:97,column:103}},37:{start:{line:98,column:16},end:{line:98,column:94}},38:{start:{line:99,column:16},end:{line:99,column:124}},39:{start:{line:100,column:16},end:{line:100,column:97}},40:{start:{line:101,column:16},end:{line:101,column:202}},41:{start:{line:102,column:41},end:{line:102,column:78}},42:{start:{line:103,column:16},end:{line:103,column:107}},43:{start:{line:104,column:16},end:{line:104,column:40}},44:{start:{line:106,column:16},end:{line:106,column:43}},45:{start:{line:107,column:16},end:{line:107,column:24}},46:{start:{line:109,column:16},end:{line:109,column:74}},47:{start:{line:109,column:44},end:{line:109,column:74}},48:{start:{line:115,column:0},end:{line:115,column:27}},49:{start:{line:116,column:0},end:{line:116,column:33}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:21},end:{line:11,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:22,column:4},end:{line:22,column:5}},loc:{start:{line:22,column:88},end:{line:26,column:5}},line:22},2:{name:"(anonymous_2)",decl:{start:{line:23,column:88},end:{line:23,column:89}},loc:{start:{line:23,column:93},end:{line:23,column:99}},line:23},3:{name:"(anonymous_3)",decl:{start:{line:32,column:4},end:{line:32,column:5}},loc:{start:{line:32,column:28},end:{line:34,column:5}},line:32},4:{name:"(anonymous_4)",decl:{start:{line:40,column:4},end:{line:40,column:5}},loc:{start:{line:40,column:19},end:{line:44,column:5}},line:40},5:{name:"(anonymous_5)",decl:{start:{line:47,column:4},end:{line:47,column:5}},loc:{start:{line:47,column:25},end:{line:49,column:5}},line:47},6:{name:"(anonymous_6)",decl:{start:{line:55,column:4},end:{line:55,column:5}},loc:{start:{line:55,column:14},end:{line:57,column:5}},line:55},7:{name:"(anonymous_7)",decl:{start:{line:68,column:4},end:{line:68,column:5}},loc:{start:{line:68,column:120},end:{line:112,column:5}},line:68},8:{name:"(anonymous_8)",decl:{start:{line:69,column:28},end:{line:69,column:29}},loc:{start:{line:69,column:41},end:{line:69,column:80}},line:69}},branchMap:{0:{loc:{start:{line:8,column:8},end:{line:8,column:85}},type:"if",locations:[{start:{line:8,column:8},end:{line:8,column:85}},{start:{line:8,column:8},end:{line:8,column:85}}],line:8},1:{loc:{start:{line:9,column:8},end:{line:9,column:95}},type:"if",locations:[{start:{line:9,column:8},end:{line:9,column:95}},{start:{line:9,column:8},end:{line:9,column:95}}],line:9},2:{loc:{start:{line:41,column:14},end:{line:41,column:58}},type:"binary-expr",locations:[{start:{line:41,column:14},end:{line:41,column:17}},{start:{line:41,column:21},end:{line:41,column:58}}],line:41},3:{loc:{start:{line:56,column:15},end:{line:56,column:63}},type:"binary-expr",locations:[{start:{line:56,column:15},end:{line:56,column:44}},{start:{line:56,column:48},end:{line:56,column:63}}],line:56},4:{loc:{start:{line:69,column:8},end:{line:75,column:9}},type:"if",locations:[{start:{line:69,column:8},end:{line:75,column:9}},{start:{line:69,column:8},end:{line:75,column:9}}],line:69},5:{loc:{start:{line:69,column:12},end:{line:73,column:65}},type:"binary-expr",locations:[{start:{line:69,column:12},end:{line:69,column:81}},{start:{line:70,column:15},end:{line:70,column:56}},{start:{line:71,column:15},end:{line:71,column:54}},{start:{line:72,column:15},end:{line:72,column:54}},{start:{line:73,column:15},end:{line:73,column:65}}],line:69},6:{loc:{start:{line:80,column:8},end:{line:111,column:9}},type:"if",locations:[{start:{line:80,column:8},end:{line:111,column:9}},{start:{line:80,column:8},end:{line:111,column:9}}],line:80},7:{loc:{start:{line:109,column:16},end:{line:109,column:74}},type:"if",locations:[{start:{line:109,column:16},end:{line:109,column:74}},{start:{line:109,column:16},end:{line:109,column:74}}],line:109}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0,0,0],6:[0,0],7:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class PartialSignature extends Serializable{constructor(n){Z.f[0]++;Z.s[0]++;super();Z.s[1]++;if(!(n instanceof Uint8Array)){Z.b[0][0]++;Z.s[2]++;throw new Error("Primitive: Invalid type")}Z.b[0][1]++;Z.s[3]++;if(n.length!==PartialSignature.SIZE){Z.b[1][0]++;Z.s[4]++;throw new Error("Primitive: Invalid length")}Z.b[1][1]++;Z.s[5]++;this._obj=n}static create(n,e,l,t,o,i){Z.f[1]++;const c=(Z.s[6]++,PartialSignature._delinearizedPartialSignatureCreate(l.map(n=>{Z.f[2]++;Z.s[7]++;return n._obj}),n._obj,e._obj,t._obj,o._obj,i));Z.s[8]++;return new PartialSignature(c)}static unserialize(n){Z.f[3]++;Z.s[9]++;return new PartialSignature(n.read(PartialSignature.SIZE))}serialize(n){Z.f[4]++;Z.s[10]++;n=(Z.b[2][0]++,n)||(Z.b[2][1]++,new SerialBuffer(this.serializedSize));Z.s[11]++;n.write(this._obj);Z.s[12]++;return n}get serializedSize(){Z.f[5]++;Z.s[13]++;return PartialSignature.SIZE}equals(n){Z.f[6]++;Z.s[14]++;return(Z.b[3][0]++,n instanceof PartialSignature)&&(Z.b[3][1]++,super.equals(n))}static _delinearizedPartialSignatureCreate(n,e,l,t,o,i){Z.f[7]++;Z.s[15]++;if((Z.b[5][0]++,n.some(n=>{Z.f[8]++;Z.s[16]++;return n.byteLength!==PublicKey.SIZE}))||(Z.b[5][1]++,e.byteLength!==PrivateKey.SIZE)||(Z.b[5][2]++,l.byteLength!==PublicKey.SIZE)||(Z.b[5][3]++,t.byteLength!==RandomSecret.SIZE)||(Z.b[5][4]++,o.byteLength!==Commitment.SIZE)){Z.b[4][0]++;Z.s[17]++;throw Error("Wrong buffer size.")}Z.b[4][1]++;const c=(Z.s[18]++,new Uint8Array(n.length*PublicKey.SIZE));Z.s[19]++;for(let u=0;u<n.length;++u){Z.s[20]++;c.set(n[u],u*PublicKey.SIZE)}Z.s[21]++;if(PlatformUtils.isNodeJs()){Z.b[6][0]++;const s=(Z.s[22]++,new Uint8Array(PartialSignature.SIZE));Z.s[23]++;NodeNative.node_ed25519_delinearized_partial_sign(s,new Uint8Array(i),new Uint8Array(o),new Uint8Array(t),new Uint8Array(c),n.length,new Uint8Array(l),new Uint8Array(e));Z.s[24]++;return s}{Z.b[6][1]++;let u;Z.s[25]++;try{Z.s[26]++;u=Module.stackSave();const m=(Z.s[27]++,Module.stackAlloc(PartialSignature.SIZE)),r=(Z.s[28]++,Module.stackAlloc(c.length)),a=(Z.s[29]++,Module.stackAlloc(e.length)),d=(Z.s[30]++,Module.stackAlloc(l.length)),h=(Z.s[31]++,Module.stackAlloc(t.length)),f=(Z.s[32]++,Module.stackAlloc(o.length)),_=(Z.s[33]++,Module.stackAlloc(i.length));Z.s[34]++;new Uint8Array(Module.HEAPU8.buffer,r,c.length).set(c);Z.s[35]++;new Uint8Array(Module.HEAPU8.buffer,a,e.length).set(e);Z.s[36]++;new Uint8Array(Module.HEAPU8.buffer,d,l.length).set(l);Z.s[37]++;new Uint8Array(Module.HEAPU8.buffer,h,t.length).set(t);Z.s[38]++;new Uint8Array(Module.HEAPU8.buffer,f,o.length).set(o);Z.s[39]++;new Uint8Array(Module.HEAPU8.buffer,_,i.length).set(i);Z.s[40]++;Module._ed25519_delinearized_partial_sign(m,_,i.length,f,h,r,n.length,d,a);const y=(Z.s[41]++,new Uint8Array(PartialSignature.SIZE));Z.s[42]++;y.set(new Uint8Array(Module.HEAPU8.buffer,m,PartialSignature.SIZE));Z.s[43]++;return y}catch(s){Z.s[44]++;Log.w(CryptoWorkerImpl,s);Z.s[45]++;throw s}finally{Z.s[46]++;if(u!==undefined){Z.b[7][0]++;Z.s[47]++;Module.stackRestore(u)}else Z.b[7][1]++}}}}Z.s[48]++;PartialSignature.SIZE=32;Z.s[49]++;Class.register(PartialSignature);var J=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/account/Address.js",e="1c56707d467d16fe55e9c67bab5d8ce71c1b6ab3",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/account/Address.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:25}},1:{start:{line:7,column:16},end:{line:7,column:25}},2:{start:{line:8,column:20},end:{line:8,column:42}},3:{start:{line:9,column:8},end:{line:9,column:32}},4:{start:{line:17,column:8},end:{line:17,column:70}},5:{start:{line:21,column:8},end:{line:21,column:16}},6:{start:{line:22,column:8},end:{line:22,column:85}},7:{start:{line:22,column:42},end:{line:22,column:85}},8:{start:{line:23,column:8},end:{line:23,column:97}},9:{start:{line:23,column:52},end:{line:23,column:97}},10:{start:{line:24,column:8},end:{line:24,column:24}},11:{start:{line:33,column:8},end:{line:33,column:62}},12:{start:{line:42,column:8},end:{line:42,column:59}},13:{start:{line:43,column:8},end:{line:43,column:29}},14:{start:{line:44,column:8},end:{line:44,column:19}},15:{start:{line:48,column:8},end:{line:48,column:46}},16:{start:{line:55,column:8},end:{line:55,column:39}},17:{start:{line:63,column:8},end:{line:64,column:31}},18:{start:{line:68,column:8},end:{line:72,column:9}},19:{start:{line:69,column:12},end:{line:69,column:56}},20:{start:{line:74,column:8},end:{line:78,column:9}},21:{start:{line:75,column:12},end:{line:75,column:40}},22:{start:{line:80,column:8},end:{line:84,column:9}},23:{start:{line:81,column:12},end:{line:81,column:43}},24:{start:{line:86,column:8},end:{line:86,column:50}},25:{start:{line:94,column:8},end:{line:94,column:59}},26:{start:{line:102,column:8},end:{line:102,column:53}},27:{start:{line:110,column:8},end:{line:110,column:36}},28:{start:{line:111,column:8},end:{line:113,column:9}},29:{start:{line:112,column:12},end:{line:112,column:67}},30:{start:{line:114,column:8},end:{line:116,column:9}},31:{start:{line:115,column:12},end:{line:115,column:85}},32:{start:{line:117,column:8},end:{line:119,column:9}},33:{start:{line:118,column:12},end:{line:118,column:65}},34:{start:{line:120,column:8},end:{line:120,column:66}},35:{start:{line:124,column:20},end:{line:127,column:19}},36:{start:{line:125,column:25},end:{line:125,column:54}},37:{start:{line:126,column:12},end:{line:126,column:73}},38:{start:{line:128,column:18},end:{line:128,column:20}},39:{start:{line:130,column:8},end:{line:132,column:9}},40:{start:{line:131,column:12},end:{line:131,column:73}},41:{start:{line:134,column:8},end:{line:134,column:29}},42:{start:{line:142,column:23},end:{line:142,column:61}},43:{start:{line:144,column:22},end:{line:144,column:97}},44:{start:{line:145,column:18},end:{line:145,column:48}},45:{start:{line:146,column:8},end:{line:146,column:65}},46:{start:{line:146,column:24},end:{line:146,column:65}},47:{start:{line:147,column:8},end:{line:147,column:19}},48:{start:{line:150,column:0},end:{line:150,column:21}},49:{start:{line:151,column:0},end:{line:151,column:29}},50:{start:{line:152,column:0},end:{line:152,column:22}},51:{start:{line:153,column:0},end:{line:153,column:68}},52:{start:{line:154,column:0},end:{line:154,column:81}},53:{start:{line:155,column:0},end:{line:155,column:24}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:19},end:{line:10,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:16,column:4},end:{line:16,column:5}},loc:{start:{line:16,column:26},end:{line:18,column:5}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:20,column:4},end:{line:20,column:5}},loc:{start:{line:20,column:21},end:{line:25,column:5}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:32,column:4},end:{line:32,column:5}},loc:{start:{line:32,column:28},end:{line:34,column:5}},line:32},4:{name:"(anonymous_4)",decl:{start:{line:41,column:4},end:{line:41,column:5}},loc:{start:{line:41,column:19},end:{line:45,column:5}},line:41},5:{name:"(anonymous_5)",decl:{start:{line:47,column:4},end:{line:47,column:5}},loc:{start:{line:47,column:25},end:{line:49,column:5}},line:47},6:{name:"(anonymous_6)",decl:{start:{line:54,column:4},end:{line:54,column:5}},loc:{start:{line:54,column:25},end:{line:56,column:5}},line:54},7:{name:"(anonymous_7)",decl:{start:{line:62,column:4},end:{line:62,column:5}},loc:{start:{line:62,column:14},end:{line:65,column:5}},line:62},8:{name:"(anonymous_8)",decl:{start:{line:67,column:4},end:{line:67,column:5}},loc:{start:{line:67,column:27},end:{line:87,column:5}},line:67},9:{name:"(anonymous_9)",decl:{start:{line:93,column:4},end:{line:93,column:5}},loc:{start:{line:93,column:30},end:{line:95,column:5}},line:93},10:{name:"(anonymous_10)",decl:{start:{line:101,column:4},end:{line:101,column:5}},loc:{start:{line:101,column:24},end:{line:103,column:5}},line:101},11:{name:"(anonymous_11)",decl:{start:{line:109,column:4},end:{line:109,column:5}},loc:{start:{line:109,column:40},end:{line:121,column:5}},line:109},12:{name:"(anonymous_12)",decl:{start:{line:123,column:4},end:{line:123,column:5}},loc:{start:{line:123,column:27},end:{line:135,column:5}},line:123},13:{name:"(anonymous_13)",decl:{start:{line:124,column:38},end:{line:124,column:39}},loc:{start:{line:124,column:45},end:{line:127,column:9}},line:124},14:{name:"(anonymous_14)",decl:{start:{line:141,column:4},end:{line:141,column:5}},loc:{start:{line:141,column:45},end:{line:148,column:5}},line:141}},branchMap:{0:{loc:{start:{line:7,column:8},end:{line:7,column:25}},type:"if",locations:[{start:{line:7,column:8},end:{line:7,column:25}},{start:{line:7,column:8},end:{line:7,column:25}}],line:7},1:{loc:{start:{line:22,column:8},end:{line:22,column:85}},type:"if",locations:[{start:{line:22,column:8},end:{line:22,column:85}},{start:{line:22,column:8},end:{line:22,column:85}}],line:22},2:{loc:{start:{line:23,column:8},end:{line:23,column:97}},type:"if",locations:[{start:{line:23,column:8},end:{line:23,column:97}},{start:{line:23,column:8},end:{line:23,column:97}}],line:23},3:{loc:{start:{line:42,column:14},end:{line:42,column:58}},type:"binary-expr",locations:[{start:{line:42,column:14},end:{line:42,column:17}},{start:{line:42,column:21},end:{line:42,column:58}}],line:42},4:{loc:{start:{line:63,column:15},end:{line:64,column:30}},type:"binary-expr",locations:[{start:{line:63,column:15},end:{line:63,column:35}},{start:{line:64,column:15},end:{line:64,column:30}}],line:63},5:{loc:{start:{line:111,column:8},end:{line:113,column:9}},type:"if",locations:[{start:{line:111,column:8},end:{line:113,column:9}},{start:{line:111,column:8},end:{line:113,column:9}}],line:111},6:{loc:{start:{line:114,column:8},end:{line:116,column:9}},type:"if",locations:[{start:{line:114,column:8},end:{line:116,column:9}},{start:{line:114,column:8},end:{line:116,column:9}}],line:114},7:{loc:{start:{line:117,column:8},end:{line:119,column:9}},type:"if",locations:[{start:{line:117,column:8},end:{line:119,column:9}},{start:{line:117,column:8},end:{line:119,column:9}}],line:117},8:{loc:{start:{line:126,column:19},end:{line:126,column:72}},type:"cond-expr",locations:[{start:{line:126,column:46},end:{line:126,column:47}},{start:{line:126,column:50},end:{line:126,column:72}}],line:126},9:{loc:{start:{line:126,column:19},end:{line:126,column:43}},type:"binary-expr",locations:[{start:{line:126,column:19},end:{line:126,column:29}},{start:{line:126,column:33},end:{line:126,column:43}}],line:126},10:{loc:{start:{line:141,column:26},end:{line:141,column:43}},type:"default-arg",locations:[{start:{line:141,column:39},end:{line:141,column:43}}],line:141},11:{loc:{start:{line:146,column:8},end:{line:146,column:65}},type:"if",locations:[{start:{line:146,column:8},end:{line:146,column:65}},{start:{line:146,column:8},end:{line:146,column:65}}],line:146}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0],11:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Address extends Serializable{static copy(n){J.f[0]++;J.s[0]++;if(!n){J.b[0][0]++;J.s[1]++;return n}J.b[0][1]++;const e=(J.s[2]++,new Uint8Array(n._obj));J.s[3]++;return new Address(e)}static fromHash(n){J.f[1]++;J.s[4]++;return new Address(n.subarray(0,Address.SERIALIZED_SIZE))}constructor(n){J.f[2]++;J.s[5]++;super();J.s[6]++;if(!(n instanceof Uint8Array)){J.b[1][0]++;J.s[7]++;throw new Error("Primitive: Invalid type")}J.b[1][1]++;J.s[8]++;if(n.length!==Address.SERIALIZED_SIZE){J.b[2][0]++;J.s[9]++;throw new Error("Primitive: Invalid length")}J.b[2][1]++;J.s[10]++;this._obj=n}static unserialize(n){J.f[3]++;J.s[11]++;return new Address(n.read(Address.SERIALIZED_SIZE))}serialize(n){J.f[4]++;J.s[12]++;n=(J.b[3][0]++,n)||(J.b[3][1]++,new SerialBuffer(this.serializedSize));J.s[13]++;n.write(this._obj);J.s[14]++;return n}subarray(n,e){J.f[5]++;J.s[15]++;return this._obj.subarray(n,e)}get serializedSize(){J.f[6]++;J.s[16]++;return Address.SERIALIZED_SIZE}equals(n){J.f[7]++;J.s[17]++;return(J.b[4][0]++,n instanceof Address)&&(J.b[4][1]++,super.equals(n))}static fromString(n){J.f[8]++;J.s[18]++;try{J.s[19]++;return Address.fromUserFriendlyAddress(n)}catch(e){}J.s[20]++;try{J.s[21]++;return Address.fromHex(n)}catch(e){}J.s[22]++;try{J.s[23]++;return Address.fromBase64(n)}catch(e){}J.s[24]++;throw new Error("Invalid address format")}static fromBase64(n){J.f[9]++;J.s[25]++;return new Address(BufferUtils.fromBase64(n))}static fromHex(n){J.f[10]++;J.s[26]++;return new Address(BufferUtils.fromHex(n))}static fromUserFriendlyAddress(n){J.f[11]++;J.s[27]++;n=n.replace(/ /g,"");J.s[28]++;if(n.substr(0,2).toUpperCase()!==Address.CCODE){J.b[5][0]++;J.s[29]++;throw new Error("Invalid Address: Wrong country code")}J.b[5][1]++;J.s[30]++;if(36!==n.length){J.b[6][0]++;J.s[31]++;throw new Error("Invalid Address: Should be 36 chars (ignoring spaces)")}J.b[6][1]++;J.s[32]++;if(1!==Address._ibanCheck(n.substr(4)+n.substr(0,4))){J.b[7][0]++;J.s[33]++;throw new Error("Invalid Address: Checksum invalid")}J.b[7][1]++;J.s[34]++;return new Address(BufferUtils.fromBase32(n.substr(4)))}static _ibanCheck(n){J.f[12]++;const e=(J.s[35]++,n.split("").map(n=>{J.f[13]++;const e=(J.s[36]++,n.toUpperCase().charCodeAt(0));J.s[37]++;return(J.b[9][0]++,e>=48)&&(J.b[9][1]++,e<=57)?(J.b[8][0]++,n):(J.b[8][1]++,(e-55).toString())}).join(""));let l=(J.s[38]++,"");J.s[39]++;for(let t=0;t<Math.ceil(e.length/6);t++){J.s[40]++;l=(parseInt(l+e.substr(6*t,6))%97).toString()}J.s[41]++;return parseInt(l)}toUserFriendlyAddress(n=(J.b[10][0]++,!0)){J.f[14]++;const e=(J.s[42]++,BufferUtils.toBase32(this.serialize())),l=(J.s[43]++,("00"+(98-Address._ibanCheck(e+Address.CCODE+"00"))).slice(-2));let t=(J.s[44]++,Address.CCODE+l+e);J.s[45]++;if(n){J.b[11][0]++;J.s[46]++;t=t.replace(/.{4}/g,"$& ").trim()}else J.b[11][1]++;J.s[47]++;return t}}J.s[48]++;Address.CCODE="NQ";J.s[49]++;Address.SERIALIZED_SIZE=20;J.s[50]++;Address.HEX_SIZE=40;J.s[51]++;Address.NULL=new Address(new Uint8Array(Address.SERIALIZED_SIZE));J.s[52]++;Address.CONTRACT_CREATION=new Address(new Uint8Array(Address.SERIALIZED_SIZE));J.s[53]++;Class.register(Address);var Y=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/account/Account.js",e="4fe3f550c21f3d48770f7477ad8117ed1ce3de8e",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/account/Account.js",statementMap:{0:{start:{line:10,column:8},end:{line:10,column:74}},1:{start:{line:10,column:40},end:{line:10,column:74}},2:{start:{line:11,column:8},end:{line:11,column:81}},3:{start:{line:11,column:44},end:{line:11,column:81}},4:{start:{line:14,column:8},end:{line:14,column:26}},5:{start:{line:16,column:8},end:{line:16,column:32}},6:{start:{line:25,column:49},end:{line:25,column:64}},7:{start:{line:26,column:8},end:{line:26,column:22}},8:{start:{line:28,column:8},end:{line:30,column:9}},9:{start:{line:29,column:12},end:{line:29,column:52}},10:{start:{line:32,column:8},end:{line:32,column:59}},11:{start:{line:41,column:8},end:{line:41,column:59}},12:{start:{line:42,column:8},end:{line:42,column:35}},13:{start:{line:43,column:8},end:{line:43,column:39}},14:{start:{line:44,column:8},end:{line:44,column:19}},15:{start:{line:51,column:8},end:{line:52,column:28}},16:{start:{line:61,column:8},end:{line:61,column:67}},17:{start:{line:65,column:8},end:{line:65,column:81}},18:{start:{line:72,column:8},end:{line:72,column:29}},19:{start:{line:77,column:8},end:{line:77,column:26}},20:{start:{line:84,column:27},end:{line:84,column:67}},21:{start:{line:94,column:8},end:{line:113,column:9}},22:{start:{line:95,column:31},end:{line:95,column:82}},23:{start:{line:96,column:12},end:{line:98,column:13}},24:{start:{line:97,column:16},end:{line:97,column:50}},25:{start:{line:99,column:12},end:{line:102,column:13}},26:{start:{line:101,column:16},end:{line:101,column:51}},27:{start:{line:103,column:12},end:{line:105,column:13}},28:{start:{line:104,column:16},end:{line:104,column:61}},29:{start:{line:106,column:12},end:{line:106,column:48}},30:{start:{line:108,column:12},end:{line:111,column:13}},31:{start:{line:110,column:16},end:{line:110,column:51}},32:{start:{line:112,column:12},end:{line:112,column:89}},33:{start:{line:123,column:8},end:{line:131,column:9}},34:{start:{line:124,column:12},end:{line:124,column:71}},35:{start:{line:126,column:31},end:{line:126,column:64}},36:{start:{line:127,column:12},end:{line:129,column:13}},37:{start:{line:128,column:16},end:{line:128,column:50}},38:{start:{line:130,column:12},end:{line:130,column:48}},39:{start:{line:141,column:8},end:{line:141,column:47}},40:{start:{line:148,column:8},end:{line:148,column:40}},41:{start:{line:155,column:8},end:{line:155,column:56}},42:{start:{line:164,column:0},end:{line:180,column:2}},43:{start:{line:184,column:0},end:{line:184,column:29}},44:{start:{line:186,column:0},end:{line:186,column:24}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:4},end:{line:9,column:5}},loc:{start:{line:9,column:31},end:{line:17,column:5}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:24,column:4},end:{line:24,column:5}},loc:{start:{line:24,column:28},end:{line:33,column:5}},line:24},2:{name:"(anonymous_2)",decl:{start:{line:40,column:4},end:{line:40,column:5}},loc:{start:{line:40,column:19},end:{line:45,column:5}},line:40},3:{name:"(anonymous_3)",decl:{start:{line:50,column:4},end:{line:50,column:5}},loc:{start:{line:50,column:25},end:{line:53,column:5}},line:50},4:{name:"(anonymous_4)",decl:{start:{line:60,column:4},end:{line:60,column:5}},loc:{start:{line:60,column:14},end:{line:62,column:5}},line:60},5:{name:"(anonymous_5)",decl:{start:{line:64,column:4},end:{line:64,column:5}},loc:{start:{line:64,column:15},end:{line:66,column:5}},line:64},6:{name:"(anonymous_6)",decl:{start:{line:71,column:4},end:{line:71,column:5}},loc:{start:{line:71,column:18},end:{line:73,column:5}},line:71},7:{name:"(anonymous_7)",decl:{start:{line:76,column:4},end:{line:76,column:5}},loc:{start:{line:76,column:15},end:{line:78,column:5}},line:76},8:{name:"(anonymous_8)",decl:{start:{line:84,column:4},end:{line:84,column:5}},loc:{start:{line:84,column:25},end:{line:84,column:69}},line:84},9:{name:"(anonymous_9)",decl:{start:{line:93,column:4},end:{line:93,column:5}},loc:{start:{line:93,column:89},end:{line:114,column:5}},line:93},10:{name:"(anonymous_10)",decl:{start:{line:122,column:4},end:{line:122,column:5}},loc:{start:{line:122,column:70},end:{line:132,column:5}},line:122},11:{name:"(anonymous_11)",decl:{start:{line:140,column:4},end:{line:140,column:5}},loc:{start:{line:140,column:66},end:{line:142,column:5}},line:140},12:{name:"(anonymous_12)",decl:{start:{line:147,column:4},end:{line:147,column:5}},loc:{start:{line:147,column:16},end:{line:149,column:5}},line:147},13:{name:"(anonymous_13)",decl:{start:{line:154,column:4},end:{line:154,column:5}},loc:{start:{line:154,column:19},end:{line:156,column:5}},line:154}},branchMap:{0:{loc:{start:{line:10,column:8},end:{line:10,column:74}},type:"if",locations:[{start:{line:10,column:8},end:{line:10,column:74}},{start:{line:10,column:8},end:{line:10,column:74}}],line:10},1:{loc:{start:{line:11,column:8},end:{line:11,column:81}},type:"if",locations:[{start:{line:11,column:8},end:{line:11,column:81}},{start:{line:11,column:8},end:{line:11,column:81}}],line:11},2:{loc:{start:{line:28,column:8},end:{line:30,column:9}},type:"if",locations:[{start:{line:28,column:8},end:{line:30,column:9}},{start:{line:28,column:8},end:{line:30,column:9}}],line:28},3:{loc:{start:{line:41,column:14},end:{line:41,column:58}},type:"binary-expr",locations:[{start:{line:41,column:14},end:{line:41,column:17}},{start:{line:41,column:21},end:{line:41,column:58}}],line:41},4:{loc:{start:{line:93,column:73},end:{line:93,column:87}},type:"default-arg",locations:[{start:{line:93,column:82},end:{line:93,column:87}}],line:93},5:{loc:{start:{line:94,column:8},end:{line:113,column:9}},type:"if",locations:[{start:{line:94,column:8},end:{line:113,column:9}},{start:{line:94,column:8},end:{line:113,column:9}}],line:94},6:{loc:{start:{line:96,column:12},end:{line:98,column:13}},type:"if",locations:[{start:{line:96,column:12},end:{line:98,column:13}},{start:{line:96,column:12},end:{line:98,column:13}}],line:96},7:{loc:{start:{line:99,column:12},end:{line:102,column:13}},type:"if",locations:[{start:{line:99,column:12},end:{line:102,column:13}},{start:{line:99,column:12},end:{line:102,column:13}}],line:99},8:{loc:{start:{line:99,column:16},end:{line:100,column:102}},type:"binary-expr",locations:[{start:{line:99,column:16},end:{line:99,column:61}},{start:{line:100,column:19},end:{line:100,column:102}}],line:99},9:{loc:{start:{line:103,column:12},end:{line:105,column:13}},type:"if",locations:[{start:{line:103,column:12},end:{line:105,column:13}},{start:{line:103,column:12},end:{line:105,column:13}}],line:103},10:{loc:{start:{line:108,column:12},end:{line:111,column:13}},type:"if",locations:[{start:{line:108,column:12},end:{line:111,column:13}},{start:{line:108,column:12},end:{line:111,column:13}}],line:108},11:{loc:{start:{line:108,column:16},end:{line:109,column:102}},type:"binary-expr",locations:[{start:{line:108,column:16},end:{line:108,column:61}},{start:{line:109,column:19},end:{line:109,column:102}}],line:108},12:{loc:{start:{line:122,column:54},end:{line:122,column:68}},type:"default-arg",locations:[{start:{line:122,column:63},end:{line:122,column:68}}],line:122},13:{loc:{start:{line:123,column:8},end:{line:131,column:9}},type:"if",locations:[{start:{line:123,column:8},end:{line:131,column:9}},{start:{line:123,column:8},end:{line:131,column:9}}],line:123},14:{loc:{start:{line:127,column:12},end:{line:129,column:13}},type:"if",locations:[{start:{line:127,column:12},end:{line:129,column:13}},{start:{line:127,column:12},end:{line:129,column:13}}],line:127},15:{loc:{start:{line:140,column:50},end:{line:140,column:64}},type:"default-arg",locations:[{start:{line:140,column:59},end:{line:140,column:64}}],line:140},16:{loc:{start:{line:155,column:15},end:{line:155,column:55}},type:"binary-expr",locations:[{start:{line:155,column:15},end:{line:155,column:34}},{start:{line:155,column:38},end:{line:155,column:55}}],line:155}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0],13:[0,0],14:[0,0],15:[0],16:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Account{constructor(n,e){Y.f[0]++;Y.s[0]++;if(!NumberUtils.isUint8(n)){Y.b[0][0]++;Y.s[1]++;throw new Error("Malformed type")}Y.b[0][1]++;Y.s[2]++;if(!NumberUtils.isUint64(e)){Y.b[1][0]++;Y.s[3]++;throw new Error("Malformed balance")}Y.b[1][1]++;Y.s[4]++;this._type=n;Y.s[5]++;this._balance=e}static unserialize(n){Y.f[1]++;const e=(Y.s[6]++,n.readUint8());Y.s[7]++;n.readPos--;Y.s[8]++;if(!Account.TYPE_MAP.has(e)){Y.b[2][0]++;Y.s[9]++;throw new Error("Unknown account type")}Y.b[2][1]++;Y.s[10]++;return Account.TYPE_MAP.get(e).unserialize(n)}serialize(n){Y.f[2]++;Y.s[11]++;n=(Y.b[3][0]++,n)||(Y.b[3][1]++,new SerialBuffer(this.serializedSize));Y.s[12]++;n.writeUint8(this._type);Y.s[13]++;n.writeUint64(this._balance);Y.s[14]++;return n}get serializedSize(){Y.f[3]++;Y.s[15]++;return 9}equals(n){Y.f[4]++;Y.s[16]++;return BufferUtils.equals(this.serialize(),n.serialize())}toString(){Y.f[5]++;Y.s[17]++;return`Account{type=${this._type}, balance=${this._balance.toString()}`}get balance(){Y.f[6]++;Y.s[18]++;return this._balance}get type(){Y.f[7]++;Y.s[19]++;return this._type}withBalance(n){Y.f[8]++;Y.s[20]++;throw new Error("Not yet implemented.")}withOutgoingTransaction(n,e,l,t=(Y.b[4][0]++,!1)){Y.f[9]++;Y.s[21]++;if(t){Y.b[5][1]++;Y.s[30]++;if((Y.b[11][0]++,e<n.validityStartHeight)||(Y.b[11][1]++,e>=n.validityStartHeight+Policy.TRANSACTION_VALIDITY_WINDOW)){Y.b[10][0]++;Y.s[31]++;throw new Error("Validity Error!")}Y.b[10][1]++;Y.s[32]++;return this.withBalance(this._balance+n.value+n.fee)}{Y.b[5][0]++;const t=(Y.s[22]++,this._balance-n.value-n.fee);Y.s[23]++;if(t<0){Y.b[6][0]++;Y.s[24]++;throw new Error("Balance Error!")}Y.b[6][1]++;Y.s[25]++;if((Y.b[8][0]++,e<n.validityStartHeight)||(Y.b[8][1]++,e>=n.validityStartHeight+Policy.TRANSACTION_VALIDITY_WINDOW)){Y.b[7][0]++;Y.s[26]++;throw new Error("Validity Error!")}Y.b[7][1]++;Y.s[27]++;if(l.containsTransaction(n)){Y.b[9][0]++;Y.s[28]++;throw new Error("Double Transaction Error!")}Y.b[9][1]++;Y.s[29]++;return this.withBalance(t)}}withIncomingTransaction(n,e,l=(Y.b[12][0]++,!1)){Y.f[10]++;Y.s[33]++;if(l){Y.b[13][1]++;const e=(Y.s[35]++,this._balance-n.value);Y.s[36]++;if(e<0){Y.b[14][0]++;Y.s[37]++;throw new Error("Balance Error!")}Y.b[14][1]++;Y.s[38]++;return this.withBalance(e)}Y.b[13][0]++;Y.s[34]++;return this.withBalance(this._balance+n.value)}withContractCommand(n,e,l=(Y.b[15][0]++,!1)){Y.f[11]++;Y.s[39]++;throw new Error("Not yet implemented")}isInitial(){Y.f[12]++;Y.s[40]++;return this===Account.INITIAL}isToBePruned(){Y.f[13]++;Y.s[41]++;return(Y.b[16][0]++,0===this._balance)&&(Y.b[16][1]++,!this.isInitial())}}Y.s[42]++;Account.Type={BASIC:0,VESTING:1,HTLC:2};Y.s[43]++;Account.TYPE_MAP=new Map;Y.s[44]++;Class.register(Account);var nn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/account/PrunedAccount.js",e="72ac676a8c52020c7b7fe960b4e997493c355a58",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/account/PrunedAccount.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:80}},1:{start:{line:7,column:43},end:{line:7,column:80}},2:{start:{line:10,column:8},end:{line:10,column:32}},3:{start:{line:12,column:8},end:{line:12,column:32}},4:{start:{line:20,column:8},end:{line:20,column:85}},5:{start:{line:28,column:8},end:{line:28,column:49}},6:{start:{line:35,column:8},end:{line:35,column:29}},7:{start:{line:42,column:8},end:{line:42,column:29}},8:{start:{line:49,column:8},end:{line:49,column:59}},9:{start:{line:50,column:8},end:{line:50,column:37}},10:{start:{line:51,column:8},end:{line:51,column:37}},11:{start:{line:52,column:8},end:{line:52,column:20}},12:{start:{line:56,column:8},end:{line:56,column:75}},13:{start:{line:60,column:0},end:{line:60,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:34},end:{line:13,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:19,column:4},end:{line:19,column:5}},loc:{start:{line:19,column:28},end:{line:21,column:5}},line:19},2:{name:"(anonymous_2)",decl:{start:{line:27,column:4},end:{line:27,column:5}},loc:{start:{line:27,column:15},end:{line:29,column:5}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:34,column:4},end:{line:34,column:5}},loc:{start:{line:34,column:18},end:{line:36,column:5}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:41,column:4},end:{line:41,column:5}},loc:{start:{line:41,column:18},end:{line:43,column:5}},line:41},5:{name:"(anonymous_5)",decl:{start:{line:48,column:4},end:{line:48,column:5}},loc:{start:{line:48,column:19},end:{line:53,column:5}},line:48},6:{name:"(anonymous_6)",decl:{start:{line:55,column:4},end:{line:55,column:5}},loc:{start:{line:55,column:25},end:{line:57,column:5}},line:55}},branchMap:{0:{loc:{start:{line:7,column:8},end:{line:7,column:80}},type:"if",locations:[{start:{line:7,column:8},end:{line:7,column:80}},{start:{line:7,column:8},end:{line:7,column:80}}],line:7},1:{loc:{start:{line:49,column:14},end:{line:49,column:58}},type:"binary-expr",locations:[{start:{line:49,column:14},end:{line:49,column:17}},{start:{line:49,column:21},end:{line:49,column:58}}],line:49}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class PrunedAccount{constructor(n,e){nn.f[0]++;nn.s[0]++;if(!(n instanceof Address)){nn.b[0][0]++;nn.s[1]++;throw new Error("Malformed address")}nn.b[0][1]++;nn.s[2]++;this._address=n;nn.s[3]++;this._account=e}static unserialize(n){nn.f[1]++;nn.s[4]++;return new PrunedAccount(Address.unserialize(n),Account.unserialize(n))}compare(n){nn.f[2]++;nn.s[5]++;return this._address.compare(n._address)}get address(){nn.f[3]++;nn.s[6]++;return this._address}get account(){nn.f[4]++;nn.s[7]++;return this._account}serialize(n){nn.f[5]++;nn.s[8]++;n=(nn.b[1][0]++,n)||(nn.b[1][1]++,new SerialBuffer(this.serializedSize));nn.s[9]++;this._address.serialize(n);nn.s[10]++;this._account.serialize(n);nn.s[11]++;return this}get serializedSize(){nn.f[6]++;nn.s[12]++;return this._address.serializedSize+this._account.serializedSize}}nn.s[13]++;Class.register(PrunedAccount);var en=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/account/BasicAccount.js",e="4ca3c9fbacab9923d2bc3098fe0569caff4a0db7",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/account/BasicAccount.js",statementMap:{0:{start:{line:11,column:8},end:{line:11,column:25}},1:{start:{line:11,column:16},end:{line:11,column:25}},2:{start:{line:12,column:8},end:{line:12,column:44}},3:{start:{line:19,column:8},end:{line:19,column:43}},4:{start:{line:27,column:21},end:{line:27,column:36}},5:{start:{line:28,column:8},end:{line:28,column:81}},6:{start:{line:28,column:41},end:{line:28,column:81}},7:{start:{line:30,column:24},end:{line:30,column:40}},8:{start:{line:31,column:8},end:{line:31,column:41}},9:{start:{line:40,column:8},end:{line:42,column:44}},10:{start:{line:46,column:8},end:{line:46,column:56}},11:{start:{line:54,column:8},end:{line:54,column:61}},12:{start:{line:62,column:8},end:{line:62,column:59}},13:{start:{line:62,column:46},end:{line:62,column:59}},14:{start:{line:63,column:8},end:{line:63,column:20}},15:{start:{line:71,column:8},end:{line:71,column:41}},16:{start:{line:81,column:8},end:{line:87,column:9}},17:{start:{line:82,column:39},end:{line:82,column:94}},18:{start:{line:83,column:33},end:{line:83,column:73}},19:{start:{line:84,column:12},end:{line:86,column:13}},20:{start:{line:85,column:16},end:{line:85,column:47}},21:{start:{line:88,column:8},end:{line:88,column:79}},22:{start:{line:98,column:8},end:{line:101,column:9}},23:{start:{line:100,column:12},end:{line:100,column:115}},24:{start:{line:102,column:8},end:{line:102,column:20}},25:{start:{line:109,column:8},end:{line:109,column:35}},26:{start:{line:113,column:0},end:{line:113,column:38}},27:{start:{line:114,column:0},end:{line:114,column:55}},28:{start:{line:115,column:0},end:{line:115,column:29}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:4},end:{line:10,column:5}},loc:{start:{line:10,column:19},end:{line:13,column:5}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:18,column:4},end:{line:18,column:5}},loc:{start:{line:18,column:29},end:{line:20,column:5}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:26,column:4},end:{line:26,column:5}},loc:{start:{line:26,column:28},end:{line:32,column:5}},line:26},3:{name:"(anonymous_3)",decl:{start:{line:39,column:4},end:{line:39,column:5}},loc:{start:{line:39,column:14},end:{line:43,column:5}},line:39},4:{name:"(anonymous_4)",decl:{start:{line:45,column:4},end:{line:45,column:5}},loc:{start:{line:45,column:15},end:{line:47,column:5}},line:45},5:{name:"(anonymous_5)",decl:{start:{line:53,column:4},end:{line:53,column:5}},loc:{start:{line:53,column:50},end:{line:55,column:5}},line:53},6:{name:"(anonymous_6)",decl:{start:{line:61,column:4},end:{line:61,column:5}},loc:{start:{line:61,column:50},end:{line:64,column:5}},line:61},7:{name:"(anonymous_7)",decl:{start:{line:70,column:4},end:{line:70,column:5}},loc:{start:{line:70,column:25},end:{line:72,column:5}},line:70},8:{name:"(anonymous_8)",decl:{start:{line:80,column:4},end:{line:80,column:5}},loc:{start:{line:80,column:70},end:{line:89,column:5}},line:80},9:{name:"(anonymous_9)",decl:{start:{line:97,column:4},end:{line:97,column:5}},loc:{start:{line:97,column:66},end:{line:103,column:5}},line:97},10:{name:"(anonymous_10)",decl:{start:{line:108,column:4},end:{line:108,column:5}},loc:{start:{line:108,column:16},end:{line:110,column:5}},line:108}},branchMap:{0:{loc:{start:{line:11,column:8},end:{line:11,column:25}},type:"if",locations:[{start:{line:11,column:8},end:{line:11,column:25}},{start:{line:11,column:8},end:{line:11,column:25}}],line:11},1:{loc:{start:{line:18,column:16},end:{line:18,column:27}},type:"default-arg",locations:[{start:{line:18,column:26},end:{line:18,column:27}}],line:18},2:{loc:{start:{line:28,column:8},end:{line:28,column:81}},type:"if",locations:[{start:{line:28,column:8},end:{line:28,column:81}},{start:{line:28,column:8},end:{line:28,column:81}}],line:28},3:{loc:{start:{line:40,column:15},end:{line:42,column:43}},type:"binary-expr",locations:[{start:{line:40,column:15},end:{line:40,column:40}},{start:{line:41,column:15},end:{line:41,column:37}},{start:{line:42,column:15},end:{line:42,column:43}}],line:40},4:{loc:{start:{line:62,column:8},end:{line:62,column:59}},type:"if",locations:[{start:{line:62,column:8},end:{line:62,column:59}},{start:{line:62,column:8},end:{line:62,column:59}}],line:62},5:{loc:{start:{line:80,column:54},end:{line:80,column:68}},type:"default-arg",locations:[{start:{line:80,column:63},end:{line:80,column:68}}],line:80},6:{loc:{start:{line:81,column:8},end:{line:87,column:9}},type:"if",locations:[{start:{line:81,column:8},end:{line:87,column:9}},{start:{line:81,column:8},end:{line:87,column:9}}],line:81},7:{loc:{start:{line:84,column:12},end:{line:86,column:13}},type:"if",locations:[{start:{line:84,column:12},end:{line:86,column:13}},{start:{line:84,column:12},end:{line:86,column:13}}],line:84},8:{loc:{start:{line:97,column:50},end:{line:97,column:64}},type:"default-arg",locations:[{start:{line:97,column:59},end:{line:97,column:64}}],line:97},9:{loc:{start:{line:98,column:8},end:{line:101,column:9}},type:"if",locations:[{start:{line:98,column:8},end:{line:101,column:9}},{start:{line:98,column:8},end:{line:101,column:9}}],line:98},10:{loc:{start:{line:98,column:12},end:{line:98,column:122}},type:"binary-expr",locations:[{start:{line:98,column:12},end:{line:98,column:19}},{start:{line:98,column:23},end:{line:98,column:63}},{start:{line:98,column:67},end:{line:98,column:122}}],line:98}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0],2:[0,0],3:[0,0,0],4:[0,0],5:[0],6:[0,0],7:[0,0],8:[0],9:[0,0],10:[0,0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class BasicAccount extends Account{static copy(n){en.f[0]++;en.s[0]++;if(!n){en.b[0][0]++;en.s[1]++;return n}en.b[0][1]++;en.s[2]++;return new BasicAccount(n._balance)}constructor(n=(en.b[1][0]++,0)){en.f[1]++;en.s[3]++;super(Account.Type.BASIC,n)}static unserialize(n){en.f[2]++;const e=(en.s[4]++,n.readUint8());en.s[5]++;if(e!==Account.Type.BASIC){en.b[2][0]++;en.s[6]++;throw new Error("Invalid account type")}en.b[2][1]++;const l=(en.s[7]++,n.readUint64());en.s[8]++;return new BasicAccount(l)}equals(n){en.f[3]++;en.s[9]++;return(en.b[3][0]++,n instanceof BasicAccount)&&(en.b[3][1]++,this._type===n._type)&&(en.b[3][2]++,this._balance===n._balance)}toString(){en.f[4]++;en.s[10]++;return`BasicAccount{balance=${this._balance}}`}static verifyOutgoingTransaction(n){en.f[5]++;en.s[11]++;return SignatureProof.verifyTransaction(n)}static verifyIncomingTransaction(n){en.f[6]++;en.s[12]++;if(n.data.byteLength>64){en.b[4][0]++;en.s[13]++;return!1}en.b[4][1]++;en.s[14]++;return!0}withBalance(n){en.f[7]++;en.s[15]++;return new BasicAccount(n)}withIncomingTransaction(n,e,l=(en.b[5][0]++,!1)){en.f[8]++;en.s[16]++;if(l)en.b[6][1]++;else{en.b[6][0]++;const e=(en.s[17]++,n.hasFlag(Transaction.Flag.CONTRACT_CREATION)),l=(en.s[18]++,n.recipientType!==this._type);en.s[19]++;if(e!==l){en.b[7][0]++;en.s[20]++;throw new Error("Data Error!")}en.b[7][1]++}en.s[21]++;return super.withIncomingTransaction(n,e,l)}withContractCommand(n,e,l=(en.b[8][0]++,!1)){en.f[9]++;en.s[22]++;if((en.b[10][0]++,!l)&&(en.b[10][1]++,n.recipientType!==this._type)&&(en.b[10][2]++,n.hasFlag(Transaction.Flag.CONTRACT_CREATION))){en.b[9][0]++;en.s[23]++;return Account.TYPE_MAP.get(n.recipientType).create(this._balance,e,n)}en.b[9][1]++;en.s[24]++;return this}isInitial(){en.f[10]++;en.s[25]++;return 0===this._balance}}en.s[26]++;Account.INITIAL=new BasicAccount(0);en.s[27]++;Account.TYPE_MAP.set(Account.Type.BASIC,BasicAccount);en.s[28]++;Class.register(BasicAccount);var ln=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/account/Contract.js",e="f2edf05b99a0a103bf598b244bfcee5cb5eb1105",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/account/Contract.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:29}},1:{start:{line:15,column:8},end:{line:17,column:9}},2:{start:{line:16,column:12},end:{line:16,column:25}},3:{start:{line:18,column:8},end:{line:18,column:20}},4:{start:{line:28,column:8},end:{line:31,column:9}},5:{start:{line:30,column:12},end:{line:30,column:42}},6:{start:{line:32,column:8},end:{line:32,column:79}},7:{start:{line:43,column:8},end:{line:46,column:9}},8:{start:{line:45,column:12},end:{line:45,column:50}},9:{start:{line:47,column:8},end:{line:47,column:20}},10:{start:{line:51,column:0},end:{line:51,column:25}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:31},end:{line:8,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:14,column:4},end:{line:14,column:5}},loc:{start:{line:14,column:50},end:{line:19,column:5}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:27,column:4},end:{line:27,column:5}},loc:{start:{line:27,column:70},end:{line:33,column:5}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:42,column:4},end:{line:42,column:5}},loc:{start:{line:42,column:66},end:{line:48,column:5}},line:42}},branchMap:{0:{loc:{start:{line:15,column:8},end:{line:17,column:9}},type:"if",locations:[{start:{line:15,column:8},end:{line:17,column:9}},{start:{line:15,column:8},end:{line:17,column:9}}],line:15},1:{loc:{start:{line:27,column:54},end:{line:27,column:68}},type:"default-arg",locations:[{start:{line:27,column:63},end:{line:27,column:68}}],line:27},2:{loc:{start:{line:28,column:8},end:{line:31,column:9}},type:"if",locations:[{start:{line:28,column:8},end:{line:31,column:9}},{start:{line:28,column:8},end:{line:31,column:9}}],line:28},3:{loc:{start:{line:28,column:12},end:{line:28,column:78}},type:"binary-expr",locations:[{start:{line:28,column:12},end:{line:28,column:19}},{start:{line:28,column:23},end:{line:28,column:78}}],line:28},4:{loc:{start:{line:42,column:50},end:{line:42,column:64}},type:"default-arg",locations:[{start:{line:42,column:59},end:{line:42,column:64}}],line:42},5:{loc:{start:{line:43,column:8},end:{line:46,column:9}},type:"if",locations:[{start:{line:43,column:8},end:{line:46,column:9}},{start:{line:43,column:8},end:{line:46,column:9}}],line:43},6:{loc:{start:{line:43,column:12},end:{line:43,column:77}},type:"binary-expr",locations:[{start:{line:43,column:12},end:{line:43,column:18}},{start:{line:43,column:22},end:{line:43,column:77}}],line:43}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0],2:[0,0],3:[0,0],4:[0],5:[0,0],6:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Contract extends Account{constructor(n,e){ln.f[0]++;ln.s[0]++;super(n,e)}static verifyIncomingTransaction(n){ln.f[1]++;ln.s[1]++;if(!n.recipient.equals(n.getContractCreationAddress())){ln.b[0][0]++;ln.s[2]++;return!1}ln.b[0][1]++;ln.s[3]++;return!0}withIncomingTransaction(n,e,l=(ln.b[1][0]++,!1)){ln.f[2]++;ln.s[4]++;if((ln.b[3][0]++,!l)&&(ln.b[3][1]++,n.hasFlag(Transaction.Flag.CONTRACT_CREATION))){ln.b[2][0]++;ln.s[5]++;throw new Error("Data error")}ln.b[2][1]++;ln.s[6]++;return super.withIncomingTransaction(n,e,l)}withContractCommand(n,e,l=(ln.b[4][0]++,!1)){ln.f[3]++;ln.s[7]++;if((ln.b[6][0]++,l)&&(ln.b[6][1]++,n.hasFlag(Transaction.Flag.CONTRACT_CREATION))){ln.b[5][0]++;ln.s[8]++;return new BasicAccount(this.balance)}ln.b[5][1]++;ln.s[9]++;return this}}ln.s[10]++;Class.register(Contract);var tn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/account/HashedTimeLockedContract.js",e="9804457f8b7243ba771e2d4961fbfdbf8de2cdcd",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/account/HashedTimeLockedContract.js",statementMap:{0:{start:{line:12,column:8},end:{line:12,column:42}},1:{start:{line:13,column:8},end:{line:13,column:79}},2:{start:{line:13,column:42},end:{line:13,column:79}},3:{start:{line:14,column:8},end:{line:14,column:82}},4:{start:{line:14,column:45},end:{line:14,column:82}},5:{start:{line:15,column:8},end:{line:15,column:78}},6:{start:{line:15,column:41},end:{line:15,column:78}},7:{start:{line:16,column:8},end:{line:16,column:103}},8:{start:{line:16,column:64},end:{line:16,column:103}},9:{start:{line:17,column:8},end:{line:17,column:81}},10:{start:{line:17,column:44},end:{line:17,column:81}},11:{start:{line:18,column:8},end:{line:18,column:89}},12:{start:{line:18,column:48},end:{line:18,column:89}},13:{start:{line:21,column:8},end:{line:21,column:30}},14:{start:{line:23,column:8},end:{line:23,column:36}},15:{start:{line:25,column:8},end:{line:25,column:34}},16:{start:{line:27,column:8},end:{line:27,column:36}},17:{start:{line:29,column:8},end:{line:29,column:32}},18:{start:{line:31,column:8},end:{line:31,column:40}},19:{start:{line:40,column:20},end:{line:40,column:54}},20:{start:{line:42,column:23},end:{line:42,column:47}},21:{start:{line:43,column:26},end:{line:43,column:50}},22:{start:{line:44,column:60},end:{line:44,column:75}},23:{start:{line:45,column:25},end:{line:45,column:61}},24:{start:{line:46,column:26},end:{line:46,column:41}},25:{start:{line:47,column:24},end:{line:47,column:40}},26:{start:{line:49,column:8},end:{line:49,column:102}},27:{start:{line:57,column:21},end:{line:57,column:36}},28:{start:{line:58,column:8},end:{line:58,column:80}},29:{start:{line:58,column:40},end:{line:58,column:80}},30:{start:{line:60,column:24},end:{line:60,column:40}},31:{start:{line:61,column:23},end:{line:61,column:47}},32:{start:{line:62,column:26},end:{line:62,column:50}},33:{start:{line:63,column:60},end:{line:63,column:75}},34:{start:{line:64,column:25},end:{line:64,column:61}},35:{start:{line:65,column:26},end:{line:65,column:41}},36:{start:{line:66,column:24},end:{line:66,column:40}},37:{start:{line:67,column:28},end:{line:67,column:44}},38:{start:{line:68,column:8},end:{line:68,column:115}},39:{start:{line:78,column:8},end:{line:78,column:59}},40:{start:{line:79,column:8},end:{line:79,column:29}},41:{start:{line:80,column:8},end:{line:80,column:36}},42:{start:{line:81,column:8},end:{line:81,column:39}},43:{start:{line:82,column:8},end:{line:82,column:49}},44:{start:{line:83,column:8},end:{line:83,column:38}},45:{start:{line:84,column:8},end:{line:84,column:40}},46:{start:{line:85,column:8},end:{line:85,column:39}},47:{start:{line:86,column:8},end:{line:86,column:43}},48:{start:{line:87,column:8},end:{line:87,column:19}},49:{start:{line:94,column:8},end:{line:101,column:32}},50:{start:{line:106,column:8},end:{line:106,column:28}},51:{start:{line:111,column:8},end:{line:111,column:31}},52:{start:{line:116,column:8},end:{line:116,column:30}},53:{start:{line:121,column:8},end:{line:121,column:31}},54:{start:{line:126,column:8},end:{line:126,column:29}},55:{start:{line:131,column:8},end:{line:131,column:33}},56:{start:{line:135,column:8},end:{line:135,column:251}},57:{start:{line:144,column:8},end:{line:152,column:52}},58:{start:{line:160,column:8},end:{line:214,column:9}},59:{start:{line:161,column:24},end:{line:161,column:59}},60:{start:{line:162,column:25},end:{line:162,column:40}},61:{start:{line:163,column:12},end:{line:204,column:13}},62:{start:{line:165,column:72},end:{line:165,column:87}},63:{start:{line:166,column:38},end:{line:166,column:53}},64:{start:{line:167,column:37},end:{line:167,column:73}},65:{start:{line:168,column:35},end:{line:168,column:71}},66:{start:{line:171,column:20},end:{line:173,column:21}},67:{start:{line:172,column:24},end:{line:172,column:79}},68:{start:{line:174,column:20},end:{line:176,column:21}},69:{start:{line:175,column:24},end:{line:175,column:37}},70:{start:{line:179,column:20},end:{line:181,column:21}},71:{start:{line:180,column:24},end:{line:180,column:37}},72:{start:{line:182,column:20},end:{line:182,column:26}},73:{start:{line:186,column:20},end:{line:188,column:21}},74:{start:{line:187,column:24},end:{line:187,column:37}},75:{start:{line:191,column:20},end:{line:193,column:21}},76:{start:{line:192,column:24},end:{line:192,column:37}},77:{start:{line:194,column:20},end:{line:194,column:26}},78:{start:{line:198,column:20},end:{line:200,column:21}},79:{start:{line:199,column:24},end:{line:199,column:37}},80:{start:{line:201,column:20},end:{line:201,column:26}},81:{start:{line:203,column:20},end:{line:203,column:33}},82:{start:{line:207,column:12},end:{line:209,column:13}},83:{start:{line:208,column:16},end:{line:208,column:29}},84:{start:{line:211,column:12},end:{line:211,column:24}},85:{start:{line:213,column:12},end:{line:213,column:25}},86:{start:{line:222,column:8},end:{line:244,column:9}},87:{start:{line:223,column:24},end:{line:223,column:58}},88:{start:{line:225,column:12},end:{line:225,column:37}},89:{start:{line:226,column:12},end:{line:226,column:37}},90:{start:{line:227,column:64},end:{line:227,column:79}},91:{start:{line:228,column:12},end:{line:228,column:49}},92:{start:{line:229,column:12},end:{line:229,column:28}},93:{start:{line:230,column:12},end:{line:230,column:29}},94:{start:{line:233,column:12},end:{line:235,column:13}},95:{start:{line:234,column:16},end:{line:234,column:29}},96:{start:{line:237,column:12},end:{line:239,column:13}},97:{start:{line:238,column:16},end:{line:238,column:29}},98:{start:{line:241,column:12},end:{line:241,column:67}},99:{start:{line:243,column:12},end:{line:243,column:25}},100:{start:{line:252,column:8},end:{line:252,column:151}},101:{start:{line:263,column:20},end:{line:263,column:55}},102:{start:{line:264,column:21},end:{line:264,column:36}},103:{start:{line:265,column:21},end:{line:265,column:22}},104:{start:{line:266,column:8},end:{line:317,column:9}},105:{start:{line:269,column:16},end:{line:271,column:17}},106:{start:{line:270,column:20},end:{line:270,column:52}},107:{start:{line:274,column:68},end:{line:274,column:83}},108:{start:{line:275,column:34},end:{line:275,column:49}},109:{start:{line:276,column:33},end:{line:276,column:69}},110:{start:{line:277,column:16},end:{line:279,column:17}},111:{start:{line:278,column:20},end:{line:278,column:52}},112:{start:{line:282,column:16},end:{line:282,column:53}},113:{start:{line:285,column:16},end:{line:287,column:17}},114:{start:{line:286,column:20},end:{line:286,column:52}},115:{start:{line:289,column:16},end:{line:289,column:106}},116:{start:{line:291,column:16},end:{line:291,column:22}},117:{start:{line:294,column:16},end:{line:296,column:17}},118:{start:{line:295,column:20},end:{line:295,column:52}},119:{start:{line:298,column:16},end:{line:300,column:17}},120:{start:{line:299,column:20},end:{line:299,column:52}},121:{start:{line:302,column:16},end:{line:302,column:22}},122:{start:{line:305,column:16},end:{line:307,column:17}},123:{start:{line:306,column:20},end:{line:306,column:52}},124:{start:{line:309,column:16},end:{line:311,column:17}},125:{start:{line:310,column:20},end:{line:310,column:52}},126:{start:{line:313,column:16},end:{line:313,column:22}},127:{start:{line:316,column:16},end:{line:316,column:48}},128:{start:{line:319,column:8},end:{line:324,column:9}},129:{start:{line:320,column:31},end:{line:320,column:82}},130:{start:{line:321,column:12},end:{line:323,column:13}},131:{start:{line:322,column:16},end:{line:322,column:50}},132:{start:{line:326,column:8},end:{line:326,column:98}},133:{start:{line:337,column:8},end:{line:337,column:56}},134:{start:{line:341,column:0},end:{line:345,column:2}},135:{start:{line:347,column:0},end:{line:347,column:66}},136:{start:{line:348,column:0},end:{line:348,column:41}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:11,column:4},end:{line:11,column:5}},loc:{start:{line:11,column:151},end:{line:32,column:5}},line:11},1:{name:"(anonymous_1)",decl:{start:{line:39,column:4},end:{line:39,column:5}},loc:{start:{line:39,column:53},end:{line:50,column:5}},line:39},2:{name:"(anonymous_2)",decl:{start:{line:56,column:4},end:{line:56,column:5}},loc:{start:{line:56,column:28},end:{line:69,column:5}},line:56},3:{name:"(anonymous_3)",decl:{start:{line:77,column:4},end:{line:77,column:5}},loc:{start:{line:77,column:19},end:{line:88,column:5}},line:77},4:{name:"(anonymous_4)",decl:{start:{line:93,column:4},end:{line:93,column:5}},loc:{start:{line:93,column:25},end:{line:102,column:5}},line:93},5:{name:"(anonymous_5)",decl:{start:{line:105,column:4},end:{line:105,column:5}},loc:{start:{line:105,column:17},end:{line:107,column:5}},line:105},6:{name:"(anonymous_6)",decl:{start:{line:110,column:4},end:{line:110,column:5}},loc:{start:{line:110,column:20},end:{line:112,column:5}},line:110},7:{name:"(anonymous_7)",decl:{start:{line:115,column:4},end:{line:115,column:5}},loc:{start:{line:115,column:19},end:{line:117,column:5}},line:115},8:{name:"(anonymous_8)",decl:{start:{line:120,column:4},end:{line:120,column:5}},loc:{start:{line:120,column:20},end:{line:122,column:5}},line:120},9:{name:"(anonymous_9)",decl:{start:{line:125,column:4},end:{line:125,column:5}},loc:{start:{line:125,column:18},end:{line:127,column:5}},line:125},10:{name:"(anonymous_10)",decl:{start:{line:130,column:4},end:{line:130,column:5}},loc:{start:{line:130,column:22},end:{line:132,column:5}},line:130},11:{name:"(anonymous_11)",decl:{start:{line:134,column:4},end:{line:134,column:5}},loc:{start:{line:134,column:15},end:{line:136,column:5}},line:134},12:{name:"(anonymous_12)",decl:{start:{line:143,column:4},end:{line:143,column:5}},loc:{start:{line:143,column:14},end:{line:153,column:5}},line:143},13:{name:"(anonymous_13)",decl:{start:{line:159,column:4},end:{line:159,column:5}},loc:{start:{line:159,column:50},end:{line:215,column:5}},line:159},14:{name:"(anonymous_14)",decl:{start:{line:221,column:4},end:{line:221,column:5}},loc:{start:{line:221,column:50},end:{line:245,column:5}},line:221},15:{name:"(anonymous_15)",decl:{start:{line:251,column:4},end:{line:251,column:5}},loc:{start:{line:251,column:25},end:{line:253,column:5}},line:251},16:{name:"(anonymous_16)",decl:{start:{line:262,column:4},end:{line:262,column:5}},loc:{start:{line:262,column:89},end:{line:327,column:5}},line:262},17:{name:"(anonymous_17)",decl:{start:{line:336,column:4},end:{line:336,column:5}},loc:{start:{line:336,column:70},end:{line:338,column:5}},line:336}},branchMap:{0:{loc:{start:{line:11,column:16},end:{line:11,column:27}},type:"default-arg",locations:[{start:{line:11,column:26},end:{line:11,column:27}}],line:11},1:{loc:{start:{line:11,column:29},end:{line:11,column:50}},type:"default-arg",locations:[{start:{line:11,column:38},end:{line:11,column:50}}],line:11},2:{loc:{start:{line:11,column:52},end:{line:11,column:76}},type:"default-arg",locations:[{start:{line:11,column:64},end:{line:11,column:76}}],line:11},3:{loc:{start:{line:11,column:78},end:{line:11,column:98}},type:"default-arg",locations:[{start:{line:11,column:89},end:{line:11,column:98}}],line:11},4:{loc:{start:{line:11,column:100},end:{line:11,column:113}},type:"default-arg",locations:[{start:{line:11,column:112},end:{line:11,column:113}}],line:11},5:{loc:{start:{line:11,column:115},end:{line:11,column:126}},type:"default-arg",locations:[{start:{line:11,column:125},end:{line:11,column:126}}],line:11},6:{loc:{start:{line:11,column:128},end:{line:11,column:149}},type:"default-arg",locations:[{start:{line:11,column:142},end:{line:11,column:149}}],line:11},7:{loc:{start:{line:13,column:8},end:{line:13,column:79}},type:"if",locations:[{start:{line:13,column:8},end:{line:13,column:79}},{start:{line:13,column:8},end:{line:13,column:79}}],line:13},8:{loc:{start:{line:14,column:8},end:{line:14,column:82}},type:"if",locations:[{start:{line:14,column:8},end:{line:14,column:82}},{start:{line:14,column:8},end:{line:14,column:82}}],line:14},9:{loc:{start:{line:15,column:8},end:{line:15,column:78}},type:"if",locations:[{start:{line:15,column:8},end:{line:15,column:78}},{start:{line:15,column:8},end:{line:15,column:78}}],line:15},10:{loc:{start:{line:16,column:8},end:{line:16,column:103}},type:"if",locations:[{start:{line:16,column:8},end:{line:16,column:103}},{start:{line:16,column:8},end:{line:16,column:103}}],line:16},11:{loc:{start:{line:16,column:12},end:{line:16,column:62}},type:"binary-expr",locations:[{start:{line:16,column:12},end:{line:16,column:43}},{start:{line:16,column:47},end:{line:16,column:62}}],line:16},12:{loc:{start:{line:17,column:8},end:{line:17,column:81}},type:"if",locations:[{start:{line:17,column:8},end:{line:17,column:81}},{start:{line:17,column:8},end:{line:17,column:81}}],line:17},13:{loc:{start:{line:18,column:8},end:{line:18,column:89}},type:"if",locations:[{start:{line:18,column:8},end:{line:18,column:89}},{start:{line:18,column:8},end:{line:18,column:89}}],line:18},14:{loc:{start:{line:58,column:8},end:{line:58,column:80}},type:"if",locations:[{start:{line:58,column:8},end:{line:58,column:80}},{start:{line:58,column:8},end:{line:58,column:80}}],line:58},15:{loc:{start:{line:78,column:14},end:{line:78,column:58}},type:"binary-expr",locations:[{start:{line:78,column:14},end:{line:78,column:17}},{start:{line:78,column:21},end:{line:78,column:58}}],line:78},16:{loc:{start:{line:144,column:15},end:{line:152,column:51}},type:"binary-expr",locations:[{start:{line:144,column:15},end:{line:144,column:52}},{start:{line:145,column:15},end:{line:145,column:37}},{start:{line:146,column:15},end:{line:146,column:43}},{start:{line:147,column:15},end:{line:147,column:45}},{start:{line:148,column:15},end:{line:148,column:51}},{start:{line:149,column:15},end:{line:149,column:49}},{start:{line:150,column:15},end:{line:150,column:47}},{start:{line:151,column:15},end:{line:151,column:43}},{start:{line:152,column:15},end:{line:152,column:51}}],line:144},17:{loc:{start:{line:163,column:12},end:{line:204,column:13}},type:"switch",locations:[{start:{line:164,column:16},end:{line:183,column:17}},{start:{line:184,column:16},end:{line:195,column:17}},{start:{line:196,column:16},end:{line:201,column:26}},{start:{line:202,column:16},end:{line:203,column:33}}],line:163},18:{loc:{start:{line:174,column:20},end:{line:176,column:21}},type:"if",locations:[{start:{line:174,column:20},end:{line:176,column:21}},{start:{line:174,column:20},end:{line:176,column:21}}],line:174},19:{loc:{start:{line:179,column:20},end:{line:181,column:21}},type:"if",locations:[{start:{line:179,column:20},end:{line:181,column:21}},{start:{line:179,column:20},end:{line:181,column:21}}],line:179},20:{loc:{start:{line:186,column:20},end:{line:188,column:21}},type:"if",locations:[{start:{line:186,column:20},end:{line:188,column:21}},{start:{line:186,column:20},end:{line:188,column:21}}],line:186},21:{loc:{start:{line:191,column:20},end:{line:193,column:21}},type:"if",locations:[{start:{line:191,column:20},end:{line:193,column:21}},{start:{line:191,column:20},end:{line:193,column:21}}],line:191},22:{loc:{start:{line:198,column:20},end:{line:200,column:21}},type:"if",locations:[{start:{line:198,column:20},end:{line:200,column:21}},{start:{line:198,column:20},end:{line:200,column:21}}],line:198},23:{loc:{start:{line:207,column:12},end:{line:209,column:13}},type:"if",locations:[{start:{line:207,column:12},end:{line:209,column:13}},{start:{line:207,column:12},end:{line:209,column:13}}],line:207},24:{loc:{start:{line:233,column:12},end:{line:235,column:13}},type:"if",locations:[{start:{line:233,column:12},end:{line:235,column:13}},{start:{line:233,column:12},end:{line:235,column:13}}],line:233},25:{loc:{start:{line:237,column:12},end:{line:239,column:13}},type:"if",locations:[{start:{line:237,column:12},end:{line:239,column:13}},{start:{line:237,column:12},end:{line:239,column:13}}],line:237},26:{loc:{start:{line:262,column:73},end:{line:262,column:87}},type:"default-arg",locations:[{start:{line:262,column:82},end:{line:262,column:87}}],line:262},27:{loc:{start:{line:266,column:8},end:{line:317,column:9}},type:"switch",locations:[{start:{line:267,column:12},end:{line:292,column:13}},{start:{line:293,column:12},end:{line:303,column:13}},{start:{line:304,column:12},end:{line:314,column:13}},{start:{line:315,column:12},end:{line:316,column:48}}],line:266},28:{loc:{start:{line:269,column:16},end:{line:271,column:17}},type:"if",locations:[{start:{line:269,column:16},end:{line:271,column:17}},{start:{line:269,column:16},end:{line:271,column:17}}],line:269},29:{loc:{start:{line:277,column:16},end:{line:279,column:17}},type:"if",locations:[{start:{line:277,column:16},end:{line:279,column:17}},{start:{line:277,column:16},end:{line:279,column:17}}],line:277},30:{loc:{start:{line:285,column:16},end:{line:287,column:17}},type:"if",locations:[{start:{line:285,column:16},end:{line:287,column:17}},{start:{line:285,column:16},end:{line:287,column:17}}],line:285},31:{loc:{start:{line:294,column:16},end:{line:296,column:17}},type:"if",locations:[{start:{line:294,column:16},end:{line:296,column:17}},{start:{line:294,column:16},end:{line:296,column:17}}],line:294},32:{loc:{start:{line:298,column:16},end:{line:300,column:17}},type:"if",locations:[{start:{line:298,column:16},end:{line:300,column:17}},{start:{line:298,column:16},end:{line:300,column:17}}],line:298},33:{loc:{start:{line:305,column:16},end:{line:307,column:17}},type:"if",locations:[{start:{line:305,column:16},end:{line:307,column:17}},{start:{line:305,column:16},end:{line:307,column:17}}],line:305},34:{loc:{start:{line:309,column:16},end:{line:311,column:17}},type:"if",locations:[{start:{line:309,column:16},end:{line:311,column:17}},{start:{line:309,column:16},end:{line:311,column:17}}],line:309},35:{loc:{start:{line:319,column:8},end:{line:324,column:9}},type:"if",locations:[{start:{line:319,column:8},end:{line:324,column:9}},{start:{line:319,column:8},end:{line:324,column:9}}],line:319},36:{loc:{start:{line:321,column:12},end:{line:323,column:13}},type:"if",locations:[{start:{line:321,column:12},end:{line:323,column:13}},{start:{line:321,column:12},end:{line:323,column:13}}],line:321},37:{loc:{start:{line:336,column:54},end:{line:336,column:68}},type:"default-arg",locations:[{start:{line:336,column:63},end:{line:336,column:68}}],line:336}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0},b:{0:[0],1:[0],2:[0],3:[0],4:[0],5:[0],6:[0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0,0,0,0,0,0,0,0],17:[0,0,0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0],27:[0,0,0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class HashedTimeLockedContract extends Contract{constructor(n=(tn.b[0][0]++,0),e=(tn.b[1][0]++,Address.NULL),l=(tn.b[2][0]++,Address.NULL),t=(tn.b[3][0]++,Hash.NULL),o=(tn.b[4][0]++,1),i=(tn.b[5][0]++,0),c=(tn.b[6][0]++,n)){tn.f[0]++;tn.s[0]++;super(Account.Type.HTLC,n);tn.s[1]++;if(!(e instanceof Address)){tn.b[7][0]++;tn.s[2]++;throw new Error("Malformed address")}tn.b[7][1]++;tn.s[3]++;if(!(l instanceof Address)){tn.b[8][0]++;tn.s[4]++;throw new Error("Malformed address")}tn.b[8][1]++;tn.s[5]++;if(!(t instanceof Hash)){tn.b[9][0]++;tn.s[6]++;throw new Error("Malformed address")}tn.b[9][1]++;tn.s[7]++;if((tn.b[11][0]++,!NumberUtils.isUint8(o))||(tn.b[11][1]++,0===o)){tn.b[10][0]++;tn.s[8]++;throw new Error("Malformed hashCount")}tn.b[10][1]++;tn.s[9]++;if(!NumberUtils.isUint32(i)){tn.b[12][0]++;tn.s[10]++;throw new Error("Malformed timeout")}tn.b[12][1]++;tn.s[11]++;if(!NumberUtils.isUint64(c)){tn.b[13][0]++;tn.s[12]++;throw new Error("Malformed totalAmount")}tn.b[13][1]++;tn.s[13]++;this._sender=e;tn.s[14]++;this._recipient=l;tn.s[15]++;this._hashRoot=t;tn.s[16]++;this._hashCount=o;tn.s[17]++;this._timeout=i;tn.s[18]++;this._totalAmount=c}static create(n,e,l){tn.f[1]++;const t=(tn.s[19]++,new SerialBuffer(l.data)),o=(tn.s[20]++,Address.unserialize(t)),i=(tn.s[21]++,Address.unserialize(t)),c=(tn.s[22]++,t.readUint8()),s=(tn.s[23]++,Hash.unserialize(t,c)),u=(tn.s[24]++,t.readUint8()),m=(tn.s[25]++,t.readUint32());tn.s[26]++;return new HashedTimeLockedContract(n,o,i,s,u,m)}static unserialize(n){tn.f[2]++;const e=(tn.s[27]++,n.readUint8());tn.s[28]++;if(e!==Account.Type.HTLC){tn.b[14][0]++;tn.s[29]++;throw new Error("Invalid account type")}tn.b[14][1]++;const l=(tn.s[30]++,n.readUint64()),t=(tn.s[31]++,Address.unserialize(n)),o=(tn.s[32]++,Address.unserialize(n)),i=(tn.s[33]++,n.readUint8()),c=(tn.s[34]++,Hash.unserialize(n,i)),s=(tn.s[35]++,n.readUint8()),u=(tn.s[36]++,n.readUint32()),m=(tn.s[37]++,n.readUint64());tn.s[38]++;return new HashedTimeLockedContract(l,t,o,c,s,u,m)}serialize(n){tn.f[3]++;tn.s[39]++;n=(tn.b[15][0]++,n)||(tn.b[15][1]++,new SerialBuffer(this.serializedSize));tn.s[40]++;super.serialize(n);tn.s[41]++;this._sender.serialize(n);tn.s[42]++;this._recipient.serialize(n);tn.s[43]++;n.writeUint8(this._hashRoot.algorithm);tn.s[44]++;this._hashRoot.serialize(n);tn.s[45]++;n.writeUint8(this._hashCount);tn.s[46]++;n.writeUint32(this._timeout);tn.s[47]++;n.writeUint64(this._totalAmount);tn.s[48]++;return n}get serializedSize(){tn.f[4]++;tn.s[49]++;return super.serializedSize+this._sender.serializedSize+this._recipient.serializedSize+1+this._hashRoot.serializedSize+1+4+8}get sender(){tn.f[5]++;tn.s[50]++;return this._sender}get recipient(){tn.f[6]++;tn.s[51]++;return this._recipient}get hashRoot(){tn.f[7]++;tn.s[52]++;return this._hashRoot}get hashCount(){tn.f[8]++;tn.s[53]++;return this._hashCount}get timeout(){tn.f[9]++;tn.s[54]++;return this._timeout}get totalAmount(){tn.f[10]++;tn.s[55]++;return this._totalAmount}toString(){tn.f[11]++;tn.s[56]++;return`HashedTimeLockedContract{balance=${this._balance}, sender=${this._sender.toUserFriendlyAddress(!1)}, recipient=${this._sender.toUserFriendlyAddress(!1)}, amount=${this._totalAmount}/${this._hashCount}, timeout=${this._timeout}}`}equals(n){tn.f[12]++;tn.s[57]++;return(tn.b[16][0]++,n instanceof HashedTimeLockedContract)&&(tn.b[16][1]++,this._type===n._type)&&(tn.b[16][2]++,this._balance===n._balance)&&(tn.b[16][3]++,this._sender.equals(n._sender))&&(tn.b[16][4]++,this._recipient.equals(n._recipient))&&(tn.b[16][5]++,this._hashRoot.equals(n._hashRoot))&&(tn.b[16][6]++,this._hashCount===n._hashCount)&&(tn.b[16][7]++,this._timeout===n._timeout)&&(tn.b[16][8]++,this._totalAmount===n._totalAmount)}static verifyOutgoingTransaction(n){tn.f[13]++;tn.s[58]++;try{const l=(tn.s[59]++,new SerialBuffer(n.proof)),t=(tn.s[60]++,l.readUint8());tn.s[61]++;switch(t){case HashedTimeLockedContract.ProofType.REGULAR_TRANSFER:tn.b[17][0]++;{const e=(tn.s[62]++,l.readUint8()),t=(tn.s[63]++,l.readUint8()),o=(tn.s[64]++,Hash.unserialize(l,e));let i=(tn.s[65]++,Hash.unserialize(l,e));tn.s[66]++;for(let n=0;n<t;++n){tn.s[67]++;i=Hash.compute(i.array,e)}tn.s[68]++;if(!o.equals(i)){tn.b[18][0]++;tn.s[69]++;return!1}tn.b[18][1]++;tn.s[70]++;if(!SignatureProof.unserialize(l).verify(null,n.serializeContent())){tn.b[19][0]++;tn.s[71]++;return!1}tn.b[19][1]++;tn.s[72]++;break}case HashedTimeLockedContract.ProofType.EARLY_RESOLVE:tn.b[17][1]++;tn.s[73]++;if(!SignatureProof.unserialize(l).verify(null,n.serializeContent())){tn.b[20][0]++;tn.s[74]++;return!1}tn.b[20][1]++;tn.s[75]++;if(!SignatureProof.unserialize(l).verify(null,n.serializeContent())){tn.b[21][0]++;tn.s[76]++;return!1}tn.b[21][1]++;tn.s[77]++;break;case HashedTimeLockedContract.ProofType.TIMEOUT_RESOLVE:tn.b[17][2]++;tn.s[78]++;if(!SignatureProof.unserialize(l).verify(null,n.serializeContent())){tn.b[22][0]++;tn.s[79]++;return!1}tn.b[22][1]++;tn.s[80]++;break;default:tn.b[17][3]++;tn.s[81]++;return!1}tn.s[82]++;if(l.readPos!==l.byteLength){tn.b[23][0]++;tn.s[83]++;return!1}tn.b[23][1]++;tn.s[84]++;return!0}catch(e){tn.s[85]++;return!1}}static verifyIncomingTransaction(n){tn.f[14]++;tn.s[86]++;try{const l=(tn.s[87]++,new SerialBuffer(n.data));tn.s[88]++;Address.unserialize(l);tn.s[89]++;Address.unserialize(l);const t=(tn.s[90]++,l.readUint8());tn.s[91]++;Hash.unserialize(l,t);tn.s[92]++;l.readUint8();tn.s[93]++;l.readUint32();tn.s[94]++;if(t===Hash.Algorithm.ARGON2D){tn.b[24][0]++;tn.s[95]++;return!1}tn.b[24][1]++;tn.s[96]++;if(l.readPos!==l.byteLength){tn.b[25][0]++;tn.s[97]++;return!1}tn.b[25][1]++;tn.s[98]++;return Contract.verifyIncomingTransaction(n)}catch(e){tn.s[99]++;return!1}}withBalance(n){tn.f[15]++;tn.s[100]++;return new HashedTimeLockedContract(n,this._sender,this._recipient,this._hashRoot,this._hashCount,this._timeout,this._totalAmount)}withOutgoingTransaction(n,e,l,t=(tn.b[26][0]++,!1)){tn.f[16]++;const o=(tn.s[101]++,new SerialBuffer(n.proof)),i=(tn.s[102]++,o.readUint8());let c=(tn.s[103]++,0);tn.s[104]++;switch(i){case HashedTimeLockedContract.ProofType.REGULAR_TRANSFER:tn.b[27][0]++;{tn.s[105]++;if(this._timeout<e){tn.b[28][0]++;tn.s[106]++;throw new Error("Proof Error!")}tn.b[28][1]++;const n=(tn.s[107]++,o.readUint8()),l=(tn.s[108]++,o.readUint8()),t=(tn.s[109]++,Hash.unserialize(o,n));tn.s[110]++;if(!t.equals(this._hashRoot)){tn.b[29][0]++;tn.s[111]++;throw new Error("Proof Error!")}tn.b[29][1]++;tn.s[112]++;Hash.unserialize(o,n);tn.s[113]++;if(!SignatureProof.unserialize(o).isSignedBy(this._recipient)){tn.b[30][0]++;tn.s[114]++;throw new Error("Proof Error!")}tn.b[30][1]++;tn.s[115]++;c=Math.max(0,Math.floor((1-l/this._hashCount)*this._totalAmount));tn.s[116]++;break}case HashedTimeLockedContract.ProofType.EARLY_RESOLVE:tn.b[27][1]++;tn.s[117]++;if(!SignatureProof.unserialize(o).isSignedBy(this._recipient)){tn.b[31][0]++;tn.s[118]++;throw new Error("Proof Error!")}tn.b[31][1]++;tn.s[119]++;if(!SignatureProof.unserialize(o).isSignedBy(this._sender)){tn.b[32][0]++;tn.s[120]++;throw new Error("Proof Error!")}tn.b[32][1]++;tn.s[121]++;break;case HashedTimeLockedContract.ProofType.TIMEOUT_RESOLVE:tn.b[27][2]++;tn.s[122]++;if(this._timeout>=e){tn.b[33][0]++;tn.s[123]++;throw new Error("Proof Error!")}tn.b[33][1]++;tn.s[124]++;if(!SignatureProof.unserialize(o).isSignedBy(this._sender)){tn.b[34][0]++;tn.s[125]++;throw new Error("Proof Error!")}tn.b[34][1]++;tn.s[126]++;break;default:tn.b[27][3]++;tn.s[127]++;throw new Error("Proof Error!")}tn.s[128]++;if(t)tn.b[35][1]++;else{tn.b[35][0]++;const e=(tn.s[129]++,this._balance-n.value-n.fee);tn.s[130]++;if(e<c){tn.b[36][0]++;tn.s[131]++;throw new Error("Balance Error!")}tn.b[36][1]++}tn.s[132]++;return super.withOutgoingTransaction(n,e,l,t)}withIncomingTransaction(n,e,l=(tn.b[37][0]++,!1)){tn.f[17]++;tn.s[133]++;throw new Error("Illegal incoming transaction")}}tn.s[134]++;HashedTimeLockedContract.ProofType={REGULAR_TRANSFER:1,EARLY_RESOLVE:2,TIMEOUT_RESOLVE:3};tn.s[135]++;Account.TYPE_MAP.set(Account.Type.HTLC,HashedTimeLockedContract);tn.s[136]++;Class.register(HashedTimeLockedContract);var on=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/account/VestingContract.js",e="a9da2ae8f911823a93acca8f1869e1f9342d9885",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/account/VestingContract.js",statementMap:{0:{start:{line:11,column:8},end:{line:11,column:45}},1:{start:{line:12,column:8},end:{line:12,column:78}},2:{start:{line:12,column:41},end:{line:12,column:78}},3:{start:{line:13,column:8},end:{line:13,column:91}},4:{start:{line:13,column:49},end:{line:13,column:91}},5:{start:{line:14,column:8},end:{line:14,column:101}},6:{start:{line:14,column:54},end:{line:14,column:101}},7:{start:{line:15,column:8},end:{line:15,column:101}},8:{start:{line:15,column:54},end:{line:15,column:101}},9:{start:{line:16,column:8},end:{line:16,column:93}},10:{start:{line:16,column:55},end:{line:16,column:93}},11:{start:{line:19,column:8},end:{line:19,column:28}},12:{start:{line:21,column:8},end:{line:21,column:42}},13:{start:{line:23,column:8},end:{line:23,column:52}},14:{start:{line:25,column:8},end:{line:25,column:52}},15:{start:{line:27,column:8},end:{line:27,column:54}},16:{start:{line:38,column:20},end:{line:38,column:54}},17:{start:{line:39,column:22},end:{line:39,column:46}},18:{start:{line:40,column:8},end:{line:40,column:47}},19:{start:{line:41,column:8},end:{line:62,column:9}},20:{start:{line:44,column:16},end:{line:44,column:33}},21:{start:{line:45,column:16},end:{line:45,column:53}},22:{start:{line:46,column:16},end:{line:46,column:55}},23:{start:{line:47,column:16},end:{line:47,column:22}},24:{start:{line:49,column:16},end:{line:49,column:48}},25:{start:{line:50,column:16},end:{line:50,column:53}},26:{start:{line:51,column:16},end:{line:51,column:53}},27:{start:{line:52,column:16},end:{line:52,column:22}},28:{start:{line:55,column:16},end:{line:55,column:48}},29:{start:{line:56,column:16},end:{line:56,column:53}},30:{start:{line:57,column:16},end:{line:57,column:53}},31:{start:{line:58,column:16},end:{line:58,column:54}},32:{start:{line:59,column:16},end:{line:59,column:22}},33:{start:{line:61,column:16},end:{line:61,column:60}},34:{start:{line:63,column:8},end:{line:63,column:123}},35:{start:{line:71,column:21},end:{line:71,column:36}},36:{start:{line:72,column:8},end:{line:72,column:83}},37:{start:{line:72,column:43},end:{line:72,column:83}},38:{start:{line:74,column:24},end:{line:74,column:40}},39:{start:{line:75,column:22},end:{line:75,column:46}},40:{start:{line:76,column:29},end:{line:76,column:45}},41:{start:{line:77,column:34},end:{line:77,column:50}},42:{start:{line:78,column:34},end:{line:78,column:50}},43:{start:{line:79,column:35},end:{line:79,column:51}},44:{start:{line:80,column:8},end:{line:80,column:123}},45:{start:{line:89,column:8},end:{line:89,column:59}},46:{start:{line:90,column:8},end:{line:90,column:29}},47:{start:{line:91,column:8},end:{line:91,column:35}},48:{start:{line:92,column:8},end:{line:92,column:44}},49:{start:{line:93,column:8},end:{line:93,column:49}},50:{start:{line:94,column:8},end:{line:94,column:49}},51:{start:{line:95,column:8},end:{line:95,column:50}},52:{start:{line:96,column:8},end:{line:96,column:19}},53:{start:{line:103,column:8},end:{line:108,column:39}},54:{start:{line:113,column:8},end:{line:113,column:27}},55:{start:{line:118,column:8},end:{line:118,column:34}},56:{start:{line:123,column:8},end:{line:123,column:39}},57:{start:{line:128,column:8},end:{line:128,column:39}},58:{start:{line:133,column:8},end:{line:133,column:40}},59:{start:{line:137,column:8},end:{line:137,column:103}},60:{start:{line:146,column:8},end:{line:153,column:66}},61:{start:{line:161,column:20},end:{line:161,column:55}},62:{start:{line:163,column:8},end:{line:165,column:9}},63:{start:{line:164,column:12},end:{line:164,column:25}},64:{start:{line:167,column:8},end:{line:169,column:9}},65:{start:{line:168,column:12},end:{line:168,column:25}},66:{start:{line:171,column:8},end:{line:171,column:20}},67:{start:{line:179,column:8},end:{line:186,column:9}},68:{start:{line:183,column:16},end:{line:183,column:71}},69:{start:{line:185,column:16},end:{line:185,column:29}},70:{start:{line:194,column:8},end:{line:194,column:153}},71:{start:{line:205,column:8},end:{line:216,column:9}},72:{start:{line:206,column:27},end:{line:206,column:54}},73:{start:{line:207,column:31},end:{line:207,column:82}},74:{start:{line:208,column:12},end:{line:210,column:13}},75:{start:{line:209,column:16},end:{line:209,column:50}},76:{start:{line:212,column:24},end:{line:212,column:59}},77:{start:{line:213,column:12},end:{line:215,column:13}},78:{start:{line:214,column:16},end:{line:214,column:48}},79:{start:{line:217,column:8},end:{line:217,column:98}},80:{start:{line:227,column:8},end:{line:227,column:56}},81:{start:{line:235,column:8},end:{line:237,column:16}},82:{start:{line:241,column:0},end:{line:241,column:60}},83:{start:{line:242,column:0},end:{line:242,column:32}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:4},end:{line:10,column:5}},loc:{start:{line:10,column:151},end:{line:28,column:5}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:35,column:4},end:{line:35,column:5}},loc:{start:{line:35,column:53},end:{line:64,column:5}},line:35},2:{name:"(anonymous_2)",decl:{start:{line:70,column:4},end:{line:70,column:5}},loc:{start:{line:70,column:28},end:{line:81,column:5}},line:70},3:{name:"(anonymous_3)",decl:{start:{line:88,column:4},end:{line:88,column:5}},loc:{start:{line:88,column:19},end:{line:97,column:5}},line:88},4:{name:"(anonymous_4)",decl:{start:{line:102,column:4},end:{line:102,column:5}},loc:{start:{line:102,column:25},end:{line:109,column:5}},line:102},5:{name:"(anonymous_5)",decl:{start:{line:112,column:4},end:{line:112,column:5}},loc:{start:{line:112,column:16},end:{line:114,column:5}},line:112},6:{name:"(anonymous_6)",decl:{start:{line:117,column:4},end:{line:117,column:5}},loc:{start:{line:117,column:23},end:{line:119,column:5}},line:117},7:{name:"(anonymous_7)",decl:{start:{line:122,column:4},end:{line:122,column:5}},loc:{start:{line:122,column:28},end:{line:124,column:5}},line:122},8:{name:"(anonymous_8)",decl:{start:{line:127,column:4},end:{line:127,column:5}},loc:{start:{line:127,column:28},end:{line:129,column:5}},line:127},9:{name:"(anonymous_9)",decl:{start:{line:132,column:4},end:{line:132,column:5}},loc:{start:{line:132,column:29},end:{line:134,column:5}},line:132},10:{name:"(anonymous_10)",decl:{start:{line:136,column:4},end:{line:136,column:5}},loc:{start:{line:136,column:15},end:{line:138,column:5}},line:136},11:{name:"(anonymous_11)",decl:{start:{line:145,column:4},end:{line:145,column:5}},loc:{start:{line:145,column:14},end:{line:154,column:5}},line:145},12:{name:"(anonymous_12)",decl:{start:{line:160,column:4},end:{line:160,column:5}},loc:{start:{line:160,column:50},end:{line:172,column:5}},line:160},13:{name:"(anonymous_13)",decl:{start:{line:178,column:4},end:{line:178,column:5}},loc:{start:{line:178,column:50},end:{line:187,column:5}},line:178},14:{name:"(anonymous_14)",decl:{start:{line:193,column:4},end:{line:193,column:5}},loc:{start:{line:193,column:25},end:{line:195,column:5}},line:193},15:{name:"(anonymous_15)",decl:{start:{line:204,column:4},end:{line:204,column:5}},loc:{start:{line:204,column:89},end:{line:218,column:5}},line:204},16:{name:"(anonymous_16)",decl:{start:{line:226,column:4},end:{line:226,column:5}},loc:{start:{line:226,column:70},end:{line:228,column:5}},line:226},17:{name:"(anonymous_17)",decl:{start:{line:234,column:4},end:{line:234,column:5}},loc:{start:{line:234,column:27},end:{line:238,column:5}},line:234}},branchMap:{0:{loc:{start:{line:10,column:16},end:{line:10,column:27}},type:"default-arg",locations:[{start:{line:10,column:26},end:{line:10,column:27}}],line:10},1:{loc:{start:{line:10,column:29},end:{line:10,column:49}},type:"default-arg",locations:[{start:{line:10,column:37},end:{line:10,column:49}}],line:10},2:{loc:{start:{line:10,column:51},end:{line:10,column:67}},type:"default-arg",locations:[{start:{line:10,column:66},end:{line:10,column:67}}],line:10},3:{loc:{start:{line:10,column:69},end:{line:10,column:90}},type:"default-arg",locations:[{start:{line:10,column:89},end:{line:10,column:90}}],line:10},4:{loc:{start:{line:10,column:92},end:{line:10,column:119}},type:"default-arg",locations:[{start:{line:10,column:112},end:{line:10,column:119}}],line:10},5:{loc:{start:{line:10,column:121},end:{line:10,column:149}},type:"default-arg",locations:[{start:{line:10,column:142},end:{line:10,column:149}}],line:10},6:{loc:{start:{line:12,column:8},end:{line:12,column:78}},type:"if",locations:[{start:{line:12,column:8},end:{line:12,column:78}},{start:{line:12,column:8},end:{line:12,column:78}}],line:12},7:{loc:{start:{line:13,column:8},end:{line:13,column:91}},type:"if",locations:[{start:{line:13,column:8},end:{line:13,column:91}},{start:{line:13,column:8},end:{line:13,column:91}}],line:13},8:{loc:{start:{line:14,column:8},end:{line:14,column:101}},type:"if",locations:[{start:{line:14,column:8},end:{line:14,column:101}},{start:{line:14,column:8},end:{line:14,column:101}}],line:14},9:{loc:{start:{line:15,column:8},end:{line:15,column:101}},type:"if",locations:[{start:{line:15,column:8},end:{line:15,column:101}},{start:{line:15,column:8},end:{line:15,column:101}}],line:15},10:{loc:{start:{line:16,column:8},end:{line:16,column:93}},type:"if",locations:[{start:{line:16,column:8},end:{line:16,column:93}},{start:{line:16,column:8},end:{line:16,column:93}}],line:16},11:{loc:{start:{line:41,column:8},end:{line:62,column:9}},type:"switch",locations:[{start:{line:42,column:12},end:{line:47,column:22}},{start:{line:48,column:12},end:{line:52,column:22}},{start:{line:53,column:12},end:{line:59,column:22}},{start:{line:60,column:12},end:{line:61,column:60}}],line:41},12:{loc:{start:{line:72,column:8},end:{line:72,column:83}},type:"if",locations:[{start:{line:72,column:8},end:{line:72,column:83}},{start:{line:72,column:8},end:{line:72,column:83}}],line:72},13:{loc:{start:{line:89,column:14},end:{line:89,column:58}},type:"binary-expr",locations:[{start:{line:89,column:14},end:{line:89,column:17}},{start:{line:89,column:21},end:{line:89,column:58}}],line:89},14:{loc:{start:{line:146,column:15},end:{line:153,column:65}},type:"binary-expr",locations:[{start:{line:146,column:15},end:{line:146,column:43}},{start:{line:147,column:15},end:{line:147,column:37}},{start:{line:148,column:15},end:{line:148,column:43}},{start:{line:149,column:15},end:{line:149,column:43}},{start:{line:150,column:15},end:{line:150,column:53}},{start:{line:151,column:15},end:{line:151,column:63}},{start:{line:152,column:15},end:{line:152,column:63}},{start:{line:153,column:15},end:{line:153,column:65}}],line:146},15:{loc:{start:{line:163,column:8},end:{line:165,column:9}},type:"if",locations:[{start:{line:163,column:8},end:{line:165,column:9}},{start:{line:163,column:8},end:{line:165,column:9}}],line:163},16:{loc:{start:{line:167,column:8},end:{line:169,column:9}},type:"if",locations:[{start:{line:167,column:8},end:{line:169,column:9}},{start:{line:167,column:8},end:{line:169,column:9}}],line:167},17:{loc:{start:{line:179,column:8},end:{line:186,column:9}},type:"switch",locations:[{start:{line:180,column:12},end:{line:180,column:45}},{start:{line:181,column:12},end:{line:181,column:46}},{start:{line:182,column:12},end:{line:183,column:71}},{start:{line:184,column:12},end:{line:185,column:29}}],line:179},18:{loc:{start:{line:204,column:73},end:{line:204,column:87}},type:"default-arg",locations:[{start:{line:204,column:82},end:{line:204,column:87}}],line:204},19:{loc:{start:{line:205,column:8},end:{line:216,column:9}},type:"if",locations:[{start:{line:205,column:8},end:{line:216,column:9}},{start:{line:205,column:8},end:{line:216,column:9}}],line:205},20:{loc:{start:{line:208,column:12},end:{line:210,column:13}},type:"if",locations:[{start:{line:208,column:12},end:{line:210,column:13}},{start:{line:208,column:12},end:{line:210,column:13}}],line:208},21:{loc:{start:{line:213,column:12},end:{line:215,column:13}},type:"if",locations:[{start:{line:213,column:12},end:{line:215,column:13}},{start:{line:213,column:12},end:{line:215,column:13}}],line:213},22:{loc:{start:{line:226,column:54},end:{line:226,column:68}},type:"default-arg",locations:[{start:{line:226,column:63},end:{line:226,column:68}}],line:226},23:{loc:{start:{line:235,column:15},end:{line:237,column:15}},type:"cond-expr",locations:[{start:{line:236,column:14},end:{line:236,column:152}},{start:{line:237,column:14},end:{line:237,column:15}}],line:235},24:{loc:{start:{line:235,column:15},end:{line:235,column:69}},type:"binary-expr",locations:[{start:{line:235,column:15},end:{line:235,column:38}},{start:{line:235,column:42},end:{line:235,column:69}}],line:235}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0},b:{0:[0],1:[0],2:[0],3:[0],4:[0],5:[0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0,0,0],12:[0,0],13:[0,0],14:[0,0,0,0,0,0,0,0],15:[0,0],16:[0,0],17:[0,0,0,0],18:[0],19:[0,0],20:[0,0],21:[0,0],22:[0],23:[0,0],24:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class VestingContract extends Contract{constructor(n=(on.b[0][0]++,0),e=(on.b[1][0]++,Address.NULL),l=(on.b[2][0]++,0),t=(on.b[3][0]++,0),o=(on.b[4][0]++,n),i=(on.b[5][0]++,n)){on.f[0]++;on.s[0]++;super(Account.Type.VESTING,n);on.s[1]++;if(!(e instanceof Address)){on.b[6][0]++;on.s[2]++;throw new Error("Malformed address")}on.b[6][1]++;on.s[3]++;if(!NumberUtils.isUint32(l)){on.b[7][0]++;on.s[4]++;throw new Error("Malformed vestingStart")}on.b[7][1]++;on.s[5]++;if(!NumberUtils.isUint32(t)){on.b[8][0]++;on.s[6]++;throw new Error("Malformed vestingStepBlocks")}on.b[8][1]++;on.s[7]++;if(!NumberUtils.isUint64(o)){on.b[9][0]++;on.s[8]++;throw new Error("Malformed vestingStepAmount")}on.b[9][1]++;on.s[9]++;if(!NumberUtils.isUint64(i)){on.b[10][0]++;on.s[10]++;throw new Error("Malformed lowerCap")}on.b[10][1]++;on.s[11]++;this._owner=e;on.s[12]++;this._vestingStart=l;on.s[13]++;this._vestingStepBlocks=t;on.s[14]++;this._vestingStepAmount=o;on.s[15]++;this._vestingTotalAmount=i}static create(n,e,l){on.f[1]++;let t,o,i,c;const s=(on.s[16]++,new SerialBuffer(l.data)),u=(on.s[17]++,Address.unserialize(s));on.s[18]++;c=l.value;on.s[19]++;switch(l.data.length){case Address.SERIALIZED_SIZE+4:on.b[11][0]++;on.s[20]++;t=0;on.s[21]++;o=s.readUint32();on.s[22]++;i=c;on.s[23]++;break;case Address.SERIALIZED_SIZE+16:on.b[11][1]++;on.s[24]++;t=s.readUint32();on.s[25]++;o=s.readUint32();on.s[26]++;i=s.readUint64();on.s[27]++;break;case Address.SERIALIZED_SIZE+24:on.b[11][2]++;on.s[28]++;t=s.readUint32();on.s[29]++;o=s.readUint32();on.s[30]++;i=s.readUint64();on.s[31]++;c=s.readUint64();on.s[32]++;break;default:on.b[11][3]++;on.s[33]++;throw new Error("Invalid transaction data")}on.s[34]++;return new VestingContract(n,u,t,o,i,c)}static unserialize(n){on.f[2]++;const e=(on.s[35]++,n.readUint8());on.s[36]++;if(e!==Account.Type.VESTING){on.b[12][0]++;on.s[37]++;throw new Error("Invalid account type")}on.b[12][1]++;const l=(on.s[38]++,n.readUint64()),t=(on.s[39]++,Address.unserialize(n)),o=(on.s[40]++,n.readUint32()),i=(on.s[41]++,n.readUint32()),c=(on.s[42]++,n.readUint64()),s=(on.s[43]++,n.readUint64());on.s[44]++;return new VestingContract(l,t,o,i,c,s)}serialize(n){on.f[3]++;on.s[45]++;n=(on.b[13][0]++,n)||(on.b[13][1]++,new SerialBuffer(this.serializedSize));on.s[46]++;super.serialize(n);on.s[47]++;this._owner.serialize(n);on.s[48]++;n.writeUint32(this._vestingStart);on.s[49]++;n.writeUint32(this._vestingStepBlocks);on.s[50]++;n.writeUint64(this._vestingStepAmount);on.s[51]++;n.writeUint64(this._vestingTotalAmount);on.s[52]++;return n}get serializedSize(){on.f[4]++;on.s[53]++;return super.serializedSize+this._owner.serializedSize+4+4+8+8}get owner(){on.f[5]++;on.s[54]++;return this._owner}get vestingStart(){on.f[6]++;on.s[55]++;return this._vestingStart}get vestingStepBlocks(){on.f[7]++;on.s[56]++;return this._vestingStepBlocks}get vestingStepAmount(){on.f[8]++;on.s[57]++;return this._vestingStepAmount}get vestingTotalAmount(){on.f[9]++;on.s[58]++;return this._vestingTotalAmount}toString(){on.f[10]++;on.s[59]++;return`VestingAccount{balance=${this._balance}, owner=${this._owner.toUserFriendlyAddress()}`}equals(n){on.f[11]++;on.s[60]++;return(on.b[14][0]++,n instanceof VestingContract)&&(on.b[14][1]++,this._type===n._type)&&(on.b[14][2]++,this._balance===n._balance)&&(on.b[14][3]++,this._owner.equals(n._owner))&&(on.b[14][4]++,this._vestingStart===n._vestingStart)&&(on.b[14][5]++,this._vestingStepBlocks===n._vestingStepBlocks)&&(on.b[14][6]++,this._vestingStepAmount===n._vestingStepAmount)&&(on.b[14][7]++,this._vestingTotalAmount===n._vestingTotalAmount)}static verifyOutgoingTransaction(n){on.f[12]++;const e=(on.s[61]++,new SerialBuffer(n.proof));on.s[62]++;if(!SignatureProof.unserialize(e).verify(null,n.serializeContent())){on.b[15][0]++;on.s[63]++;return!1}on.b[15][1]++;on.s[64]++;if(e.readPos!==e.byteLength){on.b[16][0]++;on.s[65]++;return!1}on.b[16][1]++;on.s[66]++;return!0}static verifyIncomingTransaction(n){on.f[13]++;on.s[67]++;switch(n.data.length){case Address.SERIALIZED_SIZE+4:on.b[17][0]++;case Address.SERIALIZED_SIZE+16:on.b[17][1]++;case Address.SERIALIZED_SIZE+24:on.b[17][2]++;on.s[68]++;return Contract.verifyIncomingTransaction(n);default:on.b[17][3]++;on.s[69]++;return!1}}withBalance(n){on.f[14]++;on.s[70]++;return new VestingContract(n,this._owner,this._vestingStart,this._vestingStepBlocks,this._vestingStepAmount,this._vestingTotalAmount)}withOutgoingTransaction(n,e,l,t=(on.b[18][0]++,!1)){on.f[15]++;on.s[71]++;if(t)on.b[19][1]++;else{on.b[19][0]++;const l=(on.s[72]++,this.getMinCap(e)),t=(on.s[73]++,this._balance-n.value-n.fee);on.s[74]++;if(t<l){on.b[20][0]++;on.s[75]++;throw new Error("Balance Error!")}on.b[20][1]++;const o=(on.s[76]++,new SerialBuffer(n.proof));on.s[77]++;if(!SignatureProof.unserialize(o).isSignedBy(this._owner)){on.b[21][0]++;on.s[78]++;throw new Error("Proof Error!")}on.b[21][1]++}on.s[79]++;return super.withOutgoingTransaction(n,e,l,t)}withIncomingTransaction(n,e,l=(on.b[22][0]++,!1)){on.f[16]++;on.s[80]++;throw new Error("Illegal incoming transaction")}getMinCap(n){on.f[17]++;on.s[81]++;return(on.b[24][0]++,this._vestingStepBlocks)&&(on.b[24][1]++,this._vestingStepAmount>0)?(on.b[23][0]++,Math.max(0,this._vestingTotalAmount-Math.floor((n-this._vestingStart)/this._vestingStepBlocks)*this._vestingStepAmount)):(on.b[23][1]++,0)}}on.s[82]++;Account.TYPE_MAP.set(Account.Type.VESTING,VestingContract);on.s[83]++;Class.register(VestingContract);var cn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/account/tree/AccountsTreeNode.js",e="9fbe5dbf073a1b0113e585251d456efda45ff4ca",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/account/tree/AccountsTreeNode.js",statementMap:{0:{start:{line:8,column:8},end:{line:8,column:80}},1:{start:{line:18,column:8},end:{line:20,column:9}},2:{start:{line:19,column:12},end:{line:19,column:72}},3:{start:{line:21,column:8},end:{line:21,column:103}},4:{start:{line:31,column:8},end:{line:31,column:26}},5:{start:{line:33,column:8},end:{line:33,column:30}},6:{start:{line:34,column:8},end:{line:44,column:9}},7:{start:{line:36,column:12},end:{line:36,column:41}},8:{start:{line:38,column:12},end:{line:38,column:40}},9:{start:{line:39,column:15},end:{line:44,column:9}},10:{start:{line:41,column:12},end:{line:41,column:32}},11:{start:{line:43,column:12},end:{line:43,column:59}},12:{start:{line:52,column:8},end:{line:52,column:50}},13:{start:{line:60,column:8},end:{line:60,column:48}},14:{start:{line:68,column:21},end:{line:68,column:36}},15:{start:{line:69,column:23},end:{line:69,column:48}},16:{start:{line:71,column:8},end:{line:89,column:9}},17:{start:{line:73,column:28},end:{line:73,column:52}},18:{start:{line:74,column:12},end:{line:74,column:66}},19:{start:{line:75,column:15},end:{line:89,column:9}},20:{start:{line:77,column:37},end:{line:77,column:39}},21:{start:{line:77,column:58},end:{line:77,column:60}},22:{start:{line:78,column:31},end:{line:78,column:46}},23:{start:{line:79,column:12},end:{line:85,column:13}},24:{start:{line:80,column:36},end:{line:80,column:61}},25:{start:{line:81,column:34},end:{line:81,column:55}},26:{start:{line:82,column:35},end:{line:82,column:63}},27:{start:{line:83,column:16},end:{line:83,column:59}},28:{start:{line:84,column:16},end:{line:84,column:55}},29:{start:{line:86,column:12},end:{line:86,column:89}},30:{start:{line:88,column:12},end:{line:88,column:59}},31:{start:{line:93,column:8},end:{line:93,column:59}},32:{start:{line:94,column:8},end:{line:94,column:35}},33:{start:{line:95,column:8},end:{line:95,column:47}},34:{start:{line:96,column:8},end:{line:109,column:9}},35:{start:{line:98,column:12},end:{line:98,column:41}},36:{start:{line:101,column:31},end:{line:101,column:98}},37:{start:{line:101,column:79},end:{line:101,column:94}},38:{start:{line:102,column:12},end:{line:102,column:39}},39:{start:{line:103,column:12},end:{line:108,column:13}},40:{start:{line:104,column:16},end:{line:107,column:17}},41:{start:{line:105,column:20},end:{line:105,column:72}},42:{start:{line:106,column:20},end:{line:106,column:59}},43:{start:{line:110,column:8},end:{line:110,column:19}},44:{start:{line:116,column:8},end:{line:125,column:9}},45:{start:{line:117,column:12},end:{line:117,column:55}},46:{start:{line:121,column:33},end:{line:123,column:17}},47:{start:{line:122,column:16},end:{line:122,column:126}},48:{start:{line:124,column:12},end:{line:124,column:58}},49:{start:{line:127,column:8},end:{line:129,column:26}},50:{start:{line:137,column:8},end:{line:137,column:89}},51:{start:{line:145,column:23},end:{line:145,column:100}},52:{start:{line:146,column:8},end:{line:148,column:9}},53:{start:{line:147,column:12},end:{line:147,column:40}},54:{start:{line:149,column:8},end:{line:149,column:22}},55:{start:{line:158,column:33},end:{line:158,column:69}},56:{start:{line:159,column:31},end:{line:159,column:65}},57:{start:{line:160,column:8},end:{line:160,column:90}},58:{start:{line:161,column:8},end:{line:161,column:64}},59:{start:{line:162,column:8},end:{line:162,column:91}},60:{start:{line:170,column:33},end:{line:170,column:69}},61:{start:{line:171,column:31},end:{line:171,column:65}},62:{start:{line:172,column:8},end:{line:172,column:61}},63:{start:{line:173,column:8},end:{line:173,column:59}},64:{start:{line:174,column:8},end:{line:174,column:91}},65:{start:{line:181,column:8},end:{line:181,column:87}},66:{start:{line:181,column:78},end:{line:181,column:85}},67:{start:{line:188,column:8},end:{line:188,column:115}},68:{start:{line:188,column:89},end:{line:188,column:104}},69:{start:{line:195,column:8},end:{line:197,column:9}},70:{start:{line:196,column:12},end:{line:196,column:29}},71:{start:{line:198,column:23},end:{line:198,column:68}},72:{start:{line:198,column:60},end:{line:198,column:67}},73:{start:{line:199,column:8},end:{line:199,column:57}},74:{start:{line:206,column:8},end:{line:208,column:9}},75:{start:{line:207,column:12},end:{line:207,column:29}},76:{start:{line:209,column:8},end:{line:213,column:9}},77:{start:{line:210,column:12},end:{line:212,column:13}},78:{start:{line:211,column:16},end:{line:211,column:63}},79:{start:{line:214,column:8},end:{line:214,column:25}},80:{start:{line:221,column:8},end:{line:223,column:9}},81:{start:{line:222,column:12},end:{line:222,column:29}},82:{start:{line:224,column:8},end:{line:224,column:97}},83:{start:{line:224,column:54},end:{line:224,column:61}},84:{start:{line:224,column:76},end:{line:224,column:95}},85:{start:{line:229,column:8},end:{line:229,column:29}},86:{start:{line:234,column:8},end:{line:234,column:28}},87:{start:{line:239,column:8},end:{line:239,column:29}},88:{start:{line:240,column:8},end:{line:240,column:31}},89:{start:{line:248,column:8},end:{line:248,column:68}},90:{start:{line:255,column:8},end:{line:257,column:9}},91:{start:{line:256,column:12},end:{line:256,column:54}},92:{start:{line:258,column:8},end:{line:258,column:26}},93:{start:{line:267,column:8},end:{line:267,column:83}},94:{start:{line:274,column:8},end:{line:274,column:59}},95:{start:{line:281,column:8},end:{line:281,column:57}},96:{start:{line:290,column:8},end:{line:290,column:144}},97:{start:{line:291,column:8},end:{line:291,column:56}},98:{start:{line:299,column:8},end:{line:299,column:59}},99:{start:{line:299,column:46},end:{line:299,column:59}},100:{start:{line:300,column:8},end:{line:300,column:60}},101:{start:{line:300,column:47},end:{line:300,column:60}},102:{start:{line:301,column:8},end:{line:318,column:9}},103:{start:{line:302,column:12},end:{line:302,column:70}},104:{start:{line:304,column:12},end:{line:304,column:44}},105:{start:{line:304,column:31},end:{line:304,column:44}},106:{start:{line:305,column:12},end:{line:305,column:91}},107:{start:{line:305,column:78},end:{line:305,column:91}},108:{start:{line:306,column:12},end:{line:306,column:86}},109:{start:{line:306,column:73},end:{line:306,column:86}},110:{start:{line:307,column:12},end:{line:317,column:13}},111:{start:{line:309,column:33},end:{line:309,column:56}},112:{start:{line:310,column:35},end:{line:310,column:55}},113:{start:{line:311,column:16},end:{line:315,column:17}},114:{start:{line:312,column:20},end:{line:312,column:82}},115:{start:{line:312,column:69},end:{line:312,column:82}},116:{start:{line:314,column:20},end:{line:314,column:49}},117:{start:{line:314,column:36},end:{line:314,column:49}},118:{start:{line:316,column:16},end:{line:316,column:87}},119:{start:{line:316,column:74},end:{line:316,column:87}},120:{start:{line:319,column:8},end:{line:319,column:20}},121:{start:{line:322,column:0},end:{line:322,column:31}},122:{start:{line:323,column:0},end:{line:323,column:33}},123:{start:{line:324,column:0},end:{line:324,column:33}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:41},end:{line:9,column:5}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:74},end:{line:22,column:5}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:30,column:4},end:{line:30,column:5}},loc:{start:{line:30,column:51},end:{line:45,column:5}},line:30},3:{name:"(anonymous_3)",decl:{start:{line:51,column:4},end:{line:51,column:5}},loc:{start:{line:51,column:32},end:{line:53,column:5}},line:51},4:{name:"(anonymous_4)",decl:{start:{line:59,column:4},end:{line:59,column:5}},loc:{start:{line:59,column:30},end:{line:61,column:5}},line:59},5:{name:"(anonymous_5)",decl:{start:{line:67,column:4},end:{line:67,column:5}},loc:{start:{line:67,column:28},end:{line:90,column:5}},line:67},6:{name:"(anonymous_6)",decl:{start:{line:92,column:4},end:{line:92,column:5}},loc:{start:{line:92,column:19},end:{line:111,column:5}},line:92},7:{name:"(anonymous_7)",decl:{start:{line:101,column:61},end:{line:101,column:62}},loc:{start:{line:101,column:79},end:{line:101,column:94}},line:101},8:{name:"(anonymous_8)",decl:{start:{line:114,column:4},end:{line:114,column:5}},loc:{start:{line:114,column:25},end:{line:130,column:5}},line:114},9:{name:"(anonymous_9)",decl:{start:{line:121,column:61},end:{line:121,column:62}},loc:{start:{line:121,column:80},end:{line:123,column:13}},line:121},10:{name:"(anonymous_10)",decl:{start:{line:136,column:4},end:{line:136,column:5}},loc:{start:{line:136,column:25},end:{line:138,column:5}},line:136},11:{name:"(anonymous_11)",decl:{start:{line:144,column:4},end:{line:144,column:5}},loc:{start:{line:144,column:21},end:{line:150,column:5}},line:144},12:{name:"(anonymous_12)",decl:{start:{line:157,column:4},end:{line:157,column:5}},loc:{start:{line:157,column:33},end:{line:163,column:5}},line:157},13:{name:"(anonymous_13)",decl:{start:{line:169,column:4},end:{line:169,column:5}},loc:{start:{line:169,column:25},end:{line:175,column:5}},line:169},14:{name:"(anonymous_14)",decl:{start:{line:180,column:4},end:{line:180,column:5}},loc:{start:{line:180,column:18},end:{line:182,column:5}},line:180},15:{name:"(anonymous_15)",decl:{start:{line:181,column:69},end:{line:181,column:70}},loc:{start:{line:181,column:78},end:{line:181,column:85}},line:181},16:{name:"(anonymous_16)",decl:{start:{line:187,column:4},end:{line:187,column:5}},loc:{start:{line:187,column:21},end:{line:189,column:5}},line:187},17:{name:"(anonymous_17)",decl:{start:{line:188,column:71},end:{line:188,column:72}},loc:{start:{line:188,column:89},end:{line:188,column:104}},line:188},18:{name:"(anonymous_18)",decl:{start:{line:194,column:4},end:{line:194,column:5}},loc:{start:{line:194,column:20},end:{line:200,column:5}},line:194},19:{name:"(anonymous_19)",decl:{start:{line:198,column:51},end:{line:198,column:52}},loc:{start:{line:198,column:60},end:{line:198,column:67}},line:198},20:{name:"(anonymous_20)",decl:{start:{line:205,column:4},end:{line:205,column:5}},loc:{start:{line:205,column:19},end:{line:215,column:5}},line:205},21:{name:"(anonymous_21)",decl:{start:{line:220,column:4},end:{line:220,column:5}},loc:{start:{line:220,column:18},end:{line:225,column:5}},line:220},22:{name:"(anonymous_22)",decl:{start:{line:224,column:45},end:{line:224,column:46}},loc:{start:{line:224,column:54},end:{line:224,column:61}},line:224},23:{name:"(anonymous_23)",decl:{start:{line:224,column:67},end:{line:224,column:68}},loc:{start:{line:224,column:76},end:{line:224,column:95}},line:224},24:{name:"(anonymous_24)",decl:{start:{line:228,column:4},end:{line:228,column:5}},loc:{start:{line:228,column:18},end:{line:230,column:5}},line:228},25:{name:"(anonymous_25)",decl:{start:{line:233,column:4},end:{line:233,column:5}},loc:{start:{line:233,column:17},end:{line:235,column:5}},line:233},26:{name:"(anonymous_26)",decl:{start:{line:238,column:4},end:{line:238,column:5}},loc:{start:{line:238,column:22},end:{line:241,column:5}},line:238},27:{name:"(anonymous_27)",decl:{start:{line:247,column:4},end:{line:247,column:5}},loc:{start:{line:247,column:25},end:{line:249,column:5}},line:247},28:{name:"(anonymous_28)",decl:{start:{line:254,column:4},end:{line:254,column:5}},loc:{start:{line:254,column:11},end:{line:259,column:5}},line:254},29:{name:"(anonymous_29)",decl:{start:{line:266,column:4},end:{line:266,column:5}},loc:{start:{line:266,column:22},end:{line:268,column:5}},line:266},30:{name:"(anonymous_30)",decl:{start:{line:273,column:4},end:{line:273,column:5}},loc:{start:{line:273,column:17},end:{line:275,column:5}},line:273},31:{name:"(anonymous_31)",decl:{start:{line:280,column:4},end:{line:280,column:5}},loc:{start:{line:280,column:15},end:{line:282,column:5}},line:280},32:{name:"(anonymous_32)",decl:{start:{line:289,column:4},end:{line:289,column:5}},loc:{start:{line:289,column:27},end:{line:292,column:5}},line:289},33:{name:"(anonymous_33)",decl:{start:{line:298,column:4},end:{line:298,column:5}},loc:{start:{line:298,column:14},end:{line:320,column:5}},line:298}},branchMap:{0:{loc:{start:{line:17,column:30},end:{line:17,column:51}},type:"default-arg",locations:[{start:{line:17,column:49},end:{line:17,column:51}}],line:17},1:{loc:{start:{line:17,column:53},end:{line:17,column:72}},type:"default-arg",locations:[{start:{line:17,column:70},end:{line:17,column:72}}],line:17},2:{loc:{start:{line:18,column:8},end:{line:20,column:9}},type:"if",locations:[{start:{line:18,column:8},end:{line:20,column:9}},{start:{line:18,column:8},end:{line:20,column:9}}],line:18},3:{loc:{start:{line:30,column:22},end:{line:30,column:33}},type:"default-arg",locations:[{start:{line:30,column:31},end:{line:30,column:33}}],line:30},4:{loc:{start:{line:30,column:40},end:{line:30,column:49}},type:"default-arg",locations:[{start:{line:30,column:47},end:{line:30,column:49}}],line:30},5:{loc:{start:{line:34,column:8},end:{line:44,column:9}},type:"if",locations:[{start:{line:34,column:8},end:{line:44,column:9}},{start:{line:34,column:8},end:{line:44,column:9}}],line:34},6:{loc:{start:{line:39,column:15},end:{line:44,column:9}},type:"if",locations:[{start:{line:39,column:15},end:{line:44,column:9}},{start:{line:39,column:15},end:{line:44,column:9}}],line:39},7:{loc:{start:{line:71,column:8},end:{line:89,column:9}},type:"if",locations:[{start:{line:71,column:8},end:{line:89,column:9}},{start:{line:71,column:8},end:{line:89,column:9}}],line:71},8:{loc:{start:{line:75,column:15},end:{line:89,column:9}},type:"if",locations:[{start:{line:75,column:15},end:{line:89,column:9}},{start:{line:75,column:15},end:{line:89,column:9}}],line:75},9:{loc:{start:{line:93,column:14},end:{line:93,column:58}},type:"binary-expr",locations:[{start:{line:93,column:14},end:{line:93,column:17}},{start:{line:93,column:21},end:{line:93,column:58}}],line:93},10:{loc:{start:{line:96,column:8},end:{line:109,column:9}},type:"if",locations:[{start:{line:96,column:8},end:{line:109,column:9}},{start:{line:96,column:8},end:{line:109,column:9}}],line:96},11:{loc:{start:{line:104,column:16},end:{line:107,column:17}},type:"if",locations:[{start:{line:104,column:16},end:{line:107,column:17}},{start:{line:104,column:16},end:{line:107,column:17}}],line:104},12:{loc:{start:{line:116,column:8},end:{line:125,column:9}},type:"if",locations:[{start:{line:116,column:8},end:{line:125,column:9}},{start:{line:116,column:8},end:{line:125,column:9}}],line:116},13:{loc:{start:{line:122,column:30},end:{line:122,column:124}},type:"cond-expr",locations:[{start:{line:122,column:38},end:{line:122,column:120}},{start:{line:122,column:123},end:{line:122,column:124}}],line:122},14:{loc:{start:{line:137,column:15},end:{line:137,column:88}},type:"binary-expr",locations:[{start:{line:137,column:15},end:{line:137,column:35}},{start:{line:137,column:39},end:{line:137,column:88}}],line:137},15:{loc:{start:{line:145,column:23},end:{line:145,column:100}},type:"binary-expr",locations:[{start:{line:145,column:23},end:{line:145,column:45}},{start:{line:145,column:49},end:{line:145,column:100}}],line:145},16:{loc:{start:{line:146,column:8},end:{line:148,column:9}},type:"if",locations:[{start:{line:146,column:8},end:{line:148,column:9}},{start:{line:146,column:8},end:{line:148,column:9}}],line:146},17:{loc:{start:{line:158,column:33},end:{line:158,column:69}},type:"binary-expr",locations:[{start:{line:158,column:33},end:{line:158,column:63}},{start:{line:158,column:67},end:{line:158,column:69}}],line:158},18:{loc:{start:{line:159,column:31},end:{line:159,column:65}},type:"binary-expr",locations:[{start:{line:159,column:31},end:{line:159,column:59}},{start:{line:159,column:63},end:{line:159,column:65}}],line:159},19:{loc:{start:{line:170,column:33},end:{line:170,column:69}},type:"binary-expr",locations:[{start:{line:170,column:33},end:{line:170,column:63}},{start:{line:170,column:67},end:{line:170,column:69}}],line:170},20:{loc:{start:{line:171,column:31},end:{line:171,column:65}},type:"binary-expr",locations:[{start:{line:171,column:31},end:{line:171,column:59}},{start:{line:171,column:63},end:{line:171,column:65}}],line:171},21:{loc:{start:{line:181,column:15},end:{line:181,column:86}},type:"binary-expr",locations:[{start:{line:181,column:15},end:{line:181,column:37}},{start:{line:181,column:41},end:{line:181,column:86}}],line:181},22:{loc:{start:{line:188,column:15},end:{line:188,column:114}},type:"binary-expr",locations:[{start:{line:188,column:15},end:{line:188,column:37}},{start:{line:188,column:41},end:{line:188,column:114}}],line:188},23:{loc:{start:{line:195,column:8},end:{line:197,column:9}},type:"if",locations:[{start:{line:195,column:8},end:{line:197,column:9}},{start:{line:195,column:8},end:{line:197,column:9}}],line:195},24:{loc:{start:{line:199,column:15},end:{line:199,column:56}},type:"cond-expr",locations:[{start:{line:199,column:24},end:{line:199,column:44}},{start:{line:199,column:47},end:{line:199,column:56}}],line:199},25:{loc:{start:{line:206,column:8},end:{line:208,column:9}},type:"if",locations:[{start:{line:206,column:8},end:{line:208,column:9}},{start:{line:206,column:8},end:{line:208,column:9}}],line:206},26:{loc:{start:{line:210,column:12},end:{line:212,column:13}},type:"if",locations:[{start:{line:210,column:12},end:{line:212,column:13}},{start:{line:210,column:12},end:{line:212,column:13}}],line:210},27:{loc:{start:{line:221,column:8},end:{line:223,column:9}},type:"if",locations:[{start:{line:221,column:8},end:{line:223,column:9}},{start:{line:221,column:8},end:{line:223,column:9}}],line:221},28:{loc:{start:{line:255,column:8},end:{line:257,column:9}},type:"if",locations:[{start:{line:255,column:8},end:{line:257,column:9}},{start:{line:255,column:8},end:{line:257,column:9}}],line:255},29:{loc:{start:{line:267,column:15},end:{line:267,column:82}},type:"binary-expr",locations:[{start:{line:267,column:15},end:{line:267,column:35}},{start:{line:267,column:39},end:{line:267,column:82}}],line:267},30:{loc:{start:{line:299,column:8},end:{line:299,column:59}},type:"if",locations:[{start:{line:299,column:8},end:{line:299,column:59}},{start:{line:299,column:8},end:{line:299,column:59}}],line:299},31:{loc:{start:{line:300,column:8},end:{line:300,column:60}},type:"if",locations:[{start:{line:300,column:8},end:{line:300,column:60}},{start:{line:300,column:8},end:{line:300,column:60}}],line:300},32:{loc:{start:{line:301,column:8},end:{line:318,column:9}},type:"if",locations:[{start:{line:301,column:8},end:{line:318,column:9}},{start:{line:301,column:8},end:{line:318,column:9}}],line:301},33:{loc:{start:{line:302,column:19},end:{line:302,column:69}},type:"binary-expr",locations:[{start:{line:302,column:19},end:{line:302,column:33}},{start:{line:302,column:37},end:{line:302,column:69}}],line:302},34:{loc:{start:{line:304,column:12},end:{line:304,column:44}},type:"if",locations:[{start:{line:304,column:12},end:{line:304,column:44}},{start:{line:304,column:12},end:{line:304,column:44}}],line:304},35:{loc:{start:{line:305,column:12},end:{line:305,column:91}},type:"if",locations:[{start:{line:305,column:12},end:{line:305,column:91}},{start:{line:305,column:12},end:{line:305,column:91}}],line:305},36:{loc:{start:{line:306,column:12},end:{line:306,column:86}},type:"if",locations:[{start:{line:306,column:12},end:{line:306,column:86}},{start:{line:306,column:12},end:{line:306,column:86}}],line:306},37:{loc:{start:{line:311,column:16},end:{line:315,column:17}},type:"if",locations:[{start:{line:311,column:16},end:{line:315,column:17}},{start:{line:311,column:16},end:{line:315,column:17}}],line:311},38:{loc:{start:{line:312,column:20},end:{line:312,column:82}},type:"if",locations:[{start:{line:312,column:20},end:{line:312,column:82}},{start:{line:312,column:20},end:{line:312,column:82}}],line:312},39:{loc:{start:{line:312,column:24},end:{line:312,column:67}},type:"binary-expr",locations:[{start:{line:312,column:24},end:{line:312,column:35}},{start:{line:312,column:39},end:{line:312,column:67}}],line:312},40:{loc:{start:{line:314,column:20},end:{line:314,column:49}},type:"if",locations:[{start:{line:314,column:20},end:{line:314,column:49}},{start:{line:314,column:20},end:{line:314,column:49}}],line:314},41:{loc:{start:{line:316,column:16},end:{line:316,column:87}},type:"if",locations:[{start:{line:316,column:16},end:{line:316,column:87}},{start:{line:316,column:16},end:{line:316,column:87}}],line:316}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0},b:{0:[0],1:[0],2:[0,0],3:[0],4:[0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class AccountsTreeNode{static terminalNode(n,e){cn.f[0]++;cn.s[0]++;return new AccountsTreeNode(AccountsTreeNode.TERMINAL,n,e)}static branchNode(n,e=(cn.b[0][0]++,[]),l=(cn.b[1][0]++,[])){cn.f[1]++;cn.s[1]++;if(e.length!==l.length){cn.b[2][0]++;cn.s[2]++;throw new Error("Invalid list of children for branch node")}cn.b[2][1]++;cn.s[3]++;return new AccountsTreeNode(AccountsTreeNode.BRANCH,n,e,l)}constructor(n,e=(cn.b[3][0]++,""),l,t=(cn.b[4][0]++,[])){cn.f[2]++;cn.s[4]++;this._type=n;cn.s[5]++;this._prefix=e;cn.s[6]++;if(this.isBranch()){cn.b[5][0]++;cn.s[7]++;this._childrenSuffixes=l;cn.s[8]++;this._childrenHashes=t}else{cn.b[5][1]++;cn.s[9]++;if(!this.isTerminal()){cn.b[6][1]++;cn.s[11]++;throw`Invalid AccountsTreeNode type: ${n}`}cn.b[6][0]++;cn.s[10]++;this._account=l}}static isTerminalType(n){cn.f[3]++;cn.s[12]++;return n===AccountsTreeNode.TERMINAL}static isBranchType(n){cn.f[4]++;cn.s[13]++;return n===AccountsTreeNode.BRANCH}static unserialize(n){cn.f[5]++;const e=(cn.s[14]++,n.readUint8()),l=(cn.s[15]++,n.readVarLengthString());cn.s[16]++;if(AccountsTreeNode.isTerminalType(e)){cn.b[7][0]++;const e=(cn.s[17]++,Account.unserialize(n));cn.s[18]++;return AccountsTreeNode.terminalNode(l,e)}cn.b[7][1]++;cn.s[19]++;if(AccountsTreeNode.isBranchType(e)){cn.b[8][0]++;const e=(cn.s[20]++,[]),t=(cn.s[21]++,[]),o=(cn.s[22]++,n.readUint8());cn.s[23]++;for(let l=0;l<o;++l){const l=(cn.s[24]++,n.readVarLengthString()),o=(cn.s[25]++,Hash.unserialize(n)),i=(cn.s[26]++,parseInt(l[0],16));cn.s[27]++;e[i]=l;cn.s[28]++;t[i]=o}cn.s[29]++;return AccountsTreeNode.branchNode(l,e,t)}cn.b[8][1]++;cn.s[30]++;throw`Invalid AccountsTreeNode type: ${e}`}serialize(n){cn.f[6]++;cn.s[31]++;n=(cn.b[9][0]++,n)||(cn.b[9][1]++,new SerialBuffer(this.serializedSize));cn.s[32]++;n.writeUint8(this._type);cn.s[33]++;n.writeVarLengthString(this._prefix);cn.s[34]++;if(this.isTerminal()){cn.b[10][0]++;cn.s[35]++;this._account.serialize(n)}else{cn.b[10][1]++;const e=(cn.s[36]++,this._childrenSuffixes.reduce((n,e)=>{cn.f[7]++;cn.s[37]++;return n+!!e},0));cn.s[38]++;n.writeUint8(e);cn.s[39]++;for(let l=0;l<this._childrenSuffixes.length;++l){cn.s[40]++;if(this._childrenHashes[l]){cn.b[11][0]++;cn.s[41]++;n.writeVarLengthString(this._childrenSuffixes[l]);cn.s[42]++;this._childrenHashes[l].serialize(n)}else cn.b[11][1]++}}cn.s[43]++;return n}get serializedSize(){cn.f[8]++;let n;cn.s[44]++;if(this.isTerminal()){cn.b[12][0]++;cn.s[45]++;n=this._account.serializedSize}else{cn.b[12][1]++;const e=(cn.s[46]++,this._childrenHashes.reduce((n,e,l)=>{cn.f[9]++;cn.s[47]++;return n+(e?(cn.b[13][0]++,e.serializedSize+SerialBuffer.varLengthStringSize(this._childrenSuffixes[l])):(cn.b[13][1]++,0))},0));cn.s[48]++;n=1+e}cn.s[49]++;return 1+SerialBuffer.varLengthStringSize(this._prefix)+n}getChildHash(n){cn.f[10]++;cn.s[50]++;return(cn.b[14][0]++,this._childrenHashes)&&(cn.b[14][1]++,this._childrenHashes[this._getChildIndex(n)])}getChild(n){cn.f[11]++;const e=(cn.s[51]++,(cn.b[15][0]++,this._childrenSuffixes)&&(cn.b[15][1]++,this._childrenSuffixes[this._getChildIndex(n)]));cn.s[52]++;if(e){cn.b[16][0]++;cn.s[53]++;return this.prefix+e}cn.b[16][1]++;cn.s[54]++;return e}withChild(n,e){cn.f[12]++;const l=(cn.s[55]++,(cn.b[17][0]++,this._childrenSuffixes.slice())||(cn.b[17][1]++,[])),t=(cn.s[56]++,(cn.b[18][0]++,this._childrenHashes.slice())||(cn.b[18][1]++,[]));cn.s[57]++;l[this._getChildIndex(n)]=n.substr(this.prefix.length);cn.s[58]++;t[this._getChildIndex(n)]=e;cn.s[59]++;return AccountsTreeNode.branchNode(this._prefix,l,t)}withoutChild(n){cn.f[13]++;const e=(cn.s[60]++,(cn.b[19][0]++,this._childrenSuffixes.slice())||(cn.b[19][1]++,[])),l=(cn.s[61]++,(cn.b[20][0]++,this._childrenHashes.slice())||(cn.b[20][1]++,[]));cn.s[62]++;delete e[this._getChildIndex(n)];cn.s[63]++;delete l[this._getChildIndex(n)];cn.s[64]++;return AccountsTreeNode.branchNode(this._prefix,e,l)}hasChildren(){cn.f[14]++;cn.s[65]++;return(cn.b[21][0]++,this._childrenSuffixes)&&(cn.b[21][1]++,this._childrenSuffixes.some(n=>{cn.f[15]++;cn.s[66]++;return!!n}))}hasSingleChild(){cn.f[16]++;cn.s[67]++;return(cn.b[22][0]++,this._childrenSuffixes)&&(cn.b[22][1]++,1===this._childrenSuffixes.reduce((n,e)=>{cn.f[17]++;cn.s[68]++;return n+!!e},0))}getFirstChild(){cn.f[18]++;cn.s[69]++;if(!this._childrenSuffixes){cn.b[23][0]++;cn.s[70]++;return undefined}cn.b[23][1]++;const n=(cn.s[71]++,this._childrenSuffixes.find(n=>{cn.f[19]++;cn.s[72]++;return!!n}));cn.s[73]++;return n?(cn.b[24][0]++,this.prefix+n):(cn.b[24][1]++,undefined)}getLastChild(){cn.f[20]++;cn.s[74]++;if(!this._childrenSuffixes){cn.b[25][0]++;cn.s[75]++;return undefined}cn.b[25][1]++;cn.s[76]++;for(let n=this._childrenSuffixes.length-1;n>=0;--n){cn.s[77]++;if(this._childrenSuffixes[n]){cn.b[26][0]++;cn.s[78]++;return this.prefix+this._childrenSuffixes[n]}cn.b[26][1]++}cn.s[79]++;return undefined}getChildren(){cn.f[21]++;cn.s[80]++;if(!this._childrenSuffixes){cn.b[27][0]++;cn.s[81]++;return undefined}cn.b[27][1]++;cn.s[82]++;return this._childrenSuffixes.filter(n=>{cn.f[22]++;cn.s[83]++;return!!n}).map(n=>{cn.f[23]++;cn.s[84]++;return this.prefix+n})}get account(){cn.f[24]++;cn.s[85]++;return this._account}get prefix(){cn.f[25]++;cn.s[86]++;return this._prefix}set prefix(n){cn.f[26]++;cn.s[87]++;this._prefix=n;cn.s[88]++;this._hash=undefined}withAccount(n){cn.f[27]++;cn.s[89]++;return AccountsTreeNode.terminalNode(this._prefix,n)}hash(){cn.f[28]++;cn.s[90]++;if(this._hash)cn.b[28][1]++;else{cn.b[28][0]++;cn.s[91]++;this._hash=Hash.light(this.serialize())}cn.s[92]++;return this._hash}isChildOf(n){cn.f[29]++;cn.s[93]++;return(cn.b[29][0]++,n.getChildren())&&(cn.b[29][1]++,n.getChildren().includes(this._prefix))}isTerminal(){cn.f[30]++;cn.s[94]++;return AccountsTreeNode.isTerminalType(this._type)}isBranch(){cn.f[31]++;cn.s[95]++;return AccountsTreeNode.isBranchType(this._type)}_getChildIndex(n){cn.f[32]++;cn.s[96]++;Assert.that(n.substr(0,this.prefix.length)===this.prefix,`Prefix ${n} is not a child of the current node ${this.prefix}`);cn.s[97]++;return parseInt(n[this.prefix.length],16)}equals(n){cn.f[33]++;cn.s[98]++;if(!(n instanceof AccountsTreeNode)){cn.b[30][0]++;cn.s[99]++;return!1}cn.b[30][1]++;cn.s[100]++;if(!Object.is(this.prefix,n.prefix)){cn.b[31][0]++;cn.s[101]++;return!1}cn.b[31][1]++;cn.s[102]++;if(this.isTerminal()){cn.b[32][0]++;cn.s[103]++;return(cn.b[33][0]++,n.isTerminal())&&(cn.b[33][1]++,n._account.equals(this._account))}cn.b[32][1]++;cn.s[104]++;if(!n.isBranch()){cn.b[34][0]++;cn.s[105]++;return!1}cn.b[34][1]++;cn.s[106]++;if(this._childrenSuffixes.length!==n._childrenSuffixes.length){cn.b[35][0]++;cn.s[107]++;return!1}cn.b[35][1]++;cn.s[108]++;if(n._childrenSuffixes.length!==n._childrenHashes.length){cn.b[36][0]++;cn.s[109]++;return!1}cn.b[36][1]++;cn.s[110]++;for(let e=0;e<this._childrenSuffixes.length;++e){const l=(cn.s[111]++,this._childrenHashes[e]),t=(cn.s[112]++,n._childrenHashes[e]);cn.s[113]++;if(l){cn.b[37][0]++;cn.s[114]++;if((cn.b[39][0]++,!t)||(cn.b[39][1]++,!l.equals(t))){cn.b[38][0]++;cn.s[115]++;return!1}cn.b[38][1]++}else{cn.b[37][1]++;cn.s[116]++;if(t){cn.b[40][0]++;cn.s[117]++;return!1}cn.b[40][1]++}cn.s[118]++;if(this._childrenSuffixes[e]!==n._childrenSuffixes[e]){cn.b[41][0]++;cn.s[119]++;return!1}cn.b[41][1]++}cn.s[120]++;return!0}}cn.s[121]++;AccountsTreeNode.BRANCH=0;cn.s[122]++;AccountsTreeNode.TERMINAL=255;cn.s[123]++;Class.register(AccountsTreeNode);var sn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/account/tree/AccountsTreeStore.js",e="61888609fc3923cd8dba2d9f7febd170e48f449d",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/account/tree/AccountsTreeStore.js",statementMap:{0:{start:{line:6,column:8},end:{line:6,column:83}},1:{start:{line:14,column:8},end:{line:14,column:69}},2:{start:{line:21,column:22},end:{line:21,column:62}},3:{start:{line:22,column:8},end:{line:22,column:44}},4:{start:{line:29,column:8},end:{line:29,column:28}},5:{start:{line:38,column:8},end:{line:38,column:36}},6:{start:{line:47,column:20},end:{line:47,column:31}},7:{start:{line:48,column:8},end:{line:48,column:41}},8:{start:{line:49,column:8},end:{line:49,column:19}},9:{start:{line:58,column:20},end:{line:58,column:31}},10:{start:{line:59,column:8},end:{line:59,column:38}},11:{start:{line:60,column:8},end:{line:60,column:19}},12:{start:{line:67,column:8},end:{line:67,column:28}},13:{start:{line:76,column:29},end:{line:76,column:31}},14:{start:{line:77,column:8},end:{line:85,column:61}},15:{start:{line:78,column:12},end:{line:83,column:13}},16:{start:{line:79,column:16},end:{line:79,column:39}},17:{start:{line:80,column:16},end:{line:82,column:17}},18:{start:{line:81,column:20},end:{line:81,column:33}},19:{start:{line:84,column:12},end:{line:84,column:24}},20:{start:{line:86,column:22},end:{line:86,column:24}},21:{start:{line:87,column:8},end:{line:89,column:9}},22:{start:{line:88,column:12},end:{line:88,column:45}},23:{start:{line:90,column:8},end:{line:90,column:34}},24:{start:{line:98,column:25},end:{line:98,column:47}},25:{start:{line:99,column:8},end:{line:101,column:9}},26:{start:{line:100,column:12},end:{line:100,column:40}},27:{start:{line:102,column:8},end:{line:102,column:47}},28:{start:{line:110,column:19},end:{line:110,column:58}},29:{start:{line:111,column:8},end:{line:111,column:41}},30:{start:{line:119,column:19},end:{line:119,column:69}},31:{start:{line:120,column:8},end:{line:120,column:52}},32:{start:{line:127,column:8},end:{line:127,column:38}},33:{start:{line:134,column:8},end:{line:134,column:36}},34:{start:{line:141,column:8},end:{line:141,column:35}},35:{start:{line:146,column:8},end:{line:148,column:9}},36:{start:{line:147,column:12},end:{line:147,column:31}},37:{start:{line:149,column:8},end:{line:149,column:25}},38:{start:{line:152,column:0},end:{line:152,column:34}},39:{start:{line:163,column:8},end:{line:163,column:31}},40:{start:{line:172,column:8},end:{line:172,column:67}},41:{start:{line:179,column:8},end:{line:179,column:44}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:31},end:{line:7,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:13,column:4},end:{line:13,column:5}},loc:{start:{line:13,column:30},end:{line:15,column:5}},line:13},2:{name:"(anonymous_2)",decl:{start:{line:20,column:4},end:{line:20,column:5}},loc:{start:{line:20,column:28},end:{line:23,column:5}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:28,column:4},end:{line:28,column:5}},loc:{start:{line:28,column:23},end:{line:30,column:5}},line:28},4:{name:"(anonymous_4)",decl:{start:{line:37,column:4},end:{line:37,column:5}},loc:{start:{line:37,column:13},end:{line:39,column:5}},line:37},5:{name:"(anonymous_5)",decl:{start:{line:46,column:4},end:{line:46,column:5}},loc:{start:{line:46,column:20},end:{line:50,column:5}},line:46},6:{name:"(anonymous_6)",decl:{start:{line:57,column:4},end:{line:57,column:5}},loc:{start:{line:57,column:23},end:{line:61,column:5}},line:57},7:{name:"(anonymous_7)",decl:{start:{line:66,column:4},end:{line:66,column:5}},loc:{start:{line:66,column:18},end:{line:68,column:5}},line:66},8:{name:"(anonymous_8)",decl:{start:{line:75,column:4},end:{line:75,column:5}},loc:{start:{line:75,column:46},end:{line:91,column:5}},line:75},9:{name:"(anonymous_9)",decl:{start:{line:77,column:36},end:{line:77,column:37}},loc:{start:{line:77,column:43},end:{line:85,column:9}},line:77},10:{name:"(anonymous_10)",decl:{start:{line:97,column:4},end:{line:97,column:5}},loc:{start:{line:97,column:17},end:{line:103,column:5}},line:97},11:{name:"(anonymous_11)",decl:{start:{line:109,column:4},end:{line:109,column:5}},loc:{start:{line:109,column:39},end:{line:112,column:5}},line:109},12:{name:"(anonymous_12)",decl:{start:{line:118,column:4},end:{line:118,column:5}},loc:{start:{line:118,column:50},end:{line:121,column:5}},line:118},13:{name:"(anonymous_13)",decl:{start:{line:126,column:4},end:{line:126,column:5}},loc:{start:{line:126,column:15},end:{line:128,column:5}},line:126},14:{name:"(anonymous_14)",decl:{start:{line:133,column:4},end:{line:133,column:5}},loc:{start:{line:133,column:13},end:{line:135,column:5}},line:133},15:{name:"(anonymous_15)",decl:{start:{line:140,column:4},end:{line:140,column:5}},loc:{start:{line:140,column:12},end:{line:142,column:5}},line:140},16:{name:"(anonymous_16)",decl:{start:{line:145,column:4},end:{line:145,column:5}},loc:{start:{line:145,column:13},end:{line:150,column:5}},line:145},17:{name:"(anonymous_17)",decl:{start:{line:162,column:4},end:{line:162,column:5}},loc:{start:{line:162,column:16},end:{line:164,column:5}},line:162},18:{name:"(anonymous_18)",decl:{start:{line:171,column:4},end:{line:171,column:5}},loc:{start:{line:171,column:21},end:{line:173,column:5}},line:171},19:{name:"(anonymous_19)",decl:{start:{line:178,column:4},end:{line:178,column:5}},loc:{start:{line:178,column:24},end:{line:180,column:5}},line:178}},branchMap:{0:{loc:{start:{line:78,column:12},end:{line:83,column:13}},type:"if",locations:[{start:{line:78,column:12},end:{line:83,column:13}},{start:{line:78,column:12},end:{line:83,column:13}}],line:78},1:{loc:{start:{line:80,column:16},end:{line:82,column:17}},type:"if",locations:[{start:{line:80,column:16},end:{line:82,column:17}},{start:{line:80,column:16},end:{line:82,column:17}}],line:80},2:{loc:{start:{line:99,column:8},end:{line:101,column:9}},type:"if",locations:[{start:{line:99,column:8},end:{line:101,column:9}},{start:{line:99,column:8},end:{line:101,column:9}}],line:99},3:{loc:{start:{line:109,column:16},end:{line:109,column:37}},type:"default-arg",locations:[{start:{line:109,column:33},end:{line:109,column:37}}],line:109},4:{loc:{start:{line:118,column:27},end:{line:118,column:48}},type:"default-arg",locations:[{start:{line:118,column:44},end:{line:118,column:48}}],line:118},5:{loc:{start:{line:146,column:8},end:{line:148,column:9}},type:"if",locations:[{start:{line:146,column:8},end:{line:148,column:9}},{start:{line:146,column:8},end:{line:148,column:9}}],line:146}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0],4:[0],5:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class AccountsTreeStore{static initPersistent(n){sn.f[0]++;sn.s[0]++;n.createObjectStore("Accounts",{codec:new AccountsTreeStoreCodec})}static getPersistent(n){sn.f[1]++;sn.s[1]++;return new AccountsTreeStore(n.getObjectStore("Accounts"))}static createVolatile(){sn.f[2]++;const n=(sn.s[2]++,JDB.JungleDB.createVolatileObjectStore());sn.s[3]++;return new AccountsTreeStore(n)}constructor(n){sn.f[3]++;sn.s[4]++;this._store=n}get(n){sn.f[4]++;sn.s[5]++;return this._store.get(n)}async put(n){sn.f[5]++;const e=(sn.s[6]++,n.prefix);sn.s[7]++;await this._store.put(e,n);sn.s[8]++;return e}async remove(n){sn.f[6]++;const e=(sn.s[9]++,n.prefix);sn.s[10]++;await this._store.remove(e);sn.s[11]++;return e}getRootNode(){sn.f[7]++;sn.s[12]++;return this.get("")}async getTerminalNodes(n,e){sn.f[8]++;const l=(sn.s[13]++,[]);sn.s[14]++;await this._store.keyStream(n=>{sn.f[9]++;sn.s[15]++;if(n.length===Address.HEX_SIZE){sn.b[0][0]++;sn.s[16]++;l.push(n);sn.s[17]++;if(l.length===e){sn.b[1][0]++;sn.s[18]++;return!1}sn.b[1][1]++}else sn.b[0][1]++;sn.s[19]++;return!0},!0,JDB.KeyRange.lowerBound(n,!0));const t=(sn.s[20]++,[]);sn.s[21]++;for(const o of l){sn.s[22]++;t.push(this._store.get(o))}sn.s[23]++;return Promise.all(t)}snapshot(n){sn.f[10]++;const e=(sn.s[24]++,this._store.snapshot());sn.s[25]++;if(n){sn.b[2][0]++;sn.s[26]++;e.inherit(n._store)}else sn.b[2][1]++;sn.s[27]++;return new AccountsTreeStore(e)}transaction(n=(sn.b[3][0]++,!0)){sn.f[11]++;const e=(sn.s[28]++,this._store.transaction(n));sn.s[29]++;return new AccountsTreeStore(e)}synchronousTransaction(n=(sn.b[4][0]++,!0)){sn.f[12]++;const e=(sn.s[30]++,this._store.synchronousTransaction(n));sn.s[31]++;return new SynchronousAccountsTreeStore(e)}truncate(){sn.f[13]++;sn.s[32]++;return this._store.truncate()}commit(){sn.f[14]++;sn.s[33]++;return this._store.commit()}abort(){sn.f[15]++;sn.s[34]++;return this._store.abort()}get tx(){sn.f[16]++;sn.s[35]++;if(this._store instanceof JDB.Transaction){sn.b[5][0]++;sn.s[36]++;return this._store}sn.b[5][1]++;sn.s[37]++;return undefined}}sn.s[38]++;Class.register(AccountsTreeStore);class AccountsTreeStoreCodec{encode(n){sn.f[17]++;sn.s[39]++;return n.serialize()}decode(n,e){sn.f[18]++;sn.s[40]++;return AccountsTreeNode.unserialize(new SerialBuffer(n))}get valueEncoding(){sn.f[19]++;sn.s[41]++;return JDB.JungleDB.BINARY_ENCODING}}var un=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/account/tree/SynchronousAccountsTreeStore.js",e="a5c50cf4181ad980db8ae2706e2b149903f09379",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/account/tree/SynchronousAccountsTreeStore.js",statementMap:{0:{start:{line:6,column:8},end:{line:6,column:21}},1:{start:{line:7,column:8},end:{line:7,column:32}},2:{start:{line:14,column:8},end:{line:14,column:44}},3:{start:{line:23,column:8},end:{line:23,column:65}},4:{start:{line:31,column:20},end:{line:31,column:31}},5:{start:{line:32,column:8},end:{line:32,column:43}},6:{start:{line:33,column:8},end:{line:33,column:19}},7:{start:{line:41,column:20},end:{line:41,column:31}},8:{start:{line:42,column:8},end:{line:42,column:40}},9:{start:{line:43,column:8},end:{line:43,column:19}},10:{start:{line:50,column:8},end:{line:50,column:32}},11:{start:{line:53,column:0},end:{line:53,column:45}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:23},end:{line:8,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:13,column:4},end:{line:13,column:5}},loc:{start:{line:13,column:24},end:{line:15,column:5}},line:13},2:{name:"(anonymous_2)",decl:{start:{line:22,column:4},end:{line:22,column:5}},loc:{start:{line:22,column:45},end:{line:24,column:5}},line:22},3:{name:"(anonymous_3)",decl:{start:{line:30,column:4},end:{line:30,column:5}},loc:{start:{line:30,column:18},end:{line:34,column:5}},line:30},4:{name:"(anonymous_4)",decl:{start:{line:40,column:4},end:{line:40,column:5}},loc:{start:{line:40,column:21},end:{line:44,column:5}},line:40},5:{name:"(anonymous_5)",decl:{start:{line:49,column:4},end:{line:49,column:5}},loc:{start:{line:49,column:22},end:{line:51,column:5}},line:49}},branchMap:{0:{loc:{start:{line:22,column:17},end:{line:22,column:43}},type:"default-arg",locations:[{start:{line:22,column:39},end:{line:22,column:43}}],line:22}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class SynchronousAccountsTreeStore extends AccountsTreeStore{constructor(n){un.f[0]++;un.s[0]++;super(n);un.s[1]++;this._syncStore=n}async preload(n){un.f[1]++;un.s[2]++;await this._syncStore.preload(n)}getSync(n,e=(un.b[0][0]++,!0)){un.f[2]++;un.s[3]++;return this._syncStore.getSync(n,e)}putSync(n){un.f[3]++;const e=(un.s[4]++,n.prefix);un.s[5]++;this._syncStore.putSync(e,n);un.s[6]++;return e}removeSync(n){un.f[4]++;const e=(un.s[7]++,n.prefix);un.s[8]++;this._syncStore.removeSync(e);un.s[9]++;return e}getRootNodeSync(){un.f[5]++;un.s[10]++;return this.getSync("")}}un.s[11]++;Class.register(SynchronousAccountsTreeStore);var mn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/account/tree/AccountsProof.js",e="0e4e5ab9df63609806c95817878f314c7854e339",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/account/tree/AccountsProof.js",statementMap:{0:{start:{line:6,column:8},end:{line:7,column:92}},1:{start:{line:7,column:32},end:{line:7,column:65}},2:{start:{line:7,column:68},end:{line:7,column:92}},3:{start:{line:10,column:8},end:{line:10,column:28}},4:{start:{line:12,column:8},end:{line:12,column:27}},5:{start:{line:20,column:22},end:{line:20,column:38}},6:{start:{line:21,column:22},end:{line:21,column:24}},7:{start:{line:22,column:8},end:{line:24,column:9}},8:{start:{line:23,column:12},end:{line:23,column:58}},9:{start:{line:25,column:8},end:{line:25,column:40}},10:{start:{line:33,column:8},end:{line:33,column:59}},11:{start:{line:34,column:8},end:{line:34,column:44}},12:{start:{line:35,column:8},end:{line:37,column:9}},13:{start:{line:36,column:12},end:{line:36,column:32}},14:{start:{line:38,column:8},end:{line:38,column:19}},15:{start:{line:43,column:29},end:{line:43,column:30}},16:{start:{line:44,column:8},end:{line:46,column:9}},17:{start:{line:45,column:12},end:{line:45,column:40}},18:{start:{line:47,column:8},end:{line:47,column:20}},19:{start:{line:58,column:25},end:{line:58,column:27}},20:{start:{line:59,column:8},end:{line:59,column:36}},21:{start:{line:60,column:8},end:{line:81,column:9}},22:{start:{line:62,column:12},end:{line:77,column:13}},23:{start:{line:64,column:16},end:{line:76,column:17}},24:{start:{line:65,column:20},end:{line:75,column:21}},25:{start:{line:66,column:37},end:{line:66,column:49}},26:{start:{line:68,column:24},end:{line:70,column:25}},27:{start:{line:69,column:28},end:{line:69,column:41}},28:{start:{line:71,column:24},end:{line:71,column:53}},29:{start:{line:73,column:24},end:{line:73,column:45}},30:{start:{line:74,column:24},end:{line:74,column:30}},31:{start:{line:80,column:12},end:{line:80,column:32}},32:{start:{line:84,column:8},end:{line:84,column:92}},33:{start:{line:92,column:8},end:{line:94,column:9}},34:{start:{line:93,column:12},end:{line:93,column:111}},35:{start:{line:96,column:25},end:{line:96,column:60}},36:{start:{line:97,column:23},end:{line:97,column:38}},37:{start:{line:98,column:8},end:{line:98,column:50}},38:{start:{line:109,column:29},end:{line:109,column:74}},39:{start:{line:112,column:8},end:{line:112,column:68}},40:{start:{line:112,column:56},end:{line:112,column:68}},41:{start:{line:115,column:8},end:{line:115,column:57}},42:{start:{line:115,column:37},end:{line:115,column:57}},43:{start:{line:118,column:25},end:{line:118,column:50}},44:{start:{line:119,column:8},end:{line:128,column:9}},45:{start:{line:120,column:30},end:{line:120,column:55}},46:{start:{line:123,column:12},end:{line:125,column:13}},47:{start:{line:124,column:16},end:{line:124,column:79}},48:{start:{line:127,column:12},end:{line:127,column:55}},49:{start:{line:131,column:8},end:{line:131,column:20}},50:{start:{line:138,column:8},end:{line:138,column:54}},51:{start:{line:145,column:8},end:{line:145,column:58}},52:{start:{line:150,column:8},end:{line:150,column:34}},53:{start:{line:155,column:8},end:{line:155,column:27}},54:{start:{line:158,column:0},end:{line:158,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:23},end:{line:13,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:7,column:26},end:{line:7,column:27}},loc:{start:{line:7,column:32},end:{line:7,column:65}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:19,column:4},end:{line:19,column:5}},loc:{start:{line:19,column:28},end:{line:26,column:5}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:32,column:4},end:{line:32,column:5}},loc:{start:{line:32,column:19},end:{line:39,column:5}},line:32},4:{name:"(anonymous_4)",decl:{start:{line:42,column:4},end:{line:42,column:5}},loc:{start:{line:42,column:25},end:{line:48,column:5}},line:42},5:{name:"(anonymous_5)",decl:{start:{line:56,column:4},end:{line:56,column:5}},loc:{start:{line:56,column:13},end:{line:85,column:5}},line:56},6:{name:"(anonymous_6)",decl:{start:{line:91,column:4},end:{line:91,column:5}},loc:{start:{line:91,column:24},end:{line:99,column:5}},line:91},7:{name:"(anonymous_7)",decl:{start:{line:107,column:4},end:{line:107,column:5}},loc:{start:{line:107,column:30},end:{line:132,column:5}},line:107},8:{name:"(anonymous_8)",decl:{start:{line:137,column:4},end:{line:137,column:5}},loc:{start:{line:137,column:15},end:{line:139,column:5}},line:137},9:{name:"(anonymous_9)",decl:{start:{line:144,column:4},end:{line:144,column:5}},loc:{start:{line:144,column:11},end:{line:146,column:5}},line:144},10:{name:"(anonymous_10)",decl:{start:{line:149,column:4},end:{line:149,column:5}},loc:{start:{line:149,column:17},end:{line:151,column:5}},line:149},11:{name:"(anonymous_11)",decl:{start:{line:154,column:4},end:{line:154,column:5}},loc:{start:{line:154,column:16},end:{line:156,column:5}},line:154}},branchMap:{0:{loc:{start:{line:6,column:8},end:{line:7,column:92}},type:"if",locations:[{start:{line:6,column:8},end:{line:7,column:92}},{start:{line:6,column:8},end:{line:7,column:92}}],line:6},1:{loc:{start:{line:6,column:12},end:{line:7,column:66}},type:"binary-expr",locations:[{start:{line:6,column:12},end:{line:6,column:18}},{start:{line:6,column:22},end:{line:6,column:43}},{start:{line:6,column:47},end:{line:6,column:82}},{start:{line:7,column:15},end:{line:7,column:66}}],line:6},2:{loc:{start:{line:33,column:14},end:{line:33,column:58}},type:"binary-expr",locations:[{start:{line:33,column:14},end:{line:33,column:17}},{start:{line:33,column:21},end:{line:33,column:58}}],line:33},3:{loc:{start:{line:62,column:12},end:{line:77,column:13}},type:"if",locations:[{start:{line:62,column:12},end:{line:77,column:13}},{start:{line:62,column:12},end:{line:77,column:13}}],line:62},4:{loc:{start:{line:65,column:20},end:{line:75,column:21}},type:"if",locations:[{start:{line:65,column:20},end:{line:75,column:21}},{start:{line:65,column:20},end:{line:75,column:21}}],line:65},5:{loc:{start:{line:68,column:24},end:{line:70,column:25}},type:"if",locations:[{start:{line:68,column:24},end:{line:70,column:25}},{start:{line:68,column:24},end:{line:70,column:25}}],line:68},6:{loc:{start:{line:68,column:28},end:{line:68,column:121}},type:"binary-expr",locations:[{start:{line:68,column:28},end:{line:68,column:73}},{start:{line:68,column:77},end:{line:68,column:121}}],line:68},7:{loc:{start:{line:84,column:15},end:{line:84,column:91}},type:"binary-expr",locations:[{start:{line:84,column:15},end:{line:84,column:36}},{start:{line:84,column:40},end:{line:84,column:65}},{start:{line:84,column:69},end:{line:84,column:91}}],line:84},8:{loc:{start:{line:92,column:8},end:{line:94,column:9}},type:"if",locations:[{start:{line:92,column:8},end:{line:94,column:9}},{start:{line:92,column:8},end:{line:94,column:9}}],line:92},9:{loc:{start:{line:112,column:8},end:{line:112,column:68}},type:"if",locations:[{start:{line:112,column:8},end:{line:112,column:68}},{start:{line:112,column:8},end:{line:112,column:68}}],line:112},10:{loc:{start:{line:115,column:8},end:{line:115,column:57}},type:"if",locations:[{start:{line:115,column:8},end:{line:115,column:57}},{start:{line:115,column:8},end:{line:115,column:57}}],line:115},11:{loc:{start:{line:119,column:8},end:{line:128,column:9}},type:"if",locations:[{start:{line:119,column:8},end:{line:128,column:9}},{start:{line:119,column:8},end:{line:128,column:9}}],line:119},12:{loc:{start:{line:123,column:12},end:{line:125,column:13}},type:"if",locations:[{start:{line:123,column:12},end:{line:125,column:13}},{start:{line:123,column:12},end:{line:125,column:13}}],line:123}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0],1:[0,0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class AccountsProof{constructor(n){mn.f[0]++;mn.s[0]++;if(!((mn.b[1][0]++,n)&&(mn.b[1][1]++,Array.isArray(n))&&(mn.b[1][2]++,NumberUtils.isUint16(n.length)))||(mn.b[1][3]++,n.some(n=>{mn.f[1]++;mn.s[1]++;return!(n instanceof AccountsTreeNode)}))){mn.b[0][0]++;mn.s[2]++;throw"Malformed nodes"}mn.b[0][1]++;mn.s[3]++;this._nodes=n;mn.s[4]++;this._index=null}static unserialize(n){mn.f[2]++;const e=(mn.s[5]++,n.readUint16()),l=(mn.s[6]++,[]);mn.s[7]++;for(let t=0;t<e;t++){mn.s[8]++;l.push(AccountsTreeNode.unserialize(n))}mn.s[9]++;return new AccountsProof(l)}serialize(n){mn.f[3]++;mn.s[10]++;n=(mn.b[2][0]++,n)||(mn.b[2][1]++,new SerialBuffer(this.serializedSize));mn.s[11]++;n.writeUint16(this._nodes.length);mn.s[12]++;for(const e of this._nodes){mn.s[13]++;e.serialize(n)}mn.s[14]++;return n}get serializedSize(){mn.f[4]++;let n=(mn.s[15]++,2);mn.s[16]++;for(const e of this._nodes){mn.s[17]++;n+=e.serializedSize}mn.s[18]++;return n}verify(){mn.f[5]++;const n=(mn.s[19]++,[]);mn.s[20]++;this._index=new HashMap;mn.s[21]++;for(const e of this._nodes){mn.s[22]++;if(e.isBranch()){mn.b[3][0]++;let l;mn.s[23]++;for(;l=n.pop();){mn.s[24]++;if(!l.isChildOf(e)){mn.b[4][1]++;mn.s[29]++;n.push(l);mn.s[30]++;break}{mn.b[4][0]++;const n=(mn.s[25]++,l.hash());mn.s[26]++;if((mn.b[6][0]++,!e.getChildHash(l.prefix).equals(n))||(mn.b[6][1]++,e.getChild(l.prefix)!==l.prefix)){mn.b[5][0]++;mn.s[27]++;return!1}mn.b[5][1]++;mn.s[28]++;this._index.put(n,l)}}}else mn.b[3][1]++;mn.s[31]++;n.push(e)}mn.s[32]++;return(mn.b[7][0]++,1===n.length)&&(mn.b[7][1]++,""===n[0].prefix)&&(mn.b[7][2]++,n[0].isBranch())}getAccount(n){mn.f[6]++;mn.s[33]++;if(!this._index){mn.b[8][0]++;mn.s[34]++;throw new Error("AccountsProof must be verified before retrieving accounts. Call verify() first.")}mn.b[8][1]++;const e=(mn.s[35]++,this._nodes[this._nodes.length-1]),l=(mn.s[36]++,n.toHex());mn.s[37]++;return this._getAccount(e,l)}_getAccount(n,e){mn.f[7]++;const l=(mn.s[38]++,StringUtils.commonPrefix(n.prefix,e));mn.s[39]++;if(l.length!==n.prefix.length){mn.b[9][0]++;mn.s[40]++;return null}mn.b[9][1]++;mn.s[41]++;if(l===e){mn.b[10][0]++;mn.s[42]++;return n.account}mn.b[10][1]++;const t=(mn.s[43]++,n.getChildHash(e));mn.s[44]++;if(t){mn.b[11][0]++;const n=(mn.s[45]++,this._index.get(t));mn.s[46]++;if(!n){mn.b[12][0]++;mn.s[47]++;throw new Error("Requested address not part of AccountsProof")}mn.b[12][1]++;mn.s[48]++;return this._getAccount(n,e)}mn.b[11][1]++;mn.s[49]++;return null}toString(){mn.f[8]++;mn.s[50]++;return`AccountsProof{length=${this.length}}`}root(){mn.f[9]++;mn.s[51]++;return this._nodes[this._nodes.length-1].hash()}get length(){mn.f[10]++;mn.s[52]++;return this._nodes.length}get nodes(){mn.f[11]++;mn.s[53]++;return this._nodes}}mn.s[54]++;Class.register(AccountsProof);var rn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/account/tree/AccountsTreeChunk.js",e="a96ff20479308dc45610a379ba6da1058ee007a5",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/account/tree/AccountsTreeChunk.js",statementMap:{0:{start:{line:7,column:8},end:{line:8,column:112}},1:{start:{line:8,column:32},end:{line:8,column:85}},2:{start:{line:8,column:88},end:{line:8,column:112}},3:{start:{line:11,column:8},end:{line:11,column:28}},4:{start:{line:12,column:8},end:{line:12,column:28}},5:{start:{line:20,column:22},end:{line:20,column:38}},6:{start:{line:21,column:22},end:{line:21,column:24}},7:{start:{line:22,column:8},end:{line:24,column:9}},8:{start:{line:23,column:12},end:{line:23,column:58}},9:{start:{line:25,column:22},end:{line:25,column:52}},10:{start:{line:26,column:8},end:{line:26,column:51}},11:{start:{line:34,column:8},end:{line:34,column:59}},12:{start:{line:35,column:8},end:{line:35,column:44}},13:{start:{line:36,column:8},end:{line:38,column:9}},14:{start:{line:37,column:12},end:{line:37,column:32}},15:{start:{line:39,column:8},end:{line:39,column:35}},16:{start:{line:40,column:8},end:{line:40,column:19}},17:{start:{line:45,column:29},end:{line:45,column:30}},18:{start:{line:46,column:8},end:{line:48,column:9}},19:{start:{line:47,column:12},end:{line:47,column:40}},20:{start:{line:49,column:8},end:{line:49,column:43}},21:{start:{line:50,column:8},end:{line:50,column:20}},22:{start:{line:57,column:8},end:{line:59,column:9}},23:{start:{line:58,column:12},end:{line:58,column:25}},24:{start:{line:61,column:25},end:{line:61,column:29}},25:{start:{line:62,column:8},end:{line:68,column:9}},26:{start:{line:63,column:25},end:{line:63,column:76}},27:{start:{line:64,column:12},end:{line:66,column:13}},28:{start:{line:65,column:16},end:{line:65,column:29}},29:{start:{line:67,column:12},end:{line:67,column:37}},30:{start:{line:69,column:8},end:{line:69,column:20}},31:{start:{line:76,column:8},end:{line:76,column:58}},32:{start:{line:83,column:8},end:{line:83,column:34}},33:{start:{line:88,column:8},end:{line:88,column:47}},34:{start:{line:93,column:8},end:{line:93,column:27}},35:{start:{line:98,column:8},end:{line:98,column:30}},36:{start:{line:103,column:8},end:{line:103,column:36}},37:{start:{line:108,column:8},end:{line:108,column:38}},38:{start:{line:111,column:0},end:{line:111,column:34}},39:{start:{line:112,column:0},end:{line:112,column:75}},40:{start:{line:113,column:0},end:{line:113,column:34}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:30},end:{line:13,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:8,column:26},end:{line:8,column:27}},loc:{start:{line:8,column:32},end:{line:8,column:85}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:19,column:4},end:{line:19,column:5}},loc:{start:{line:19,column:28},end:{line:27,column:5}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:33,column:4},end:{line:33,column:5}},loc:{start:{line:33,column:19},end:{line:41,column:5}},line:33},4:{name:"(anonymous_4)",decl:{start:{line:44,column:4},end:{line:44,column:5}},loc:{start:{line:44,column:25},end:{line:51,column:5}},line:44},5:{name:"(anonymous_5)",decl:{start:{line:56,column:4},end:{line:56,column:5}},loc:{start:{line:56,column:13},end:{line:70,column:5}},line:56},6:{name:"(anonymous_6)",decl:{start:{line:75,column:4},end:{line:75,column:5}},loc:{start:{line:75,column:15},end:{line:77,column:5}},line:75},7:{name:"(anonymous_7)",decl:{start:{line:82,column:4},end:{line:82,column:5}},loc:{start:{line:82,column:11},end:{line:84,column:5}},line:82},8:{name:"(anonymous_8)",decl:{start:{line:87,column:4},end:{line:87,column:5}},loc:{start:{line:87,column:24},end:{line:89,column:5}},line:87},9:{name:"(anonymous_9)",decl:{start:{line:92,column:4},end:{line:92,column:5}},loc:{start:{line:92,column:16},end:{line:94,column:5}},line:92},10:{name:"(anonymous_10)",decl:{start:{line:97,column:4},end:{line:97,column:5}},loc:{start:{line:97,column:15},end:{line:99,column:5}},line:97},11:{name:"(anonymous_11)",decl:{start:{line:102,column:4},end:{line:102,column:5}},loc:{start:{line:102,column:15},end:{line:104,column:5}},line:102},12:{name:"(anonymous_12)",decl:{start:{line:107,column:4},end:{line:107,column:5}},loc:{start:{line:107,column:17},end:{line:109,column:5}},line:107}},branchMap:{0:{loc:{start:{line:7,column:8},end:{line:8,column:112}},type:"if",locations:[{start:{line:7,column:8},end:{line:8,column:112}},{start:{line:7,column:8},end:{line:8,column:112}}],line:7},1:{loc:{start:{line:7,column:12},end:{line:8,column:86}},type:"binary-expr",locations:[{start:{line:7,column:12},end:{line:7,column:18}},{start:{line:7,column:22},end:{line:7,column:57}},{start:{line:8,column:15},end:{line:8,column:86}}],line:7},2:{loc:{start:{line:8,column:32},end:{line:8,column:85}},type:"binary-expr",locations:[{start:{line:8,column:32},end:{line:8,column:65}},{start:{line:8,column:69},end:{line:8,column:85}}],line:8},3:{loc:{start:{line:34,column:14},end:{line:34,column:58}},type:"binary-expr",locations:[{start:{line:34,column:14},end:{line:34,column:17}},{start:{line:34,column:21},end:{line:34,column:58}}],line:34},4:{loc:{start:{line:57,column:8},end:{line:59,column:9}},type:"if",locations:[{start:{line:57,column:8},end:{line:59,column:9}},{start:{line:57,column:8},end:{line:59,column:9}}],line:57},5:{loc:{start:{line:63,column:25},end:{line:63,column:76}},type:"cond-expr",locations:[{start:{line:63,column:50},end:{line:63,column:64}},{start:{line:63,column:67},end:{line:63,column:76}}],line:63},6:{loc:{start:{line:64,column:12},end:{line:66,column:13}},type:"if",locations:[{start:{line:64,column:12},end:{line:66,column:13}},{start:{line:64,column:12},end:{line:66,column:13}}],line:64},7:{loc:{start:{line:64,column:16},end:{line:64,column:55}},type:"binary-expr",locations:[{start:{line:64,column:16},end:{line:64,column:26}},{start:{line:64,column:30},end:{line:64,column:55}}],line:64}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0],1:[0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class AccountsTreeChunk{constructor(n,e){rn.f[0]++;rn.s[0]++;if((rn.b[1][0]++,!n)||(rn.b[1][1]++,!NumberUtils.isUint16(n.length))||(rn.b[1][2]++,n.some(n=>{rn.f[1]++;rn.s[1]++;return!((rn.b[2][0]++,n instanceof AccountsTreeNode)&&(rn.b[2][1]++,n.isTerminal()))}))){rn.b[0][0]++;rn.s[2]++;throw"Malformed nodes"}rn.b[0][1]++;rn.s[3]++;this._nodes=n;rn.s[4]++;this._proof=e}static unserialize(n){rn.f[2]++;const e=(rn.s[5]++,n.readUint16()),l=(rn.s[6]++,[]);rn.s[7]++;for(let o=0;o<e;o++){rn.s[8]++;l.push(AccountsTreeNode.unserialize(n))}const t=(rn.s[9]++,AccountsProof.unserialize(n));rn.s[10]++;return new AccountsTreeChunk(l,t)}serialize(n){rn.f[3]++;rn.s[11]++;n=(rn.b[3][0]++,n)||(rn.b[3][1]++,new SerialBuffer(this.serializedSize));rn.s[12]++;n.writeUint16(this._nodes.length);rn.s[13]++;for(const e of this._nodes){rn.s[14]++;e.serialize(n)}rn.s[15]++;this._proof.serialize(n);rn.s[16]++;return n}get serializedSize(){rn.f[4]++;let n=(rn.s[17]++,2);rn.s[18]++;for(const e of this._nodes){rn.s[19]++;n+=e.serializedSize}rn.s[20]++;n+=this._proof.serializedSize;rn.s[21]++;return n}verify(){rn.f[5]++;rn.s[22]++;if(!this._proof.verify()){rn.b[4][0]++;rn.s[23]++;return!1}rn.b[4][1]++;let n=(rn.s[24]++,null);rn.s[25]++;for(let e=0;e<=this._nodes.length;++e){const l=(rn.s[26]++,e<this._nodes.length?(rn.b[5][0]++,this._nodes[e]):(rn.b[5][1]++,this.tail));rn.s[27]++;if((rn.b[7][0]++,n)&&(rn.b[7][1]++,n>=l.prefix)){rn.b[6][0]++;rn.s[28]++;return!1}rn.b[6][1]++;rn.s[29]++;n=l.prefix}rn.s[30]++;return!0}toString(){rn.f[6]++;rn.s[31]++;return`AccountsTreeChunk{length=${this.length}}`}root(){rn.f[7]++;rn.s[32]++;return this._proof.root()}get terminalNodes(){rn.f[8]++;rn.s[33]++;return this._nodes.concat([this.tail])}get proof(){rn.f[9]++;rn.s[34]++;return this._proof}get head(){rn.f[10]++;rn.s[35]++;return this._nodes[0]}get tail(){rn.f[11]++;rn.s[36]++;return this._proof.nodes[0]}get length(){rn.f[12]++;rn.s[37]++;return this._nodes.length+1}}rn.s[38]++;AccountsTreeChunk.SIZE_MAX=1e3;rn.s[39]++;AccountsTreeChunk.EMPTY=new AccountsTreeChunk([],new AccountsProof([]));rn.s[40]++;Class.register(AccountsTreeChunk);var an=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/account/tree/AccountsTree.js",e="e0111341c78545b6f348b1733a7ff0c122171f21",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/account/tree/AccountsTree.js",statementMap:{0:{start:{line:6,column:22},end:{line:6,column:58}},1:{start:{line:7,column:21},end:{line:7,column:44}},2:{start:{line:8,column:8},end:{line:8,column:28}},3:{start:{line:15,column:22},end:{line:15,column:56}},4:{start:{line:16,column:21},end:{line:16,column:44}},5:{start:{line:17,column:8},end:{line:17,column:28}},6:{start:{line:26,column:8},end:{line:26,column:16}},7:{start:{line:28,column:8},end:{line:28,column:28}},8:{start:{line:29,column:8},end:{line:29,column:48}},9:{start:{line:37,column:23},end:{line:37,column:54}},10:{start:{line:38,column:8},end:{line:41,column:9}},11:{start:{line:39,column:12},end:{line:39,column:114}},12:{start:{line:40,column:12},end:{line:40,column:44}},13:{start:{line:42,column:8},end:{line:42,column:20}},14:{start:{line:51,column:8},end:{line:53,column:11}},15:{start:{line:52,column:12},end:{line:52,column:47}},16:{start:{line:63,column:8},end:{line:65,column:9}},17:{start:{line:64,column:12},end:{line:64,column:19}},18:{start:{line:68,column:25},end:{line:68,column:56}},19:{start:{line:69,column:8},end:{line:69,column:91}},20:{start:{line:72,column:23},end:{line:72,column:38}},21:{start:{line:73,column:8},end:{line:73,column:58}},22:{start:{line:86,column:29},end:{line:86,column:74}},23:{start:{line:89,column:8},end:{line:103,column:9}},24:{start:{line:91,column:29},end:{line:91,column:75}},25:{start:{line:92,column:33},end:{line:92,column:48}},26:{start:{line:93,column:12},end:{line:93,column:44}},27:{start:{line:96,column:30},end:{line:98,column:57}},28:{start:{line:99,column:34},end:{line:99,column:50}},29:{start:{line:100,column:12},end:{line:100,column:45}},30:{start:{line:102,column:12},end:{line:102,column:79}},31:{start:{line:107,column:8},end:{line:124,column:9}},32:{start:{line:112,column:12},end:{line:116,column:13}},33:{start:{line:113,column:16},end:{line:113,column:47}},34:{start:{line:115,column:16},end:{line:115,column:58}},35:{start:{line:119,column:12},end:{line:119,column:45}},36:{start:{line:120,column:29},end:{line:120,column:40}},37:{start:{line:121,column:12},end:{line:121,column:40}},38:{start:{line:123,column:12},end:{line:123,column:69}},39:{start:{line:128,column:28},end:{line:128,column:49}},40:{start:{line:129,column:8},end:{line:133,column:9}},41:{start:{line:130,column:30},end:{line:130,column:64}},42:{start:{line:131,column:12},end:{line:131,column:32}},43:{start:{line:132,column:12},end:{line:132,column:70}},44:{start:{line:136,column:25},end:{line:136,column:71}},45:{start:{line:137,column:29},end:{line:137,column:44}},46:{start:{line:138,column:8},end:{line:138,column:40}},47:{start:{line:140,column:8},end:{line:140,column:61}},48:{start:{line:141,column:25},end:{line:141,column:36}},49:{start:{line:142,column:8},end:{line:142,column:36}},50:{start:{line:144,column:8},end:{line:144,column:65}},51:{start:{line:156,column:16},end:{line:156,column:35}},52:{start:{line:157,column:8},end:{line:184,column:9}},53:{start:{line:158,column:23},end:{line:158,column:34}},54:{start:{line:160,column:12},end:{line:160,column:45}},55:{start:{line:163,column:12},end:{line:180,column:13}},56:{start:{line:164,column:16},end:{line:164,column:47}},57:{start:{line:166,column:36},end:{line:166,column:56}},58:{start:{line:167,column:34},end:{line:167,column:68}},59:{start:{line:169,column:16},end:{line:169,column:49}},60:{start:{line:170,column:34},end:{line:170,column:50}},61:{start:{line:171,column:16},end:{line:171,column:91}},62:{start:{line:176,column:17},end:{line:180,column:13}},63:{start:{line:177,column:33},end:{line:177,column:44}},64:{start:{line:178,column:16},end:{line:178,column:44}},65:{start:{line:179,column:16},end:{line:179,column:85}},66:{start:{line:183,column:12},end:{line:183,column:33}},67:{start:{line:187,column:8},end:{line:187,column:25}},68:{start:{line:200,column:16},end:{line:200,column:35}},69:{start:{line:201,column:8},end:{line:208,column:9}},70:{start:{line:202,column:23},end:{line:202,column:34}},71:{start:{line:204,column:12},end:{line:204,column:52}},72:{start:{line:205,column:12},end:{line:205,column:40}},73:{start:{line:206,column:12},end:{line:206,column:35}},74:{start:{line:207,column:12},end:{line:207,column:33}},75:{start:{line:210,column:8},end:{line:210,column:24}},76:{start:{line:218,column:21},end:{line:218,column:59}},77:{start:{line:219,column:8},end:{line:219,column:56}},78:{start:{line:227,column:25},end:{line:227,column:56}},79:{start:{line:228,column:8},end:{line:228,column:91}},80:{start:{line:230,column:25},end:{line:230,column:27}},81:{start:{line:231,column:8},end:{line:233,column:9}},82:{start:{line:232,column:12},end:{line:232,column:43}},83:{start:{line:235,column:8},end:{line:235,column:24}},84:{start:{line:237,column:22},end:{line:237,column:24}},85:{start:{line:238,column:8},end:{line:238,column:64}},86:{start:{line:239,column:8},end:{line:239,column:40}},87:{start:{line:252,column:26},end:{line:252,column:31}},88:{start:{line:253,column:8},end:{line:297,column:9}},89:{start:{line:254,column:25},end:{line:254,column:36}},90:{start:{line:257,column:33},end:{line:257,column:78}},91:{start:{line:262,column:12},end:{line:266,column:13}},92:{start:{line:263,column:16},end:{line:263,column:35}},93:{start:{line:264,column:16},end:{line:264,column:20}},94:{start:{line:265,column:16},end:{line:265,column:25}},95:{start:{line:269,column:29},end:{line:269,column:50}},96:{start:{line:270,column:12},end:{line:296,column:13}},97:{start:{line:271,column:34},end:{line:271,column:65}},98:{start:{line:277,column:36},end:{line:277,column:44}},99:{start:{line:279,column:24},end:{line:279,column:29}},100:{start:{line:280,column:16},end:{line:285,column:17}},101:{start:{line:282,column:20},end:{line:282,column:73}},102:{start:{line:282,column:67},end:{line:282,column:73}},103:{start:{line:284,column:20},end:{line:284,column:50}},104:{start:{line:288,column:16},end:{line:288,column:22}},105:{start:{line:290,column:16},end:{line:290,column:107}},106:{start:{line:294,column:16},end:{line:294,column:35}},107:{start:{line:295,column:16},end:{line:295,column:20}},108:{start:{line:300,column:8},end:{line:302,column:9}},109:{start:{line:301,column:12},end:{line:301,column:29}},110:{start:{line:304,column:8},end:{line:304,column:27}},111:{start:{line:313,column:22},end:{line:313,column:75}},112:{start:{line:314,column:25},end:{line:314,column:36}},113:{start:{line:316,column:8},end:{line:321,column:9}},114:{start:{line:317,column:12},end:{line:317,column:84}},115:{start:{line:320,column:12},end:{line:320,column:111}},116:{start:{line:322,column:8},end:{line:322,column:51}},117:{start:{line:330,column:21},end:{line:330,column:78}},118:{start:{line:331,column:8},end:{line:331,column:28}},119:{start:{line:339,column:19},end:{line:339,column:69}},120:{start:{line:340,column:21},end:{line:340,column:52}},121:{start:{line:341,column:8},end:{line:341,column:28}},122:{start:{line:348,column:19},end:{line:348,column:60}},123:{start:{line:349,column:8},end:{line:349,column:28}},124:{start:{line:350,column:21},end:{line:350,column:48}},125:{start:{line:351,column:8},end:{line:351,column:28}},126:{start:{line:359,column:21},end:{line:359,column:87}},127:{start:{line:360,column:8},end:{line:360,column:28}},128:{start:{line:367,column:8},end:{line:367,column:65}},129:{start:{line:368,column:8},end:{line:368,column:36}},130:{start:{line:375,column:8},end:{line:375,column:35}},131:{start:{line:382,column:25},end:{line:382,column:56}},132:{start:{line:383,column:8},end:{line:383,column:43}},133:{start:{line:388,column:8},end:{line:388,column:30}},134:{start:{line:395,column:25},end:{line:395,column:56}},135:{start:{line:396,column:8},end:{line:396,column:39}},136:{start:{line:399,column:0},end:{line:399,column:29}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:36},end:{line:9,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:14,column:4},end:{line:14,column:5}},loc:{start:{line:14,column:34},end:{line:18,column:5}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:25,column:4},end:{line:25,column:5}},loc:{start:{line:25,column:23},end:{line:30,column:5}},line:25},3:{name:"(anonymous_3)",decl:{start:{line:36,column:4},end:{line:36,column:5}},loc:{start:{line:36,column:18},end:{line:43,column:5}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:50,column:4},end:{line:50,column:5}},loc:{start:{line:50,column:26},end:{line:54,column:5}},line:50},5:{name:"(anonymous_5)",decl:{start:{line:51,column:39},end:{line:51,column:40}},loc:{start:{line:51,column:45},end:{line:53,column:9}},line:51},6:{name:"(anonymous_6)",decl:{start:{line:62,column:4},end:{line:62,column:5}},loc:{start:{line:62,column:33},end:{line:74,column:5}},line:62},7:{name:"(anonymous_7)",decl:{start:{line:84,column:4},end:{line:84,column:5}},loc:{start:{line:84,column:51},end:{line:145,column:5}},line:84},8:{name:"(anonymous_8)",decl:{start:{line:153,column:4},end:{line:153,column:5}},loc:{start:{line:153,column:35},end:{line:188,column:5}},line:153},9:{name:"(anonymous_9)",decl:{start:{line:197,column:4},end:{line:197,column:5}},loc:{start:{line:197,column:50},end:{line:211,column:5}},line:197},10:{name:"(anonymous_10)",decl:{start:{line:217,column:4},end:{line:217,column:5}},loc:{start:{line:217,column:23},end:{line:220,column:5}},line:217},11:{name:"(anonymous_11)",decl:{start:{line:226,column:4},end:{line:226,column:5}},loc:{start:{line:226,column:38},end:{line:240,column:5}},line:226},12:{name:"(anonymous_12)",decl:{start:{line:250,column:4},end:{line:250,column:5}},loc:{start:{line:250,column:51},end:{line:305,column:5}},line:250},13:{name:"(anonymous_13)",decl:{start:{line:312,column:4},end:{line:312,column:5}},loc:{start:{line:312,column:38},end:{line:323,column:5}},line:312},14:{name:"(anonymous_14)",decl:{start:{line:329,column:4},end:{line:329,column:5}},loc:{start:{line:329,column:39},end:{line:332,column:5}},line:329},15:{name:"(anonymous_15)",decl:{start:{line:338,column:4},end:{line:338,column:5}},loc:{start:{line:338,column:50},end:{line:342,column:5}},line:338},16:{name:"(anonymous_16)",decl:{start:{line:347,column:4},end:{line:347,column:5}},loc:{start:{line:347,column:24},end:{line:352,column:5}},line:347},17:{name:"(anonymous_17)",decl:{start:{line:358,column:4},end:{line:358,column:5}},loc:{start:{line:358,column:17},end:{line:361,column:5}},line:358},18:{name:"(anonymous_18)",decl:{start:{line:366,column:4},end:{line:366,column:5}},loc:{start:{line:366,column:19},end:{line:369,column:5}},line:366},19:{name:"(anonymous_19)",decl:{start:{line:374,column:4},end:{line:374,column:5}},loc:{start:{line:374,column:12},end:{line:376,column:5}},line:374},20:{name:"(anonymous_20)",decl:{start:{line:381,column:4},end:{line:381,column:5}},loc:{start:{line:381,column:17},end:{line:384,column:5}},line:381},21:{name:"(anonymous_21)",decl:{start:{line:387,column:4},end:{line:387,column:5}},loc:{start:{line:387,column:13},end:{line:389,column:5}},line:387},22:{name:"(anonymous_22)",decl:{start:{line:394,column:4},end:{line:394,column:5}},loc:{start:{line:394,column:20},end:{line:397,column:5}},line:394}},branchMap:{0:{loc:{start:{line:38,column:8},end:{line:41,column:9}},type:"if",locations:[{start:{line:38,column:8},end:{line:41,column:9}},{start:{line:38,column:8},end:{line:41,column:9}}],line:38},1:{loc:{start:{line:63,column:8},end:{line:65,column:9}},type:"if",locations:[{start:{line:63,column:8},end:{line:65,column:9}},{start:{line:63,column:8},end:{line:65,column:9}}],line:63},2:{loc:{start:{line:63,column:12},end:{line:63,column:61}},type:"binary-expr",locations:[{start:{line:63,column:12},end:{line:63,column:31}},{start:{line:63,column:35},end:{line:63,column:61}}],line:63},3:{loc:{start:{line:89,column:8},end:{line:103,column:9}},type:"if",locations:[{start:{line:89,column:8},end:{line:103,column:9}},{start:{line:89,column:8},end:{line:103,column:9}}],line:89},4:{loc:{start:{line:107,column:8},end:{line:124,column:9}},type:"if",locations:[{start:{line:107,column:8},end:{line:124,column:9}},{start:{line:107,column:8},end:{line:124,column:9}}],line:107},5:{loc:{start:{line:112,column:12},end:{line:116,column:13}},type:"if",locations:[{start:{line:112,column:12},end:{line:116,column:13}},{start:{line:112,column:12},end:{line:116,column:13}}],line:112},6:{loc:{start:{line:129,column:8},end:{line:133,column:9}},type:"if",locations:[{start:{line:129,column:8},end:{line:133,column:9}},{start:{line:129,column:8},end:{line:133,column:9}}],line:129},7:{loc:{start:{line:163,column:12},end:{line:180,column:13}},type:"if",locations:[{start:{line:163,column:12},end:{line:180,column:13}},{start:{line:163,column:12},end:{line:180,column:13}}],line:163},8:{loc:{start:{line:163,column:16},end:{line:163,column:59}},type:"binary-expr",locations:[{start:{line:163,column:16},end:{line:163,column:37}},{start:{line:163,column:41},end:{line:163,column:59}}],line:163},9:{loc:{start:{line:176,column:17},end:{line:180,column:13}},type:"if",locations:[{start:{line:176,column:17},end:{line:180,column:13}},{start:{line:176,column:17},end:{line:180,column:13}}],line:176},10:{loc:{start:{line:176,column:21},end:{line:176,column:61}},type:"binary-expr",locations:[{start:{line:176,column:21},end:{line:176,column:39}},{start:{line:176,column:43},end:{line:176,column:61}}],line:176},11:{loc:{start:{line:219,column:15},end:{line:219,column:55}},type:"cond-expr",locations:[{start:{line:219,column:36},end:{line:219,column:48}},{start:{line:219,column:51},end:{line:219,column:55}}],line:219},12:{loc:{start:{line:262,column:12},end:{line:266,column:13}},type:"if",locations:[{start:{line:262,column:12},end:{line:266,column:13}},{start:{line:262,column:12},end:{line:266,column:13}}],line:262},13:{loc:{start:{line:262,column:16},end:{line:262,column:84}},type:"binary-expr",locations:[{start:{line:262,column:16},end:{line:262,column:58}},{start:{line:262,column:62},end:{line:262,column:84}}],line:262},14:{loc:{start:{line:270,column:12},end:{line:296,column:13}},type:"if",locations:[{start:{line:270,column:12},end:{line:296,column:13}},{start:{line:270,column:12},end:{line:296,column:13}}],line:270},15:{loc:{start:{line:282,column:20},end:{line:282,column:73}},type:"if",locations:[{start:{line:282,column:20},end:{line:282,column:73}},{start:{line:282,column:20},end:{line:282,column:73}}],line:282},16:{loc:{start:{line:290,column:30},end:{line:290,column:106}},type:"binary-expr",locations:[{start:{line:290,column:31},end:{line:290,column:90}},{start:{line:290,column:95},end:{line:290,column:106}}],line:290},17:{loc:{start:{line:300,column:8},end:{line:302,column:9}},type:"if",locations:[{start:{line:300,column:8},end:{line:302,column:9}},{start:{line:300,column:8},end:{line:302,column:9}}],line:300},18:{loc:{start:{line:316,column:8},end:{line:321,column:9}},type:"if",locations:[{start:{line:316,column:8},end:{line:321,column:9}},{start:{line:316,column:8},end:{line:321,column:9}}],line:316},19:{loc:{start:{line:329,column:16},end:{line:329,column:37}},type:"default-arg",locations:[{start:{line:329,column:33},end:{line:329,column:37}}],line:329},20:{loc:{start:{line:338,column:27},end:{line:338,column:48}},type:"default-arg",locations:[{start:{line:338,column:44},end:{line:338,column:48}}],line:338},21:{loc:{start:{line:359,column:59},end:{line:359,column:85}},type:"cond-expr",locations:[{start:{line:359,column:64},end:{line:359,column:73}},{start:{line:359,column:76},end:{line:359,column:85}}],line:359},22:{loc:{start:{line:383,column:15},end:{line:383,column:42}},type:"binary-expr",locations:[{start:{line:383,column:15},end:{line:383,column:23}},{start:{line:383,column:27},end:{line:383,column:42}}],line:383}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0],20:[0],21:[0,0],22:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class AccountsTree extends Observable{static async getPersistent(n){an.f[0]++;const e=(an.s[0]++,AccountsTreeStore.getPersistent(n)),l=(an.s[1]++,new AccountsTree(e));an.s[2]++;return l._init()}static async createVolatile(){an.f[1]++;const n=(an.s[3]++,AccountsTreeStore.createVolatile()),e=(an.s[4]++,new AccountsTree(n));an.s[5]++;return e._init()}constructor(n){an.f[2]++;an.s[6]++;super();an.s[7]++;this._store=n;an.s[8]++;this._synchronizer=new Synchronizer}async _init(){an.f[3]++;let n=(an.s[9]++,await this._store.getRootNode());an.s[10]++;if(n)an.b[0][1]++;else{an.b[0][0]++;an.s[11]++;n=AccountsTreeNode.branchNode("",[],[]);an.s[12]++;await this._store.put(n)}an.s[13]++;return this}put(n,e){an.f[4]++;an.s[14]++;return this._synchronizer.push(()=>{an.f[5]++;an.s[15]++;return this._put(n,e)})}async _put(n,e){an.f[6]++;an.s[16]++;if((an.b[2][0]++,e.isInitial())&&(an.b[2][1]++,!(await this.get(n)))){an.b[1][0]++;an.s[17]++;return}an.b[1][1]++;const l=(an.s[18]++,await this._store.getRootNode());an.s[19]++;Assert.that(!!l,"Corrupted store: Failed to fetch AccountsTree root node");const t=(an.s[20]++,n.toHex());an.s[21]++;await this._insert(l,t,e,[])}async _insert(n,e,l,t){an.f[7]++;const o=(an.s[22]++,StringUtils.commonPrefix(n.prefix,e));an.s[23]++;if(o.length!==n.prefix.length){an.b[3][0]++;const i=(an.s[24]++,AccountsTreeNode.terminalNode(e,l)),c=(an.s[25]++,i.hash());an.s[26]++;await this._store.put(i);const s=(an.s[27]++,AccountsTreeNode.branchNode(o).withChild(n.prefix,n.hash()).withChild(i.prefix,c)),u=(an.s[28]++,s.hash());an.s[29]++;await this._store.put(s);an.s[30]++;return this._updateKeys(s.prefix,u,t)}an.b[3][1]++;an.s[31]++;if(o===e){an.b[4][0]++;an.s[32]++;if(l.isInitial()){an.b[5][0]++;an.s[33]++;await this._store.remove(n);an.s[34]++;return this._prune(n.prefix,t)}an.b[5][1]++;an.s[35]++;n=n.withAccount(l);const e=(an.s[36]++,n.hash());an.s[37]++;await this._store.put(n);an.s[38]++;return this._updateKeys(n.prefix,e,t)}an.b[4][1]++;const i=(an.s[39]++,n.getChild(e));an.s[40]++;if(i){an.b[6][0]++;const o=(an.s[41]++,await this._store.get(i));an.s[42]++;t.push(n);an.s[43]++;return this._insert(o,e,l,t)}an.b[6][1]++;const c=(an.s[44]++,AccountsTreeNode.terminalNode(e,l)),s=(an.s[45]++,c.hash());an.s[46]++;await this._store.put(c);an.s[47]++;n=n.withChild(c.prefix,s);const u=(an.s[48]++,n.hash());an.s[49]++;await this._store.put(n);an.s[50]++;return this._updateKeys(n.prefix,u,t)}async _prune(n,e){an.f[8]++;let l=(an.s[51]++,e.length-1);an.s[52]++;for(;l>=0;--l){let t=(an.s[53]++,e[l]);an.s[54]++;t=t.withoutChild(n);an.s[55]++;if((an.b[8][0]++,t.hasSingleChild())&&(an.b[8][1]++,""!==t.prefix)){an.b[7][0]++;an.s[56]++;await this._store.remove(t);const n=(an.s[57]++,t.getFirstChild()),o=(an.s[58]++,await this._store.get(n));an.s[59]++;await this._store.put(o);const i=(an.s[60]++,o.hash());an.s[61]++;return this._updateKeys(o.prefix,i,e.slice(0,l))}an.b[7][1]++;an.s[62]++;if((an.b[10][0]++,t.hasChildren())||(an.b[10][1]++,""===t.prefix)){an.b[9][0]++;const n=(an.s[63]++,t.hash());an.s[64]++;await this._store.put(t);an.s[65]++;return this._updateKeys(t.prefix,n,e.slice(0,l))}an.b[9][1]++;an.s[66]++;n=t.prefix}an.s[67]++;return undefined}async _updateKeys(n,e,l){an.f[9]++;let t=(an.s[68]++,l.length-1);an.s[69]++;for(;t>=0;--t){let o=(an.s[70]++,l[t]);an.s[71]++;o=o.withChild(n,e);an.s[72]++;await this._store.put(o);an.s[73]++;e=o.hash();an.s[74]++;n=o.prefix}an.s[75]++;return e}async get(n){an.f[10]++;const e=(an.s[76]++,await this._store.get(n.toHex()));an.s[77]++;return e!==undefined?(an.b[11][0]++,e.account):(an.b[11][1]++,null)}async getAccountsProof(n){an.f[11]++;const e=(an.s[78]++,await this._store.getRootNode());an.s[79]++;Assert.that(!!e,"Corrupted store: Failed to fetch AccountsTree root node");const l=(an.s[80]++,[]);an.s[81]++;for(const o of n){an.s[82]++;l.push(o.toHex())}an.s[83]++;l.sort();const t=(an.s[84]++,[]);an.s[85]++;await this._getAccountsProof(e,l,t);an.s[86]++;return new AccountsProof(t)}async _getAccountsProof(n,e,l){an.f[12]++;let t=(an.s[87]++,!1);an.s[88]++;for(let o=0;o<e.length;){let i=(an.s[89]++,e[o]);const c=(an.s[90]++,StringUtils.commonPrefix(n.prefix,i));an.s[91]++;if((an.b[13][0]++,c.length!==n.prefix.length)||(an.b[13][1]++,n.prefix===i)){an.b[12][0]++;an.s[92]++;t=!0;an.s[93]++;o++;an.s[94]++;continue}an.b[12][1]++;const s=(an.s[95]++,n.getChild(i));an.s[96]++;if(s){an.b[14][0]++;const n=(an.s[97]++,await this._store.get(s)),c=(an.s[98]++,[i]);let u=(an.s[99]++,o+1);an.s[100]++;for(;u<e.length;++u){an.s[101]++;if(!e[u].startsWith(n.prefix)){an.b[15][0]++;an.s[102]++;break}an.b[15][1]++;an.s[103]++;c.push(e[u])}an.s[104]++;o=u;an.s[105]++;t=(an.b[16][0]++,await this._getAccountsProof(n,c,l))||(an.b[16][1]++,t)}else{an.b[14][1]++;an.s[106]++;t=!0;an.s[107]++;o++}}an.s[108]++;if(t){an.b[17][0]++;an.s[109]++;l.push(n)}else an.b[17][1]++;an.s[110]++;return t}async getChunk(n,e){an.f[13]++;const l=(an.s[111]++,await this._store.getTerminalNodes(n,e)),t=(an.s[112]++,l.pop());let o;an.s[113]++;if(t){an.b[18][0]++;an.s[114]++;o=await this.getAccountsProof([Address.fromHex(t.prefix)])}else{an.b[18][1]++;an.s[115]++;o=await this.getAccountsProof([Address.fromHex("ffffffffffffffffffffffffffffffffffffffff")])}an.s[116]++;return new AccountsTreeChunk(l,o)}transaction(n=(an.b[19][0]++,!0)){an.f[14]++;const e=(an.s[117]++,new AccountsTree(this._store.transaction(n)));an.s[118]++;return e._init()}synchronousTransaction(n=(an.b[20][0]++,!0)){an.f[15]++;const e=(an.s[119]++,this._store.synchronousTransaction(n)),l=(an.s[120]++,new SynchronousAccountsTree(e));an.s[121]++;return l._init()}async partialTree(){an.f[16]++;const n=(an.s[122]++,this._store.synchronousTransaction(!1));an.s[123]++;await n.truncate();const e=(an.s[124]++,new PartialAccountsTree(n));an.s[125]++;return e._init()}snapshot(n){an.f[17]++;const e=(an.s[126]++,new AccountsTree(this._store.snapshot(n?(an.b[21][0]++,n._store):(an.b[21][1]++,undefined))));an.s[127]++;return e._init()}async commit(){an.f[18]++;an.s[128]++;Assert.that(!(await this.root()).equals(new Hash(null)));an.s[129]++;return this._store.commit()}abort(){an.f[19]++;an.s[130]++;return this._store.abort()}async root(){an.f[20]++;const n=(an.s[131]++,await this._store.getRootNode());an.s[132]++;return(an.b[22][0]++,n)&&(an.b[22][1]++,n.hash())}get tx(){an.f[21]++;an.s[133]++;return this._store.tx}async isEmpty(){an.f[22]++;const n=(an.s[134]++,await this._store.getRootNode());an.s[135]++;return!n.hasChildren()}}an.s[136]++;Class.register(AccountsTree);var dn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/account/tree/SynchronousAccountsTree.js",e="85260e895441b64d02c46d9f46a466d7efc85dc1",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/account/tree/SynchronousAccountsTree.js",statementMap:{0:{start:{line:8,column:8},end:{line:8,column:21}},1:{start:{line:10,column:8},end:{line:10,column:32}},2:{start:{line:18,column:25},end:{line:18,column:60}},3:{start:{line:19,column:8},end:{line:19,column:91}},4:{start:{line:21,column:25},end:{line:21,column:27}},5:{start:{line:22,column:8},end:{line:24,column:9}},6:{start:{line:23,column:12},end:{line:23,column:43}},7:{start:{line:26,column:8},end:{line:26,column:24}},8:{start:{line:28,column:8},end:{line:28,column:57}},9:{start:{line:37,column:8},end:{line:39,column:9}},10:{start:{line:38,column:12},end:{line:38,column:62}},11:{start:{line:42,column:8},end:{line:84,column:9}},12:{start:{line:43,column:27},end:{line:43,column:38}},13:{start:{line:46,column:33},end:{line:46,column:78}},14:{start:{line:51,column:12},end:{line:54,column:13}},15:{start:{line:52,column:16},end:{line:52,column:20}},16:{start:{line:53,column:16},end:{line:53,column:25}},17:{start:{line:57,column:29},end:{line:57,column:50}},18:{start:{line:58,column:12},end:{line:83,column:13}},19:{start:{line:59,column:34},end:{line:59,column:67}},20:{start:{line:65,column:36},end:{line:65,column:44}},21:{start:{line:67,column:24},end:{line:67,column:29}},22:{start:{line:68,column:16},end:{line:73,column:17}},23:{start:{line:70,column:20},end:{line:70,column:73}},24:{start:{line:70,column:67},end:{line:70,column:73}},25:{start:{line:72,column:20},end:{line:72,column:50}},26:{start:{line:76,column:16},end:{line:76,column:22}},27:{start:{line:78,column:16},end:{line:78,column:69}},28:{start:{line:82,column:16},end:{line:82,column:20}},29:{start:{line:92,column:8},end:{line:92,column:40}},30:{start:{line:93,column:8},end:{line:93,column:29}},31:{start:{line:97,column:25},end:{line:97,column:58}},32:{start:{line:98,column:8},end:{line:98,column:37}},33:{start:{line:107,column:8},end:{line:109,column:9}},34:{start:{line:108,column:12},end:{line:108,column:19}},35:{start:{line:112,column:25},end:{line:112,column:58}},36:{start:{line:113,column:8},end:{line:113,column:91}},37:{start:{line:116,column:23},end:{line:116,column:38}},38:{start:{line:117,column:8},end:{line:117,column:57}},39:{start:{line:129,column:29},end:{line:129,column:74}},40:{start:{line:132,column:8},end:{line:144,column:9}},41:{start:{line:134,column:29},end:{line:134,column:75}},42:{start:{line:135,column:12},end:{line:135,column:46}},43:{start:{line:138,column:30},end:{line:140,column:59}},44:{start:{line:141,column:12},end:{line:141,column:47}},45:{start:{line:143,column:12},end:{line:143,column:69}},46:{start:{line:148,column:8},end:{line:164,column:9}},47:{start:{line:153,column:12},end:{line:157,column:13}},48:{start:{line:154,column:16},end:{line:154,column:49}},49:{start:{line:156,column:16},end:{line:156,column:63}},50:{start:{line:160,column:12},end:{line:160,column:45}},51:{start:{line:161,column:12},end:{line:161,column:42}},52:{start:{line:163,column:12},end:{line:163,column:64}},53:{start:{line:168,column:28},end:{line:168,column:49}},54:{start:{line:169,column:8},end:{line:173,column:9}},55:{start:{line:170,column:30},end:{line:170,column:66}},56:{start:{line:171,column:12},end:{line:171,column:32}},57:{start:{line:172,column:12},end:{line:172,column:75}},58:{start:{line:176,column:25},end:{line:176,column:71}},59:{start:{line:177,column:8},end:{line:177,column:42}},60:{start:{line:179,column:8},end:{line:179,column:63}},61:{start:{line:180,column:8},end:{line:180,column:38}},62:{start:{line:182,column:8},end:{line:182,column:60}},63:{start:{line:193,column:16},end:{line:193,column:35}},64:{start:{line:194,column:8},end:{line:219,column:9}},65:{start:{line:195,column:23},end:{line:195,column:34}},66:{start:{line:197,column:12},end:{line:197,column:45}},67:{start:{line:200,column:12},end:{line:215,column:13}},68:{start:{line:201,column:16},end:{line:201,column:49}},69:{start:{line:203,column:36},end:{line:203,column:56}},70:{start:{line:204,column:34},end:{line:204,column:70}},71:{start:{line:206,column:16},end:{line:206,column:51}},72:{start:{line:207,column:16},end:{line:207,column:85}},73:{start:{line:212,column:17},end:{line:215,column:13}},74:{start:{line:213,column:16},end:{line:213,column:46}},75:{start:{line:214,column:16},end:{line:214,column:80}},76:{start:{line:218,column:12},end:{line:218,column:33}},77:{start:{line:222,column:8},end:{line:222,column:25}},78:{start:{line:233,column:16},end:{line:233,column:35}},79:{start:{line:234,column:8},end:{line:240,column:9}},80:{start:{line:235,column:23},end:{line:235,column:34}},81:{start:{line:237,column:12},end:{line:237,column:58}},82:{start:{line:238,column:12},end:{line:238,column:42}},83:{start:{line:239,column:12},end:{line:239,column:33}},84:{start:{line:249,column:8},end:{line:251,column:9}},85:{start:{line:250,column:12},end:{line:250,column:31}},86:{start:{line:253,column:25},end:{line:253,column:39}},87:{start:{line:255,column:26},end:{line:262,column:10}},88:{start:{line:256,column:32},end:{line:256,column:56}},89:{start:{line:257,column:12},end:{line:259,column:13}},90:{start:{line:258,column:16},end:{line:258,column:35}},91:{start:{line:260,column:30},end:{line:260,column:60}},92:{start:{line:261,column:12},end:{line:261,column:49}},93:{start:{line:265,column:22},end:{line:265,column:26}},94:{start:{line:266,column:8},end:{line:268,column:11}},95:{start:{line:267,column:12},end:{line:267,column:61}},96:{start:{line:269,column:8},end:{line:269,column:41}},97:{start:{line:270,column:8},end:{line:270,column:30}},98:{start:{line:279,column:21},end:{line:279,column:82}},99:{start:{line:280,column:8},end:{line:280,column:56}},100:{start:{line:287,column:25},end:{line:287,column:58}},101:{start:{line:288,column:8},end:{line:288,column:43}},102:{start:{line:291,column:0},end:{line:291,column:40}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:23},end:{line:11,column:5}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:38},end:{line:29,column:5}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:36,column:4},end:{line:36,column:5}},loc:{start:{line:36,column:44},end:{line:85,column:5}},line:36},3:{name:"(anonymous_3)",decl:{start:{line:91,column:4},end:{line:91,column:5}},loc:{start:{line:91,column:30},end:{line:94,column:5}},line:91},4:{name:"(anonymous_4)",decl:{start:{line:96,column:4},end:{line:96,column:5}},loc:{start:{line:96,column:20},end:{line:99,column:5}},line:96},5:{name:"(anonymous_5)",decl:{start:{line:106,column:4},end:{line:106,column:5}},loc:{start:{line:106,column:31},end:{line:118,column:5}},line:106},6:{name:"(anonymous_6)",decl:{start:{line:127,column:4},end:{line:127,column:5}},loc:{start:{line:127,column:50},end:{line:183,column:5}},line:127},7:{name:"(anonymous_7)",decl:{start:{line:190,column:4},end:{line:190,column:5}},loc:{start:{line:190,column:34},end:{line:223,column:5}},line:190},8:{name:"(anonymous_8)",decl:{start:{line:230,column:4},end:{line:230,column:5}},loc:{start:{line:230,column:39},end:{line:241,column:5}},line:230},9:{name:"(anonymous_9)",decl:{start:{line:248,column:4},end:{line:248,column:5}},loc:{start:{line:248,column:24},end:{line:271,column:5}},line:248},10:{name:"(anonymous_10)",decl:{start:{line:255,column:49},end:{line:255,column:50}},loc:{start:{line:255,column:58},end:{line:262,column:9}},line:255},11:{name:"(anonymous_11)",decl:{start:{line:266,column:35},end:{line:266,column:36}},loc:{start:{line:266,column:49},end:{line:268,column:9}},line:266},12:{name:"(anonymous_12)",decl:{start:{line:278,column:4},end:{line:278,column:5}},loc:{start:{line:278,column:49},end:{line:281,column:5}},line:278},13:{name:"(anonymous_13)",decl:{start:{line:286,column:4},end:{line:286,column:5}},loc:{start:{line:286,column:15},end:{line:289,column:5}},line:286}},branchMap:{0:{loc:{start:{line:37,column:8},end:{line:39,column:9}},type:"if",locations:[{start:{line:37,column:8},end:{line:39,column:9}},{start:{line:37,column:8},end:{line:39,column:9}}],line:37},1:{loc:{start:{line:51,column:12},end:{line:54,column:13}},type:"if",locations:[{start:{line:51,column:12},end:{line:54,column:13}},{start:{line:51,column:12},end:{line:54,column:13}}],line:51},2:{loc:{start:{line:51,column:16},end:{line:51,column:84}},type:"binary-expr",locations:[{start:{line:51,column:16},end:{line:51,column:58}},{start:{line:51,column:62},end:{line:51,column:84}}],line:51},3:{loc:{start:{line:58,column:12},end:{line:83,column:13}},type:"if",locations:[{start:{line:58,column:12},end:{line:83,column:13}},{start:{line:58,column:12},end:{line:83,column:13}}],line:58},4:{loc:{start:{line:70,column:20},end:{line:70,column:73}},type:"if",locations:[{start:{line:70,column:20},end:{line:70,column:73}},{start:{line:70,column:20},end:{line:70,column:73}}],line:70},5:{loc:{start:{line:107,column:8},end:{line:109,column:9}},type:"if",locations:[{start:{line:107,column:8},end:{line:109,column:9}},{start:{line:107,column:8},end:{line:109,column:9}}],line:107},6:{loc:{start:{line:107,column:12},end:{line:107,column:64}},type:"binary-expr",locations:[{start:{line:107,column:12},end:{line:107,column:31}},{start:{line:107,column:35},end:{line:107,column:64}}],line:107},7:{loc:{start:{line:132,column:8},end:{line:144,column:9}},type:"if",locations:[{start:{line:132,column:8},end:{line:144,column:9}},{start:{line:132,column:8},end:{line:144,column:9}}],line:132},8:{loc:{start:{line:148,column:8},end:{line:164,column:9}},type:"if",locations:[{start:{line:148,column:8},end:{line:164,column:9}},{start:{line:148,column:8},end:{line:164,column:9}}],line:148},9:{loc:{start:{line:153,column:12},end:{line:157,column:13}},type:"if",locations:[{start:{line:153,column:12},end:{line:157,column:13}},{start:{line:153,column:12},end:{line:157,column:13}}],line:153},10:{loc:{start:{line:169,column:8},end:{line:173,column:9}},type:"if",locations:[{start:{line:169,column:8},end:{line:173,column:9}},{start:{line:169,column:8},end:{line:173,column:9}}],line:169},11:{loc:{start:{line:200,column:12},end:{line:215,column:13}},type:"if",locations:[{start:{line:200,column:12},end:{line:215,column:13}},{start:{line:200,column:12},end:{line:215,column:13}}],line:200},12:{loc:{start:{line:200,column:16},end:{line:200,column:59}},type:"binary-expr",locations:[{start:{line:200,column:16},end:{line:200,column:37}},{start:{line:200,column:41},end:{line:200,column:59}}],line:200},13:{loc:{start:{line:212,column:17},end:{line:215,column:13}},type:"if",locations:[{start:{line:212,column:17},end:{line:215,column:13}},{start:{line:212,column:17},end:{line:215,column:13}}],line:212},14:{loc:{start:{line:212,column:21},end:{line:212,column:61}},type:"binary-expr",locations:[{start:{line:212,column:21},end:{line:212,column:39}},{start:{line:212,column:43},end:{line:212,column:61}}],line:212},15:{loc:{start:{line:249,column:8},end:{line:251,column:9}},type:"if",locations:[{start:{line:249,column:8},end:{line:251,column:9}},{start:{line:249,column:8},end:{line:251,column:9}}],line:249},16:{loc:{start:{line:257,column:12},end:{line:259,column:13}},type:"if",locations:[{start:{line:257,column:12},end:{line:259,column:13}},{start:{line:257,column:12},end:{line:259,column:13}}],line:257},17:{loc:{start:{line:278,column:21},end:{line:278,column:47}},type:"default-arg",locations:[{start:{line:278,column:43},end:{line:278,column:47}}],line:278},18:{loc:{start:{line:280,column:15},end:{line:280,column:55}},type:"cond-expr",locations:[{start:{line:280,column:36},end:{line:280,column:48}},{start:{line:280,column:51},end:{line:280,column:55}}],line:280},19:{loc:{start:{line:288,column:15},end:{line:288,column:42}},type:"binary-expr",locations:[{start:{line:288,column:15},end:{line:288,column:23}},{start:{line:288,column:27},end:{line:288,column:42}}],line:288}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0],18:[0,0],19:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class SynchronousAccountsTree extends AccountsTree{constructor(n){dn.f[0]++;dn.s[0]++;super(n);dn.s[1]++;this._syncStore=n}async preloadAddresses(n){dn.f[1]++;const e=(dn.s[2]++,await this._syncStore.getRootNode());dn.s[3]++;Assert.that(!!e,"Corrupted store: Failed to fetch AccountsTree root node");const l=(dn.s[4]++,[]);dn.s[5]++;for(const t of n){dn.s[6]++;l.push(t.toHex())}dn.s[7]++;l.sort();dn.s[8]++;await this._preloadAddresses(e,l)}async _preloadAddresses(n,e){dn.f[2]++;dn.s[9]++;if(n.hasChildren()){dn.b[0][0]++;dn.s[10]++;await this._syncStore.preload(n.getChildren())}else dn.b[0][1]++;dn.s[11]++;for(let l=0;l<e.length;){const t=(dn.s[12]++,e[l]),o=(dn.s[13]++,StringUtils.commonPrefix(n.prefix,t));dn.s[14]++;if((dn.b[2][0]++,o.length!==n.prefix.length)||(dn.b[2][1]++,n.prefix===t)){dn.b[1][0]++;dn.s[15]++;l++;dn.s[16]++;continue}dn.b[1][1]++;const i=(dn.s[17]++,n.getChild(t));dn.s[18]++;if(i){dn.b[3][0]++;const n=(dn.s[19]++,this._syncStore.getSync(i)),o=(dn.s[20]++,[t]);let c=(dn.s[21]++,l+1);dn.s[22]++;for(;c<e.length;++c){dn.s[23]++;if(!e[c].startsWith(n.prefix)){dn.b[4][0]++;dn.s[24]++;break}dn.b[4][1]++;dn.s[25]++;o.push(e[c])}dn.s[26]++;l=c;dn.s[27]++;await this._preloadAddresses(n,o)}else{dn.b[3][1]++;dn.s[28]++;l++}}}putSync(n,e){dn.f[3]++;dn.s[29]++;this.putBatch(n,e);dn.s[30]++;this.finalizeBatch()}finalizeBatch(){dn.f[4]++;const n=(dn.s[31]++,this._syncStore.getRootNodeSync());dn.s[32]++;this._updateHashes(n)}putBatch(n,e){dn.f[5]++;dn.s[33]++;if((dn.b[6][0]++,e.isInitial())&&(dn.b[6][1]++,!this.getSync(n,!1))){dn.b[5][0]++;dn.s[34]++;return}dn.b[5][1]++;const l=(dn.s[35]++,this._syncStore.getRootNodeSync());dn.s[36]++;Assert.that(!!l,"Corrupted store: Failed to fetch AccountsTree root node");const t=(dn.s[37]++,n.toHex());dn.s[38]++;this._insertBatch(l,t,e,[])}_insertBatch(n,e,l,t){dn.f[6]++;const o=(dn.s[39]++,StringUtils.commonPrefix(n.prefix,e));dn.s[40]++;if(o.length!==n.prefix.length){dn.b[7][0]++;const i=(dn.s[41]++,AccountsTreeNode.terminalNode(e,l));dn.s[42]++;this._syncStore.putSync(i);const c=(dn.s[43]++,AccountsTreeNode.branchNode(o).withChild(n.prefix,new Hash(null)).withChild(i.prefix,new Hash(null)));dn.s[44]++;this._syncStore.putSync(c);dn.s[45]++;return this._updateKeysBatch(c.prefix,t)}dn.b[7][1]++;dn.s[46]++;if(o===e){dn.b[8][0]++;dn.s[47]++;if(l.isInitial()){dn.b[9][0]++;dn.s[48]++;this._syncStore.removeSync(n);dn.s[49]++;return this._pruneBatch(n.prefix,t)}dn.b[9][1]++;dn.s[50]++;n=n.withAccount(l);dn.s[51]++;this._syncStore.putSync(n);dn.s[52]++;return this._updateKeysBatch(n.prefix,t)}dn.b[8][1]++;const i=(dn.s[53]++,n.getChild(e));dn.s[54]++;if(i){dn.b[10][0]++;const o=(dn.s[55]++,this._syncStore.getSync(i));dn.s[56]++;t.push(n);dn.s[57]++;return this._insertBatch(o,e,l,t)}dn.b[10][1]++;const c=(dn.s[58]++,AccountsTreeNode.terminalNode(e,l));dn.s[59]++;this._syncStore.putSync(c);dn.s[60]++;n=n.withChild(c.prefix,new Hash(null));dn.s[61]++;this._syncStore.putSync(n);dn.s[62]++;return this._updateKeysBatch(n.prefix,t)}_pruneBatch(n,e){dn.f[7]++;let l=(dn.s[63]++,e.length-1);dn.s[64]++;for(;l>=0;--l){let t=(dn.s[65]++,e[l]);dn.s[66]++;t=t.withoutChild(n);dn.s[67]++;if((dn.b[12][0]++,t.hasSingleChild())&&(dn.b[12][1]++,""!==t.prefix)){dn.b[11][0]++;dn.s[68]++;this._syncStore.removeSync(t);const n=(dn.s[69]++,t.getFirstChild()),o=(dn.s[70]++,this._syncStore.getSync(n));dn.s[71]++;this._syncStore.putSync(o);dn.s[72]++;return this._updateKeysBatch(o.prefix,e.slice(0,l))}dn.b[11][1]++;dn.s[73]++;if((dn.b[14][0]++,t.hasChildren())||(dn.b[14][1]++,""===t.prefix)){dn.b[13][0]++;dn.s[74]++;this._syncStore.putSync(t);dn.s[75]++;return this._updateKeysBatch(t.prefix,e.slice(0,l))}dn.b[13][1]++;dn.s[76]++;n=t.prefix}dn.s[77]++;return undefined}_updateKeysBatch(n,e){dn.f[8]++;let l=(dn.s[78]++,e.length-1);dn.s[79]++;for(;l>=0;--l){let t=(dn.s[80]++,e[l]);dn.s[81]++;t=t.withChild(n,new Hash(null));dn.s[82]++;this._syncStore.putSync(t);dn.s[83]++;n=t.prefix}}_updateHashes(n){dn.f[9]++;dn.s[84]++;if(n.isTerminal()){dn.b[15][0]++;dn.s[85]++;return n.hash()}dn.b[15][1]++;const e=(dn.s[86]++,new Hash(null)),l=(dn.s[87]++,n.getChildren().map(l=>{dn.f[10]++;const t=(dn.s[88]++,n.getChildHash(l));dn.s[89]++;if(!t.equals(e)){dn.b[16][0]++;dn.s[90]++;return t}dn.b[16][1]++;const o=(dn.s[91]++,this._syncStore.getSync(l));dn.s[92]++;return this._updateHashes(o)}));let t=(dn.s[93]++,n);dn.s[94]++;n.getChildren().forEach((n,e)=>{dn.f[11]++;dn.s[95]++;t=t.withChild(n,l[e])});dn.s[96]++;this._syncStore.putSync(t);dn.s[97]++;return t.hash()}getSync(n,e=(dn.b[17][0]++,!0)){dn.f[12]++;const l=(dn.s[98]++,this._syncStore.getSync(n.toHex(),e));dn.s[99]++;return l!==undefined?(dn.b[18][0]++,l.account):(dn.b[18][1]++,null)}rootSync(){dn.f[13]++;const n=(dn.s[100]++,this._syncStore.getRootNodeSync());dn.s[101]++;return(dn.b[19][0]++,n)&&(dn.b[19][1]++,n.hash())}}dn.s[102]++;Class.register(SynchronousAccountsTree);var hn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/account/tree/PartialAccountsTree.js",e="0c93931bad8c8c3cd55db842df8843d6417c71f2",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/account/tree/PartialAccountsTree.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:21}},1:{start:{line:8,column:8},end:{line:8,column:31}},2:{start:{line:10,column:8},end:{line:10,column:30}},3:{start:{line:19,column:8},end:{line:21,column:9}},4:{start:{line:20,column:12},end:{line:20,column:66}},5:{start:{line:23,column:19},end:{line:23,column:48}},6:{start:{line:26,column:8},end:{line:26,column:42}},7:{start:{line:29,column:8},end:{line:32,column:9}},8:{start:{line:30,column:12},end:{line:30,column:29}},9:{start:{line:31,column:12},end:{line:31,column:62}},10:{start:{line:33,column:8},end:{line:33,column:37}},11:{start:{line:36,column:8},end:{line:36,column:26}},12:{start:{line:39,column:8},end:{line:39,column:45}},13:{start:{line:42,column:8},end:{line:42,column:114}},14:{start:{line:53,column:19},end:{line:53,column:48}},15:{start:{line:54,column:27},end:{line:54,column:45}},16:{start:{line:55,column:23},end:{line:55,column:27}},17:{start:{line:58,column:16},end:{line:58,column:32}},18:{start:{line:59,column:8},end:{line:136,column:9}},19:{start:{line:60,column:30},end:{line:60,column:44}},20:{start:{line:63,column:12},end:{line:65,column:13}},21:{start:{line:64,column:16},end:{line:64,column:29}},22:{start:{line:67,column:34},end:{line:67,column:57}},23:{start:{line:70,column:12},end:{line:72,column:13}},24:{start:{line:71,column:16},end:{line:71,column:29}},25:{start:{line:75,column:30},end:{line:75,column:49}},26:{start:{line:76,column:31},end:{line:76,column:36}},27:{start:{line:82,column:20},end:{line:82,column:21}},28:{start:{line:83,column:12},end:{line:112,column:13}},29:{start:{line:84,column:41},end:{line:84,column:80}},30:{start:{line:85,column:16},end:{line:110,column:17}},31:{start:{line:87,column:34},end:{line:87,column:54}},32:{start:{line:90,column:20},end:{line:96,column:21}},33:{start:{line:92,column:24},end:{line:94,column:25}},34:{start:{line:93,column:28},end:{line:93,column:48}},35:{start:{line:95,column:24},end:{line:95,column:33}},36:{start:{line:98,column:20},end:{line:100,column:21}},37:{start:{line:99,column:24},end:{line:99,column:37}},38:{start:{line:102,column:37},end:{line:102,column:61}},39:{start:{line:103,column:38},end:{line:103,column:67}},40:{start:{line:104,column:20},end:{line:106,column:21}},41:{start:{line:105,column:24},end:{line:105,column:37}},42:{start:{line:109,column:20},end:{line:109,column:26}},43:{start:{line:111,column:16},end:{line:111,column:20}},44:{start:{line:115,column:12},end:{line:117,column:13}},45:{start:{line:116,column:16},end:{line:116,column:29}},46:{start:{line:120,column:12},end:{line:120,column:68}},47:{start:{line:123,column:12},end:{line:135,column:13}},48:{start:{line:124,column:16},end:{line:124,column:43}},49:{start:{line:127,column:16},end:{line:129,column:17}},50:{start:{line:128,column:20},end:{line:128,column:33}},51:{start:{line:130,column:16},end:{line:130,column:64}},52:{start:{line:131,column:16},end:{line:131,column:50}},53:{start:{line:132,column:16},end:{line:134,column:17}},54:{start:{line:133,column:20},end:{line:133,column:26}},55:{start:{line:139,column:8},end:{line:141,column:9}},56:{start:{line:140,column:12},end:{line:140,column:25}},57:{start:{line:143,column:8},end:{line:143,column:34}},58:{start:{line:144,column:8},end:{line:144,column:20}},59:{start:{line:152,column:8},end:{line:152,column:103}},60:{start:{line:152,column:40},end:{line:152,column:57}},61:{start:{line:155,column:23},end:{line:155,column:52}},62:{start:{line:156,column:8},end:{line:156,column:91}},63:{start:{line:159,column:8},end:{line:163,column:9}},64:{start:{line:160,column:12},end:{line:160,column:71}},65:{start:{line:161,column:12},end:{line:161,column:53}},66:{start:{line:162,column:12},end:{line:162,column:95}},67:{start:{line:164,column:8},end:{line:164,column:37}},68:{start:{line:169,column:8},end:{line:169,column:30}},69:{start:{line:174,column:8},end:{line:174,column:32}},70:{start:{line:182,column:21},end:{line:182,column:96}},71:{start:{line:183,column:8},end:{line:183,column:40}},72:{start:{line:184,column:8},end:{line:184,column:44}},73:{start:{line:185,column:8},end:{line:185,column:20}},74:{start:{line:193,column:8},end:{line:195,column:9}},75:{start:{line:194,column:12},end:{line:194,column:97}},76:{start:{line:197,column:8},end:{line:197,column:84}},77:{start:{line:204,column:8},end:{line:204,column:36}},78:{start:{line:211,column:8},end:{line:211,column:35}},79:{start:{line:218,column:0},end:{line:224,column:2}},80:{start:{line:225,column:0},end:{line:225,column:36}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:23},end:{line:11,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:27},end:{line:43,column:5}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:51,column:4},end:{line:51,column:5}},loc:{start:{line:51,column:35},end:{line:145,column:5}},line:51},3:{name:"(anonymous_3)",decl:{start:{line:151,column:4},end:{line:151,column:5}},loc:{start:{line:151,column:21},end:{line:165,column:5}},line:151},4:{name:"(anonymous_4)",decl:{start:{line:152,column:32},end:{line:152,column:33}},loc:{start:{line:152,column:40},end:{line:152,column:57}},line:152},5:{name:"(anonymous_5)",decl:{start:{line:168,column:4},end:{line:168,column:5}},loc:{start:{line:168,column:19},end:{line:170,column:5}},line:168},6:{name:"(anonymous_6)",decl:{start:{line:173,column:4},end:{line:173,column:5}},loc:{start:{line:173,column:24},end:{line:175,column:5}},line:173},7:{name:"(anonymous_7)",decl:{start:{line:181,column:4},end:{line:181,column:5}},loc:{start:{line:181,column:50},end:{line:186,column:5}},line:181},8:{name:"(anonymous_8)",decl:{start:{line:192,column:4},end:{line:192,column:5}},loc:{start:{line:192,column:39},end:{line:198,column:5}},line:192},9:{name:"(anonymous_9)",decl:{start:{line:203,column:4},end:{line:203,column:5}},loc:{start:{line:203,column:13},end:{line:205,column:5}},line:203},10:{name:"(anonymous_10)",decl:{start:{line:210,column:4},end:{line:210,column:5}},loc:{start:{line:210,column:12},end:{line:212,column:5}},line:210}},branchMap:{0:{loc:{start:{line:19,column:8},end:{line:21,column:9}},type:"if",locations:[{start:{line:19,column:8},end:{line:21,column:9}},{start:{line:19,column:8},end:{line:21,column:9}}],line:19},1:{loc:{start:{line:29,column:8},end:{line:32,column:9}},type:"if",locations:[{start:{line:29,column:8},end:{line:32,column:9}},{start:{line:29,column:8},end:{line:32,column:9}}],line:29},2:{loc:{start:{line:42,column:15},end:{line:42,column:113}},type:"cond-expr",locations:[{start:{line:42,column:32},end:{line:42,column:70}},{start:{line:42,column:73},end:{line:42,column:113}}],line:42},3:{loc:{start:{line:63,column:12},end:{line:65,column:13}},type:"if",locations:[{start:{line:63,column:12},end:{line:65,column:13}},{start:{line:63,column:12},end:{line:65,column:13}}],line:63},4:{loc:{start:{line:70,column:12},end:{line:72,column:13}},type:"if",locations:[{start:{line:70,column:12},end:{line:72,column:13}},{start:{line:70,column:12},end:{line:72,column:13}}],line:70},5:{loc:{start:{line:85,column:16},end:{line:110,column:17}},type:"if",locations:[{start:{line:85,column:16},end:{line:110,column:17}},{start:{line:85,column:16},end:{line:110,column:17}}],line:85},6:{loc:{start:{line:90,column:20},end:{line:96,column:21}},type:"if",locations:[{start:{line:90,column:20},end:{line:96,column:21}},{start:{line:90,column:20},end:{line:96,column:21}}],line:90},7:{loc:{start:{line:92,column:24},end:{line:94,column:25}},type:"if",locations:[{start:{line:92,column:24},end:{line:94,column:25}},{start:{line:92,column:24},end:{line:94,column:25}}],line:92},8:{loc:{start:{line:98,column:20},end:{line:100,column:21}},type:"if",locations:[{start:{line:98,column:20},end:{line:100,column:21}},{start:{line:98,column:20},end:{line:100,column:21}}],line:98},9:{loc:{start:{line:104,column:20},end:{line:106,column:21}},type:"if",locations:[{start:{line:104,column:20},end:{line:106,column:21}},{start:{line:104,column:20},end:{line:106,column:21}}],line:104},10:{loc:{start:{line:104,column:24},end:{line:104,column:78}},type:"binary-expr",locations:[{start:{line:104,column:24},end:{line:104,column:33}},{start:{line:104,column:37},end:{line:104,column:47}},{start:{line:104,column:51},end:{line:104,column:78}}],line:104},11:{loc:{start:{line:115,column:12},end:{line:117,column:13}},type:"if",locations:[{start:{line:115,column:12},end:{line:117,column:13}},{start:{line:115,column:12},end:{line:117,column:13}}],line:115},12:{loc:{start:{line:120,column:23},end:{line:120,column:67}},type:"binary-expr",locations:[{start:{line:120,column:23},end:{line:120,column:31}},{start:{line:120,column:36},end:{line:120,column:66}}],line:120},13:{loc:{start:{line:123,column:12},end:{line:135,column:13}},type:"if",locations:[{start:{line:123,column:12},end:{line:135,column:13}},{start:{line:123,column:12},end:{line:135,column:13}}],line:123},14:{loc:{start:{line:127,column:16},end:{line:129,column:17}},type:"if",locations:[{start:{line:127,column:16},end:{line:129,column:17}},{start:{line:127,column:16},end:{line:129,column:17}}],line:127},15:{loc:{start:{line:132,column:16},end:{line:134,column:17}},type:"if",locations:[{start:{line:132,column:16},end:{line:134,column:17}},{start:{line:132,column:16},end:{line:134,column:17}}],line:132},16:{loc:{start:{line:139,column:8},end:{line:141,column:9}},type:"if",locations:[{start:{line:139,column:8},end:{line:141,column:9}},{start:{line:139,column:8},end:{line:141,column:9}}],line:139},17:{loc:{start:{line:181,column:27},end:{line:181,column:48}},type:"default-arg",locations:[{start:{line:181,column:44},end:{line:181,column:48}}],line:181},18:{loc:{start:{line:192,column:16},end:{line:192,column:37}},type:"default-arg",locations:[{start:{line:192,column:33},end:{line:192,column:37}}],line:192},19:{loc:{start:{line:193,column:8},end:{line:195,column:9}},type:"if",locations:[{start:{line:193,column:8},end:{line:195,column:9}},{start:{line:193,column:8},end:{line:195,column:9}}],line:193}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0],18:[0],19:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class PartialAccountsTree extends SynchronousAccountsTree{constructor(n){hn.f[0]++;hn.s[0]++;super(n);hn.s[1]++;this._complete=!1;hn.s[2]++;this._lastPrefix=""}async pushChunk(n){hn.f[1]++;hn.s[3]++;if(!n.verify()){hn.b[0][0]++;hn.s[4]++;return PartialAccountsTree.Status.ERR_INCORRECT_PROOF}hn.b[0][1]++;const e=(hn.s[5]++,this.synchronousTransaction());hn.s[6]++;e._putLight(n.terminalNodes);hn.s[7]++;if(!e._mergeProof(n.proof,n.tail.prefix)){hn.b[1][0]++;hn.s[8]++;await e.abort();hn.s[9]++;return PartialAccountsTree.Status.ERR_UNMERGEABLE}hn.b[1][1]++;hn.s[10]++;this._complete=e.complete;hn.s[11]++;await e.commit();hn.s[12]++;this._lastPrefix=n.tail.prefix;hn.s[13]++;return this._complete?(hn.b[2][0]++,PartialAccountsTree.Status.OK_COMPLETE):(hn.b[2][1]++,PartialAccountsTree.Status.OK_UNFINISHED)}_mergeProof(n,e){hn.f[2]++;let l=(hn.s[14]++,this._store.getRootNodeSync()),t=(hn.s[15]++,l.getChildren()),o=(hn.s[16]++,!0),i=(hn.s[17]++,n.length-1);hn.s[18]++;for(;i>0;--i){const c=(hn.s[19]++,n.nodes[i]);hn.s[20]++;if(StringUtils.commonPrefix(l.prefix,c.prefix)!==l.prefix){hn.b[3][0]++;hn.s[21]++;return!1}hn.b[3][1]++;const s=(hn.s[22]++,c.getChildren());hn.s[23]++;if(t.length>s.length){hn.b[4][0]++;hn.s[24]++;return!1}hn.b[4][1]++;const u=(hn.s[25]++,l.getLastChild());let m=(hn.s[26]++,!1),r=(hn.s[27]++,0);hn.s[28]++;for(const n of s){const o=(hn.s[29]++,e.substr(0,n.length));hn.s[30]++;if(!(n<=o)){hn.b[5][1]++;hn.s[42]++;break}{hn.b[5][0]++;const e=(hn.s[31]++,t.shift());hn.s[32]++;if(StringUtils.commonPrefix(u,n)===n){hn.b[6][0]++;hn.s[33]++;if(n!==u){hn.b[7][0]++;hn.s[34]++;m=!0}else hn.b[7][1]++;hn.s[35]++;continue}hn.b[6][1]++;hn.s[36]++;if(e!==n){hn.b[8][0]++;hn.s[37]++;return!1}hn.b[8][1]++;const o=(hn.s[38]++,l.getChildHash(e)),i=(hn.s[39]++,c.getChildHash(e));hn.s[40]++;if(!((hn.b[10][0]++,o)&&(hn.b[10][1]++,i)&&(hn.b[10][2]++,o.equals(i)))){hn.b[9][0]++;hn.s[41]++;return!1}hn.b[9][1]++}hn.s[43]++;++r}hn.s[44]++;if(0!==t.length){hn.b[11][0]++;hn.s[45]++;return!1}hn.b[11][1]++;hn.s[46]++;o=(hn.b[12][0]++,o)&&(hn.b[12][1]++,r===s.length-1);hn.s[47]++;if(m){hn.b[13][0]++;hn.s[48]++;t=[u]}else{hn.b[13][1]++;hn.s[49]++;if(l.isTerminal()){hn.b[14][0]++;hn.s[50]++;return!1}hn.b[14][1]++;hn.s[51]++;l=this._store.getSync(l.getLastChild());hn.s[52]++;t=l.getChildren();hn.s[53]++;if(l.isTerminal()){hn.b[15][0]++;hn.s[54]++;break}hn.b[15][1]++}}hn.s[55]++;if(!l.equals(n.nodes[0])){hn.b[16][0]++;hn.s[56]++;return!1}hn.b[16][1]++;hn.s[57]++;this._complete=o;hn.s[58]++;return!0}_putLight(n){hn.f[3]++;hn.s[59]++;Assert.that(n.every(n=>{hn.f[4]++;hn.s[60]++;return n.isTerminal()}),"Can only build tree from terminal nodes");let e=(hn.s[61]++,this._store.getRootNodeSync());hn.s[62]++;Assert.that(!!e,"Corrupted store: Failed to fetch AccountsTree root node");hn.s[63]++;for(const l of n){hn.s[64]++;this._insertBatch(e,l.prefix,l.account,[]);hn.s[65]++;e=this._store.getRootNodeSync();hn.s[66]++;Assert.that(!!e,"Corrupted store: Failed to fetch AccountsTree root node")}hn.s[67]++;this._updateHashes(e)}get complete(){hn.f[5]++;hn.s[68]++;return this._complete}get missingPrefix(){hn.f[6]++;hn.s[69]++;return this._lastPrefix}synchronousTransaction(n=(hn.b[17][0]++,!0)){hn.f[7]++;const e=(hn.s[70]++,new PartialAccountsTree(this._store.synchronousTransaction(n)));hn.s[71]++;e._complete=this._complete;hn.s[72]++;e._lastPrefix=this._lastPrefix;hn.s[73]++;return e}transaction(n=(hn.b[18][0]++,!0)){hn.f[8]++;hn.s[74]++;if(!this.complete){hn.b[19][0]++;hn.s[75]++;throw new Error("Can only construct AccountsTree from complete PartialAccountsTree")}hn.b[19][1]++;hn.s[76]++;return new AccountsTree(this._store.synchronousTransaction(n))}commit(){hn.f[9]++;hn.s[77]++;return this._store.commit()}abort(){hn.f[10]++;hn.s[78]++;return this._store.abort()}}hn.s[79]++;PartialAccountsTree.Status={ERR_HASH_MISMATCH:-3,ERR_INCORRECT_PROOF:-2,ERR_UNMERGEABLE:-1,OK_COMPLETE:0,OK_UNFINISHED:1};hn.s[80]++;Class.register(PartialAccountsTree);var fn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/account/Accounts.js",e="d7c22b6403b2982b6f2721866e7e6a90bceaa68d",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/account/Accounts.js",statementMap:{0:{start:{line:7,column:21},end:{line:7,column:58}},1:{start:{line:8,column:8},end:{line:8,column:34}},2:{start:{line:16,column:21},end:{line:16,column:56}},3:{start:{line:17,column:8},end:{line:17,column:34}},4:{start:{line:24,column:8},end:{line:24,column:16}},5:{start:{line:25,column:8},end:{line:25,column:34}},6:{start:{line:28,column:8},end:{line:28,column:37}},7:{start:{line:37,column:8},end:{line:37,column:48}},8:{start:{line:39,column:21},end:{line:39,column:62}},9:{start:{line:40,column:8},end:{line:55,column:9}},10:{start:{line:41,column:24},end:{line:41,column:63}},11:{start:{line:42,column:26},end:{line:42,column:42}},12:{start:{line:43,column:12},end:{line:47,column:13}},13:{start:{line:44,column:32},end:{line:44,column:56}},14:{start:{line:45,column:32},end:{line:45,column:56}},15:{start:{line:46,column:16},end:{line:46,column:47}},16:{start:{line:49,column:12},end:{line:49,column:110}},17:{start:{line:51,column:12},end:{line:51,column:33}},18:{start:{line:53,column:12},end:{line:53,column:31}},19:{start:{line:54,column:12},end:{line:54,column:20}},20:{start:{line:57,column:21},end:{line:57,column:36}},21:{start:{line:58,column:8},end:{line:61,column:9}},22:{start:{line:59,column:12},end:{line:59,column:31}},23:{start:{line:60,column:12},end:{line:60,column:61}},24:{start:{line:63,column:8},end:{line:63,column:29}},25:{start:{line:71,column:8},end:{line:71,column:54}},26:{start:{line:79,column:8},end:{line:79,column:76}},27:{start:{line:88,column:21},end:{line:88,column:62}},28:{start:{line:89,column:8},end:{line:89,column:63}},29:{start:{line:90,column:8},end:{line:95,column:9}},30:{start:{line:91,column:12},end:{line:91,column:84}},31:{start:{line:93,column:12},end:{line:93,column:31}},32:{start:{line:94,column:12},end:{line:94,column:20}},33:{start:{line:97,column:8},end:{line:97,column:29}},34:{start:{line:99,column:21},end:{line:99,column:36}},35:{start:{line:100,column:8},end:{line:103,column:9}},36:{start:{line:101,column:12},end:{line:101,column:31}},37:{start:{line:102,column:12},end:{line:102,column:53}},38:{start:{line:104,column:8},end:{line:104,column:29}},39:{start:{line:114,column:21},end:{line:114,column:62}},40:{start:{line:115,column:8},end:{line:115,column:57}},41:{start:{line:116,column:8},end:{line:121,column:9}},42:{start:{line:117,column:12},end:{line:117,column:77}},43:{start:{line:119,column:12},end:{line:119,column:31}},44:{start:{line:120,column:12},end:{line:120,column:20}},45:{start:{line:122,column:8},end:{line:122,column:29}},46:{start:{line:123,column:8},end:{line:123,column:29}},47:{start:{line:133,column:21},end:{line:133,column:62}},48:{start:{line:134,column:26},end:{line:134,column:28}},49:{start:{line:135,column:8},end:{line:137,column:9}},50:{start:{line:136,column:12},end:{line:136,column:52}},51:{start:{line:138,column:8},end:{line:138,column:47}},52:{start:{line:139,column:8},end:{line:154,column:9}},53:{start:{line:140,column:12},end:{line:140,column:91}},54:{start:{line:141,column:12},end:{line:141,column:76}},55:{start:{line:142,column:12},end:{line:142,column:68}},56:{start:{line:144,column:31},end:{line:144,column:33}},57:{start:{line:145,column:12},end:{line:150,column:13}},58:{start:{line:146,column:38},end:{line:146,column:79}},59:{start:{line:147,column:16},end:{line:149,column:17}},60:{start:{line:148,column:20},end:{line:148,column:81}},61:{start:{line:151,column:12},end:{line:151,column:59}},62:{start:{line:151,column:45},end:{line:151,column:57}},63:{start:{line:153,column:12},end:{line:153,column:31}},64:{start:{line:163,column:8},end:{line:163,column:55}},65:{start:{line:163,column:20},end:{line:163,column:55}},66:{start:{line:165,column:21},end:{line:165,column:44}},67:{start:{line:166,column:8},end:{line:168,column:9}},68:{start:{line:167,column:12},end:{line:167,column:53}},69:{start:{line:169,column:8},end:{line:169,column:80}},70:{start:{line:179,column:21},end:{line:179,column:62}},71:{start:{line:180,column:8},end:{line:180,column:57}},72:{start:{line:181,column:8},end:{line:186,column:9}},73:{start:{line:182,column:12},end:{line:182,column:77}},74:{start:{line:184,column:12},end:{line:184,column:31}},75:{start:{line:185,column:12},end:{line:185,column:20}},76:{start:{line:187,column:8},end:{line:187,column:29}},77:{start:{line:188,column:8},end:{line:188,column:29}},78:{start:{line:200,column:24},end:{line:200,column:47}},79:{start:{line:201,column:8},end:{line:208,column:9}},80:{start:{line:202,column:12},end:{line:204,column:13}},81:{start:{line:203,column:16},end:{line:203,column:39}},82:{start:{line:205,column:12},end:{line:205,column:78}},83:{start:{line:206,column:15},end:{line:208,column:9}},84:{start:{line:207,column:12},end:{line:207,column:70}},85:{start:{line:209,column:8},end:{line:209,column:23}},86:{start:{line:222,column:24},end:{line:222,column:52}},87:{start:{line:223,column:8},end:{line:230,column:9}},88:{start:{line:224,column:12},end:{line:226,column:13}},89:{start:{line:225,column:16},end:{line:225,column:39}},90:{start:{line:227,column:12},end:{line:227,column:78}},91:{start:{line:228,column:15},end:{line:230,column:9}},92:{start:{line:229,column:12},end:{line:229,column:70}},93:{start:{line:231,column:8},end:{line:231,column:23}},94:{start:{line:239,column:8},end:{line:239,column:74}},95:{start:{line:247,column:8},end:{line:247,column:82}},96:{start:{line:254,column:8},end:{line:254,column:40}},97:{start:{line:261,column:8},end:{line:261,column:35}},98:{start:{line:268,column:8},end:{line:268,column:34}},99:{start:{line:281,column:8},end:{line:284,column:9}},100:{start:{line:282,column:34},end:{line:282,column:101}},101:{start:{line:283,column:12},end:{line:283,column:119}},102:{start:{line:296,column:8},end:{line:299,column:9}},103:{start:{line:297,column:37},end:{line:297,column:81}},104:{start:{line:298,column:12},end:{line:298,column:107}},105:{start:{line:312,column:8},end:{line:314,column:9}},106:{start:{line:313,column:12},end:{line:313,column:58}},107:{start:{line:315,column:8},end:{line:318,column:9}},108:{start:{line:316,column:37},end:{line:316,column:110}},109:{start:{line:317,column:12},end:{line:317,column:103}},110:{start:{line:329,column:8},end:{line:329,column:92}},111:{start:{line:330,column:8},end:{line:330,column:77}},112:{start:{line:331,column:8},end:{line:331,column:69}},113:{start:{line:333,column:31},end:{line:333,column:58}},114:{start:{line:334,column:8},end:{line:346,column:9}},115:{start:{line:335,column:34},end:{line:335,column:75}},116:{start:{line:336,column:12},end:{line:345,column:13}},117:{start:{line:337,column:31},end:{line:337,column:95}},118:{start:{line:337,column:65},end:{line:337,column:94}},119:{start:{line:338,column:16},end:{line:344,column:17}},120:{start:{line:339,column:20},end:{line:339,column:72}},121:{start:{line:342,column:20},end:{line:342,column:62}},122:{start:{line:343,column:20},end:{line:343,column:53}},123:{start:{line:347,column:8},end:{line:349,column:9}},124:{start:{line:348,column:12},end:{line:348,column:60}},125:{start:{line:351,column:8},end:{line:351,column:58}},126:{start:{line:362,column:8},end:{line:362,column:57}},127:{start:{line:364,column:8},end:{line:366,column:9}},128:{start:{line:365,column:12},end:{line:365,column:52}},129:{start:{line:369,column:8},end:{line:369,column:75}},130:{start:{line:370,column:8},end:{line:370,column:83}},131:{start:{line:371,column:8},end:{line:371,column:98}},132:{start:{line:383,column:23},end:{line:383,column:77}},133:{start:{line:383,column:61},end:{line:383,column:73}},134:{start:{line:386,column:36},end:{line:393,column:30}},135:{start:{line:395,column:33},end:{line:395,column:79}},136:{start:{line:396,column:8},end:{line:396,column:122}},137:{start:{line:403,column:8},end:{line:403,column:33}},138:{start:{line:408,column:8},end:{line:408,column:29}},139:{start:{line:411,column:0},end:{line:411,column:25}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:36},end:{line:9,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:15,column:4},end:{line:15,column:5}},loc:{start:{line:15,column:34},end:{line:18,column:5}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:23,column:4},end:{line:23,column:5}},loc:{start:{line:23,column:30},end:{line:29,column:5}},line:23},3:{name:"(anonymous_3)",decl:{start:{line:36,column:4},end:{line:36,column:5}},loc:{start:{line:36,column:52},end:{line:64,column:5}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:70,column:4},end:{line:70,column:5}},loc:{start:{line:70,column:32},end:{line:72,column:5}},line:70},5:{name:"(anonymous_5)",decl:{start:{line:78,column:4},end:{line:78,column:5}},loc:{start:{line:78,column:38},end:{line:80,column:5}},line:78},6:{name:"(anonymous_6)",decl:{start:{line:87,column:4},end:{line:87,column:5}},loc:{start:{line:87,column:47},end:{line:105,column:5}},line:87},7:{name:"(anonymous_7)",decl:{start:{line:113,column:4},end:{line:113,column:5}},loc:{start:{line:113,column:63},end:{line:124,column:5}},line:113},8:{name:"(anonymous_8)",decl:{start:{line:132,column:4},end:{line:132,column:5}},loc:{start:{line:132,column:80},end:{line:155,column:5}},line:132},9:{name:"(anonymous_9)",decl:{start:{line:151,column:35},end:{line:151,column:36}},loc:{start:{line:151,column:45},end:{line:151,column:57}},line:151},10:{name:"(anonymous_10)",decl:{start:{line:162,column:4},end:{line:162,column:5}},loc:{start:{line:162,column:47},end:{line:170,column:5}},line:162},11:{name:"(anonymous_11)",decl:{start:{line:178,column:4},end:{line:178,column:5}},loc:{start:{line:178,column:63},end:{line:189,column:5}},line:178},12:{name:"(anonymous_12)",decl:{start:{line:199,column:4},end:{line:199,column:5}},loc:{start:{line:199,column:55},end:{line:210,column:5}},line:199},13:{name:"(anonymous_13)",decl:{start:{line:221,column:4},end:{line:221,column:5}},loc:{start:{line:221,column:41},end:{line:232,column:5}},line:221},14:{name:"(anonymous_14)",decl:{start:{line:238,column:4},end:{line:238,column:5}},loc:{start:{line:238,column:45},end:{line:240,column:5}},line:238},15:{name:"(anonymous_15)",decl:{start:{line:246,column:4},end:{line:246,column:5}},loc:{start:{line:246,column:23},end:{line:248,column:5}},line:246},16:{name:"(anonymous_16)",decl:{start:{line:253,column:4},end:{line:253,column:5}},loc:{start:{line:253,column:26},end:{line:255,column:5}},line:253},17:{name:"(anonymous_17)",decl:{start:{line:260,column:4},end:{line:260,column:5}},loc:{start:{line:260,column:13},end:{line:262,column:5}},line:260},18:{name:"(anonymous_18)",decl:{start:{line:267,column:4},end:{line:267,column:5}},loc:{start:{line:267,column:12},end:{line:269,column:5}},line:267},19:{name:"(anonymous_19)",decl:{start:{line:280,column:4},end:{line:280,column:5}},loc:{start:{line:280,column:94},end:{line:285,column:5}},line:280},20:{name:"(anonymous_20)",decl:{start:{line:295,column:4},end:{line:295,column:5}},loc:{start:{line:295,column:79},end:{line:300,column:5}},line:295},21:{name:"(anonymous_21)",decl:{start:{line:310,column:4},end:{line:310,column:5}},loc:{start:{line:310,column:71},end:{line:319,column:5}},line:310},22:{name:"(anonymous_22)",decl:{start:{line:328,column:4},end:{line:328,column:5}},loc:{start:{line:328,column:64},end:{line:352,column:5}},line:328},23:{name:"(anonymous_23)",decl:{start:{line:337,column:56},end:{line:337,column:57}},loc:{start:{line:337,column:65},end:{line:337,column:94}},line:337},24:{name:"(anonymous_24)",decl:{start:{line:361,column:4},end:{line:361,column:5}},loc:{start:{line:361,column:64},end:{line:372,column:5}},line:361},25:{name:"(anonymous_25)",decl:{start:{line:381,column:4},end:{line:381,column:5}},loc:{start:{line:381,column:58},end:{line:397,column:5}},line:381},26:{name:"(anonymous_26)",decl:{start:{line:383,column:48},end:{line:383,column:49}},loc:{start:{line:383,column:61},end:{line:383,column:73}},line:383},27:{name:"(anonymous_27)",decl:{start:{line:402,column:4},end:{line:402,column:5}},loc:{start:{line:402,column:11},end:{line:404,column:5}},line:402},28:{name:"(anonymous_28)",decl:{start:{line:407,column:4},end:{line:407,column:5}},loc:{start:{line:407,column:13},end:{line:409,column:5}},line:407}},branchMap:{0:{loc:{start:{line:58,column:8},end:{line:61,column:9}},type:"if",locations:[{start:{line:58,column:8},end:{line:61,column:9}},{start:{line:58,column:8},end:{line:61,column:9}}],line:58},1:{loc:{start:{line:100,column:8},end:{line:103,column:9}},type:"if",locations:[{start:{line:100,column:8},end:{line:103,column:9}},{start:{line:100,column:8},end:{line:103,column:9}}],line:100},2:{loc:{start:{line:147,column:16},end:{line:149,column:17}},type:"if",locations:[{start:{line:147,column:16},end:{line:149,column:17}},{start:{line:147,column:16},end:{line:149,column:17}}],line:147},3:{loc:{start:{line:163,column:8},end:{line:163,column:55}},type:"if",locations:[{start:{line:163,column:8},end:{line:163,column:55}},{start:{line:163,column:8},end:{line:163,column:55}}],line:163},4:{loc:{start:{line:166,column:8},end:{line:168,column:9}},type:"if",locations:[{start:{line:166,column:8},end:{line:168,column:9}},{start:{line:166,column:8},end:{line:168,column:9}}],line:166},5:{loc:{start:{line:199,column:36},end:{line:199,column:53}},type:"default-arg",locations:[{start:{line:199,column:43},end:{line:199,column:53}}],line:199},6:{loc:{start:{line:201,column:8},end:{line:208,column:9}},type:"if",locations:[{start:{line:201,column:8},end:{line:208,column:9}},{start:{line:201,column:8},end:{line:208,column:9}}],line:201},7:{loc:{start:{line:202,column:12},end:{line:204,column:13}},type:"if",locations:[{start:{line:202,column:12},end:{line:204,column:13}},{start:{line:202,column:12},end:{line:204,column:13}}],line:202},8:{loc:{start:{line:206,column:15},end:{line:208,column:9}},type:"if",locations:[{start:{line:206,column:15},end:{line:208,column:9}},{start:{line:206,column:15},end:{line:208,column:9}}],line:206},9:{loc:{start:{line:206,column:19},end:{line:206,column:85}},type:"binary-expr",locations:[{start:{line:206,column:19},end:{line:206,column:53}},{start:{line:206,column:57},end:{line:206,column:85}}],line:206},10:{loc:{start:{line:223,column:8},end:{line:230,column:9}},type:"if",locations:[{start:{line:223,column:8},end:{line:230,column:9}},{start:{line:223,column:8},end:{line:230,column:9}}],line:223},11:{loc:{start:{line:224,column:12},end:{line:226,column:13}},type:"if",locations:[{start:{line:224,column:12},end:{line:226,column:13}},{start:{line:224,column:12},end:{line:226,column:13}}],line:224},12:{loc:{start:{line:228,column:15},end:{line:230,column:9}},type:"if",locations:[{start:{line:228,column:15},end:{line:230,column:9}},{start:{line:228,column:15},end:{line:230,column:9}}],line:228},13:{loc:{start:{line:228,column:19},end:{line:228,column:85}},type:"binary-expr",locations:[{start:{line:228,column:19},end:{line:228,column:53}},{start:{line:228,column:57},end:{line:228,column:85}}],line:228},14:{loc:{start:{line:238,column:22},end:{line:238,column:43}},type:"default-arg",locations:[{start:{line:238,column:39},end:{line:238,column:43}}],line:238},15:{loc:{start:{line:247,column:54},end:{line:247,column:79}},type:"cond-expr",locations:[{start:{line:247,column:59},end:{line:247,column:67}},{start:{line:247,column:70},end:{line:247,column:79}}],line:247},16:{loc:{start:{line:280,column:78},end:{line:280,column:92}},type:"default-arg",locations:[{start:{line:280,column:87},end:{line:280,column:92}}],line:280},17:{loc:{start:{line:282,column:59},end:{line:282,column:94}},type:"cond-expr",locations:[{start:{line:282,column:69},end:{line:282,column:82}},{start:{line:282,column:85},end:{line:282,column:94}}],line:282},18:{loc:{start:{line:295,column:63},end:{line:295,column:77}},type:"default-arg",locations:[{start:{line:295,column:72},end:{line:295,column:77}}],line:295},19:{loc:{start:{line:310,column:55},end:{line:310,column:69}},type:"default-arg",locations:[{start:{line:310,column:64},end:{line:310,column:69}}],line:310},20:{loc:{start:{line:312,column:8},end:{line:314,column:9}},type:"if",locations:[{start:{line:312,column:8},end:{line:314,column:9}},{start:{line:312,column:8},end:{line:314,column:9}}],line:312},21:{loc:{start:{line:316,column:65},end:{line:316,column:103}},type:"cond-expr",locations:[{start:{line:316,column:75},end:{line:316,column:84}},{start:{line:316,column:87},end:{line:316,column:103}}],line:316},22:{loc:{start:{line:336,column:12},end:{line:345,column:13}},type:"if",locations:[{start:{line:336,column:12},end:{line:345,column:13}},{start:{line:336,column:12},end:{line:345,column:13}}],line:336},23:{loc:{start:{line:338,column:16},end:{line:344,column:17}},type:"if",locations:[{start:{line:338,column:16},end:{line:344,column:17}},{start:{line:338,column:16},end:{line:344,column:17}}],line:338},24:{loc:{start:{line:338,column:20},end:{line:338,column:90}},type:"binary-expr",locations:[{start:{line:338,column:20},end:{line:338,column:33}},{start:{line:338,column:37},end:{line:338,column:90}}],line:338},25:{loc:{start:{line:347,column:8},end:{line:349,column:9}},type:"if",locations:[{start:{line:347,column:8},end:{line:349,column:9}},{start:{line:347,column:8},end:{line:349,column:9}}],line:347},26:{loc:{start:{line:381,column:42},end:{line:381,column:56}},type:"default-arg",locations:[{start:{line:381,column:51},end:{line:381,column:56}}],line:381}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0],15:[0,0],16:[0],17:[0,0],18:[0],19:[0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Accounts extends Observable{static async getPersistent(n){fn.f[0]++;const e=(fn.s[0]++,await AccountsTree.getPersistent(n));fn.s[1]++;return new Accounts(e)}static async createVolatile(){fn.f[1]++;const n=(fn.s[2]++,await AccountsTree.createVolatile());fn.s[3]++;return new Accounts(n)}constructor(n){fn.f[2]++;fn.s[4]++;super();fn.s[5]++;this._tree=n;fn.s[6]++;this.bubble(this._tree,"*")}async initialize(n,e){fn.f[3]++;fn.s[7]++;Assert.that(await this._tree.isEmpty());const l=(fn.s[8]++,await this._tree.synchronousTransaction());fn.s[9]++;try{const t=(fn.s[10]++,BufferUtils.fromBase64(e)),i=(fn.s[11]++,t.readUint16());fn.s[12]++;for(let n=0;n<i;n++){const n=(fn.s[13]++,Address.unserialize(t)),e=(fn.s[14]++,Account.unserialize(t));fn.s[15]++;l.putSync(n,e)}fn.s[16]++;await this._commitBlockBody(l,n.body,n.height,new TransactionCache);fn.s[17]++;l.finalizeBatch()}catch(o){fn.s[18]++;await l.abort();fn.s[19]++;throw o}const t=(fn.s[20]++,l.rootSync());fn.s[21]++;if(!n.accountsHash.equals(t)){fn.b[0][0]++;fn.s[22]++;await l.abort();fn.s[23]++;throw new Error("Genesis AccountsHash mismatch")}fn.b[0][1]++;fn.s[24]++;return l.commit()}getAccountsProof(n){fn.f[4]++;fn.s[25]++;return this._tree.getAccountsProof(n)}getAccountsTreeChunk(n){fn.f[5]++;fn.s[26]++;return this._tree.getChunk(n,AccountsTreeChunk.SIZE_MAX)}async commitBlock(n,e){fn.f[6]++;const l=(fn.s[27]++,await this._tree.synchronousTransaction());fn.s[28]++;await l.preloadAddresses(n.body.getAddresses());fn.s[29]++;try{fn.s[30]++;this._commitBlockBody(l,n.body,n.height,e)}catch(o){fn.s[31]++;await l.abort();fn.s[32]++;throw o}fn.s[33]++;l.finalizeBatch();const t=(fn.s[34]++,l.rootSync());fn.s[35]++;if(!n.accountsHash.equals(t)){fn.b[1][0]++;fn.s[36]++;await l.abort();fn.s[37]++;throw new Error("AccountsHash mismatch")}fn.b[1][1]++;fn.s[38]++;return l.commit()}async commitBlockBody(n,e,l){fn.f[7]++;const t=(fn.s[39]++,await this._tree.synchronousTransaction());fn.s[40]++;await t.preloadAddresses(n.getAddresses());fn.s[41]++;try{fn.s[42]++;this._commitBlockBody(t,n,e,l)}catch(o){fn.s[43]++;await t.abort();fn.s[44]++;throw o}fn.s[45]++;t.finalizeBatch();fn.s[46]++;return t.commit()}async gatherToBePrunedAccounts(n,e,l){fn.f[8]++;const t=(fn.s[47]++,await this._tree.synchronousTransaction()),o=(fn.s[48]++,[]);fn.s[49]++;for(const i of n){fn.s[50]++;o.push(i.sender,i.recipient)}fn.s[51]++;await t.preloadAddresses(o);fn.s[52]++;try{fn.s[53]++;this._processSenderAccounts(t,n,e,l);fn.s[54]++;this._processRecipientAccounts(t,n,e);fn.s[55]++;this._processContracts(t,n,e);const o=(fn.s[56]++,[]);fn.s[57]++;for(const e of n){const n=(fn.s[58]++,this._getSync(e.sender,undefined,t));fn.s[59]++;if(n.isToBePruned()){fn.b[2][0]++;fn.s[60]++;o.push(new PrunedAccount(e.sender,n))}else fn.b[2][1]++}fn.s[61]++;return o.sort((n,e)=>{fn.f[9]++;fn.s[62]++;return n.compare(e)})}finally{fn.s[63]++;await t.abort()}}async revertBlock(n,e){fn.f[10]++;fn.s[64]++;if(!n){fn.b[3][0]++;fn.s[65]++;throw new Error("block undefined")}fn.b[3][1]++;const l=(fn.s[66]++,await this._tree.root());fn.s[67]++;if(!n.accountsHash.equals(l)){fn.b[4][0]++;fn.s[68]++;throw new Error("AccountsHash mismatch")}fn.b[4][1]++;fn.s[69]++;return this.revertBlockBody(n.body,n.height,e)}async revertBlockBody(n,e,l){fn.f[11]++;const t=(fn.s[70]++,await this._tree.synchronousTransaction());fn.s[71]++;await t.preloadAddresses(n.getAddresses());fn.s[72]++;try{fn.s[73]++;this._revertBlockBody(t,n,e,l)}catch(o){fn.s[74]++;await t.abort();fn.s[75]++;throw o}fn.s[76]++;t.finalizeBatch();fn.s[77]++;return t.commit()}async get(n,e,l=(fn.b[5][0]++,this._tree)){fn.f[12]++;const t=(fn.s[78]++,await l.get(n));fn.s[79]++;if(!t){fn.b[6][0]++;fn.s[80]++;if("undefined"==typeof e){fn.b[7][0]++;fn.s[81]++;return Account.INITIAL}fn.b[7][1]++;fn.s[82]++;throw new Error("Account type was given but account not present")}fn.b[6][1]++;fn.s[83]++;if((fn.b[9][0]++,"undefined"!=typeof e)&&(fn.b[9][1]++,t.type!==e)){fn.b[8][0]++;fn.s[84]++;throw new Error("Account type does match actual account")}fn.b[8][1]++;fn.s[85]++;return t}_getSync(n,e,l){fn.f[13]++;const t=(fn.s[86]++,l.getSync(n,!1));fn.s[87]++;if(!t){fn.b[10][0]++;fn.s[88]++;if("undefined"==typeof e){fn.b[11][0]++;fn.s[89]++;return Account.INITIAL}fn.b[11][1]++;fn.s[90]++;throw new Error("Account type was given but account not present")}fn.b[10][1]++;fn.s[91]++;if((fn.b[13][0]++,"undefined"!=typeof e)&&(fn.b[13][1]++,t.type!==e)){fn.b[12][0]++;fn.s[92]++;throw new Error("Account type does match actual account")}fn.b[12][1]++;fn.s[93]++;return t}async transaction(n=(fn.b[14][0]++,!0)){fn.f[14]++;fn.s[94]++;return new Accounts(await this._tree.transaction(n))}async snapshot(n){fn.f[15]++;fn.s[95]++;return new Accounts(await this._tree.snapshot(n?(fn.b[15][0]++,n._tree):(fn.b[15][1]++,undefined)))}partialAccountsTree(){fn.f[16]++;fn.s[96]++;return this._tree.partialTree()}commit(){fn.f[17]++;fn.s[97]++;return this._tree.commit()}abort(){fn.f[18]++;fn.s[98]++;return this._tree.abort()}_processSenderAccounts(n,e,l,t,o=(fn.b[16][0]++,!1)){fn.f[19]++;fn.s[99]++;for(const i of e){const e=(fn.s[100]++,this._getSync(i.sender,o?(fn.b[17][1]++,undefined):(fn.b[17][0]++,i.senderType),n));fn.s[101]++;n.putBatch(i.sender,e.withOutgoingTransaction(i,l,t,o))}}_processRecipientAccounts(n,e,l,t=(fn.b[18][0]++,!1)){fn.f[20]++;fn.s[102]++;for(const o of e){const e=(fn.s[103]++,this._getSync(o.recipient,undefined,n));fn.s[104]++;n.putBatch(o.recipient,e.withIncomingTransaction(o,l,t))}}_processContracts(n,e,l,t=(fn.b[19][0]++,!1)){fn.f[21]++;fn.s[105]++;if(t){fn.b[20][0]++;fn.s[106]++;e=e.slice().reverse()}else fn.b[20][1]++;fn.s[107]++;for(const o of e){const e=(fn.s[108]++,this._getSync(o.recipient,t?(fn.b[21][1]++,o.recipientType):(fn.b[21][0]++,undefined),n));fn.s[109]++;n.putBatch(o.recipient,e.withContractCommand(o,l,t))}}_commitBlockBody(n,e,l,t){fn.f[22]++;fn.s[110]++;this._processSenderAccounts(n,e.transactions,l,t);fn.s[111]++;this._processRecipientAccounts(n,e.transactions,l);fn.s[112]++;this._processContracts(n,e.transactions,l);const o=(fn.s[113]++,e.prunedAccounts.slice());fn.s[114]++;for(const i of e.transactions){const e=(fn.s[115]++,this._getSync(i.sender,undefined,n));fn.s[116]++;if(e.isToBePruned()){fn.b[22][0]++;const l=(fn.s[117]++,o.findIndex(n=>{fn.f[23]++;fn.s[118]++;return n.address.equals(i.sender)}));fn.s[119]++;if((fn.b[24][0]++,-1===l)||(fn.b[24][1]++,!e.equals(o[l].account))){fn.b[23][0]++;fn.s[120]++;throw new Error("Account was not pruned correctly")}fn.b[23][1]++;fn.s[121]++;n.putBatch(i.sender,Account.INITIAL);fn.s[122]++;o.splice(l,1)}else fn.b[22][1]++}fn.s[123]++;if(o.length>0){fn.b[25][0]++;fn.s[124]++;throw new Error("Account was invalidly pruned")}fn.b[25][1]++;fn.s[125]++;this._rewardMiner(n,e,l,!1)}_revertBlockBody(n,e,l,t){fn.f[24]++;fn.s[126]++;this._rewardMiner(n,e,l,!0);fn.s[127]++;for(const o of e.prunedAccounts){fn.s[128]++;n.putBatch(o.address,o.account)}fn.s[129]++;this._processContracts(n,e.transactions,l,!0);fn.s[130]++;this._processRecipientAccounts(n,e.transactions,l,!0);fn.s[131]++;this._processSenderAccounts(n,e.transactions,l,t,!0)}_rewardMiner(n,e,l,t=(fn.b[26][0]++,!1)){fn.f[25]++;const o=(fn.s[132]++,e.transactions.reduce((n,e)=>{fn.f[26]++;fn.s[133]++;return n+e.fee},0)),i=(fn.s[134]++,new ExtendedTransaction(Address.NULL,Account.Type.BASIC,e.minerAddr,Account.Type.BASIC,o+Policy.blockRewardAt(l),0,0,Transaction.Flag.NONE,new Uint8Array(0))),c=(fn.s[135]++,this._getSync(e.minerAddr,undefined,n));fn.s[136]++;n.putBatch(e.minerAddr,c.withIncomingTransaction(i,l,t))}hash(){fn.f[27]++;fn.s[137]++;return this._tree.root()}get tx(){fn.f[28]++;fn.s[138]++;return this._tree.tx}}fn.s[139]++;Class.register(Accounts);var _n=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/block/BlockHeader.js",e="918f1e617ea2ddfed1a4e904c6674bc6a485dda8",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/block/BlockHeader.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:25}},1:{start:{line:7,column:16},end:{line:7,column:25}},2:{start:{line:8,column:25},end:{line:8,column:47}},3:{start:{line:9,column:30},end:{line:9,column:57}},4:{start:{line:10,column:25},end:{line:10,column:47}},5:{start:{line:11,column:29},end:{line:11,column:55}},6:{start:{line:12,column:8},end:{line:15,column:10}},7:{start:{line:30,column:8},end:{line:30,column:70}},8:{start:{line:30,column:44},end:{line:30,column:70}},9:{start:{line:31,column:8},end:{line:31,column:63}},10:{start:{line:31,column:36},end:{line:31,column:63}},11:{start:{line:32,column:8},end:{line:32,column:73}},12:{start:{line:32,column:41},end:{line:32,column:73}},13:{start:{line:33,column:8},end:{line:33,column:63}},14:{start:{line:33,column:36},end:{line:33,column:63}},15:{start:{line:34,column:8},end:{line:34,column:71}},16:{start:{line:34,column:40},end:{line:34,column:71}},17:{start:{line:35,column:8},end:{line:35,column:103}},18:{start:{line:35,column:79},end:{line:35,column:103}},19:{start:{line:36,column:8},end:{line:36,column:66}},20:{start:{line:36,column:43},end:{line:36,column:66}},21:{start:{line:37,column:8},end:{line:37,column:74}},22:{start:{line:37,column:46},end:{line:37,column:74}},23:{start:{line:38,column:8},end:{line:38,column:66}},24:{start:{line:38,column:42},end:{line:38,column:66}},25:{start:{line:41,column:8},end:{line:41,column:32}},26:{start:{line:43,column:8},end:{line:43,column:34}},27:{start:{line:45,column:8},end:{line:45,column:44}},28:{start:{line:47,column:8},end:{line:47,column:34}},29:{start:{line:49,column:8},end:{line:49,column:42}},30:{start:{line:51,column:8},end:{line:51,column:28}},31:{start:{line:53,column:8},end:{line:53,column:30}},32:{start:{line:55,column:8},end:{line:55,column:36}},33:{start:{line:57,column:8},end:{line:57,column:28}},34:{start:{line:65,column:24},end:{line:65,column:40}},35:{start:{line:66,column:8},end:{line:66,column:119}},36:{start:{line:66,column:63},end:{line:66,column:119}},37:{start:{line:67,column:25},end:{line:67,column:46}},38:{start:{line:68,column:30},end:{line:68,column:51}},39:{start:{line:69,column:25},end:{line:69,column:46}},40:{start:{line:70,column:29},end:{line:70,column:50}},41:{start:{line:71,column:22},end:{line:71,column:38}},42:{start:{line:72,column:23},end:{line:72,column:39}},43:{start:{line:73,column:26},end:{line:73,column:42}},44:{start:{line:74,column:22},end:{line:74,column:38}},45:{start:{line:75,column:8},end:{line:75,column:122}},46:{start:{line:83,column:8},end:{line:83,column:59}},47:{start:{line:84,column:8},end:{line:84,column:39}},48:{start:{line:85,column:8},end:{line:85,column:38}},49:{start:{line:86,column:8},end:{line:86,column:43}},50:{start:{line:87,column:8},end:{line:87,column:38}},51:{start:{line:88,column:8},end:{line:88,column:42}},52:{start:{line:89,column:8},end:{line:89,column:37}},53:{start:{line:90,column:8},end:{line:90,column:38}},54:{start:{line:91,column:8},end:{line:91,column:41}},55:{start:{line:92,column:8},end:{line:92,column:37}},56:{start:{line:93,column:8},end:{line:93,column:19}},57:{start:{line:98,column:8},end:{line:106,column:26}},58:{start:{line:114,column:20},end:{line:114,column:39}},59:{start:{line:115,column:8},end:{line:115,column:58}},60:{start:{line:124,column:8},end:{line:126,column:9}},61:{start:{line:125,column:12},end:{line:125,column:25}},62:{start:{line:129,column:8},end:{line:131,column:9}},63:{start:{line:130,column:12},end:{line:130,column:25}},64:{start:{line:134,column:25},end:{line:134,column:42}},65:{start:{line:135,column:8},end:{line:137,column:9}},66:{start:{line:136,column:12},end:{line:136,column:25}},67:{start:{line:140,column:8},end:{line:140,column:20}},68:{start:{line:148,column:8},end:{line:148,column:67}},69:{start:{line:149,column:8},end:{line:149,column:26}},70:{start:{line:157,column:8},end:{line:157,column:70}},71:{start:{line:158,column:8},end:{line:158,column:25}},72:{start:{line:166,column:8},end:{line:174,column:39}},73:{start:{line:181,column:8},end:{line:190,column:18}},74:{start:{line:195,column:8},end:{line:195,column:29}},75:{start:{line:200,column:8},end:{line:200,column:30}},76:{start:{line:205,column:8},end:{line:205,column:35}},77:{start:{line:210,column:8},end:{line:210,column:30}},78:{start:{line:215,column:8},end:{line:215,column:34}},79:{start:{line:220,column:8},end:{line:220,column:27}},80:{start:{line:225,column:8},end:{line:225,column:55}},81:{start:{line:230,column:8},end:{line:230,column:59}},82:{start:{line:235,column:8},end:{line:235,column:28}},83:{start:{line:240,column:8},end:{line:240,column:31}},84:{start:{line:245,column:8},end:{line:245,column:27}},85:{start:{line:252,column:8},end:{line:252,column:24}},86:{start:{line:253,column:8},end:{line:253,column:26}},87:{start:{line:254,column:8},end:{line:254,column:25}},88:{start:{line:258,column:0},end:{line:260,column:2}},89:{start:{line:261,column:0},end:{line:261,column:53}},90:{start:{line:262,column:0},end:{line:264,column:2}},91:{start:{line:265,column:0},end:{line:265,column:34}},92:{start:{line:266,column:0},end:{line:266,column:28}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:19},end:{line:16,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:29,column:4},end:{line:29,column:5}},loc:{start:{line:29,column:137},end:{line:58,column:5}},line:29},2:{name:"(anonymous_2)",decl:{start:{line:64,column:4},end:{line:64,column:5}},loc:{start:{line:64,column:28},end:{line:76,column:5}},line:64},3:{name:"(anonymous_3)",decl:{start:{line:82,column:4},end:{line:82,column:5}},loc:{start:{line:82,column:19},end:{line:94,column:5}},line:82},4:{name:"(anonymous_4)",decl:{start:{line:97,column:4},end:{line:97,column:5}},loc:{start:{line:97,column:25},end:{line:107,column:5}},line:97},5:{name:"(anonymous_5)",decl:{start:{line:113,column:4},end:{line:113,column:5}},loc:{start:{line:113,column:33},end:{line:116,column:5}},line:113},6:{name:"(anonymous_6)",decl:{start:{line:122,column:4},end:{line:122,column:5}},loc:{start:{line:122,column:39},end:{line:141,column:5}},line:122},7:{name:"(anonymous_7)",decl:{start:{line:147,column:4},end:{line:147,column:5}},loc:{start:{line:147,column:14},end:{line:150,column:5}},line:147},8:{name:"(anonymous_8)",decl:{start:{line:156,column:4},end:{line:156,column:5}},loc:{start:{line:156,column:19},end:{line:159,column:5}},line:156},9:{name:"(anonymous_9)",decl:{start:{line:165,column:4},end:{line:165,column:5}},loc:{start:{line:165,column:14},end:{line:175,column:5}},line:165},10:{name:"(anonymous_10)",decl:{start:{line:180,column:4},end:{line:180,column:5}},loc:{start:{line:180,column:15},end:{line:191,column:5}},line:180},11:{name:"(anonymous_11)",decl:{start:{line:194,column:4},end:{line:194,column:5}},loc:{start:{line:194,column:18},end:{line:196,column:5}},line:194},12:{name:"(anonymous_12)",decl:{start:{line:199,column:4},end:{line:199,column:5}},loc:{start:{line:199,column:19},end:{line:201,column:5}},line:199},13:{name:"(anonymous_13)",decl:{start:{line:204,column:4},end:{line:204,column:5}},loc:{start:{line:204,column:24},end:{line:206,column:5}},line:204},14:{name:"(anonymous_14)",decl:{start:{line:209,column:4},end:{line:209,column:5}},loc:{start:{line:209,column:19},end:{line:211,column:5}},line:209},15:{name:"(anonymous_15)",decl:{start:{line:214,column:4},end:{line:214,column:5}},loc:{start:{line:214,column:23},end:{line:216,column:5}},line:214},16:{name:"(anonymous_16)",decl:{start:{line:219,column:4},end:{line:219,column:5}},loc:{start:{line:219,column:16},end:{line:221,column:5}},line:219},17:{name:"(anonymous_17)",decl:{start:{line:224,column:4},end:{line:224,column:5}},loc:{start:{line:224,column:17},end:{line:226,column:5}},line:224},18:{name:"(anonymous_18)",decl:{start:{line:229,column:4},end:{line:229,column:5}},loc:{start:{line:229,column:21},end:{line:231,column:5}},line:229},19:{name:"(anonymous_19)",decl:{start:{line:234,column:4},end:{line:234,column:5}},loc:{start:{line:234,column:17},end:{line:236,column:5}},line:234},20:{name:"(anonymous_20)",decl:{start:{line:239,column:4},end:{line:239,column:5}},loc:{start:{line:239,column:20},end:{line:241,column:5}},line:239},21:{name:"(anonymous_21)",decl:{start:{line:244,column:4},end:{line:244,column:5}},loc:{start:{line:244,column:16},end:{line:246,column:5}},line:244},22:{name:"(anonymous_22)",decl:{start:{line:251,column:4},end:{line:251,column:5}},loc:{start:{line:251,column:17},end:{line:255,column:5}},line:251}},branchMap:{0:{loc:{start:{line:7,column:8},end:{line:7,column:25}},type:"if",locations:[{start:{line:7,column:8},end:{line:7,column:25}},{start:{line:7,column:8},end:{line:7,column:25}}],line:7},1:{loc:{start:{line:29,column:98},end:{line:29,column:135}},type:"default-arg",locations:[{start:{line:29,column:108},end:{line:29,column:135}}],line:29},2:{loc:{start:{line:30,column:8},end:{line:30,column:70}},type:"if",locations:[{start:{line:30,column:8},end:{line:30,column:70}},{start:{line:30,column:8},end:{line:30,column:70}}],line:30},3:{loc:{start:{line:31,column:8},end:{line:31,column:63}},type:"if",locations:[{start:{line:31,column:8},end:{line:31,column:63}},{start:{line:31,column:8},end:{line:31,column:63}}],line:31},4:{loc:{start:{line:32,column:8},end:{line:32,column:73}},type:"if",locations:[{start:{line:32,column:8},end:{line:32,column:73}},{start:{line:32,column:8},end:{line:32,column:73}}],line:32},5:{loc:{start:{line:33,column:8},end:{line:33,column:63}},type:"if",locations:[{start:{line:33,column:8},end:{line:33,column:63}},{start:{line:33,column:8},end:{line:33,column:63}}],line:33},6:{loc:{start:{line:34,column:8},end:{line:34,column:71}},type:"if",locations:[{start:{line:34,column:8},end:{line:34,column:71}},{start:{line:34,column:8},end:{line:34,column:71}}],line:34},7:{loc:{start:{line:35,column:8},end:{line:35,column:103}},type:"if",locations:[{start:{line:35,column:8},end:{line:35,column:103}},{start:{line:35,column:8},end:{line:35,column:103}}],line:35},8:{loc:{start:{line:35,column:12},end:{line:35,column:77}},type:"binary-expr",locations:[{start:{line:35,column:12},end:{line:35,column:40}},{start:{line:35,column:44},end:{line:35,column:77}}],line:35},9:{loc:{start:{line:36,column:8},end:{line:36,column:66}},type:"if",locations:[{start:{line:36,column:8},end:{line:36,column:66}},{start:{line:36,column:8},end:{line:36,column:66}}],line:36},10:{loc:{start:{line:37,column:8},end:{line:37,column:74}},type:"if",locations:[{start:{line:37,column:8},end:{line:37,column:74}},{start:{line:37,column:8},end:{line:37,column:74}}],line:37},11:{loc:{start:{line:38,column:8},end:{line:38,column:66}},type:"if",locations:[{start:{line:38,column:8},end:{line:38,column:66}},{start:{line:38,column:8},end:{line:38,column:66}}],line:38},12:{loc:{start:{line:66,column:8},end:{line:66,column:119}},type:"if",locations:[{start:{line:66,column:8},end:{line:66,column:119}},{start:{line:66,column:8},end:{line:66,column:119}}],line:66},13:{loc:{start:{line:83,column:14},end:{line:83,column:58}},type:"binary-expr",locations:[{start:{line:83,column:14},end:{line:83,column:17}},{start:{line:83,column:21},end:{line:83,column:58}}],line:83},14:{loc:{start:{line:124,column:8},end:{line:126,column:9}},type:"if",locations:[{start:{line:124,column:8},end:{line:126,column:9}},{start:{line:124,column:8},end:{line:126,column:9}}],line:124},15:{loc:{start:{line:129,column:8},end:{line:131,column:9}},type:"if",locations:[{start:{line:129,column:8},end:{line:131,column:9}},{start:{line:129,column:8},end:{line:131,column:9}}],line:129},16:{loc:{start:{line:135,column:8},end:{line:137,column:9}},type:"if",locations:[{start:{line:135,column:8},end:{line:137,column:9}},{start:{line:135,column:8},end:{line:137,column:9}}],line:135},17:{loc:{start:{line:148,column:21},end:{line:148,column:66}},type:"binary-expr",locations:[{start:{line:148,column:21},end:{line:148,column:31}},{start:{line:148,column:35},end:{line:148,column:66}}],line:148},18:{loc:{start:{line:157,column:20},end:{line:157,column:69}},type:"binary-expr",locations:[{start:{line:157,column:20},end:{line:157,column:29}},{start:{line:157,column:33},end:{line:157,column:69}}],line:157},19:{loc:{start:{line:166,column:15},end:{line:174,column:38}},type:"binary-expr",locations:[{start:{line:166,column:15},end:{line:166,column:39}},{start:{line:167,column:15},end:{line:167,column:48}},{start:{line:168,column:15},end:{line:168,column:58}},{start:{line:169,column:15},end:{line:169,column:48}},{start:{line:170,column:15},end:{line:170,column:56}},{start:{line:171,column:15},end:{line:171,column:38}},{start:{line:172,column:15},end:{line:172,column:40}},{start:{line:173,column:15},end:{line:173,column:46}},{start:{line:174,column:15},end:{line:174,column:38}}],line:166}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},b:{0:[0,0],1:[0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0,0,0,0,0,0,0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class BlockHeader{static copy(n){_n.f[0]++;_n.s[0]++;if(!n){_n.b[0][0]++;_n.s[1]++;return n}_n.b[0][1]++;const e=(_n.s[2]++,Hash.copy(n._prevHash)),l=(_n.s[3]++,Hash.copy(n._interlinkHash)),t=(_n.s[4]++,Hash.copy(n._bodyHash)),o=(_n.s[5]++,Hash.copy(n._accountsHash));_n.s[6]++;return new BlockHeader(e,l,t,o,n._nBits,n._height,n._timestamp,n._nonce,n._version)}constructor(n,e,l,t,o,i,c,s,u=(_n.b[1][0]++,BlockHeader.CURRENT_VERSION)){_n.f[1]++;_n.s[7]++;if(!NumberUtils.isUint16(u)){_n.b[2][0]++;_n.s[8]++;throw"Malformed version"}_n.b[2][1]++;_n.s[9]++;if(!Hash.isHash(n)){_n.b[3][0]++;_n.s[10]++;throw"Malformed prevHash"}_n.b[3][1]++;_n.s[11]++;if(!Hash.isHash(e)){_n.b[4][0]++;_n.s[12]++;throw"Malformed interlinkHash"}_n.b[4][1]++;_n.s[13]++;if(!Hash.isHash(l)){_n.b[5][0]++;_n.s[14]++;throw"Malformed bodyHash"}_n.b[5][1]++;_n.s[15]++;if(!Hash.isHash(t)){_n.b[6][0]++;_n.s[16]++;throw"Malformed accountsHash"}_n.b[6][1]++;_n.s[17]++;if((_n.b[8][0]++,!NumberUtils.isUint32(o))||(_n.b[8][1]++,!BlockUtils.isValidCompact(o))){_n.b[7][0]++;_n.s[18]++;throw"Malformed nBits"}_n.b[7][1]++;_n.s[19]++;if(!NumberUtils.isUint32(i)){_n.b[9][0]++;_n.s[20]++;throw"Invalid height"}_n.b[9][1]++;_n.s[21]++;if(!NumberUtils.isUint32(c)){_n.b[10][0]++;_n.s[22]++;throw"Malformed timestamp"}_n.b[10][1]++;_n.s[23]++;if(!NumberUtils.isUint32(s)){_n.b[11][0]++;_n.s[24]++;throw"Malformed nonce"}_n.b[11][1]++;_n.s[25]++;this._version=u;_n.s[26]++;this._prevHash=n;_n.s[27]++;this._interlinkHash=e;_n.s[28]++;this._bodyHash=l;_n.s[29]++;this._accountsHash=t;_n.s[30]++;this._nBits=o;_n.s[31]++;this._height=i;_n.s[32]++;this._timestamp=c;_n.s[33]++;this._nonce=s}static unserialize(n){_n.f[2]++;const e=(_n.s[34]++,n.readUint16());_n.s[35]++;if(!BlockHeader.SUPPORTED_VERSIONS.includes(e)){_n.b[12][0]++;_n.s[36]++;throw new Error(`Unsupported block version ${e}`)}_n.b[12][1]++;const l=(_n.s[37]++,Hash.unserialize(n)),t=(_n.s[38]++,Hash.unserialize(n)),o=(_n.s[39]++,Hash.unserialize(n)),i=(_n.s[40]++,Hash.unserialize(n)),c=(_n.s[41]++,n.readUint32()),s=(_n.s[42]++,n.readUint32()),u=(_n.s[43]++,n.readUint32()),m=(_n.s[44]++,n.readUint32());_n.s[45]++;return new BlockHeader(l,t,o,i,c,s,u,m,e)}serialize(n){_n.f[3]++;_n.s[46]++;n=(_n.b[13][0]++,n)||(_n.b[13][1]++,new SerialBuffer(this.serializedSize));_n.s[47]++;n.writeUint16(this._version);_n.s[48]++;this._prevHash.serialize(n);_n.s[49]++;this._interlinkHash.serialize(n);_n.s[50]++;this._bodyHash.serialize(n);_n.s[51]++;this._accountsHash.serialize(n);_n.s[52]++;n.writeUint32(this._nBits);_n.s[53]++;n.writeUint32(this._height);_n.s[54]++;n.writeUint32(this._timestamp);_n.s[55]++;n.writeUint32(this._nonce);_n.s[56]++;return n}get serializedSize(){_n.f[4]++;_n.s[57]++;return 2+this._prevHash.serializedSize+this._interlinkHash.serializedSize+this._bodyHash.serializedSize+this._accountsHash.serializedSize+4+4+4+4}async verifyProofOfWork(n){_n.f[5]++;const e=(_n.s[58]++,await this.pow(n));_n.s[59]++;return BlockUtils.isProofOfWork(e,this.target)}isImmediateSuccessorOf(n){_n.f[6]++;_n.s[60]++;if(this.height!==n.height+1){_n.b[14][0]++;_n.s[61]++;return!1}_n.b[14][1]++;_n.s[62]++;if(this.timestamp<n.timestamp){_n.b[15][0]++;_n.s[63]++;return!1}_n.b[15][1]++;const e=(_n.s[64]++,n.hash());_n.s[65]++;if(!this.prevHash.equals(e)){_n.b[16][0]++;_n.s[66]++;return!1}_n.b[16][1]++;_n.s[67]++;return!0}hash(n){_n.f[7]++;_n.s[68]++;this._hash=(_n.b[17][0]++,this._hash)||(_n.b[17][1]++,Hash.light(this.serialize(n)));_n.s[69]++;return this._hash}async pow(n){_n.f[8]++;_n.s[70]++;this._pow=(_n.b[18][0]++,this._pow)||(_n.b[18][1]++,await Hash.hard(this.serialize(n)));_n.s[71]++;return this._pow}equals(n){_n.f[9]++;_n.s[72]++;return(_n.b[19][0]++,n instanceof BlockHeader)&&(_n.b[19][1]++,this._prevHash.equals(n.prevHash))&&(_n.b[19][2]++,this._interlinkHash.equals(n.interlinkHash))&&(_n.b[19][3]++,this._bodyHash.equals(n.bodyHash))&&(_n.b[19][4]++,this._accountsHash.equals(n.accountsHash))&&(_n.b[19][5]++,this._nBits===n.nBits)&&(_n.b[19][6]++,this._height===n.height)&&(_n.b[19][7]++,this._timestamp===n.timestamp)&&(_n.b[19][8]++,this._nonce===n.nonce)}toString(){_n.f[10]++;_n.s[73]++;return"BlockHeader{"+`prevHash=${this._prevHash}, `+`interlinkHash=${this._interlinkHash}, `+`bodyHash=${this._bodyHash}, `+`accountsHash=${this._accountsHash}, `+`nBits=${this._nBits.toString(16)}, `+`height=${this._height}, `+`timestamp=${this._timestamp}, `+`nonce=${this._nonce}`+"}"}get version(){_n.f[11]++;_n.s[74]++;return this._version}get prevHash(){_n.f[12]++;_n.s[75]++;return this._prevHash}get interlinkHash(){_n.f[13]++;_n.s[76]++;return this._interlinkHash}get bodyHash(){_n.f[14]++;_n.s[77]++;return this._bodyHash}get accountsHash(){_n.f[15]++;_n.s[78]++;return this._accountsHash}get nBits(){_n.f[16]++;_n.s[79]++;return this._nBits}get target(){_n.f[17]++;_n.s[80]++;return BlockUtils.compactToTarget(this._nBits)}get difficulty(){_n.f[18]++;_n.s[81]++;return BlockUtils.compactToDifficulty(this._nBits)}get height(){_n.f[19]++;_n.s[82]++;return this._height}get timestamp(){_n.f[20]++;_n.s[83]++;return this._timestamp}get nonce(){_n.f[21]++;_n.s[84]++;return this._nonce}set nonce(n){_n.f[22]++;_n.s[85]++;this._nonce=n;_n.s[86]++;this._hash=null;_n.s[87]++;this._pow=null}}_n.s[88]++;BlockHeader.Version={V1:1};_n.s[89]++;BlockHeader.CURRENT_VERSION=BlockHeader.Version.V1;_n.s[90]++;BlockHeader.SUPPORTED_VERSIONS=[BlockHeader.Version.V1];_n.s[91]++;BlockHeader.SERIALIZED_SIZE=146;_n.s[92]++;Class.register(BlockHeader);var yn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/block/BlockInterlink.js",e="508a52cfff4a62602a29aeff5675494f34fa91b6",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/block/BlockInterlink.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:25}},1:{start:{line:7,column:16},end:{line:7,column:25}},2:{start:{line:8,column:23},end:{line:8,column:57}},3:{start:{line:8,column:43},end:{line:8,column:56}},4:{start:{line:9,column:27},end:{line:9,column:56}},5:{start:{line:10,column:27},end:{line:10,column:65}},6:{start:{line:10,column:51},end:{line:10,column:64}},7:{start:{line:11,column:8},end:{line:11,column:77}},8:{start:{line:21,column:22},end:{line:21,column:35}},9:{start:{line:22,column:31},end:{line:22,column:51}},10:{start:{line:23,column:27},end:{line:23,column:57}},11:{start:{line:25,column:23},end:{line:25,column:31}},12:{start:{line:26,column:27},end:{line:26,column:29}},13:{start:{line:27,column:8},end:{line:35,column:9}},14:{start:{line:28,column:25},end:{line:28,column:34}},15:{start:{line:29,column:12},end:{line:34,column:13}},16:{start:{line:30,column:16},end:{line:30,column:38}},17:{start:{line:31,column:16},end:{line:31,column:32}},18:{start:{line:33,column:16},end:{line:33,column:66}},19:{start:{line:37,column:8},end:{line:37,column:40}},20:{start:{line:47,column:8},end:{line:48,column:93}},21:{start:{line:48,column:33},end:{line:48,column:54}},22:{start:{line:48,column:57},end:{line:48,column:93}},23:{start:{line:49,column:8},end:{line:49,column:122}},24:{start:{line:49,column:71},end:{line:49,column:122}},25:{start:{line:50,column:8},end:{line:50,column:107}},26:{start:{line:50,column:38},end:{line:50,column:107}},27:{start:{line:52,column:8},end:{line:54,column:9}},28:{start:{line:53,column:12},end:{line:53,column:84}},29:{start:{line:57,column:8},end:{line:57,column:30}},30:{start:{line:59,column:8},end:{line:59,column:38}},31:{start:{line:61,column:8},end:{line:61,column:38}},32:{start:{line:70,column:22},end:{line:70,column:37}},33:{start:{line:71,column:31},end:{line:71,column:51}},34:{start:{line:72,column:27},end:{line:72,column:51}},35:{start:{line:74,column:19},end:{line:74,column:27}},36:{start:{line:75,column:23},end:{line:75,column:25}},37:{start:{line:76,column:27},end:{line:76,column:29}},38:{start:{line:77,column:8},end:{line:84,column:9}},39:{start:{line:78,column:29},end:{line:78,column:87}},40:{start:{line:79,column:12},end:{line:82,column:13}},41:{start:{line:80,column:16},end:{line:80,column:45}},42:{start:{line:81,column:16},end:{line:81,column:38}},43:{start:{line:83,column:12},end:{line:83,column:30}},44:{start:{line:86,column:8},end:{line:86,column:76}},45:{start:{line:94,column:8},end:{line:94,column:59}},46:{start:{line:95,column:8},end:{line:95,column:44}},47:{start:{line:96,column:8},end:{line:96,column:36}},48:{start:{line:97,column:8},end:{line:99,column:9}},49:{start:{line:98,column:12},end:{line:98,column:32}},50:{start:{line:100,column:8},end:{line:100,column:19}},51:{start:{line:107,column:8},end:{line:109,column:83}},52:{start:{line:109,column:53},end:{line:109,column:78}},53:{start:{line:117,column:8},end:{line:119,column:73}},54:{start:{line:119,column:47},end:{line:119,column:71}},55:{start:{line:126,column:8},end:{line:128,column:9}},56:{start:{line:127,column:12},end:{line:127,column:117}},57:{start:{line:129,column:8},end:{line:129,column:26}},58:{start:{line:136,column:8},end:{line:136,column:28}},59:{start:{line:143,column:8},end:{line:143,column:35}},60:{start:{line:146,column:0},end:{line:146,column:31}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:19},end:{line:12,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:8,column:37},end:{line:8,column:38}},loc:{start:{line:8,column:43},end:{line:8,column:56}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:10,column:45},end:{line:10,column:46}},loc:{start:{line:10,column:51},end:{line:10,column:64}},line:10},3:{name:"(anonymous_3)",decl:{start:{line:20,column:4},end:{line:20,column:5}},loc:{start:{line:20,column:39},end:{line:38,column:5}},line:20},4:{name:"(anonymous_4)",decl:{start:{line:46,column:4},end:{line:46,column:5}},loc:{start:{line:46,column:58},end:{line:62,column:5}},line:46},5:{name:"(anonymous_5)",decl:{start:{line:48,column:27},end:{line:48,column:28}},loc:{start:{line:48,column:33},end:{line:48,column:54}},line:48},6:{name:"(anonymous_6)",decl:{start:{line:69,column:4},end:{line:69,column:5}},loc:{start:{line:69,column:38},end:{line:87,column:5}},line:69},7:{name:"(anonymous_7)",decl:{start:{line:93,column:4},end:{line:93,column:5}},loc:{start:{line:93,column:19},end:{line:101,column:5}},line:93},8:{name:"(anonymous_8)",decl:{start:{line:106,column:4},end:{line:106,column:5}},loc:{start:{line:106,column:25},end:{line:110,column:5}},line:106},9:{name:"(anonymous_9)",decl:{start:{line:109,column:38},end:{line:109,column:39}},loc:{start:{line:109,column:53},end:{line:109,column:78}},line:109},10:{name:"(anonymous_10)",decl:{start:{line:116,column:4},end:{line:116,column:5}},loc:{start:{line:116,column:14},end:{line:120,column:5}},line:116},11:{name:"(anonymous_11)",decl:{start:{line:119,column:34},end:{line:119,column:35}},loc:{start:{line:119,column:47},end:{line:119,column:71}},line:119},12:{name:"(anonymous_12)",decl:{start:{line:125,column:4},end:{line:125,column:5}},loc:{start:{line:125,column:11},end:{line:130,column:5}},line:125},13:{name:"(anonymous_13)",decl:{start:{line:135,column:4},end:{line:135,column:5}},loc:{start:{line:135,column:17},end:{line:137,column:5}},line:135},14:{name:"(anonymous_14)",decl:{start:{line:142,column:4},end:{line:142,column:5}},loc:{start:{line:142,column:17},end:{line:144,column:5}},line:142}},branchMap:{0:{loc:{start:{line:7,column:8},end:{line:7,column:25}},type:"if",locations:[{start:{line:7,column:8},end:{line:7,column:25}},{start:{line:7,column:8},end:{line:7,column:25}}],line:7},1:{loc:{start:{line:29,column:12},end:{line:34,column:13}},type:"if",locations:[{start:{line:29,column:12},end:{line:34,column:13}},{start:{line:29,column:12},end:{line:34,column:13}}],line:29},2:{loc:{start:{line:47,column:8},end:{line:48,column:93}},type:"if",locations:[{start:{line:47,column:8},end:{line:48,column:93}},{start:{line:47,column:8},end:{line:48,column:93}}],line:47},3:{loc:{start:{line:47,column:12},end:{line:48,column:55}},type:"binary-expr",locations:[{start:{line:47,column:12},end:{line:47,column:34}},{start:{line:47,column:38},end:{line:47,column:73}},{start:{line:48,column:15},end:{line:48,column:55}}],line:47},4:{loc:{start:{line:49,column:8},end:{line:49,column:122}},type:"if",locations:[{start:{line:49,column:8},end:{line:49,column:122}},{start:{line:49,column:8},end:{line:49,column:122}}],line:49},5:{loc:{start:{line:49,column:12},end:{line:49,column:69}},type:"binary-expr",locations:[{start:{line:49,column:13},end:{line:49,column:23}},{start:{line:49,column:27},end:{line:49,column:37}},{start:{line:49,column:42},end:{line:49,column:69}}],line:49},6:{loc:{start:{line:49,column:44},end:{line:49,column:68}},type:"binary-expr",locations:[{start:{line:49,column:44},end:{line:49,column:54}},{start:{line:49,column:58},end:{line:49,column:68}}],line:49},7:{loc:{start:{line:50,column:8},end:{line:50,column:107}},type:"if",locations:[{start:{line:50,column:8},end:{line:50,column:107}},{start:{line:50,column:8},end:{line:50,column:107}}],line:50},8:{loc:{start:{line:50,column:12},end:{line:50,column:36}},type:"binary-expr",locations:[{start:{line:50,column:12},end:{line:50,column:21}},{start:{line:50,column:25},end:{line:50,column:36}}],line:50},9:{loc:{start:{line:52,column:8},end:{line:54,column:9}},type:"if",locations:[{start:{line:52,column:8},end:{line:54,column:9}},{start:{line:52,column:8},end:{line:54,column:9}}],line:52},10:{loc:{start:{line:79,column:12},end:{line:82,column:13}},type:"if",locations:[{start:{line:79,column:12},end:{line:82,column:13}},{start:{line:79,column:12},end:{line:82,column:13}}],line:79},11:{loc:{start:{line:94,column:14},end:{line:94,column:58}},type:"binary-expr",locations:[{start:{line:94,column:14},end:{line:94,column:17}},{start:{line:94,column:21},end:{line:94,column:58}}],line:94},12:{loc:{start:{line:117,column:15},end:{line:119,column:72}},type:"binary-expr",locations:[{start:{line:117,column:15},end:{line:117,column:42}},{start:{line:118,column:15},end:{line:118,column:55}},{start:{line:119,column:15},end:{line:119,column:72}}],line:117},13:{loc:{start:{line:126,column:8},end:{line:128,column:9}},type:"if",locations:[{start:{line:126,column:8},end:{line:128,column:9}},{start:{line:126,column:8},end:{line:128,column:9}}],line:126}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0,0],4:[0,0],5:[0,0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0,0],13:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class BlockInterlink{static copy(n){yn.f[0]++;yn.s[0]++;if(!n){yn.b[0][0]++;yn.s[1]++;return n}yn.b[0][1]++;const e=(yn.s[2]++,n._hashes.map(n=>{yn.f[1]++;yn.s[3]++;return Hash.copy(n)})),l=(yn.s[4]++,new Uint8Array(n._repeatBits)),t=(yn.s[5]++,n._compressed.map(n=>{yn.f[2]++;yn.s[6]++;return Hash.copy(n)}));yn.s[7]++;return new BlockInterlink(e,undefined,l,t)}static _compress(n,e){yn.f[3]++;const l=(yn.s[8]++,n.length),t=(yn.s[9]++,Math.ceil(l/8)),o=(yn.s[10]++,new Uint8Array(t));let i=(yn.s[11]++,e);const c=(yn.s[12]++,[]);yn.s[13]++;for(let s=0;s<l;s++){const e=(yn.s[14]++,n[s]);yn.s[15]++;if(e.equals(i)){yn.b[1][1]++;yn.s[18]++;o[Math.floor(s/8)]|=128>>>s%8}else{yn.b[1][0]++;yn.s[16]++;c.push(e);yn.s[17]++;i=e}}yn.s[19]++;return{repeatBits:o,compressed:c}}constructor(n,e,l,t){yn.f[4]++;yn.s[20]++;if((yn.b[3][0]++,!Array.isArray(n))||(yn.b[3][1]++,!NumberUtils.isUint8(n.length))||(yn.b[3][2]++,n.some(n=>{yn.f[5]++;yn.s[21]++;return!(n instanceof Hash)}))){yn.b[2][0]++;yn.s[22]++;throw new Error("Malformed hashes")}yn.b[2][1]++;yn.s[23]++;if(((yn.b[5][0]++,l)||(yn.b[5][1]++,t))&&(yn.b[5][2]++,(yn.b[6][0]++,!l)||(yn.b[6][1]++,!t))){yn.b[4][0]++;yn.s[24]++;throw new Error("Malformed repeatBits/compressed")}yn.b[4][1]++;yn.s[25]++;if((yn.b[8][0]++,!e)&&(yn.b[8][1]++,!l)){yn.b[7][0]++;yn.s[26]++;throw new Error("Either prevHash or repeatBits/compressed required")}yn.b[7][1]++;yn.s[27]++;if(l)yn.b[9][1]++;else{yn.b[9][0]++;yn.s[28]++;({repeatBits:l,compressed:t}=BlockInterlink._compress(n,e))}yn.s[29]++;this._hashes=n;yn.s[30]++;this._repeatBits=l;yn.s[31]++;this._compressed=t}static unserialize(n,e){yn.f[6]++;const l=(yn.s[32]++,n.readUint8()),t=(yn.s[33]++,Math.ceil(l/8)),o=(yn.s[34]++,n.read(t));let i=(yn.s[35]++,e);const c=(yn.s[36]++,[]),s=(yn.s[37]++,[]);yn.s[38]++;for(let u=0;u<l;u++){const e=(yn.s[39]++,0!=(o[Math.floor(u/8)]&128>>>u%8));yn.s[40]++;if(e)yn.b[10][1]++;else{yn.b[10][0]++;yn.s[41]++;i=Hash.unserialize(n);yn.s[42]++;s.push(i)}yn.s[43]++;c.push(i)}yn.s[44]++;return new BlockInterlink(c,e,o,s)}serialize(n){yn.f[7]++;yn.s[45]++;n=(yn.b[11][0]++,n)||(yn.b[11][1]++,new SerialBuffer(this.serializedSize));yn.s[46]++;n.writeUint8(this._hashes.length);yn.s[47]++;n.write(this._repeatBits);yn.s[48]++;for(const e of this._compressed){yn.s[49]++;e.serialize(n)}yn.s[50]++;return n}get serializedSize(){yn.f[8]++;yn.s[51]++;return 1+this._repeatBits.length+this._compressed.reduce((n,e)=>{yn.f[9]++;yn.s[52]++;return n+e.serializedSize},0)}equals(n){yn.f[10]++;yn.s[53]++;return(yn.b[12][0]++,n instanceof BlockInterlink)&&(yn.b[12][1]++,this._hashes.length===n._hashes.length)&&(yn.b[12][2]++,this._hashes.every((e,l)=>{yn.f[11]++;yn.s[54]++;return e.equals(n.hashes[l])}))}hash(){yn.f[12]++;yn.s[55]++;if(this._hash)yn.b[13][1]++;else{yn.b[13][0]++;yn.s[56]++;this._hash=MerkleTree.computeRoot([this._repeatBits,GenesisConfig.GENESIS_HASH,...this._compressed])}yn.s[57]++;return this._hash}get hashes(){yn.f[13]++;yn.s[58]++;return this._hashes}get length(){yn.f[14]++;yn.s[59]++;return this._hashes.length}}yn.s[60]++;Class.register(BlockInterlink);var bn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/block/BlockBody.js",e="0cfce7ea826268f1da1a78037cebc092aa6df436",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/block/BlockBody.js",statementMap:{0:{start:{line:7,column:8},end:{line:10,column:39}},1:{start:{line:20,column:8},end:{line:20,column:73}},2:{start:{line:20,column:45},end:{line:20,column:73}},3:{start:{line:21,column:8},end:{line:21,column:130}},4:{start:{line:21,column:68},end:{line:21,column:96}},5:{start:{line:21,column:99},end:{line:21,column:130}},6:{start:{line:22,column:8},end:{line:22,column:122}},7:{start:{line:22,column:94},end:{line:22,column:122}},8:{start:{line:25,column:8},end:{line:25,column:36}},9:{start:{line:27,column:8},end:{line:27,column:36}},10:{start:{line:29,column:8},end:{line:29,column:42}},11:{start:{line:31,column:8},end:{line:31,column:46}},12:{start:{line:33,column:8},end:{line:33,column:26}},13:{start:{line:41,column:26},end:{line:41,column:50}},14:{start:{line:42,column:32},end:{line:42,column:47}},15:{start:{line:43,column:26},end:{line:43,column:51}},16:{start:{line:44,column:32},end:{line:44,column:48}},17:{start:{line:45,column:29},end:{line:45,column:55}},18:{start:{line:46,column:8},end:{line:48,column:9}},19:{start:{line:47,column:12},end:{line:47,column:59}},20:{start:{line:49,column:34},end:{line:49,column:50}},21:{start:{line:50,column:31},end:{line:50,column:33}},22:{start:{line:51,column:8},end:{line:53,column:9}},23:{start:{line:52,column:12},end:{line:52,column:64}},24:{start:{line:54,column:8},end:{line:54,column:81}},25:{start:{line:62,column:8},end:{line:62,column:59}},26:{start:{line:63,column:8},end:{line:63,column:39}},27:{start:{line:64,column:8},end:{line:64,column:51}},28:{start:{line:65,column:8},end:{line:65,column:35}},29:{start:{line:66,column:8},end:{line:66,column:51}},30:{start:{line:67,column:8},end:{line:69,column:9}},31:{start:{line:68,column:12},end:{line:68,column:30}},32:{start:{line:70,column:8},end:{line:70,column:53}},33:{start:{line:71,column:8},end:{line:73,column:9}},34:{start:{line:72,column:12},end:{line:72,column:31}},35:{start:{line:74,column:8},end:{line:74,column:19}},36:{start:{line:81,column:19},end:{line:85,column:40}},37:{start:{line:86,column:8},end:{line:88,column:9}},38:{start:{line:87,column:12},end:{line:87,column:38}},39:{start:{line:89,column:8},end:{line:89,column:87}},40:{start:{line:89,column:58},end:{line:89,column:82}},41:{start:{line:90,column:8},end:{line:90,column:20}},42:{start:{line:98,column:25},end:{line:98,column:29}},43:{start:{line:99,column:8},end:{line:112,column:9}},44:{start:{line:101,column:12},end:{line:104,column:13}},45:{start:{line:102,column:16},end:{line:102,column:78}},46:{start:{line:103,column:16},end:{line:103,column:29}},47:{start:{line:105,column:12},end:{line:105,column:28}},48:{start:{line:108,column:12},end:{line:111,column:13}},49:{start:{line:109,column:16},end:{line:109,column:72}},50:{start:{line:110,column:16},end:{line:110,column:29}},51:{start:{line:114,column:26},end:{line:114,column:30}},52:{start:{line:115,column:8},end:{line:128,column:9}},53:{start:{line:117,column:12},end:{line:120,column:13}},54:{start:{line:118,column:16},end:{line:118,column:81}},55:{start:{line:119,column:16},end:{line:119,column:29}},56:{start:{line:121,column:12},end:{line:121,column:30}},57:{start:{line:124,column:12},end:{line:127,column:13}},58:{start:{line:125,column:16},end:{line:125,column:75}},59:{start:{line:126,column:16},end:{line:126,column:29}},60:{start:{line:131,column:8},end:{line:131,column:20}},61:{start:{line:138,column:8},end:{line:138,column:97}},62:{start:{line:145,column:8},end:{line:147,column:9}},63:{start:{line:146,column:12},end:{line:146,column:71}},64:{start:{line:148,column:8},end:{line:148,column:26}},65:{start:{line:156,column:8},end:{line:160,column:81}},66:{start:{line:160,column:51},end:{line:160,column:79}},67:{start:{line:167,column:26},end:{line:167,column:43}},68:{start:{line:168,column:8},end:{line:170,column:9}},69:{start:{line:169,column:12},end:{line:169,column:52}},70:{start:{line:171,column:8},end:{line:171,column:25}},71:{start:{line:176,column:8},end:{line:176,column:31}},72:{start:{line:181,column:8},end:{line:181,column:31}},73:{start:{line:186,column:8},end:{line:186,column:34}},74:{start:{line:191,column:8},end:{line:191,column:41}},75:{start:{line:196,column:8},end:{line:196,column:36}},76:{start:{line:200,column:0},end:{line:200,column:26}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:38},end:{line:11,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:19,column:4},end:{line:19,column:5}},loc:{start:{line:19,column:93},end:{line:34,column:5}},line:19},2:{name:"(anonymous_2)",decl:{start:{line:21,column:62},end:{line:21,column:63}},loc:{start:{line:21,column:68},end:{line:21,column:96}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:40,column:4},end:{line:40,column:5}},loc:{start:{line:40,column:28},end:{line:55,column:5}},line:40},4:{name:"(anonymous_4)",decl:{start:{line:61,column:4},end:{line:61,column:5}},loc:{start:{line:61,column:19},end:{line:75,column:5}},line:61},5:{name:"(anonymous_5)",decl:{start:{line:80,column:4},end:{line:80,column:5}},loc:{start:{line:80,column:25},end:{line:91,column:5}},line:80},6:{name:"(anonymous_6)",decl:{start:{line:89,column:44},end:{line:89,column:45}},loc:{start:{line:89,column:58},end:{line:89,column:82}},line:89},7:{name:"(anonymous_7)",decl:{start:{line:96,column:4},end:{line:96,column:5}},loc:{start:{line:96,column:13},end:{line:132,column:5}},line:96},8:{name:"(anonymous_8)",decl:{start:{line:137,column:4},end:{line:137,column:5}},loc:{start:{line:137,column:21},end:{line:139,column:5}},line:137},9:{name:"(anonymous_9)",decl:{start:{line:144,column:4},end:{line:144,column:5}},loc:{start:{line:144,column:11},end:{line:149,column:5}},line:144},10:{name:"(anonymous_10)",decl:{start:{line:155,column:4},end:{line:155,column:5}},loc:{start:{line:155,column:14},end:{line:161,column:5}},line:155},11:{name:"(anonymous_11)",decl:{start:{line:160,column:40},end:{line:160,column:41}},loc:{start:{line:160,column:51},end:{line:160,column:79}},line:160},12:{name:"(anonymous_12)",decl:{start:{line:166,column:4},end:{line:166,column:5}},loc:{start:{line:166,column:19},end:{line:172,column:5}},line:166},13:{name:"(anonymous_13)",decl:{start:{line:175,column:4},end:{line:175,column:5}},loc:{start:{line:175,column:20},end:{line:177,column:5}},line:175},14:{name:"(anonymous_14)",decl:{start:{line:180,column:4},end:{line:180,column:5}},loc:{start:{line:180,column:20},end:{line:182,column:5}},line:180},15:{name:"(anonymous_15)",decl:{start:{line:185,column:4},end:{line:185,column:5}},loc:{start:{line:185,column:23},end:{line:187,column:5}},line:185},16:{name:"(anonymous_16)",decl:{start:{line:190,column:4},end:{line:190,column:5}},loc:{start:{line:190,column:27},end:{line:192,column:5}},line:190},17:{name:"(anonymous_17)",decl:{start:{line:195,column:4},end:{line:195,column:5}},loc:{start:{line:195,column:25},end:{line:197,column:5}},line:195}},branchMap:{0:{loc:{start:{line:19,column:41},end:{line:19,column:70}},type:"default-arg",locations:[{start:{line:19,column:53},end:{line:19,column:70}}],line:19},1:{loc:{start:{line:19,column:72},end:{line:19,column:91}},type:"default-arg",locations:[{start:{line:19,column:89},end:{line:19,column:91}}],line:19},2:{loc:{start:{line:20,column:8},end:{line:20,column:73}},type:"if",locations:[{start:{line:20,column:8},end:{line:20,column:73}},{start:{line:20,column:8},end:{line:20,column:73}}],line:20},3:{loc:{start:{line:21,column:8},end:{line:21,column:130}},type:"if",locations:[{start:{line:21,column:8},end:{line:21,column:130}},{start:{line:21,column:8},end:{line:21,column:130}}],line:21},4:{loc:{start:{line:21,column:12},end:{line:21,column:97}},type:"binary-expr",locations:[{start:{line:21,column:12},end:{line:21,column:40}},{start:{line:21,column:44},end:{line:21,column:97}}],line:21},5:{loc:{start:{line:22,column:8},end:{line:22,column:122}},type:"if",locations:[{start:{line:22,column:8},end:{line:22,column:122}},{start:{line:22,column:8},end:{line:22,column:122}}],line:22},6:{loc:{start:{line:22,column:12},end:{line:22,column:92}},type:"binary-expr",locations:[{start:{line:22,column:12},end:{line:22,column:46}},{start:{line:22,column:50},end:{line:22,column:92}}],line:22},7:{loc:{start:{line:62,column:14},end:{line:62,column:58}},type:"binary-expr",locations:[{start:{line:62,column:14},end:{line:62,column:17}},{start:{line:62,column:21},end:{line:62,column:58}}],line:62},8:{loc:{start:{line:101,column:12},end:{line:104,column:13}},type:"if",locations:[{start:{line:101,column:12},end:{line:104,column:13}},{start:{line:101,column:12},end:{line:104,column:13}}],line:101},9:{loc:{start:{line:101,column:16},end:{line:101,column:67}},type:"binary-expr",locations:[{start:{line:101,column:16},end:{line:101,column:26}},{start:{line:101,column:30},end:{line:101,column:67}}],line:101},10:{loc:{start:{line:108,column:12},end:{line:111,column:13}},type:"if",locations:[{start:{line:108,column:12},end:{line:111,column:13}},{start:{line:108,column:12},end:{line:111,column:13}}],line:108},11:{loc:{start:{line:117,column:12},end:{line:120,column:13}},type:"if",locations:[{start:{line:117,column:12},end:{line:120,column:13}},{start:{line:117,column:12},end:{line:120,column:13}}],line:117},12:{loc:{start:{line:117,column:16},end:{line:117,column:60}},type:"binary-expr",locations:[{start:{line:117,column:16},end:{line:117,column:27}},{start:{line:117,column:31},end:{line:117,column:60}}],line:117},13:{loc:{start:{line:124,column:12},end:{line:127,column:13}},type:"if",locations:[{start:{line:124,column:12},end:{line:127,column:13}},{start:{line:124,column:12},end:{line:127,column:13}}],line:124},14:{loc:{start:{line:145,column:8},end:{line:147,column:9}},type:"if",locations:[{start:{line:145,column:8},end:{line:147,column:9}},{start:{line:145,column:8},end:{line:147,column:9}}],line:145},15:{loc:{start:{line:156,column:15},end:{line:160,column:80}},type:"binary-expr",locations:[{start:{line:156,column:15},end:{line:156,column:37}},{start:{line:157,column:15},end:{line:157,column:50}},{start:{line:158,column:15},end:{line:158,column:63}},{start:{line:159,column:15},end:{line:159,column:66}},{start:{line:160,column:15},end:{line:160,column:80}}],line:156}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0},b:{0:[0],1:[0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0,0,0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class BlockBody{static getMetadataSize(n){bn.f[0]++;bn.s[0]++;return Address.SERIALIZED_SIZE+1+n.byteLength+2}constructor(n,e,l=(bn.b[0][0]++,new Uint8Array(0)),t=(bn.b[1][0]++,[])){bn.f[1]++;bn.s[1]++;if(!(n instanceof Address)){bn.b[2][0]++;bn.s[2]++;throw"Malformed minerAddr"}bn.b[2][1]++;bn.s[3]++;if((bn.b[4][0]++,!Array.isArray(e))||(bn.b[4][1]++,e.some(n=>{bn.f[2]++;bn.s[4]++;return!(n instanceof Transaction)}))){bn.b[3][0]++;bn.s[5]++;throw"Malformed transactions"}bn.b[3][1]++;bn.s[6]++;if(!((bn.b[6][0]++,l instanceof Uint8Array)&&(bn.b[6][1]++,NumberUtils.isUint8(l.byteLength)))){bn.b[5][0]++;bn.s[7]++;throw"Malformed extraData"}bn.b[5][1]++;bn.s[8]++;this._minerAddr=n;bn.s[9]++;this._extraData=l;bn.s[10]++;this._transactions=e;bn.s[11]++;this._prunedAccounts=t;bn.s[12]++;this._hash=null}static unserialize(n){bn.f[3]++;const e=(bn.s[13]++,Address.unserialize(n)),l=(bn.s[14]++,n.readUint8()),t=(bn.s[15]++,n.read(l)),o=(bn.s[16]++,n.readUint16()),i=(bn.s[17]++,new Array(o));bn.s[18]++;for(let u=0;u<o;u++){bn.s[19]++;i[u]=Transaction.unserialize(n)}const c=(bn.s[20]++,n.readUint16()),s=(bn.s[21]++,[]);bn.s[22]++;for(let u=0;u<c;u++){bn.s[23]++;s.push(PrunedAccount.unserialize(n))}bn.s[24]++;return new BlockBody(e,i,t,s)}serialize(n){bn.f[4]++;bn.s[25]++;n=(bn.b[7][0]++,n)||(bn.b[7][1]++,new SerialBuffer(this.serializedSize));bn.s[26]++;this._minerAddr.serialize(n);bn.s[27]++;n.writeUint8(this._extraData.byteLength);bn.s[28]++;n.write(this._extraData);bn.s[29]++;n.writeUint16(this._transactions.length);bn.s[30]++;for(const e of this._transactions){bn.s[31]++;e.serialize(n)}bn.s[32]++;n.writeUint16(this._prunedAccounts.length);bn.s[33]++;for(const e of this._prunedAccounts){bn.s[34]++;e.serialize(n)}bn.s[35]++;return n}get serializedSize(){bn.f[5]++;let n=(bn.s[36]++,this._minerAddr.serializedSize+1+this._extraData.byteLength+2+2);bn.s[37]++;for(const e of this._transactions){bn.s[38]++;n+=e.serializedSize}bn.s[39]++;n+=this._prunedAccounts.reduce((n,e)=>{bn.f[6]++;bn.s[40]++;return n+e.serializedSize},0);bn.s[41]++;return n}verify(){bn.f[7]++;let n=(bn.s[42]++,null);bn.s[43]++;for(const l of this._transactions){bn.s[44]++;if((bn.b[9][0]++,n)&&(bn.b[9][1]++,n.compareBlockOrder(l)>=0)){bn.b[8][0]++;bn.s[45]++;Log.w(BlockBody,"Invalid block - transactions not ordered.");bn.s[46]++;return!1}bn.b[8][1]++;bn.s[47]++;n=l;bn.s[48]++;if(!l.verify()){bn.b[10][0]++;bn.s[49]++;Log.w(BlockBody,"Invalid block - invalid transaction");bn.s[50]++;return!1}bn.b[10][1]++}let e=(bn.s[51]++,null);bn.s[52]++;for(const l of this._prunedAccounts){bn.s[53]++;if((bn.b[12][0]++,e)&&(bn.b[12][1]++,e.compare(l)>=0)){bn.b[11][0]++;bn.s[54]++;Log.w(BlockBody,"Invalid block - pruned accounts not ordered.");bn.s[55]++;return!1}bn.b[11][1]++;bn.s[56]++;e=l;bn.s[57]++;if(!l.account.isToBePruned()){bn.b[13][0]++;bn.s[58]++;Log.w(BlockBody,"Invalid block - invalid pruned account");bn.s[59]++;return!1}bn.b[13][1]++}bn.s[60]++;return!0}getMerkleLeafs(){bn.f[8]++;bn.s[61]++;return[this._minerAddr,this._extraData,...this._transactions,...this.prunedAccounts]}hash(){bn.f[9]++;bn.s[62]++;if(this._hash)bn.b[14][1]++;else{bn.b[14][0]++;bn.s[63]++;this._hash=MerkleTree.computeRoot(this.getMerkleLeafs())}bn.s[64]++;return this._hash}equals(n){bn.f[10]++;bn.s[65]++;return(bn.b[15][0]++,n instanceof BlockBody)&&(bn.b[15][1]++,this._minerAddr.equals(n.minerAddr))&&(bn.b[15][2]++,BufferUtils.equals(this._extraData,n.extraData))&&(bn.b[15][3]++,this._transactions.length===n.transactions.length)&&(bn.b[15][4]++,this._transactions.every((e,l)=>{bn.f[11]++;bn.s[66]++;return e.equals(n.transactions[l])}))}getAddresses(){bn.f[12]++;const n=(bn.s[67]++,[this._minerAddr]);bn.s[68]++;for(const e of this._transactions){bn.s[69]++;n.push(e.sender,e.recipient)}bn.s[70]++;return n}get extraData(){bn.f[13]++;bn.s[71]++;return this._extraData}get minerAddr(){bn.f[14]++;bn.s[72]++;return this._minerAddr}get transactions(){bn.f[15]++;bn.s[73]++;return this._transactions}get transactionCount(){bn.f[16]++;bn.s[74]++;return this._transactions.length}get prunedAccounts(){bn.f[17]++;bn.s[75]++;return this._prunedAccounts}}bn.s[76]++;Class.register(BlockBody);var pn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/block/BlockUtils.js",e="62ca860dbbf968502e07a66ccfc1901c3ffdb0d3",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/block/BlockUtils.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:79}},1:{start:{line:15,column:8},end:{line:15,column:85}},2:{start:{line:15,column:62},end:{line:15,column:85}},3:{start:{line:18,column:19},end:{line:18,column:64}},4:{start:{line:19,column:26},end:{line:19,column:62}},5:{start:{line:23,column:8},end:{line:25,column:9}},6:{start:{line:24,column:12},end:{line:24,column:19}},7:{start:{line:32,column:8},end:{line:32,column:82}},8:{start:{line:40,column:8},end:{line:40,column:44}},9:{start:{line:48,column:8},end:{line:48,column:104}},10:{start:{line:56,column:8},end:{line:56,column:77}},11:{start:{line:64,column:8},end:{line:64,column:85}},12:{start:{line:72,column:8},end:{line:72,column:52}},13:{start:{line:80,column:8},end:{line:80,column:48}},14:{start:{line:88,column:8},end:{line:88,column:42}},15:{start:{line:96,column:8},end:{line:96,column:76}},16:{start:{line:104,column:8},end:{line:104,column:72}},17:{start:{line:113,column:8},end:{line:113,column:52}},18:{start:{line:122,column:8},end:{line:122,column:77}},19:{start:{line:130,column:8},end:{line:130,column:64}},20:{start:{line:140,column:8},end:{line:143,column:90}},21:{start:{line:145,column:25},end:{line:145,column:66}},22:{start:{line:149,column:8},end:{line:152,column:9}},23:{start:{line:150,column:12},end:{line:150,column:102}},24:{start:{line:151,column:12},end:{line:151,column:90}},25:{start:{line:155,column:29},end:{line:155,column:79}},26:{start:{line:156,column:25},end:{line:156,column:50}},27:{start:{line:159,column:8},end:{line:159,column:87}},28:{start:{line:160,column:8},end:{line:160,column:83}},29:{start:{line:163,column:34},end:{line:163,column:87}},30:{start:{line:164,column:30},end:{line:164,column:78}},31:{start:{line:165,column:25},end:{line:165,column:51}},32:{start:{line:169,column:8},end:{line:169,column:67}},33:{start:{line:170,column:8},end:{line:170,column:45}},34:{start:{line:173,column:22},end:{line:173,column:60}},35:{start:{line:174,column:8},end:{line:174,column:49}},36:{start:{line:177,column:0},end:{line:177,column:27}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:36},end:{line:8,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:14,column:4},end:{line:14,column:5}},loc:{start:{line:14,column:35},end:{line:33,column:5}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:39,column:4},end:{line:39,column:5}},loc:{start:{line:39,column:35},end:{line:41,column:5}},line:39},3:{name:"(anonymous_3)",decl:{start:{line:47,column:4},end:{line:47,column:5}},loc:{start:{line:47,column:34},end:{line:49,column:5}},line:47},4:{name:"(anonymous_4)",decl:{start:{line:55,column:4},end:{line:55,column:5}},loc:{start:{line:55,column:40},end:{line:57,column:5}},line:55},5:{name:"(anonymous_5)",decl:{start:{line:63,column:4},end:{line:63,column:5}},loc:{start:{line:63,column:43},end:{line:65,column:5}},line:63},6:{name:"(anonymous_6)",decl:{start:{line:71,column:4},end:{line:71,column:5}},loc:{start:{line:71,column:42},end:{line:73,column:5}},line:71},7:{name:"(anonymous_7)",decl:{start:{line:79,column:4},end:{line:79,column:5}},loc:{start:{line:79,column:38},end:{line:81,column:5}},line:79},8:{name:"(anonymous_8)",decl:{start:{line:87,column:4},end:{line:87,column:5}},loc:{start:{line:87,column:30},end:{line:89,column:5}},line:87},9:{name:"(anonymous_9)",decl:{start:{line:95,column:4},end:{line:95,column:5}},loc:{start:{line:95,column:32},end:{line:97,column:5}},line:95},10:{name:"(anonymous_10)",decl:{start:{line:103,column:4},end:{line:103,column:5}},loc:{start:{line:103,column:30},end:{line:105,column:5}},line:103},11:{name:"(anonymous_11)",decl:{start:{line:112,column:4},end:{line:112,column:5}},loc:{start:{line:112,column:39},end:{line:114,column:5}},line:112},12:{name:"(anonymous_12)",decl:{start:{line:121,column:4},end:{line:121,column:5}},loc:{start:{line:121,column:35},end:{line:123,column:5}},line:121},13:{name:"(anonymous_13)",decl:{start:{line:129,column:4},end:{line:129,column:5}},loc:{start:{line:129,column:33},end:{line:131,column:5}},line:129},14:{name:"(anonymous_14)",decl:{start:{line:139,column:4},end:{line:139,column:5}},loc:{start:{line:139,column:69},end:{line:175,column:5}},line:139}},branchMap:{0:{loc:{start:{line:15,column:8},end:{line:15,column:85}},type:"if",locations:[{start:{line:15,column:8},end:{line:15,column:85}},{start:{line:15,column:8},end:{line:15,column:85}}],line:15},1:{loc:{start:{line:15,column:12},end:{line:15,column:60}},type:"binary-expr",locations:[{start:{line:15,column:12},end:{line:15,column:36}},{start:{line:15,column:40},end:{line:15,column:60}}],line:15},2:{loc:{start:{line:23,column:8},end:{line:25,column:9}},type:"if",locations:[{start:{line:23,column:8},end:{line:25,column:9}},{start:{line:23,column:8},end:{line:25,column:9}}],line:23},3:{loc:{start:{line:130,column:15},end:{line:130,column:63}},type:"binary-expr",locations:[{start:{line:130,column:15},end:{line:130,column:26}},{start:{line:130,column:30},end:{line:130,column:63}}],line:130},4:{loc:{start:{line:141,column:12},end:{line:142,column:97}},type:"binary-expr",locations:[{start:{line:141,column:13},end:{line:141,column:83}},{start:{line:142,column:20},end:{line:142,column:70}},{start:{line:142,column:74},end:{line:142,column:96}}],line:141},5:{loc:{start:{line:149,column:8},end:{line:152,column:9}},type:"if",locations:[{start:{line:149,column:8},end:{line:152,column:9}},{start:{line:149,column:8},end:{line:152,column:9}}],line:149}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class BlockUtils{static compactToTarget(n){pn.f[0]++;pn.s[0]++;return(16777215&n)*Math.pow(2,8*((n>>24)-3))}static targetToCompact(n){pn.f[1]++;pn.s[1]++;if((pn.b[1][0]++,!Number.isFinite(n))||(pn.b[1][1]++,Number.isNaN(n))){pn.b[0][0]++;pn.s[2]++;throw"Invalid Target"}pn.b[0][1]++;let e=(pn.s[3]++,Math.max(Math.ceil(Math.log2(n)/8),1));const l=(pn.s[4]++,n/Math.pow(2,8*(e-1)));pn.s[5]++;if(l>=128){pn.b[2][0]++;pn.s[6]++;e++}else pn.b[2][1]++;pn.s[7]++;return(e<<24)+(n/Math.pow(2,8*(e-3))&16777215)}static getTargetHeight(n){pn.f[2]++;pn.s[8]++;return Math.ceil(Math.log2(n))}static getTargetDepth(n){pn.f[3]++;pn.s[9]++;return BlockUtils.getTargetHeight(Policy.BLOCK_TARGET_MAX)-BlockUtils.getTargetHeight(n)}static compactToDifficulty(n){pn.f[4]++;pn.s[10]++;return Policy.BLOCK_TARGET_MAX/BlockUtils.compactToTarget(n)}static difficultyToCompact(n){pn.f[5]++;pn.s[11]++;return BlockUtils.targetToCompact(BlockUtils.difficultyToTarget(n))}static difficultyToTarget(n){pn.f[6]++;pn.s[12]++;return Policy.BLOCK_TARGET_MAX/n}static targetToDifficulty(n){pn.f[7]++;pn.s[13]++;return Policy.BLOCK_TARGET_MAX/n}static hashToTarget(n){pn.f[8]++;pn.s[14]++;return parseInt(n.toHex(),16)}static realDifficulty(n){pn.f[9]++;pn.s[15]++;return BlockUtils.targetToDifficulty(BlockUtils.hashToTarget(n))}static getHashDepth(n){pn.f[10]++;pn.s[16]++;return BlockUtils.getTargetDepth(BlockUtils.hashToTarget(n))}static isProofOfWork(n,e){pn.f[11]++;pn.s[17]++;return parseInt(n.toHex(),16)<=e}static isValidCompact(n){pn.f[12]++;pn.s[18]++;return BlockUtils.isValidTarget(BlockUtils.compactToTarget(n))}static isValidTarget(n){pn.f[13]++;pn.s[19]++;return(pn.b[3][0]++,n>=1)&&(pn.b[3][1]++,n<=Policy.BLOCK_TARGET_MAX)}static getNextTarget(n,e,l){pn.f[14]++;pn.s[20]++;Assert.that((pn.b[4][0]++,n.height-e.height===Policy.DIFFICULTY_BLOCK_WINDOW)||(pn.b[4][1]++,n.height<=Policy.DIFFICULTY_BLOCK_WINDOW)&&(pn.b[4][2]++,1===e.height),`Tail and head block must be ${Policy.DIFFICULTY_BLOCK_WINDOW} blocks apart`);let t=(pn.s[21]++,n.timestamp-e.timestamp);pn.s[22]++;if(n.height<=Policy.DIFFICULTY_BLOCK_WINDOW){pn.b[5][0]++;pn.s[23]++;t+=(Policy.DIFFICULTY_BLOCK_WINDOW-n.height+1)*Policy.BLOCK_TIME;pn.s[24]++;l+=Policy.DIFFICULTY_BLOCK_WINDOW-n.height+1}else pn.b[5][1]++;const o=(pn.s[25]++,Policy.DIFFICULTY_BLOCK_WINDOW*Policy.BLOCK_TIME);let i=(pn.s[26]++,t/o);pn.s[27]++;i=Math.max(i,1/Policy.DIFFICULTY_MAX_ADJUSTMENT_FACTOR);pn.s[28]++;i=Math.min(i,Policy.DIFFICULTY_MAX_ADJUSTMENT_FACTOR);const c=(pn.s[29]++,l/Policy.DIFFICULTY_BLOCK_WINDOW),s=(pn.s[30]++,BlockUtils.difficultyToTarget(c));let u=(pn.s[31]++,s*i);pn.s[32]++;u=Math.min(u,Policy.BLOCK_TARGET_MAX);pn.s[33]++;u=Math.max(u,1);const m=(pn.s[34]++,BlockUtils.targetToCompact(u));pn.s[35]++;return BlockUtils.compactToTarget(m)}}pn.s[36]++;Class.register(BlockUtils);var gn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/subscription/Subscription.js",e="24e1016e4ed55641f827d68d71d3d3f9a5368200",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/subscription/Subscription.js",statementMap:{0:{start:{line:6,column:8},end:{line:6,column:72}},1:{start:{line:13,column:8},end:{line:13,column:74}},2:{start:{line:21,column:8},end:{line:21,column:72}},3:{start:{line:21,column:40},end:{line:21,column:72}},4:{start:{line:22,column:8},end:{line:24,column:98}},5:{start:{line:24,column:33},end:{line:24,column:57}},6:{start:{line:24,column:61},end:{line:24,column:98}},7:{start:{line:25,column:8},end:{line:25,column:122}},8:{start:{line:25,column:81},end:{line:25,column:122}},9:{start:{line:26,column:8},end:{line:26,column:26}},10:{start:{line:28,column:8},end:{line:28,column:40}},11:{start:{line:29,column:8},end:{line:29,column:32}},12:{start:{line:31,column:8},end:{line:38,column:9}},13:{start:{line:33,column:16},end:{line:33,column:47}},14:{start:{line:34,column:16},end:{line:34,column:22}},15:{start:{line:36,column:16},end:{line:36,column:45}},16:{start:{line:37,column:16},end:{line:37,column:22}},17:{start:{line:46,column:54},end:{line:46,column:69}},18:{start:{line:47,column:21},end:{line:47,column:25}},19:{start:{line:48,column:8},end:{line:60,column:9}},20:{start:{line:50,column:16},end:{line:50,column:28}},21:{start:{line:51,column:29},end:{line:51,column:45}},22:{start:{line:52,column:16},end:{line:54,column:17}},23:{start:{line:53,column:20},end:{line:53,column:58}},24:{start:{line:55,column:16},end:{line:55,column:22}},25:{start:{line:58,column:16},end:{line:58,column:42}},26:{start:{line:59,column:16},end:{line:59,column:22}},27:{start:{line:61,column:8},end:{line:61,column:46}},28:{start:{line:69,column:8},end:{line:69,column:59}},29:{start:{line:70,column:8},end:{line:70,column:35}},30:{start:{line:71,column:8},end:{line:81,column:9}},31:{start:{line:73,column:16},end:{line:73,column:56}},32:{start:{line:74,column:16},end:{line:76,column:17}},33:{start:{line:75,column:20},end:{line:75,column:43}},34:{start:{line:77,column:16},end:{line:77,column:22}},35:{start:{line:79,column:16},end:{line:79,column:53}},36:{start:{line:80,column:16},end:{line:80,column:22}},37:{start:{line:82,column:8},end:{line:82,column:19}},38:{start:{line:87,column:29},end:{line:87,column:30}},39:{start:{line:88,column:8},end:{line:98,column:9}},40:{start:{line:90,column:16},end:{line:90,column:46}},41:{start:{line:91,column:16},end:{line:93,column:17}},42:{start:{line:92,column:20},end:{line:92,column:61}},43:{start:{line:94,column:16},end:{line:94,column:22}},44:{start:{line:96,column:16},end:{line:96,column:53}},45:{start:{line:97,column:16},end:{line:97,column:22}},46:{start:{line:99,column:8},end:{line:100,column:29}},47:{start:{line:108,column:8},end:{line:117,column:9}},48:{start:{line:110,column:16},end:{line:110,column:29}},49:{start:{line:114,column:16},end:{line:114,column:28}},50:{start:{line:116,column:16},end:{line:116,column:48}},51:{start:{line:125,column:8},end:{line:136,column:9}},52:{start:{line:127,column:16},end:{line:127,column:29}},53:{start:{line:129,column:16},end:{line:129,column:28}},54:{start:{line:131,column:16},end:{line:131,column:119}},55:{start:{line:133,column:16},end:{line:133,column:91}},56:{start:{line:135,column:16},end:{line:135,column:48}},57:{start:{line:143,column:8},end:{line:143,column:129}},58:{start:{line:148,column:8},end:{line:148,column:26}},59:{start:{line:153,column:8},end:{line:153,column:40}},60:{start:{line:158,column:8},end:{line:158,column:35}},61:{start:{line:162,column:0},end:{line:167,column:2}},62:{start:{line:168,column:0},end:{line:168,column:61}},63:{start:{line:169,column:0},end:{line:169,column:77}},64:{start:{line:170,column:0},end:{line:170,column:59}},65:{start:{line:171,column:0},end:{line:171,column:29}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:36},end:{line:7,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:12,column:4},end:{line:12,column:5}},loc:{start:{line:12,column:44},end:{line:14,column:5}},line:12},2:{name:"(anonymous_2)",decl:{start:{line:20,column:4},end:{line:20,column:5}},loc:{start:{line:20,column:35},end:{line:39,column:5}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:24,column:27},end:{line:24,column:28}},loc:{start:{line:24,column:33},end:{line:24,column:57}},line:24},4:{name:"(anonymous_4)",decl:{start:{line:45,column:4},end:{line:45,column:5}},loc:{start:{line:45,column:28},end:{line:62,column:5}},line:45},5:{name:"(anonymous_5)",decl:{start:{line:68,column:4},end:{line:68,column:5}},loc:{start:{line:68,column:19},end:{line:83,column:5}},line:68},6:{name:"(anonymous_6)",decl:{start:{line:86,column:4},end:{line:86,column:5}},loc:{start:{line:86,column:25},end:{line:101,column:5}},line:86},7:{name:"(anonymous_7)",decl:{start:{line:107,column:4},end:{line:107,column:5}},loc:{start:{line:107,column:24},end:{line:118,column:5}},line:107},8:{name:"(anonymous_8)",decl:{start:{line:124,column:4},end:{line:124,column:5}},loc:{start:{line:124,column:36},end:{line:137,column:5}},line:124},9:{name:"(anonymous_9)",decl:{start:{line:142,column:4},end:{line:142,column:5}},loc:{start:{line:142,column:15},end:{line:144,column:5}},line:142},10:{name:"(anonymous_10)",decl:{start:{line:147,column:4},end:{line:147,column:5}},loc:{start:{line:147,column:15},end:{line:149,column:5}},line:147},11:{name:"(anonymous_11)",decl:{start:{line:152,column:4},end:{line:152,column:5}},loc:{start:{line:152,column:20},end:{line:154,column:5}},line:152},12:{name:"(anonymous_12)",decl:{start:{line:157,column:4},end:{line:157,column:5}},loc:{start:{line:157,column:24},end:{line:159,column:5}},line:157}},branchMap:{0:{loc:{start:{line:20,column:22},end:{line:20,column:33}},type:"default-arg",locations:[{start:{line:20,column:29},end:{line:20,column:33}}],line:20},1:{loc:{start:{line:21,column:8},end:{line:21,column:72}},type:"if",locations:[{start:{line:21,column:8},end:{line:21,column:72}},{start:{line:21,column:8},end:{line:21,column:72}}],line:21},2:{loc:{start:{line:22,column:8},end:{line:24,column:98}},type:"if",locations:[{start:{line:22,column:8},end:{line:24,column:98}},{start:{line:22,column:8},end:{line:24,column:98}}],line:22},3:{loc:{start:{line:22,column:12},end:{line:24,column:59}},type:"binary-expr",locations:[{start:{line:22,column:12},end:{line:22,column:48}},{start:{line:23,column:16},end:{line:23,column:38}},{start:{line:23,column:42},end:{line:23,column:78}},{start:{line:24,column:15},end:{line:24,column:58}}],line:22},4:{loc:{start:{line:25,column:8},end:{line:25,column:122}},type:"if",locations:[{start:{line:25,column:8},end:{line:25,column:122}},{start:{line:25,column:8},end:{line:25,column:122}}],line:25},5:{loc:{start:{line:25,column:12},end:{line:25,column:79}},type:"binary-expr",locations:[{start:{line:25,column:12},end:{line:25,column:46}},{start:{line:25,column:50},end:{line:25,column:79}}],line:25},6:{loc:{start:{line:31,column:8},end:{line:38,column:9}},type:"switch",locations:[{start:{line:32,column:12},end:{line:34,column:22}},{start:{line:35,column:12},end:{line:37,column:22}}],line:31},7:{loc:{start:{line:48,column:8},end:{line:60,column:9}},type:"switch",locations:[{start:{line:49,column:12},end:{line:56,column:13}},{start:{line:57,column:12},end:{line:59,column:22}}],line:48},8:{loc:{start:{line:69,column:14},end:{line:69,column:58}},type:"binary-expr",locations:[{start:{line:69,column:14},end:{line:69,column:17}},{start:{line:69,column:21},end:{line:69,column:58}}],line:69},9:{loc:{start:{line:71,column:8},end:{line:81,column:9}},type:"switch",locations:[{start:{line:72,column:12},end:{line:77,column:22}},{start:{line:78,column:12},end:{line:80,column:22}}],line:71},10:{loc:{start:{line:88,column:8},end:{line:98,column:9}},type:"switch",locations:[{start:{line:89,column:12},end:{line:94,column:22}},{start:{line:95,column:12},end:{line:97,column:22}}],line:88},11:{loc:{start:{line:108,column:8},end:{line:117,column:9}},type:"switch",locations:[{start:{line:109,column:12},end:{line:110,column:29}},{start:{line:111,column:12},end:{line:111,column:39}},{start:{line:112,column:12},end:{line:112,column:45}},{start:{line:113,column:12},end:{line:114,column:28}},{start:{line:115,column:12},end:{line:116,column:48}}],line:108},12:{loc:{start:{line:125,column:8},end:{line:136,column:9}},type:"switch",locations:[{start:{line:126,column:12},end:{line:127,column:29}},{start:{line:128,column:12},end:{line:129,column:28}},{start:{line:130,column:12},end:{line:131,column:119}},{start:{line:132,column:12},end:{line:133,column:91}},{start:{line:134,column:12},end:{line:135,column:48}}],line:125},13:{loc:{start:{line:131,column:23},end:{line:131,column:118}},type:"binary-expr",locations:[{start:{line:131,column:23},end:{line:131,column:70}},{start:{line:131,column:74},end:{line:131,column:118}}],line:131}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0,0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0,0,0,0],12:[0,0,0,0,0],13:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Subscription{static fromAddresses(n){gn.f[0]++;gn.s[0]++;return new Subscription(Subscription.Type.ADDRESSES,n)}static fromMinFeePerByte(n){gn.f[1]++;gn.s[1]++;return new Subscription(Subscription.Type.MIN_FEE,n)}constructor(n,e=(gn.b[0][0]++,null)){gn.f[2]++;gn.s[2]++;if(!NumberUtils.isUint8(n)){gn.b[1][0]++;gn.s[3]++;throw new Error("Invalid type")}gn.b[1][1]++;gn.s[4]++;if(!((gn.b[3][0]++,n!==Subscription.Type.ADDRESSES)||(gn.b[3][1]++,Array.isArray(e))&&(gn.b[3][2]++,NumberUtils.isUint16(e.length))&&(gn.b[3][3]++,!e.some(n=>{gn.f[3]++;gn.s[5]++;return!(n instanceof Address)})))){gn.b[2][0]++;gn.s[6]++;throw new Error("Invalid addresses")}gn.b[2][1]++;gn.s[7]++;if((gn.b[5][0]++,n===Subscription.Type.MIN_FEE)&&(gn.b[5][1]++,!NumberUtils.isUint64(e))){gn.b[4][0]++;gn.s[8]++;throw new Error("Invalid minFeePerByte")}gn.b[4][1]++;gn.s[9]++;this._type=n;gn.s[10]++;this._addresses=new HashSet;gn.s[11]++;this._minFeePerByte=0;gn.s[12]++;switch(n){case Subscription.Type.ADDRESSES:gn.b[6][0]++;gn.s[13]++;this._addresses.addAll(e);gn.s[14]++;break;case Subscription.Type.MIN_FEE:gn.b[6][1]++;gn.s[15]++;this._minFeePerByte=e;gn.s[16]++}}static unserialize(n){gn.f[4]++;const e=(gn.s[17]++,n.readUint8());let l=(gn.s[18]++,null);gn.s[19]++;switch(e){case Subscription.Type.ADDRESSES:gn.b[7][0]++;{gn.s[20]++;l=[];const e=(gn.s[21]++,n.readUint16());gn.s[22]++;for(let t=0;t<e;++t){gn.s[23]++;l.push(Address.unserialize(n))}gn.s[24]++;break}case Subscription.Type.MIN_FEE:gn.b[7][1]++;gn.s[25]++;l=n.readUint64();gn.s[26]++}gn.s[27]++;return new Subscription(e,l)}serialize(n){gn.f[5]++;gn.s[28]++;n=(gn.b[8][0]++,n)||(gn.b[8][1]++,new SerialBuffer(this.serializedSize));gn.s[29]++;n.writeUint8(this._type);gn.s[30]++;switch(this._type){case Subscription.Type.ADDRESSES:gn.b[9][0]++;gn.s[31]++;n.writeUint16(this._addresses.length);gn.s[32]++;for(const e of this._addresses){gn.s[33]++;e.serialize(n)}gn.s[34]++;break;case Subscription.Type.MIN_FEE:gn.b[9][1]++;gn.s[35]++;n.writeUint64(this._minFeePerByte);gn.s[36]++}gn.s[37]++;return n}get serializedSize(){gn.f[6]++;let n=(gn.s[38]++,0);gn.s[39]++;switch(this._type){case Subscription.Type.ADDRESSES:gn.b[10][0]++;gn.s[40]++;n=2;gn.s[41]++;for(const e of this._addresses){gn.s[42]++;n+=e.serializedSize}gn.s[43]++;break;case Subscription.Type.MIN_FEE:gn.b[10][1]++;gn.s[44]++;n=8;gn.s[45]++}gn.s[46]++;return 1+n}matchesBlock(n){gn.f[7]++;gn.s[47]++;switch(this._type){case Subscription.Type.NONE:gn.b[11][0]++;gn.s[48]++;return!1;case Subscription.Type.ANY:gn.b[11][1]++;case Subscription.Type.ADDRESSES:gn.b[11][2]++;case Subscription.Type.MIN_FEE:gn.b[11][3]++;gn.s[49]++;return!0;default:gn.b[11][4]++;gn.s[50]++;throw new Error("Unknown type")}}matchesTransaction(n){gn.f[8]++;gn.s[51]++;switch(this._type){case Subscription.Type.NONE:gn.b[12][0]++;gn.s[52]++;return!1;case Subscription.Type.ANY:gn.b[12][1]++;gn.s[53]++;return!0;case Subscription.Type.ADDRESSES:gn.b[12][2]++;gn.s[54]++;return(gn.b[13][0]++,this._addresses.contains(n.recipient))||(gn.b[13][1]++,this._addresses.contains(n.sender));case Subscription.Type.MIN_FEE:gn.b[12][3]++;gn.s[55]++;return n.fee/n.serializedSize>=this._minFeePerByte;default:gn.b[12][4]++;gn.s[56]++;throw new Error("Unknown type")}}toString(){gn.f[9]++;gn.s[57]++;return`Subscription{type=${this._type}, addresses=[${this._addresses.values()}], minFeePerByte=${this._minFeePerByte}}`}get type(){gn.f[10]++;gn.s[58]++;return this._type}get addresses(){gn.f[11]++;gn.s[59]++;return this._addresses.values()}get minFeePerByte(){gn.f[12]++;gn.s[60]++;return this._minFeePerByte}}gn.s[61]++;Subscription.Type={NONE:0,ANY:1,ADDRESSES:2,MIN_FEE:3};gn.s[62]++;Subscription.NONE=new Subscription(Subscription.Type.NONE);gn.s[63]++;Subscription.BLOCKS_ONLY=new Subscription(Subscription.Type.ADDRESSES,[]);gn.s[64]++;Subscription.ANY=new Subscription(Subscription.Type.ANY);gn.s[65]++;Class.register(Subscription);var An=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/transaction/Transaction.js",e="693b9e5c0f236a81285998ea3120e16214ed9608",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/transaction/Transaction.js",statementMap:{0:{start:{line:20,column:8},end:{line:20,column:78}},1:{start:{line:20,column:42},end:{line:20,column:78}},2:{start:{line:21,column:8},end:{line:21,column:87}},3:{start:{line:21,column:46},end:{line:21,column:87}},4:{start:{line:22,column:8},end:{line:22,column:84}},5:{start:{line:22,column:45},end:{line:22,column:84}},6:{start:{line:23,column:8},end:{line:23,column:93}},7:{start:{line:23,column:49},end:{line:23,column:93}},8:{start:{line:24,column:8},end:{line:24,column:92}},9:{start:{line:24,column:57},end:{line:24,column:92}},10:{start:{line:25,column:8},end:{line:25,column:73}},11:{start:{line:25,column:40},end:{line:25,column:73}},12:{start:{line:26,column:8},end:{line:26,column:105}},13:{start:{line:26,column:56},end:{line:26,column:105}},14:{start:{line:27,column:8},end:{line:27,column:117}},15:{start:{line:27,column:82},end:{line:27,column:117}},16:{start:{line:28,column:8},end:{line:28,column:121}},17:{start:{line:28,column:87},end:{line:28,column:121}},18:{start:{line:29,column:8},end:{line:29,column:135}},19:{start:{line:29,column:100},end:{line:29,column:135}},20:{start:{line:30,column:8},end:{line:30,column:84}},21:{start:{line:30,column:45},end:{line:30,column:84}},22:{start:{line:33,column:8},end:{line:33,column:30}},23:{start:{line:35,column:8},end:{line:35,column:30}},24:{start:{line:37,column:8},end:{line:37,column:38}},25:{start:{line:39,column:8},end:{line:39,column:36}},26:{start:{line:41,column:8},end:{line:41,column:44}},27:{start:{line:43,column:8},end:{line:43,column:28}},28:{start:{line:45,column:8},end:{line:45,column:24}},29:{start:{line:47,column:8},end:{line:47,column:36}},30:{start:{line:49,column:8},end:{line:49,column:56}},31:{start:{line:51,column:8},end:{line:51,column:28}},32:{start:{line:53,column:8},end:{line:53,column:26}},33:{start:{line:55,column:8},end:{line:55,column:28}},34:{start:{line:57,column:8},end:{line:57,column:111}},35:{start:{line:57,column:59},end:{line:57,column:111}},36:{start:{line:65,column:57},end:{line:65,column:72}},37:{start:{line:66,column:8},end:{line:66,column:22}},38:{start:{line:68,column:8},end:{line:68,column:93}},39:{start:{line:68,column:49},end:{line:68,column:93}},40:{start:{line:69,column:8},end:{line:69,column:67}},41:{start:{line:77,column:8},end:{line:77,column:66}},42:{start:{line:78,column:8},end:{line:78,column:47}},43:{start:{line:79,column:8},end:{line:79,column:30}},44:{start:{line:80,column:8},end:{line:80,column:36}},45:{start:{line:81,column:8},end:{line:81,column:41}},46:{start:{line:82,column:8},end:{line:82,column:39}},47:{start:{line:83,column:8},end:{line:83,column:44}},48:{start:{line:84,column:8},end:{line:84,column:37}},49:{start:{line:85,column:8},end:{line:85,column:35}},50:{start:{line:86,column:8},end:{line:86,column:51}},51:{start:{line:87,column:8},end:{line:87,column:40}},52:{start:{line:88,column:8},end:{line:88,column:36}},53:{start:{line:89,column:8},end:{line:89,column:19}},54:{start:{line:94,column:8},end:{line:104,column:26}},55:{start:{line:112,column:8},end:{line:114,column:9}},56:{start:{line:113,column:12},end:{line:113,column:50}},57:{start:{line:115,column:8},end:{line:115,column:27}},58:{start:{line:124,column:8},end:{line:127,column:9}},59:{start:{line:125,column:12},end:{line:125,column:81}},60:{start:{line:126,column:12},end:{line:126,column:25}},61:{start:{line:129,column:8},end:{line:132,column:9}},62:{start:{line:130,column:12},end:{line:130,column:76}},63:{start:{line:131,column:12},end:{line:131,column:25}},64:{start:{line:133,column:8},end:{line:136,column:9}},65:{start:{line:134,column:12},end:{line:134,column:61}},66:{start:{line:135,column:12},end:{line:135,column:25}},67:{start:{line:137,column:8},end:{line:140,column:9}},68:{start:{line:138,column:12},end:{line:138,column:59}},69:{start:{line:139,column:12},end:{line:139,column:25}},70:{start:{line:141,column:8},end:{line:144,column:9}},71:{start:{line:142,column:12},end:{line:142,column:62}},72:{start:{line:143,column:12},end:{line:143,column:25}},73:{start:{line:145,column:8},end:{line:145,column:20}},74:{start:{line:150,column:8},end:{line:150,column:72}},75:{start:{line:158,column:8},end:{line:158,column:72}},76:{start:{line:166,column:8},end:{line:166,column:71}},77:{start:{line:167,column:8},end:{line:167,column:26}},78:{start:{line:175,column:8},end:{line:175,column:81}},79:{start:{line:175,column:71},end:{line:175,column:81}},80:{start:{line:176,column:8},end:{line:176,column:80}},81:{start:{line:176,column:71},end:{line:176,column:80}},82:{start:{line:177,column:8},end:{line:177,column:62}},83:{start:{line:177,column:52},end:{line:177,column:62}},84:{start:{line:178,column:8},end:{line:178,column:61}},85:{start:{line:178,column:52},end:{line:178,column:61}},86:{start:{line:179,column:8},end:{line:179,column:40}},87:{start:{line:179,column:30},end:{line:179,column:40}},88:{start:{line:180,column:8},end:{line:180,column:39}},89:{start:{line:180,column:30},end:{line:180,column:39}},90:{start:{line:181,column:8},end:{line:181,column:44}},91:{start:{line:181,column:34},end:{line:181,column:44}},92:{start:{line:182,column:8},end:{line:182,column:43}},93:{start:{line:182,column:34},end:{line:182,column:43}},94:{start:{line:183,column:8},end:{line:183,column:41}},95:{start:{line:192,column:27},end:{line:192,column:64}},96:{start:{line:193,column:8},end:{line:193,column:48}},97:{start:{line:193,column:30},end:{line:193,column:48}},98:{start:{line:194,column:8},end:{line:194,column:74}},99:{start:{line:194,column:64},end:{line:194,column:74}},100:{start:{line:195,column:8},end:{line:195,column:73}},101:{start:{line:195,column:64},end:{line:195,column:73}},102:{start:{line:196,column:8},end:{line:196,column:42}},103:{start:{line:196,column:32},end:{line:196,column:42}},104:{start:{line:197,column:8},end:{line:197,column:41}},105:{start:{line:197,column:32},end:{line:197,column:41}},106:{start:{line:198,column:8},end:{line:198,column:46}},107:{start:{line:198,column:36},end:{line:198,column:46}},108:{start:{line:199,column:8},end:{line:199,column:45}},109:{start:{line:199,column:36},end:{line:199,column:45}},110:{start:{line:200,column:30},end:{line:200,column:61}},111:{start:{line:201,column:8},end:{line:201,column:54}},112:{start:{line:201,column:33},end:{line:201,column:54}},113:{start:{line:202,column:8},end:{line:202,column:62}},114:{start:{line:202,column:52},end:{line:202,column:62}},115:{start:{line:203,column:8},end:{line:203,column:61}},116:{start:{line:203,column:52},end:{line:203,column:61}},117:{start:{line:204,column:8},end:{line:204,column:56}},118:{start:{line:204,column:46},end:{line:204,column:56}},119:{start:{line:205,column:8},end:{line:205,column:55}},120:{start:{line:205,column:46},end:{line:205,column:55}},121:{start:{line:206,column:8},end:{line:206,column:46}},122:{start:{line:206,column:36},end:{line:206,column:46}},123:{start:{line:207,column:8},end:{line:207,column:45}},124:{start:{line:207,column:36},end:{line:207,column:45}},125:{start:{line:208,column:8},end:{line:208,column:56}},126:{start:{line:218,column:8},end:{line:228,column:55}},127:{start:{line:235,column:8},end:{line:242,column:18}},128:{start:{line:249,column:19},end:{line:249,column:60}},129:{start:{line:250,column:8},end:{line:250,column:37}},130:{start:{line:251,column:8},end:{line:251,column:24}},131:{start:{line:252,column:8},end:{line:252,column:43}},132:{start:{line:257,column:8},end:{line:257,column:28}},133:{start:{line:262,column:8},end:{line:262,column:32}},134:{start:{line:267,column:8},end:{line:267,column:31}},135:{start:{line:272,column:8},end:{line:272,column:35}},136:{start:{line:277,column:8},end:{line:277,column:27}},137:{start:{line:282,column:8},end:{line:282,column:25}},138:{start:{line:287,column:8},end:{line:287,column:47}},139:{start:{line:292,column:8},end:{line:292,column:31}},140:{start:{line:297,column:8},end:{line:297,column:41}},141:{start:{line:302,column:8},end:{line:302,column:27}},142:{start:{line:310,column:8},end:{line:310,column:40}},143:{start:{line:315,column:8},end:{line:315,column:26}},144:{start:{line:320,column:8},end:{line:320,column:27}},145:{start:{line:326,column:8},end:{line:326,column:28}},146:{start:{line:334,column:0},end:{line:337,column:2}},147:{start:{line:341,column:0},end:{line:345,column:2}},148:{start:{line:347,column:0},end:{line:347,column:35}},149:{start:{line:349,column:0},end:{line:349,column:28}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:19,column:4},end:{line:19,column:5}},loc:{start:{line:19,column:161},end:{line:58,column:5}},line:19},1:{name:"(anonymous_1)",decl:{start:{line:64,column:4},end:{line:64,column:5}},loc:{start:{line:64,column:28},end:{line:70,column:5}},line:64},2:{name:"(anonymous_2)",decl:{start:{line:76,column:4},end:{line:76,column:5}},loc:{start:{line:76,column:26},end:{line:90,column:5}},line:76},3:{name:"(anonymous_3)",decl:{start:{line:93,column:4},end:{line:93,column:5}},loc:{start:{line:93,column:32},end:{line:105,column:5}},line:93},4:{name:"(anonymous_4)",decl:{start:{line:111,column:4},end:{line:111,column:5}},loc:{start:{line:111,column:22},end:{line:116,column:5}},line:111},5:{name:"(anonymous_5)",decl:{start:{line:123,column:4},end:{line:123,column:5}},loc:{start:{line:123,column:50},end:{line:146,column:5}},line:123},6:{name:"(anonymous_6)",decl:{start:{line:149,column:4},end:{line:149,column:5}},loc:{start:{line:149,column:25},end:{line:151,column:5}},line:149},7:{name:"(anonymous_7)",decl:{start:{line:157,column:4},end:{line:157,column:5}},loc:{start:{line:157,column:19},end:{line:159,column:5}},line:157},8:{name:"(anonymous_8)",decl:{start:{line:164,column:4},end:{line:164,column:5}},loc:{start:{line:164,column:11},end:{line:168,column:5}},line:164},9:{name:"(anonymous_9)",decl:{start:{line:174,column:4},end:{line:174,column:5}},loc:{start:{line:174,column:15},end:{line:184,column:5}},line:174},10:{name:"(anonymous_10)",decl:{start:{line:190,column:4},end:{line:190,column:5}},loc:{start:{line:190,column:25},end:{line:209,column:5}},line:190},11:{name:"(anonymous_11)",decl:{start:{line:215,column:4},end:{line:215,column:5}},loc:{start:{line:215,column:14},end:{line:229,column:5}},line:215},12:{name:"(anonymous_12)",decl:{start:{line:234,column:4},end:{line:234,column:5}},loc:{start:{line:234,column:15},end:{line:243,column:5}},line:234},13:{name:"(anonymous_13)",decl:{start:{line:248,column:4},end:{line:248,column:5}},loc:{start:{line:248,column:33},end:{line:253,column:5}},line:248},14:{name:"(anonymous_14)",decl:{start:{line:256,column:4},end:{line:256,column:5}},loc:{start:{line:256,column:17},end:{line:258,column:5}},line:256},15:{name:"(anonymous_15)",decl:{start:{line:261,column:4},end:{line:261,column:5}},loc:{start:{line:261,column:21},end:{line:263,column:5}},line:261},16:{name:"(anonymous_16)",decl:{start:{line:266,column:4},end:{line:266,column:5}},loc:{start:{line:266,column:20},end:{line:268,column:5}},line:266},17:{name:"(anonymous_17)",decl:{start:{line:271,column:4},end:{line:271,column:5}},loc:{start:{line:271,column:24},end:{line:273,column:5}},line:271},18:{name:"(anonymous_18)",decl:{start:{line:276,column:4},end:{line:276,column:5}},loc:{start:{line:276,column:16},end:{line:278,column:5}},line:276},19:{name:"(anonymous_19)",decl:{start:{line:281,column:4},end:{line:281,column:5}},loc:{start:{line:281,column:14},end:{line:283,column:5}},line:281},20:{name:"(anonymous_20)",decl:{start:{line:286,column:4},end:{line:286,column:5}},loc:{start:{line:286,column:21},end:{line:288,column:5}},line:286},21:{name:"(anonymous_21)",decl:{start:{line:291,column:4},end:{line:291,column:5}},loc:{start:{line:291,column:20},end:{line:293,column:5}},line:291},22:{name:"(anonymous_22)",decl:{start:{line:296,column:4},end:{line:296,column:5}},loc:{start:{line:296,column:30},end:{line:298,column:5}},line:296},23:{name:"(anonymous_23)",decl:{start:{line:301,column:4},end:{line:301,column:5}},loc:{start:{line:301,column:16},end:{line:303,column:5}},line:301},24:{name:"(anonymous_24)",decl:{start:{line:309,column:4},end:{line:309,column:5}},loc:{start:{line:309,column:18},end:{line:311,column:5}},line:309},25:{name:"(anonymous_25)",decl:{start:{line:314,column:4},end:{line:314,column:5}},loc:{start:{line:314,column:15},end:{line:316,column:5}},line:314},26:{name:"(anonymous_26)",decl:{start:{line:319,column:4},end:{line:319,column:5}},loc:{start:{line:319,column:16},end:{line:321,column:5}},line:319},27:{name:"(anonymous_27)",decl:{start:{line:325,column:4},end:{line:325,column:5}},loc:{start:{line:325,column:21},end:{line:327,column:5}},line:325}},branchMap:{0:{loc:{start:{line:19,column:123},end:{line:19,column:159}},type:"default-arg",locations:[{start:{line:19,column:135},end:{line:19,column:159}}],line:19},1:{loc:{start:{line:20,column:8},end:{line:20,column:78}},type:"if",locations:[{start:{line:20,column:8},end:{line:20,column:78}},{start:{line:20,column:8},end:{line:20,column:78}}],line:20},2:{loc:{start:{line:21,column:8},end:{line:21,column:87}},type:"if",locations:[{start:{line:21,column:8},end:{line:21,column:87}},{start:{line:21,column:8},end:{line:21,column:87}}],line:21},3:{loc:{start:{line:22,column:8},end:{line:22,column:84}},type:"if",locations:[{start:{line:22,column:8},end:{line:22,column:84}},{start:{line:22,column:8},end:{line:22,column:84}}],line:22},4:{loc:{start:{line:23,column:8},end:{line:23,column:93}},type:"if",locations:[{start:{line:23,column:8},end:{line:23,column:93}},{start:{line:23,column:8},end:{line:23,column:93}}],line:23},5:{loc:{start:{line:24,column:8},end:{line:24,column:92}},type:"if",locations:[{start:{line:24,column:8},end:{line:24,column:92}},{start:{line:24,column:8},end:{line:24,column:92}}],line:24},6:{loc:{start:{line:24,column:12},end:{line:24,column:55}},type:"binary-expr",locations:[{start:{line:24,column:12},end:{line:24,column:40}},{start:{line:24,column:44},end:{line:24,column:55}}],line:24},7:{loc:{start:{line:25,column:8},end:{line:25,column:73}},type:"if",locations:[{start:{line:25,column:8},end:{line:25,column:73}},{start:{line:25,column:8},end:{line:25,column:73}}],line:25},8:{loc:{start:{line:26,column:8},end:{line:26,column:105}},type:"if",locations:[{start:{line:26,column:8},end:{line:26,column:105}},{start:{line:26,column:8},end:{line:26,column:105}}],line:26},9:{loc:{start:{line:27,column:8},end:{line:27,column:117}},type:"if",locations:[{start:{line:27,column:8},end:{line:27,column:117}},{start:{line:27,column:8},end:{line:27,column:117}}],line:27},10:{loc:{start:{line:27,column:12},end:{line:27,column:80}},type:"binary-expr",locations:[{start:{line:27,column:12},end:{line:27,column:39}},{start:{line:27,column:43},end:{line:27,column:80}}],line:27},11:{loc:{start:{line:28,column:8},end:{line:28,column:121}},type:"if",locations:[{start:{line:28,column:8},end:{line:28,column:121}},{start:{line:28,column:8},end:{line:28,column:121}}],line:28},12:{loc:{start:{line:28,column:12},end:{line:28,column:85}},type:"binary-expr",locations:[{start:{line:28,column:12},end:{line:28,column:41}},{start:{line:28,column:45},end:{line:28,column:85}}],line:28},13:{loc:{start:{line:29,column:8},end:{line:29,column:135}},type:"if",locations:[{start:{line:29,column:8},end:{line:29,column:135}},{start:{line:29,column:8},end:{line:29,column:135}}],line:29},14:{loc:{start:{line:29,column:12},end:{line:29,column:98}},type:"binary-expr",locations:[{start:{line:29,column:12},end:{line:29,column:17}},{start:{line:29,column:22},end:{line:29,column:52}},{start:{line:29,column:56},end:{line:29,column:97}}],line:29},15:{loc:{start:{line:30,column:8},end:{line:30,column:84}},type:"if",locations:[{start:{line:30,column:8},end:{line:30,column:84}},{start:{line:30,column:8},end:{line:30,column:84}}],line:30},16:{loc:{start:{line:57,column:8},end:{line:57,column:111}},type:"if",locations:[{start:{line:57,column:8},end:{line:57,column:111}},{start:{line:57,column:8},end:{line:57,column:111}}],line:57},17:{loc:{start:{line:68,column:8},end:{line:68,column:93}},type:"if",locations:[{start:{line:68,column:8},end:{line:68,column:93}},{start:{line:68,column:8},end:{line:68,column:93}}],line:68},18:{loc:{start:{line:77,column:14},end:{line:77,column:65}},type:"binary-expr",locations:[{start:{line:77,column:14},end:{line:77,column:17}},{start:{line:77,column:21},end:{line:77,column:65}}],line:77},19:{loc:{start:{line:112,column:8},end:{line:114,column:9}},type:"if",locations:[{start:{line:112,column:8},end:{line:114,column:9}},{start:{line:112,column:8},end:{line:114,column:9}}],line:112},20:{loc:{start:{line:123,column:12},end:{line:123,column:48}},type:"default-arg",locations:[{start:{line:123,column:24},end:{line:123,column:48}}],line:123},21:{loc:{start:{line:124,column:8},end:{line:127,column:9}},type:"if",locations:[{start:{line:124,column:8},end:{line:127,column:9}},{start:{line:124,column:8},end:{line:127,column:9}}],line:124},22:{loc:{start:{line:129,column:8},end:{line:132,column:9}},type:"if",locations:[{start:{line:129,column:8},end:{line:132,column:9}},{start:{line:129,column:8},end:{line:132,column:9}}],line:129},23:{loc:{start:{line:133,column:8},end:{line:136,column:9}},type:"if",locations:[{start:{line:133,column:8},end:{line:136,column:9}},{start:{line:133,column:8},end:{line:136,column:9}}],line:133},24:{loc:{start:{line:133,column:12},end:{line:133,column:97}},type:"binary-expr",locations:[{start:{line:133,column:12},end:{line:133,column:51}},{start:{line:133,column:55},end:{line:133,column:97}}],line:133},25:{loc:{start:{line:137,column:8},end:{line:140,column:9}},type:"if",locations:[{start:{line:137,column:8},end:{line:140,column:9}},{start:{line:137,column:8},end:{line:140,column:9}}],line:137},26:{loc:{start:{line:141,column:8},end:{line:144,column:9}},type:"if",locations:[{start:{line:141,column:8},end:{line:144,column:9}},{start:{line:141,column:8},end:{line:144,column:9}}],line:141},27:{loc:{start:{line:166,column:21},end:{line:166,column:70}},type:"binary-expr",locations:[{start:{line:166,column:21},end:{line:166,column:31}},{start:{line:166,column:35},end:{line:166,column:70}}],line:166},28:{loc:{start:{line:175,column:8},end:{line:175,column:81}},type:"if",locations:[{start:{line:175,column:8},end:{line:175,column:81}},{start:{line:175,column:8},end:{line:175,column:81}}],line:175},29:{loc:{start:{line:176,column:8},end:{line:176,column:80}},type:"if",locations:[{start:{line:176,column:8},end:{line:176,column:80}},{start:{line:176,column:8},end:{line:176,column:80}}],line:176},30:{loc:{start:{line:177,column:8},end:{line:177,column:62}},type:"if",locations:[{start:{line:177,column:8},end:{line:177,column:62}},{start:{line:177,column:8},end:{line:177,column:62}}],line:177},31:{loc:{start:{line:178,column:8},end:{line:178,column:61}},type:"if",locations:[{start:{line:178,column:8},end:{line:178,column:61}},{start:{line:178,column:8},end:{line:178,column:61}}],line:178},32:{loc:{start:{line:179,column:8},end:{line:179,column:40}},type:"if",locations:[{start:{line:179,column:8},end:{line:179,column:40}},{start:{line:179,column:8},end:{line:179,column:40}}],line:179},33:{loc:{start:{line:180,column:8},end:{line:180,column:39}},type:"if",locations:[{start:{line:180,column:8},end:{line:180,column:39}},{start:{line:180,column:8},end:{line:180,column:39}}],line:180},34:{loc:{start:{line:181,column:8},end:{line:181,column:44}},type:"if",locations:[{start:{line:181,column:8},end:{line:181,column:44}},{start:{line:181,column:8},end:{line:181,column:44}}],line:181},35:{loc:{start:{line:182,column:8},end:{line:182,column:43}},type:"if",locations:[{start:{line:182,column:8},end:{line:182,column:43}},{start:{line:182,column:8},end:{line:182,column:43}}],line:182},36:{loc:{start:{line:193,column:8},end:{line:193,column:48}},type:"if",locations:[{start:{line:193,column:8},end:{line:193,column:48}},{start:{line:193,column:8},end:{line:193,column:48}}],line:193},37:{loc:{start:{line:194,column:8},end:{line:194,column:74}},type:"if",locations:[{start:{line:194,column:8},end:{line:194,column:74}},{start:{line:194,column:8},end:{line:194,column:74}}],line:194},38:{loc:{start:{line:195,column:8},end:{line:195,column:73}},type:"if",locations:[{start:{line:195,column:8},end:{line:195,column:73}},{start:{line:195,column:8},end:{line:195,column:73}}],line:195},39:{loc:{start:{line:196,column:8},end:{line:196,column:42}},type:"if",locations:[{start:{line:196,column:8},end:{line:196,column:42}},{start:{line:196,column:8},end:{line:196,column:42}}],line:196},40:{loc:{start:{line:197,column:8},end:{line:197,column:41}},type:"if",locations:[{start:{line:197,column:8},end:{line:197,column:41}},{start:{line:197,column:8},end:{line:197,column:41}}],line:197},41:{loc:{start:{line:198,column:8},end:{line:198,column:46}},type:"if",locations:[{start:{line:198,column:8},end:{line:198,column:46}},{start:{line:198,column:8},end:{line:198,column:46}}],line:198},42:{loc:{start:{line:199,column:8},end:{line:199,column:45}},type:"if",locations:[{start:{line:199,column:8},end:{line:199,column:45}},{start:{line:199,column:8},end:{line:199,column:45}}],line:199},43:{loc:{start:{line:201,column:8},end:{line:201,column:54}},type:"if",locations:[{start:{line:201,column:8},end:{line:201,column:54}},{start:{line:201,column:8},end:{line:201,column:54}}],line:201},44:{loc:{start:{line:202,column:8},end:{line:202,column:62}},type:"if",locations:[{start:{line:202,column:8},end:{line:202,column:62}},{start:{line:202,column:8},end:{line:202,column:62}}],line:202},45:{loc:{start:{line:203,column:8},end:{line:203,column:61}},type:"if",locations:[{start:{line:203,column:8},end:{line:203,column:61}},{start:{line:203,column:8},end:{line:203,column:61}}],line:203},46:{loc:{start:{line:204,column:8},end:{line:204,column:56}},type:"if",locations:[{start:{line:204,column:8},end:{line:204,column:56}},{start:{line:204,column:8},end:{line:204,column:56}}],line:204},47:{loc:{start:{line:205,column:8},end:{line:205,column:55}},type:"if",locations:[{start:{line:205,column:8},end:{line:205,column:55}},{start:{line:205,column:8},end:{line:205,column:55}}],line:205},48:{loc:{start:{line:206,column:8},end:{line:206,column:46}},type:"if",locations:[{start:{line:206,column:8},end:{line:206,column:46}},{start:{line:206,column:8},end:{line:206,column:46}}],line:206},49:{loc:{start:{line:207,column:8},end:{line:207,column:45}},type:"if",locations:[{start:{line:207,column:8},end:{line:207,column:45}},{start:{line:207,column:8},end:{line:207,column:45}}],line:207},50:{loc:{start:{line:218,column:15},end:{line:228,column:54}},type:"binary-expr",locations:[{start:{line:218,column:15},end:{line:218,column:39}},{start:{line:219,column:15},end:{line:219,column:45}},{start:{line:220,column:15},end:{line:220,column:49}},{start:{line:221,column:15},end:{line:221,column:51}},{start:{line:222,column:15},end:{line:222,column:55}},{start:{line:223,column:15},end:{line:223,column:39}},{start:{line:224,column:15},end:{line:224,column:35}},{start:{line:225,column:15},end:{line:225,column:67}},{start:{line:226,column:15},end:{line:226,column:47}},{start:{line:227,column:15},end:{line:227,column:39}},{start:{line:228,column:15},end:{line:228,column:54}}],line:218}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0],46:[0,0],47:[0,0],48:[0,0],49:[0,0],50:[0,0,0,0,0,0,0,0,0,0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Transaction{constructor(n,e,l,t,o,i,c,s,u,m,r,a=(An.b[0][0]++,GenesisConfig.NETWORK_ID)){An.f[0]++;An.s[0]++;if(!(e instanceof Address)){An.b[1][0]++;An.s[1]++;throw new Error("Malformed sender")}An.b[1][1]++;An.s[2]++;if(!NumberUtils.isUint8(l)){An.b[2][0]++;An.s[3]++;throw new Error("Malformed sender type")}An.b[2][1]++;An.s[4]++;if(!(t instanceof Address)){An.b[3][0]++;An.s[5]++;throw new Error("Malformed recipient")}An.b[3][1]++;An.s[6]++;if(!NumberUtils.isUint8(o)){An.b[4][0]++;An.s[7]++;throw new Error("Malformed recipient type")}An.b[4][1]++;An.s[8]++;if((An.b[6][0]++,!NumberUtils.isUint64(i))||(An.b[6][1]++,0===i)){An.b[5][0]++;An.s[9]++;throw new Error("Malformed value")}An.b[5][1]++;An.s[10]++;if(!NumberUtils.isUint64(c)){An.b[7][0]++;An.s[11]++;throw new Error("Malformed fee")}An.b[7][1]++;An.s[12]++;if(!NumberUtils.isUint32(s)){An.b[8][0]++;An.s[13]++;throw new Error("Malformed validityStartHeight")}An.b[8][1]++;An.s[14]++;if((An.b[10][0]++,!NumberUtils.isUint8(u))&&(An.b[10][1]++,(u&~Transaction.Flag.ALL)>0)){An.b[9][0]++;An.s[15]++;throw new Error("Malformed flags")}An.b[9][1]++;An.s[16]++;if(!((An.b[12][0]++,m instanceof Uint8Array)&&(An.b[12][1]++,NumberUtils.isUint16(m.byteLength)))){An.b[11][0]++;An.s[17]++;throw new Error("Malformed data")}An.b[11][1]++;An.s[18]++;if((An.b[14][0]++,r)&&!((An.b[14][1]++,r instanceof Uint8Array)&&(An.b[14][2]++,NumberUtils.isUint16(r.byteLength)))){An.b[13][0]++;An.s[19]++;throw new Error("Malformed proof")}An.b[13][1]++;An.s[20]++;if(!NumberUtils.isUint8(a)){An.b[15][0]++;An.s[21]++;throw new Error("Malformed networkId")}An.b[15][1]++;An.s[22]++;this._format=n;An.s[23]++;this._sender=e;An.s[24]++;this._senderType=l;An.s[25]++;this._recipient=t;An.s[26]++;this._recipientType=o;An.s[27]++;this._value=i;An.s[28]++;this._fee=c;An.s[29]++;this._networkId=a;An.s[30]++;this._validityStartHeight=s;An.s[31]++;this._flags=u;An.s[32]++;this._data=m;An.s[33]++;this._proof=r;An.s[34]++;if(this._recipient===Address.CONTRACT_CREATION){An.b[16][0]++;An.s[35]++;this._recipient=this.getContractCreationAddress()}else An.b[16][1]++}static unserialize(n){An.f[1]++;const e=(An.s[36]++,n.readUint8());An.s[37]++;n.readPos--;An.s[38]++;if(!Transaction.FORMAT_MAP.has(e)){An.b[17][0]++;An.s[39]++;throw new Error("Invalid transaction type")}An.b[17][1]++;An.s[40]++;return Transaction.FORMAT_MAP.get(e).unserialize(n)}serializeContent(n){An.f[2]++;An.s[41]++;n=(An.b[18][0]++,n)||(An.b[18][1]++,new SerialBuffer(this.serializedContentSize));An.s[42]++;n.writeUint16(this._data.byteLength);An.s[43]++;n.write(this._data);An.s[44]++;this._sender.serialize(n);An.s[45]++;n.writeUint8(this._senderType);An.s[46]++;this._recipient.serialize(n);An.s[47]++;n.writeUint8(this._recipientType);An.s[48]++;n.writeUint64(this._value);An.s[49]++;n.writeUint64(this._fee);An.s[50]++;n.writeUint32(this._validityStartHeight);An.s[51]++;n.writeUint8(this._networkId);An.s[52]++;n.writeUint8(this._flags);An.s[53]++;return n}get serializedContentSize(){An.f[3]++;An.s[54]++;return 2+this._data.byteLength+this._sender.serializedSize+1+this._recipient.serializedSize+1+8+8+4+1+1}verify(n){An.f[4]++;An.s[55]++;if(this._valid===undefined){An.b[19][0]++;An.s[56]++;this._valid=this._verify(n)}else An.b[19][1]++;An.s[57]++;return this._valid}_verify(n=(An.b[20][0]++,GenesisConfig.NETWORK_ID)){An.f[5]++;An.s[58]++;if(this._networkId!==n){An.b[21][0]++;An.s[59]++;Log.w(Transaction,"Transaction is not valid in this network",this);An.s[60]++;return!1}An.b[21][1]++;An.s[61]++;if(this._recipient.equals(this._sender)){An.b[22][0]++;An.s[62]++;Log.w(Transaction,"Sender and recipient must not match",this);An.s[63]++;return!1}An.b[22][1]++;An.s[64]++;if((An.b[24][0]++,!Account.TYPE_MAP.has(this._senderType))||(An.b[24][1]++,!Account.TYPE_MAP.has(this._recipientType))){An.b[23][0]++;An.s[65]++;Log.w(Transaction,"Invalid account type",this);An.s[66]++;return!1}An.b[23][1]++;An.s[67]++;if(!Account.TYPE_MAP.get(this._senderType).verifyOutgoingTransaction(this)){An.b[25][0]++;An.s[68]++;Log.w(Transaction,"Invalid for sender",this);An.s[69]++;return!1}An.b[25][1]++;An.s[70]++;if(!Account.TYPE_MAP.get(this._recipientType).verifyIncomingTransaction(this)){An.b[26][0]++;An.s[71]++;Log.w(Transaction,"Invalid for recipient",this);An.s[72]++;return!1}An.b[26][1]++;An.s[73]++;return!0}get serializedSize(){An.f[6]++;An.s[74]++;throw new Error("Getter needs to be overwritten by subclasses")}serialize(n){An.f[7]++;An.s[75]++;throw new Error("Method needs to be overwritten by subclasses")}hash(){An.f[8]++;An.s[76]++;this._hash=(An.b[27][0]++,this._hash)||(An.b[27][1]++,Hash.light(this.serializeContent()));An.s[77]++;return this._hash}compare(n){An.f[9]++;An.s[78]++;if(this.fee/this.serializedSize>n.fee/n.serializedSize){An.b[28][0]++;An.s[79]++;return-1}An.b[28][1]++;An.s[80]++;if(this.fee/this.serializedSize<n.fee/n.serializedSize){An.b[29][0]++;An.s[81]++;return 1}An.b[29][1]++;An.s[82]++;if(this.serializedSize>n.serializedSize){An.b[30][0]++;An.s[83]++;return-1}An.b[30][1]++;An.s[84]++;if(this.serializedSize<n.serializedSize){An.b[31][0]++;An.s[85]++;return 1}An.b[31][1]++;An.s[86]++;if(this.fee>n.fee){An.b[32][0]++;An.s[87]++;return-1}An.b[32][1]++;An.s[88]++;if(this.fee<n.fee){An.b[33][0]++;An.s[89]++;return 1}An.b[33][1]++;An.s[90]++;if(this.value>n.value){An.b[34][0]++;An.s[91]++;return-1}An.b[34][1]++;An.s[92]++;if(this.value<n.value){An.b[35][0]++;An.s[93]++;return 1}An.b[35][1]++;An.s[94]++;return this.compareBlockOrder(n)}compareBlockOrder(n){An.f[10]++;const e=(An.s[95]++,this._recipient.compare(n._recipient));An.s[96]++;if(0!==e){An.b[36][0]++;An.s[97]++;return e}An.b[36][1]++;An.s[98]++;if(this._validityStartHeight<n._validityStartHeight){An.b[37][0]++;An.s[99]++;return-1}An.b[37][1]++;An.s[100]++;if(this._validityStartHeight>n._validityStartHeight){An.b[38][0]++;An.s[101]++;return 1}An.b[38][1]++;An.s[102]++;if(this._fee>n._fee){An.b[39][0]++;An.s[103]++;return-1}An.b[39][1]++;An.s[104]++;if(this._fee<n._fee){An.b[40][0]++;An.s[105]++;return 1}An.b[40][1]++;An.s[106]++;if(this._value>n._value){An.b[41][0]++;An.s[107]++;return-1}An.b[41][1]++;An.s[108]++;if(this._value<n._value){An.b[42][0]++;An.s[109]++;return 1}An.b[42][1]++;const l=(An.s[110]++,this._sender.compare(n._sender));An.s[111]++;if(0!==l){An.b[43][0]++;An.s[112]++;return l}An.b[43][1]++;An.s[113]++;if(this._recipientType<n._recipientType){An.b[44][0]++;An.s[114]++;return-1}An.b[44][1]++;An.s[115]++;if(this._recipientType>n._recipientType){An.b[45][0]++;An.s[116]++;return 1}An.b[45][1]++;An.s[117]++;if(this._senderType<n._senderType){An.b[46][0]++;An.s[118]++;return-1}An.b[46][1]++;An.s[119]++;if(this._senderType>n._senderType){An.b[47][0]++;An.s[120]++;return 1}An.b[47][1]++;An.s[121]++;if(this._flags<n._flags){An.b[48][0]++;An.s[122]++;return-1}An.b[48][1]++;An.s[123]++;if(this._flags>n._flags){An.b[49][0]++;An.s[124]++;return 1}An.b[49][1]++;An.s[125]++;return BufferUtils.compare(this._data,n._data)}equals(n){An.f[11]++;An.s[126]++;return(An.b[50][0]++,n instanceof Transaction)&&(An.b[50][1]++,this._sender.equals(n._sender))&&(An.b[50][2]++,this._senderType===n._senderType)&&(An.b[50][3]++,this._recipient.equals(n._recipient))&&(An.b[50][4]++,this._recipientType===n._recipientType)&&(An.b[50][5]++,this._value===n._value)&&(An.b[50][6]++,this._fee===n._fee)&&(An.b[50][7]++,this._validityStartHeight===n._validityStartHeight)&&(An.b[50][8]++,this._networkId===n._networkId)&&(An.b[50][9]++,this._flags===n._flags)&&(An.b[50][10]++,BufferUtils.equals(this._data,n._data))}toString(){An.f[12]++;An.s[127]++;return"Transaction{"+`sender=${this._sender.toBase64()}, `+`recipient=${this._recipient.toBase64()}, `+`value=${this._value}, `+`fee=${this._fee}, `+`validityStartHeight=${this._validityStartHeight}, `+`networkId=${this._networkId}`+"}"}getContractCreationAddress(){An.f[13]++;const n=(An.s[128]++,Transaction.unserialize(this.serialize()));An.s[129]++;n._recipient=Address.NULL;An.s[130]++;n._hash=null;An.s[131]++;return Address.fromHash(n.hash())}get sender(){An.f[14]++;An.s[132]++;return this._sender}get senderType(){An.f[15]++;An.s[133]++;return this._senderType}get recipient(){An.f[16]++;An.s[134]++;return this._recipient}get recipientType(){An.f[17]++;An.s[135]++;return this._recipientType}get value(){An.f[18]++;An.s[136]++;return this._value}get fee(){An.f[19]++;An.s[137]++;return this._fee}get feePerByte(){An.f[20]++;An.s[138]++;return this._fee/this.serializedSize}get networkId(){An.f[21]++;An.s[139]++;return this._networkId}get validityStartHeight(){An.f[22]++;An.s[140]++;return this._validityStartHeight}get flags(){An.f[23]++;An.s[141]++;return this._flags}hasFlag(n){An.f[24]++;An.s[142]++;return(this._flags&n)>0}get data(){An.f[25]++;An.s[143]++;return this._data}get proof(){An.f[26]++;An.s[144]++;return this._proof}set proof(n){An.f[27]++;An.s[145]++;this._proof=n}}An.s[146]++;Transaction.Format={BASIC:0,EXTENDED:1};An.s[147]++;Transaction.Flag={NONE:0,CONTRACT_CREATION:1,ALL:1};An.s[148]++;Transaction.FORMAT_MAP=new Map;An.s[149]++;Class.register(Transaction);var wn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/transaction/SignatureProof.js",e="64e754fbb78df24196caac043b753dd9e892e18d",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/transaction/SignatureProof.js",statementMap:{0:{start:{line:7,column:8},end:{line:21,column:9}},1:{start:{line:8,column:27},end:{line:8,column:62}},2:{start:{line:9,column:26},end:{line:9,column:60}},3:{start:{line:12,column:12},end:{line:15,column:13}},4:{start:{line:13,column:16},end:{line:13,column:75}},5:{start:{line:14,column:16},end:{line:14,column:29}},6:{start:{line:17,column:12},end:{line:17,column:84}},7:{start:{line:19,column:12},end:{line:19,column:88}},8:{start:{line:20,column:12},end:{line:20,column:25}},9:{start:{line:30,column:8},end:{line:30,column:76}},10:{start:{line:40,column:27},end:{line:40,column:68}},11:{start:{line:41,column:8},end:{line:41,column:68}},12:{start:{line:50,column:8},end:{line:50,column:87}},13:{start:{line:50,column:47},end:{line:50,column:87}},14:{start:{line:51,column:8},end:{line:51,column:89}},15:{start:{line:51,column:49},end:{line:51,column:89}},16:{start:{line:52,column:8},end:{line:52,column:99}},17:{start:{line:52,column:60},end:{line:52,column:99}},18:{start:{line:58,column:8},end:{line:58,column:36}},19:{start:{line:63,column:8},end:{line:63,column:38}},20:{start:{line:68,column:8},end:{line:68,column:36}},21:{start:{line:76,column:26},end:{line:76,column:52}},22:{start:{line:77,column:27},end:{line:77,column:54}},23:{start:{line:78,column:26},end:{line:78,column:52}},24:{start:{line:79,column:8},end:{line:79,column:68}},25:{start:{line:87,column:8},end:{line:87,column:59}},26:{start:{line:88,column:8},end:{line:88,column:39}},27:{start:{line:89,column:8},end:{line:89,column:40}},28:{start:{line:94,column:8},end:{line:96,column:9}},29:{start:{line:95,column:12},end:{line:95,column:43}},30:{start:{line:98,column:8},end:{line:98,column:19}},31:{start:{line:103,column:8},end:{line:105,column:69}},32:{start:{line:113,column:8},end:{line:116,column:107}},33:{start:{line:125,column:8},end:{line:128,column:9}},34:{start:{line:126,column:12},end:{line:126,column:99}},35:{start:{line:127,column:12},end:{line:127,column:25}},36:{start:{line:130,column:8},end:{line:133,column:9}},37:{start:{line:131,column:12},end:{line:131,column:83}},38:{start:{line:132,column:12},end:{line:132,column:25}},39:{start:{line:135,column:8},end:{line:138,column:9}},40:{start:{line:136,column:12},end:{line:136,column:83}},41:{start:{line:137,column:12},end:{line:137,column:25}},42:{start:{line:140,column:8},end:{line:140,column:20}},43:{start:{line:148,column:27},end:{line:148,column:72}},44:{start:{line:149,column:27},end:{line:149,column:55}},45:{start:{line:150,column:8},end:{line:150,column:41}},46:{start:{line:155,column:8},end:{line:155,column:31}},47:{start:{line:160,column:8},end:{line:160,column:32}},48:{start:{line:165,column:8},end:{line:165,column:31}},49:{start:{line:170,column:8},end:{line:170,column:36}},50:{start:{line:174,column:0},end:{line:174,column:31}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:42},end:{line:22,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:29,column:4},end:{line:29,column:5}},loc:{start:{line:29,column:43},end:{line:31,column:5}},line:29},2:{name:"(anonymous_2)",decl:{start:{line:39,column:4},end:{line:39,column:5}},loc:{start:{line:39,column:54},end:{line:42,column:5}},line:39},3:{name:"(anonymous_3)",decl:{start:{line:49,column:4},end:{line:49,column:5}},loc:{start:{line:49,column:50},end:{line:69,column:5}},line:49},4:{name:"(anonymous_4)",decl:{start:{line:75,column:4},end:{line:75,column:5}},loc:{start:{line:75,column:28},end:{line:80,column:5}},line:75},5:{name:"(anonymous_5)",decl:{start:{line:86,column:4},end:{line:86,column:5}},loc:{start:{line:86,column:19},end:{line:99,column:5}},line:86},6:{name:"(anonymous_6)",decl:{start:{line:102,column:4},end:{line:102,column:5}},loc:{start:{line:102,column:25},end:{line:106,column:5}},line:102},7:{name:"(anonymous_7)",decl:{start:{line:112,column:4},end:{line:112,column:5}},loc:{start:{line:112,column:14},end:{line:117,column:5}},line:112},8:{name:"(anonymous_8)",decl:{start:{line:124,column:4},end:{line:124,column:5}},loc:{start:{line:124,column:25},end:{line:141,column:5}},line:124},9:{name:"(anonymous_9)",decl:{start:{line:147,column:4},end:{line:147,column:5}},loc:{start:{line:147,column:23},end:{line:151,column:5}},line:147},10:{name:"(anonymous_10)",decl:{start:{line:154,column:4},end:{line:154,column:5}},loc:{start:{line:154,column:20},end:{line:156,column:5}},line:154},11:{name:"(anonymous_11)",decl:{start:{line:159,column:4},end:{line:159,column:5}},loc:{start:{line:159,column:21},end:{line:161,column:5}},line:159},12:{name:"(anonymous_12)",decl:{start:{line:164,column:4},end:{line:164,column:5}},loc:{start:{line:164,column:20},end:{line:166,column:5}},line:164},13:{name:"(anonymous_13)",decl:{start:{line:169,column:4},end:{line:169,column:5}},loc:{start:{line:169,column:29},end:{line:171,column:5}},line:169}},branchMap:{0:{loc:{start:{line:12,column:12},end:{line:15,column:13}},type:"if",locations:[{start:{line:12,column:12},end:{line:15,column:13}},{start:{line:12,column:12},end:{line:15,column:13}}],line:12},1:{loc:{start:{line:19,column:67},end:{line:19,column:81}},type:"binary-expr",locations:[{start:{line:19,column:67},end:{line:19,column:76}},{start:{line:19,column:80},end:{line:19,column:81}}],line:19},2:{loc:{start:{line:50,column:8},end:{line:50,column:87}},type:"if",locations:[{start:{line:50,column:8},end:{line:50,column:87}},{start:{line:50,column:8},end:{line:50,column:87}}],line:50},3:{loc:{start:{line:51,column:8},end:{line:51,column:89}},type:"if",locations:[{start:{line:51,column:8},end:{line:51,column:89}},{start:{line:51,column:8},end:{line:51,column:89}}],line:51},4:{loc:{start:{line:52,column:8},end:{line:52,column:99}},type:"if",locations:[{start:{line:52,column:8},end:{line:52,column:99}},{start:{line:52,column:8},end:{line:52,column:99}}],line:52},5:{loc:{start:{line:52,column:12},end:{line:52,column:58}},type:"binary-expr",locations:[{start:{line:52,column:12},end:{line:52,column:21}},{start:{line:52,column:25},end:{line:52,column:58}}],line:52},6:{loc:{start:{line:87,column:14},end:{line:87,column:58}},type:"binary-expr",locations:[{start:{line:87,column:14},end:{line:87,column:17}},{start:{line:87,column:21},end:{line:87,column:58}}],line:87},7:{loc:{start:{line:94,column:8},end:{line:96,column:9}},type:"if",locations:[{start:{line:94,column:8},end:{line:96,column:9}},{start:{line:94,column:8},end:{line:96,column:9}}],line:94},8:{loc:{start:{line:105,column:15},end:{line:105,column:67}},type:"cond-expr",locations:[{start:{line:105,column:33},end:{line:105,column:63}},{start:{line:105,column:66},end:{line:105,column:67}}],line:105},9:{loc:{start:{line:113,column:15},end:{line:116,column:106}},type:"binary-expr",locations:[{start:{line:113,column:15},end:{line:113,column:42}},{start:{line:114,column:15},end:{line:114,column:51}},{start:{line:115,column:15},end:{line:115,column:53}},{start:{line:116,column:16},end:{line:116,column:105}}],line:113},10:{loc:{start:{line:116,column:16},end:{line:116,column:105}},type:"cond-expr",locations:[{start:{line:116,column:34},end:{line:116,column:70}},{start:{line:116,column:73},end:{line:116,column:105}}],line:116},11:{loc:{start:{line:125,column:8},end:{line:128,column:9}},type:"if",locations:[{start:{line:125,column:8},end:{line:128,column:9}},{start:{line:125,column:8},end:{line:128,column:9}}],line:125},12:{loc:{start:{line:125,column:12},end:{line:125,column:55}},type:"binary-expr",locations:[{start:{line:125,column:12},end:{line:125,column:27}},{start:{line:125,column:31},end:{line:125,column:55}}],line:125},13:{loc:{start:{line:130,column:8},end:{line:133,column:9}},type:"if",locations:[{start:{line:130,column:8},end:{line:133,column:9}},{start:{line:130,column:8},end:{line:133,column:9}}],line:130},14:{loc:{start:{line:135,column:8},end:{line:138,column:9}},type:"if",locations:[{start:{line:135,column:8},end:{line:138,column:9}},{start:{line:135,column:8},end:{line:138,column:9}}],line:135}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0,0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class SignatureProof{static verifyTransaction(n){wn.f[0]++;wn.s[0]++;try{const l=(wn.s[1]++,new SerialBuffer(n.proof)),t=(wn.s[2]++,SignatureProof.unserialize(l));wn.s[3]++;if(l.readPos!==l.byteLength){wn.b[0][0]++;wn.s[4]++;Log.w(SignatureProof,"Invalid SignatureProof - overlong");wn.s[5]++;return!1}wn.b[0][1]++;wn.s[6]++;return t.verify(n.sender,n.serializeContent())}catch(e){wn.s[7]++;Log.w(SignatureProof,`Failed to verify transaction: ${(wn.b[1][0]++,e.message)||(wn.b[1][1]++,e)}`,e);wn.s[8]++;return!1}}static singleSig(n,e){wn.f[1]++;wn.s[9]++;return new SignatureProof(n,new MerklePath([]),e)}static multiSig(n,e,l){wn.f[2]++;const t=(wn.s[10]++,MerklePath.compute(e,n));wn.s[11]++;return new SignatureProof(n,t,l)}constructor(n,e,l){wn.f[3]++;wn.s[12]++;if(!(n instanceof PublicKey)){wn.b[2][0]++;wn.s[13]++;throw new Error("Malformed publickKey")}wn.b[2][1]++;wn.s[14]++;if(!(e instanceof MerklePath)){wn.b[3][0]++;wn.s[15]++;throw new Error("Malformed merklePath")}wn.b[3][1]++;wn.s[16]++;if((wn.b[5][0]++,l)&&(wn.b[5][1]++,!(l instanceof Signature))){wn.b[4][0]++;wn.s[17]++;throw new Error("Malformed signature")}wn.b[4][1]++;wn.s[18]++;this._publicKey=n;wn.s[19]++;this._merklePath=e;wn.s[20]++;this._signature=l}static unserialize(n){wn.f[4]++;const e=(wn.s[21]++,PublicKey.unserialize(n)),l=(wn.s[22]++,MerklePath.unserialize(n)),t=(wn.s[23]++,Signature.unserialize(n));wn.s[24]++;return new SignatureProof(e,l,t)}serialize(n){wn.f[5]++;wn.s[25]++;n=(wn.b[6][0]++,n)||(wn.b[6][1]++,new SerialBuffer(this.serializedSize));wn.s[26]++;this._publicKey.serialize(n);wn.s[27]++;this._merklePath.serialize(n);wn.s[28]++;if(this._signature){wn.b[7][0]++;wn.s[29]++;this._signature.serialize(n)}else wn.b[7][1]++;wn.s[30]++;return n}get serializedSize(){wn.f[6]++;wn.s[31]++;return this._publicKey.serializedSize+this._merklePath.serializedSize+(this._signature?(wn.b[8][0]++,this._signature.serializedSize):(wn.b[8][1]++,0))}equals(n){wn.f[7]++;wn.s[32]++;return(wn.b[9][0]++,n instanceof SignatureProof)&&(wn.b[9][1]++,this._publicKey.equals(n._publicKey))&&(wn.b[9][2]++,this._merklePath.equals(n._merklePath))&&(wn.b[9][3]++,this._signature?(wn.b[10][0]++,this._signature.equals(n._signature)):(wn.b[10][1]++,this._signature===n._signature))}verify(n,e){wn.f[8]++;wn.s[33]++;if((wn.b[12][0]++,null!==n)&&(wn.b[12][1]++,!this.isSignedBy(n))){wn.b[11][0]++;wn.s[34]++;Log.w(SignatureProof,"Invalid SignatureProof - signer does not match sender address");wn.s[35]++;return!1}wn.b[11][1]++;wn.s[36]++;if(!this._signature){wn.b[13][0]++;wn.s[37]++;Log.w(SignatureProof,"Invalid SignatureProof - signature is missing");wn.s[38]++;return!1}wn.b[13][1]++;wn.s[39]++;if(!this._signature.verify(this._publicKey,e)){wn.b[14][0]++;wn.s[40]++;Log.w(SignatureProof,"Invalid SignatureProof - signature is invalid");wn.s[41]++;return!1}wn.b[14][1]++;wn.s[42]++;return!0}isSignedBy(n){wn.f[9]++;const e=(wn.s[43]++,this._merklePath.computeRoot(this._publicKey)),l=(wn.s[44]++,Address.fromHash(e));wn.s[45]++;return l.equals(n)}get publicKey(){wn.f[10]++;wn.s[46]++;return this._publicKey}get merklePath(){wn.f[11]++;wn.s[47]++;return this._merklePath}get signature(){wn.f[12]++;wn.s[48]++;return this._signature}set signature(n){wn.f[13]++;wn.s[49]++;this._signature=n}}wn.s[50]++;Class.register(SignatureProof);var Cn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/transaction/BasicTransaction.js",e="ac4dc1606bbe04dc095e516a05d5c04b26e3c037",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/transaction/BasicTransaction.js",statementMap:{0:{start:{line:12,column:8},end:{line:12,column:92}},1:{start:{line:12,column:50},end:{line:12,column:92}},2:{start:{line:14,column:8},end:{line:14,column:113}},3:{start:{line:14,column:74},end:{line:14,column:113}},4:{start:{line:16,column:22},end:{line:16,column:71}},5:{start:{line:17,column:8},end:{line:17,column:222}},6:{start:{line:23,column:8},end:{line:23,column:37}},7:{start:{line:31,column:21},end:{line:31,column:36}},8:{start:{line:32,column:8},end:{line:32,column:55}},9:{start:{line:34,column:29},end:{line:34,column:55}},10:{start:{line:35,column:26},end:{line:35,column:50}},11:{start:{line:36,column:22},end:{line:36,column:38}},12:{start:{line:37,column:20},end:{line:37,column:36}},13:{start:{line:38,column:36},end:{line:38,column:52}},14:{start:{line:39,column:26},end:{line:39,column:41}},15:{start:{line:40,column:26},end:{line:40,column:52}},16:{start:{line:41,column:8},end:{line:41,column:116}},17:{start:{line:49,column:8},end:{line:49,column:59}},18:{start:{line:50,column:8},end:{line:50,column:49}},19:{start:{line:51,column:8},end:{line:51,column:41}},20:{start:{line:52,column:8},end:{line:52,column:39}},21:{start:{line:53,column:8},end:{line:53,column:37}},22:{start:{line:54,column:8},end:{line:54,column:35}},23:{start:{line:55,column:8},end:{line:55,column:51}},24:{start:{line:56,column:8},end:{line:56,column:40}},25:{start:{line:57,column:8},end:{line:57,column:38}},26:{start:{line:58,column:8},end:{line:58,column:19}},27:{start:{line:63,column:8},end:{line:70,column:44}},28:{start:{line:77,column:8},end:{line:77,column:46}},29:{start:{line:84,column:8},end:{line:84,column:46}},30:{start:{line:91,column:8},end:{line:91,column:51}},31:{start:{line:92,column:8},end:{line:92,column:55}},32:{start:{line:95,column:0},end:{line:95,column:71}},33:{start:{line:96,column:0},end:{line:96,column:33}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:11,column:4},end:{line:11,column:5}},loc:{start:{line:11,column:96},end:{line:24,column:5}},line:11},1:{name:"(anonymous_1)",decl:{start:{line:30,column:4},end:{line:30,column:5}},loc:{start:{line:30,column:28},end:{line:42,column:5}},line:30},2:{name:"(anonymous_2)",decl:{start:{line:48,column:4},end:{line:48,column:5}},loc:{start:{line:48,column:19},end:{line:59,column:5}},line:48},3:{name:"(anonymous_3)",decl:{start:{line:62,column:4},end:{line:62,column:5}},loc:{start:{line:62,column:25},end:{line:71,column:5}},line:62},4:{name:"(anonymous_4)",decl:{start:{line:76,column:4},end:{line:76,column:5}},loc:{start:{line:76,column:23},end:{line:78,column:5}},line:76},5:{name:"(anonymous_5)",decl:{start:{line:83,column:4},end:{line:83,column:5}},loc:{start:{line:83,column:20},end:{line:85,column:5}},line:83},6:{name:"(anonymous_6)",decl:{start:{line:90,column:4},end:{line:90,column:5}},loc:{start:{line:90,column:29},end:{line:93,column:5}},line:90}},branchMap:{0:{loc:{start:{line:12,column:8},end:{line:12,column:92}},type:"if",locations:[{start:{line:12,column:8},end:{line:12,column:92}},{start:{line:12,column:8},end:{line:12,column:92}}],line:12},1:{loc:{start:{line:14,column:8},end:{line:14,column:113}},type:"if",locations:[{start:{line:14,column:8},end:{line:14,column:113}},{start:{line:14,column:8},end:{line:14,column:113}}],line:14},2:{loc:{start:{line:14,column:12},end:{line:14,column:72}},type:"binary-expr",locations:[{start:{line:14,column:12},end:{line:14,column:35}},{start:{line:14,column:39},end:{line:14,column:72}}],line:14},3:{loc:{start:{line:49,column:14},end:{line:49,column:58}},type:"binary-expr",locations:[{start:{line:49,column:14},end:{line:49,column:17}},{start:{line:49,column:21},end:{line:49,column:58}}],line:49}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class BasicTransaction extends Transaction{constructor(n,e,l,t,o,i,c){Cn.f[0]++;Cn.s[0]++;if(!(n instanceof PublicKey)){Cn.b[0][0]++;Cn.s[1]++;throw new Error("Malformed senderPubKey")}Cn.b[0][1]++;Cn.s[2]++;if(!((Cn.b[2][0]++,i===undefined)||(Cn.b[2][1]++,i instanceof Signature))){Cn.b[1][0]++;Cn.s[3]++;throw new Error("Malformed signature")}Cn.b[1][1]++;const s=(Cn.s[4]++,SignatureProof.singleSig(n,i));Cn.s[5]++;super(Transaction.Format.BASIC,n.toAddress(),Account.Type.BASIC,e,Account.Type.BASIC,l,t,o,Transaction.Flag.NONE,new Uint8Array(0),s.serialize(),c);Cn.s[6]++;this._signatureProof=s}static unserialize(n){Cn.f[1]++;const e=(Cn.s[7]++,n.readUint8());Cn.s[8]++;Assert.that(e===Transaction.Format.BASIC);const l=(Cn.s[9]++,PublicKey.unserialize(n)),t=(Cn.s[10]++,Address.unserialize(n)),o=(Cn.s[11]++,n.readUint64()),i=(Cn.s[12]++,n.readUint64()),c=(Cn.s[13]++,n.readUint32()),s=(Cn.s[14]++,n.readUint8()),u=(Cn.s[15]++,Signature.unserialize(n));Cn.s[16]++;return new BasicTransaction(l,t,o,i,c,u,s)}serialize(n){Cn.f[2]++;Cn.s[17]++;n=(Cn.b[3][0]++,n)||(Cn.b[3][1]++,new SerialBuffer(this.serializedSize));Cn.s[18]++;n.writeUint8(Transaction.Format.BASIC);Cn.s[19]++;this.senderPubKey.serialize(n);Cn.s[20]++;this._recipient.serialize(n);Cn.s[21]++;n.writeUint64(this._value);Cn.s[22]++;n.writeUint64(this._fee);Cn.s[23]++;n.writeUint32(this._validityStartHeight);Cn.s[24]++;n.writeUint8(this._networkId);Cn.s[25]++;this.signature.serialize(n);Cn.s[26]++;return n}get serializedSize(){Cn.f[3]++;Cn.s[27]++;return 1+this.senderPubKey.serializedSize+this._recipient.serializedSize+8+8+4+1+this.signature.serializedSize}get senderPubKey(){Cn.f[4]++;Cn.s[28]++;return this._signatureProof.publicKey}get signature(){Cn.f[5]++;Cn.s[29]++;return this._signatureProof.signature}set signature(n){Cn.f[6]++;Cn.s[30]++;this._signatureProof.signature=n;Cn.s[31]++;this._proof=this._signatureProof.serialize()}}Cn.s[32]++;Transaction.FORMAT_MAP.set(Transaction.Format.BASIC,BasicTransaction);Cn.s[33]++;Class.register(BasicTransaction);var Sn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/transaction/ExtendedTransaction.js",e="9faed99b1db0d5f7dbaa0b42db7dda8f79e361cf",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/transaction/ExtendedTransaction.js",statementMap:{0:{start:{line:17,column:8},end:{line:17,column:153}},1:{start:{line:25,column:55},end:{line:25,column:70}},2:{start:{line:26,column:8},end:{line:26,column:58}},3:{start:{line:28,column:25},end:{line:28,column:41}},4:{start:{line:29,column:21},end:{line:29,column:39}},5:{start:{line:30,column:23},end:{line:30,column:47}},6:{start:{line:31,column:55},end:{line:31,column:70}},7:{start:{line:32,column:26},end:{line:32,column:50}},8:{start:{line:33,column:58},end:{line:33,column:73}},9:{start:{line:34,column:22},end:{line:34,column:38}},10:{start:{line:35,column:20},end:{line:35,column:36}},11:{start:{line:36,column:36},end:{line:36,column:52}},12:{start:{line:37,column:26},end:{line:37,column:41}},13:{start:{line:38,column:22},end:{line:38,column:37}},14:{start:{line:39,column:26},end:{line:39,column:42}},15:{start:{line:40,column:22},end:{line:40,column:41}},16:{start:{line:41,column:8},end:{line:41,column:149}},17:{start:{line:49,column:8},end:{line:49,column:59}},18:{start:{line:50,column:8},end:{line:50,column:52}},19:{start:{line:51,column:8},end:{line:51,column:35}},20:{start:{line:52,column:8},end:{line:52,column:48}},21:{start:{line:53,column:8},end:{line:53,column:31}},22:{start:{line:54,column:8},end:{line:54,column:19}},23:{start:{line:59,column:8},end:{line:62,column:37}},24:{start:{line:66,column:0},end:{line:66,column:77}},25:{start:{line:67,column:0},end:{line:67,column:36}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:16,column:4},end:{line:16,column:5}},loc:{start:{line:16,column:146},end:{line:18,column:5}},line:16},1:{name:"(anonymous_1)",decl:{start:{line:24,column:4},end:{line:24,column:5}},loc:{start:{line:24,column:28},end:{line:42,column:5}},line:24},2:{name:"(anonymous_2)",decl:{start:{line:48,column:4},end:{line:48,column:5}},loc:{start:{line:48,column:19},end:{line:55,column:5}},line:48},3:{name:"(anonymous_3)",decl:{start:{line:58,column:4},end:{line:58,column:5}},loc:{start:{line:58,column:25},end:{line:63,column:5}},line:58}},branchMap:{0:{loc:{start:{line:16,column:108},end:{line:16,column:133}},type:"default-arg",locations:[{start:{line:16,column:116},end:{line:16,column:133}}],line:16},1:{loc:{start:{line:49,column:14},end:{line:49,column:58}},type:"binary-expr",locations:[{start:{line:49,column:14},end:{line:49,column:17}},{start:{line:49,column:21},end:{line:49,column:58}}],line:49}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},f:{0:0,1:0,2:0,3:0},b:{0:[0],1:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class ExtendedTransaction extends Transaction{constructor(n,e,l,t,o,i,c,s,u,m=(Sn.b[0][0]++,new Uint8Array(0)),r){Sn.f[0]++;Sn.s[0]++;super(Transaction.Format.EXTENDED,n,e,l,t,o,i,c,s,u,m,r)}static unserialize(n){Sn.f[1]++;const e=(Sn.s[1]++,n.readUint8());Sn.s[2]++;Assert.that(e===Transaction.Format.EXTENDED);const l=(Sn.s[3]++,n.readUint16()),t=(Sn.s[4]++,n.read(l)),o=(Sn.s[5]++,Address.unserialize(n)),i=(Sn.s[6]++,n.readUint8()),c=(Sn.s[7]++,Address.unserialize(n)),s=(Sn.s[8]++,n.readUint8()),u=(Sn.s[9]++,n.readUint64()),m=(Sn.s[10]++,n.readUint64()),r=(Sn.s[11]++,n.readUint32()),a=(Sn.s[12]++,n.readUint8()),d=(Sn.s[13]++,n.readUint8()),h=(Sn.s[14]++,n.readUint16()),f=(Sn.s[15]++,n.read(h));Sn.s[16]++;return new ExtendedTransaction(o,i,c,s,u,m,r,d,t,f,a)}serialize(n){Sn.f[2]++;Sn.s[17]++;n=(Sn.b[1][0]++,n)||(Sn.b[1][1]++,new SerialBuffer(this.serializedSize));Sn.s[18]++;n.writeUint8(Transaction.Format.EXTENDED);Sn.s[19]++;this.serializeContent(n);Sn.s[20]++;n.writeUint16(this._proof.byteLength);Sn.s[21]++;n.write(this._proof);Sn.s[22]++;return n}get serializedSize(){Sn.f[3]++;Sn.s[23]++;return 1+this.serializedContentSize+2+this._proof.byteLength}}Sn.s[24]++;Transaction.FORMAT_MAP.set(Transaction.Format.EXTENDED,ExtendedTransaction);Sn.s[25]++;Class.register(ExtendedTransaction);var En=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/transaction/TransactionsProof.js",e="77f5636e0f37287bf700aa4002ea7c70fc3d7ba0",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/transaction/TransactionsProof.js",statementMap:{0:{start:{line:7,column:8},end:{line:8,column:112}},1:{start:{line:8,column:39},end:{line:8,column:67}},2:{start:{line:8,column:70},end:{line:8,column:112}},3:{start:{line:9,column:8},end:{line:9,column:87}},4:{start:{line:9,column:45},end:{line:9,column:87}},5:{start:{line:12,column:8},end:{line:12,column:42}},6:{start:{line:14,column:8},end:{line:14,column:28}},7:{start:{line:22,column:22},end:{line:22,column:38}},8:{start:{line:23,column:29},end:{line:23,column:31}},9:{start:{line:24,column:8},end:{line:26,column:9}},10:{start:{line:25,column:12},end:{line:25,column:60}},11:{start:{line:27,column:22},end:{line:27,column:50}},12:{start:{line:28,column:8},end:{line:28,column:58}},13:{start:{line:36,column:8},end:{line:36,column:59}},14:{start:{line:37,column:8},end:{line:37,column:51}},15:{start:{line:38,column:8},end:{line:40,column:9}},16:{start:{line:39,column:12},end:{line:39,column:39}},17:{start:{line:41,column:8},end:{line:41,column:35}},18:{start:{line:42,column:8},end:{line:42,column:19}},19:{start:{line:47,column:8},end:{line:49,column:41}},20:{start:{line:48,column:62},end:{line:48,column:94}},21:{start:{line:56,column:8},end:{line:56,column:58}},22:{start:{line:63,column:8},end:{line:63,column:59}},23:{start:{line:68,column:8},end:{line:68,column:41}},24:{start:{line:73,column:8},end:{line:73,column:34}},25:{start:{line:78,column:8},end:{line:78,column:27}},26:{start:{line:81,column:0},end:{line:81,column:34}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:37},end:{line:15,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:8,column:33},end:{line:8,column:34}},loc:{start:{line:8,column:39},end:{line:8,column:67}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:21,column:4},end:{line:21,column:5}},loc:{start:{line:21,column:28},end:{line:29,column:5}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:35,column:4},end:{line:35,column:5}},loc:{start:{line:35,column:19},end:{line:43,column:5}},line:35},4:{name:"(anonymous_4)",decl:{start:{line:46,column:4},end:{line:46,column:5}},loc:{start:{line:46,column:25},end:{line:50,column:5}},line:46},5:{name:"(anonymous_5)",decl:{start:{line:48,column:40},end:{line:48,column:41}},loc:{start:{line:48,column:62},end:{line:48,column:94}},line:48},6:{name:"(anonymous_6)",decl:{start:{line:55,column:4},end:{line:55,column:5}},loc:{start:{line:55,column:15},end:{line:57,column:5}},line:55},7:{name:"(anonymous_7)",decl:{start:{line:62,column:4},end:{line:62,column:5}},loc:{start:{line:62,column:11},end:{line:64,column:5}},line:62},8:{name:"(anonymous_8)",decl:{start:{line:67,column:4},end:{line:67,column:5}},loc:{start:{line:67,column:17},end:{line:69,column:5}},line:67},9:{name:"(anonymous_9)",decl:{start:{line:72,column:4},end:{line:72,column:5}},loc:{start:{line:72,column:23},end:{line:74,column:5}},line:72},10:{name:"(anonymous_10)",decl:{start:{line:77,column:4},end:{line:77,column:5}},loc:{start:{line:77,column:16},end:{line:79,column:5}},line:77}},branchMap:{0:{loc:{start:{line:7,column:8},end:{line:8,column:112}},type:"if",locations:[{start:{line:7,column:8},end:{line:8,column:112}},{start:{line:7,column:8},end:{line:8,column:112}}],line:7},1:{loc:{start:{line:7,column:12},end:{line:8,column:68}},type:"binary-expr",locations:[{start:{line:7,column:12},end:{line:7,column:40}},{start:{line:7,column:44},end:{line:7,column:86}},{start:{line:8,column:15},end:{line:8,column:68}}],line:7},2:{loc:{start:{line:9,column:8},end:{line:9,column:87}},type:"if",locations:[{start:{line:9,column:8},end:{line:9,column:87}},{start:{line:9,column:8},end:{line:9,column:87}}],line:9},3:{loc:{start:{line:36,column:14},end:{line:36,column:58}},type:"binary-expr",locations:[{start:{line:36,column:14},end:{line:36,column:17}},{start:{line:36,column:21},end:{line:36,column:58}}],line:36}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0,0],2:[0,0],3:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class TransactionsProof{constructor(n,e){En.f[0]++;En.s[0]++;if((En.b[1][0]++,!Array.isArray(n))||(En.b[1][1]++,!NumberUtils.isUint16(n.length))||(En.b[1][2]++,n.some(n=>{En.f[1]++;En.s[1]++;return!(n instanceof Transaction)}))){En.b[0][0]++;En.s[2]++;throw new Error("Malformed transactions")}En.b[0][1]++;En.s[3]++;if(!(e instanceof MerkleProof)){En.b[2][0]++;En.s[4]++;throw new Error("Malformed merkle proof")}En.b[2][1]++;En.s[5]++;this._transactions=n;En.s[6]++;this._proof=e}static unserialize(n){En.f[2]++;const e=(En.s[7]++,n.readUint16()),l=(En.s[8]++,[]);En.s[9]++;for(let o=0;o<e;++o){En.s[10]++;l.push(Transaction.unserialize(n))}const t=(En.s[11]++,MerkleProof.unserialize(n));En.s[12]++;return new TransactionsProof(l,t)}serialize(n){En.f[3]++;En.s[13]++;n=(En.b[3][0]++,n)||(En.b[3][1]++,new SerialBuffer(this.serializedSize));En.s[14]++;n.writeUint16(this._transactions.length);En.s[15]++;for(const e of this._transactions){En.s[16]++;e.serialize(n)}En.s[17]++;this._proof.serialize(n);En.s[18]++;return n}get serializedSize(){En.f[4]++;En.s[19]++;return 2+this._transactions.reduce((n,e)=>{En.f[5]++;En.s[20]++;return n+e.serializedSize},0)+this._proof.serializedSize}toString(){En.f[6]++;En.s[21]++;return`TransactionsProof{length=${this.length}}`}root(){En.f[7]++;En.s[22]++;return this._proof.computeRoot(this._transactions)}get length(){En.f[8]++;En.s[23]++;return this._transactions.length}get transactions(){En.f[9]++;En.s[24]++;return this._transactions}get proof(){En.f[10]++;En.s[25]++;return this._proof}}En.s[26]++;Class.register(TransactionsProof);var Tn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/transaction/TransactionCache.js",e="5964ef6c96290426659d4c23d284d3866250104b",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/transaction/TransactionCache.js",statementMap:{0:{start:{line:8,column:8},end:{line:8,column:69}},1:{start:{line:8,column:47},end:{line:8,column:67}},2:{start:{line:9,column:8},end:{line:9,column:48}},3:{start:{line:11,column:8},end:{line:11,column:38}},4:{start:{line:19,column:8},end:{line:19,column:56}},5:{start:{line:26,column:8},end:{line:26,column:37}},6:{start:{line:27,column:8},end:{line:27,column:54}},7:{start:{line:29,column:8},end:{line:31,column:9}},8:{start:{line:30,column:12},end:{line:30,column:30}},9:{start:{line:35,column:22},end:{line:35,column:46}},10:{start:{line:36,column:8},end:{line:38,column:9}},11:{start:{line:37,column:12},end:{line:37,column:61}},12:{start:{line:46,column:8},end:{line:48,column:9}},13:{start:{line:47,column:12},end:{line:47,column:38}},14:{start:{line:50,column:31},end:{line:50,column:53}},15:{start:{line:51,column:8},end:{line:51,column:77}},16:{start:{line:52,column:8},end:{line:54,column:9}},17:{start:{line:53,column:12},end:{line:53,column:61}},18:{start:{line:56,column:8},end:{line:56,column:34}},19:{start:{line:63,column:8},end:{line:65,column:9}},20:{start:{line:64,column:12},end:{line:64,column:64}},21:{start:{line:66,column:8},end:{line:66,column:44}},22:{start:{line:67,column:8},end:{line:67,column:71}},23:{start:{line:67,column:28},end:{line:67,column:69}},24:{start:{line:72,column:8},end:{line:72,column:76}},25:{start:{line:77,column:8},end:{line:77,column:34}},26:{start:{line:84,column:8},end:{line:84,column:120}},27:{start:{line:87,column:0},end:{line:87,column:33}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:52},end:{line:12,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:8,column:41},end:{line:8,column:42}},loc:{start:{line:8,column:47},end:{line:8,column:67}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:18,column:4},end:{line:18,column:5}},loc:{start:{line:18,column:37},end:{line:20,column:5}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:25,column:4},end:{line:25,column:5}},loc:{start:{line:25,column:21},end:{line:32,column:5}},line:25},4:{name:"(anonymous_4)",decl:{start:{line:34,column:4},end:{line:34,column:5}},loc:{start:{line:34,column:17},end:{line:39,column:5}},line:34},5:{name:"(anonymous_5)",decl:{start:{line:45,column:4},end:{line:45,column:5}},loc:{start:{line:45,column:23},end:{line:57,column:5}},line:45},6:{name:"(anonymous_6)",decl:{start:{line:62,column:4},end:{line:62,column:5}},loc:{start:{line:62,column:26},end:{line:68,column:5}},line:62},7:{name:"(anonymous_7)",decl:{start:{line:67,column:23},end:{line:67,column:24}},loc:{start:{line:67,column:28},end:{line:67,column:69}},line:67},8:{name:"(anonymous_8)",decl:{start:{line:71,column:4},end:{line:71,column:5}},loc:{start:{line:71,column:24},end:{line:73,column:5}},line:71},9:{name:"(anonymous_9)",decl:{start:{line:76,column:4},end:{line:76,column:5}},loc:{start:{line:76,column:23},end:{line:78,column:5}},line:76},10:{name:"(anonymous_10)",decl:{start:{line:83,column:4},end:{line:83,column:5}},loc:{start:{line:83,column:12},end:{line:85,column:5}},line:83}},branchMap:{0:{loc:{start:{line:6,column:16},end:{line:6,column:33}},type:"default-arg",locations:[{start:{line:6,column:31},end:{line:6,column:33}}],line:6},1:{loc:{start:{line:6,column:35},end:{line:6,column:50}},type:"default-arg",locations:[{start:{line:6,column:48},end:{line:6,column:50}}],line:6},2:{loc:{start:{line:29,column:8},end:{line:31,column:9}},type:"if",locations:[{start:{line:29,column:8},end:{line:31,column:9}},{start:{line:29,column:8},end:{line:31,column:9}}],line:29},3:{loc:{start:{line:36,column:8},end:{line:38,column:9}},type:"if",locations:[{start:{line:36,column:8},end:{line:38,column:9}},{start:{line:36,column:8},end:{line:38,column:9}}],line:36},4:{loc:{start:{line:46,column:8},end:{line:48,column:9}},type:"if",locations:[{start:{line:46,column:8},end:{line:48,column:9}},{start:{line:46,column:8},end:{line:48,column:9}}],line:46},5:{loc:{start:{line:52,column:8},end:{line:54,column:9}},type:"if",locations:[{start:{line:52,column:8},end:{line:54,column:9}},{start:{line:52,column:8},end:{line:54,column:9}}],line:52},6:{loc:{start:{line:63,column:8},end:{line:65,column:9}},type:"if",locations:[{start:{line:63,column:8},end:{line:65,column:9}},{start:{line:63,column:8},end:{line:65,column:9}}],line:63}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0],1:[0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class TransactionCache{constructor(n=(Tn.b[0][0]++,[]),e=(Tn.b[1][0]++,[])){Tn.f[0]++;Tn.s[0]++;this._transactions=new HashSet(n=>{Tn.f[1]++;Tn.s[1]++;return n.hash().toBase64()});Tn.s[2]++;this._transactions.addAll(n);Tn.s[3]++;this._blockOrder=e}containsTransaction(n){Tn.f[2]++;Tn.s[4]++;return this._transactions.contains(n)}pushBlock(n){Tn.f[3]++;Tn.s[5]++;this._blockOrder.push(n);Tn.s[6]++;this._transactions.addAll(n.transactions);Tn.s[7]++;if(this._blockOrder.length>Policy.TRANSACTION_VALIDITY_WINDOW){Tn.b[2][0]++;Tn.s[8]++;this.shiftBlock()}else Tn.b[2][1]++}shiftBlock(){Tn.f[4]++;const n=(Tn.s[9]++,this._blockOrder.shift());Tn.s[10]++;if(n){Tn.b[3][0]++;Tn.s[11]++;this._transactions.removeAll(n.transactions)}else Tn.b[3][1]++}revertBlock(n){Tn.f[5]++;Tn.s[12]++;if(this._transactions.isEmpty()){Tn.b[4][0]++;Tn.s[13]++;return this.missingBlocks}Tn.b[4][1]++;const e=(Tn.s[14]++,this._blockOrder.pop());Tn.s[15]++;Assert.that(e.equals(n),"Invalid block to revert");Tn.s[16]++;if(n){Tn.b[5][0]++;Tn.s[17]++;this._transactions.removeAll(n.transactions)}else Tn.b[5][1]++;Tn.s[18]++;return this.missingBlocks}prependBlocks(n){Tn.f[6]++;Tn.s[19]++;if(n.length+this._blockOrder.length>Policy.TRANSACTION_VALIDITY_WINDOW){Tn.b[6][0]++;Tn.s[20]++;throw new Error("Exceeding transaction cache size")}Tn.b[6][1]++;Tn.s[21]++;this._blockOrder.unshift(...n);Tn.s[22]++;n.forEach(n=>{Tn.f[7]++;Tn.s[23]++;return this._transactions.addAll(n.transactions)})}get missingBlocks(){Tn.f[8]++;Tn.s[24]++;return Policy.TRANSACTION_VALIDITY_WINDOW-this._blockOrder.length}get transactions(){Tn.f[9]++;Tn.s[25]++;return this._transactions}clone(){Tn.f[10]++;Tn.s[26]++;return new TransactionCache(this._transactions,this._blockOrder.slice())}}Tn.s[27]++;Class.register(TransactionCache);var kn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/transaction/index/TransactionStoreEntry.js",e="2ea31aa844b95aa02d0aa27d216b86c93a03117c",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/transaction/index/TransactionStoreEntry.js",statementMap:{0:{start:{line:11,column:8},end:{line:11,column:48}},1:{start:{line:12,column:8},end:{line:12,column:30}},2:{start:{line:13,column:8},end:{line:13,column:36}},3:{start:{line:14,column:8},end:{line:14,column:40}},4:{start:{line:15,column:8},end:{line:15,column:36}},5:{start:{line:16,column:8},end:{line:16,column:28}},6:{start:{line:17,column:8},end:{line:17,column:53}},7:{start:{line:18,column:8},end:{line:18,column:59}},8:{start:{line:26,column:26},end:{line:26,column:38}},9:{start:{line:28,column:24},end:{line:28,column:26}},10:{start:{line:29,column:8},end:{line:32,column:9}},11:{start:{line:30,column:32},end:{line:30,column:53}},12:{start:{line:31,column:12},end:{line:31,column:143}},13:{start:{line:33,column:8},end:{line:33,column:23}},14:{start:{line:42,column:8},end:{line:49,column:10}},15:{start:{line:56,column:8},end:{line:62,column:10}},16:{start:{line:67,column:8},end:{line:67,column:37}},17:{start:{line:72,column:8},end:{line:72,column:28}},18:{start:{line:77,column:8},end:{line:77,column:31}},19:{start:{line:82,column:8},end:{line:82,column:33}},20:{start:{line:87,column:8},end:{line:87,column:31}},21:{start:{line:92,column:8},end:{line:92,column:27}},22:{start:{line:97,column:8},end:{line:97,column:47}},23:{start:{line:100,column:0},end:{line:100,column:38}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:4},end:{line:10,column:5}},loc:{start:{line:10,column:83},end:{line:19,column:5}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:25,column:4},end:{line:25,column:5}},loc:{start:{line:25,column:28},end:{line:34,column:5}},line:25},2:{name:"(anonymous_2)",decl:{start:{line:41,column:4},end:{line:41,column:5}},loc:{start:{line:41,column:39},end:{line:50,column:5}},line:41},3:{name:"(anonymous_3)",decl:{start:{line:55,column:4},end:{line:55,column:5}},loc:{start:{line:55,column:13},end:{line:63,column:5}},line:55},4:{name:"(anonymous_4)",decl:{start:{line:66,column:4},end:{line:66,column:5}},loc:{start:{line:66,column:26},end:{line:68,column:5}},line:66},5:{name:"(anonymous_5)",decl:{start:{line:71,column:4},end:{line:71,column:5}},loc:{start:{line:71,column:17},end:{line:73,column:5}},line:71},6:{name:"(anonymous_6)",decl:{start:{line:76,column:4},end:{line:76,column:5}},loc:{start:{line:76,column:20},end:{line:78,column:5}},line:76},7:{name:"(anonymous_7)",decl:{start:{line:81,column:4},end:{line:81,column:5}},loc:{start:{line:81,column:22},end:{line:83,column:5}},line:81},8:{name:"(anonymous_8)",decl:{start:{line:86,column:4},end:{line:86,column:5}},loc:{start:{line:86,column:20},end:{line:88,column:5}},line:86},9:{name:"(anonymous_9)",decl:{start:{line:91,column:4},end:{line:91,column:5}},loc:{start:{line:91,column:16},end:{line:93,column:5}},line:91},10:{name:"(anonymous_10)",decl:{start:{line:96,column:4},end:{line:96,column:5}},loc:{start:{line:96,column:14},end:{line:98,column:5}},line:96}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class TransactionStoreEntry{constructor(n,e,l,t,o,i){kn.f[0]++;kn.s[0]++;this._transactionHash=n;kn.s[1]++;this._sender=e;kn.s[2]++;this._recipient=l;kn.s[3]++;this._blockHeight=t;kn.s[4]++;this._blockHash=o;kn.s[5]++;this._index=i;kn.s[6]++;this.senderBuffer=this._sender.serialize();kn.s[7]++;this.recipientBuffer=this._recipient.serialize()}static fromBlock(n){kn.f[1]++;const e=(kn.s[8]++,n.hash()),l=(kn.s[9]++,[]);kn.s[10]++;for(let t=0;t<n.transactions.length;++t){const o=(kn.s[11]++,n.transactions[t]);kn.s[12]++;l.push(new TransactionStoreEntry(o.hash(),o.sender,o.recipient,n.height,e,t))}kn.s[13]++;return l}static fromJSON(n,e){kn.f[2]++;kn.s[14]++;return new TransactionStoreEntry(Hash.fromBase64(n),Address.unserialize(new SerialBuffer(e.senderBuffer)),Address.unserialize(new SerialBuffer(e.recipientBuffer)),e.blockHeight,Hash.fromBase64(e.blockHash),e.index)}toJSON(){kn.f[3]++;kn.s[15]++;return{senderBuffer:this.senderBuffer,recipientBuffer:this.recipientBuffer,blockHeight:this.blockHeight,blockHash:this.blockHash.toBase64(),index:this.index}}get transactionHash(){kn.f[4]++;kn.s[16]++;return this._transactionHash}get sender(){kn.f[5]++;kn.s[17]++;return this._sender}get recipient(){kn.f[6]++;kn.s[18]++;return this._recipient}get blockHeight(){kn.f[7]++;kn.s[19]++;return this._blockHeight}get blockHash(){kn.f[8]++;kn.s[20]++;return this._blockHash}get index(){kn.f[9]++;kn.s[21]++;return this._index}get key(){kn.f[10]++;kn.s[22]++;return this.transactionHash.toBase64()}}kn.s[23]++;Class.register(TransactionStoreEntry);var Pn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/transaction/index/TransactionStore.js",e="d0b01b257465c3611b5688e9cb0964b232e3c20a",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/transaction/index/TransactionStore.js",statementMap:{0:{start:{line:6,column:22},end:{line:6,column:99}},1:{start:{line:7,column:8},end:{line:7,column:105}},2:{start:{line:8,column:8},end:{line:8,column:111}},3:{start:{line:16,column:8},end:{line:16,column:72}},4:{start:{line:23,column:22},end:{line:23,column:62}},5:{start:{line:24,column:8},end:{line:24,column:54}},6:{start:{line:25,column:8},end:{line:25,column:60}},7:{start:{line:26,column:8},end:{line:26,column:43}},8:{start:{line:33,column:8},end:{line:33,column:28}},9:{start:{line:41,column:8},end:{line:41,column:59}},10:{start:{line:49,column:22},end:{line:49,column:49}},11:{start:{line:50,column:8},end:{line:50,column:67}},12:{start:{line:58,column:22},end:{line:58,column:52}},13:{start:{line:59,column:8},end:{line:59,column:70}},14:{start:{line:68,column:36},end:{line:68,column:74}},15:{start:{line:69,column:19},end:{line:69,column:44}},16:{start:{line:70,column:8},end:{line:72,column:9}},17:{start:{line:71,column:12},end:{line:71,column:67}},18:{start:{line:73,column:8},end:{line:73,column:27}},19:{start:{line:82,column:19},end:{line:82,column:44}},20:{start:{line:83,column:8},end:{line:85,column:9}},21:{start:{line:84,column:12},end:{line:84,column:57}},22:{start:{line:86,column:8},end:{line:86,column:27}},23:{start:{line:94,column:25},end:{line:94,column:47}},24:{start:{line:95,column:8},end:{line:97,column:9}},25:{start:{line:96,column:12},end:{line:96,column:40}},26:{start:{line:98,column:8},end:{line:98,column:46}},27:{start:{line:106,column:19},end:{line:106,column:58}},28:{start:{line:107,column:8},end:{line:107,column:40}},29:{start:{line:114,column:8},end:{line:114,column:38}},30:{start:{line:121,column:8},end:{line:121,column:36}},31:{start:{line:128,column:8},end:{line:128,column:35}},32:{start:{line:133,column:8},end:{line:135,column:9}},33:{start:{line:134,column:12},end:{line:134,column:31}},34:{start:{line:136,column:8},end:{line:136,column:25}},35:{start:{line:139,column:0},end:{line:139,column:33}},36:{start:{line:150,column:8},end:{line:150,column:28}},37:{start:{line:159,column:8},end:{line:159,column:56}},38:{start:{line:166,column:8},end:{line:166,column:42}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:31},end:{line:9,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:15,column:4},end:{line:15,column:5}},loc:{start:{line:15,column:30},end:{line:17,column:5}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:22,column:4},end:{line:22,column:5}},loc:{start:{line:22,column:28},end:{line:27,column:5}},line:22},3:{name:"(anonymous_3)",decl:{start:{line:32,column:4},end:{line:32,column:5}},loc:{start:{line:32,column:23},end:{line:34,column:5}},line:32},4:{name:"(anonymous_4)",decl:{start:{line:40,column:4},end:{line:40,column:5}},loc:{start:{line:40,column:25},end:{line:42,column:5}},line:40},5:{name:"(anonymous_5)",decl:{start:{line:48,column:4},end:{line:48,column:5}},loc:{start:{line:48,column:24},end:{line:51,column:5}},line:48},6:{name:"(anonymous_6)",decl:{start:{line:57,column:4},end:{line:57,column:5}},loc:{start:{line:57,column:30},end:{line:60,column:5}},line:57},7:{name:"(anonymous_7)",decl:{start:{line:67,column:4},end:{line:67,column:5}},loc:{start:{line:67,column:21},end:{line:74,column:5}},line:67},8:{name:"(anonymous_8)",decl:{start:{line:81,column:4},end:{line:81,column:5}},loc:{start:{line:81,column:24},end:{line:87,column:5}},line:81},9:{name:"(anonymous_9)",decl:{start:{line:93,column:4},end:{line:93,column:5}},loc:{start:{line:93,column:17},end:{line:99,column:5}},line:93},10:{name:"(anonymous_10)",decl:{start:{line:105,column:4},end:{line:105,column:5}},loc:{start:{line:105,column:39},end:{line:108,column:5}},line:105},11:{name:"(anonymous_11)",decl:{start:{line:113,column:4},end:{line:113,column:5}},loc:{start:{line:113,column:15},end:{line:115,column:5}},line:113},12:{name:"(anonymous_12)",decl:{start:{line:120,column:4},end:{line:120,column:5}},loc:{start:{line:120,column:13},end:{line:122,column:5}},line:120},13:{name:"(anonymous_13)",decl:{start:{line:127,column:4},end:{line:127,column:5}},loc:{start:{line:127,column:12},end:{line:129,column:5}},line:127},14:{name:"(anonymous_14)",decl:{start:{line:132,column:4},end:{line:132,column:5}},loc:{start:{line:132,column:13},end:{line:137,column:5}},line:132},15:{name:"(anonymous_15)",decl:{start:{line:149,column:4},end:{line:149,column:5}},loc:{start:{line:149,column:16},end:{line:151,column:5}},line:149},16:{name:"(anonymous_16)",decl:{start:{line:158,column:4},end:{line:158,column:5}},loc:{start:{line:158,column:21},end:{line:160,column:5}},line:158},17:{name:"(anonymous_17)",decl:{start:{line:165,column:4},end:{line:165,column:5}},loc:{start:{line:165,column:24},end:{line:167,column:5}},line:165}},branchMap:{0:{loc:{start:{line:95,column:8},end:{line:97,column:9}},type:"if",locations:[{start:{line:95,column:8},end:{line:97,column:9}},{start:{line:95,column:8},end:{line:97,column:9}}],line:95},1:{loc:{start:{line:105,column:16},end:{line:105,column:37}},type:"default-arg",locations:[{start:{line:105,column:33},end:{line:105,column:37}}],line:105},2:{loc:{start:{line:133,column:8},end:{line:135,column:9}},type:"if",locations:[{start:{line:133,column:8},end:{line:135,column:9}},{start:{line:133,column:8},end:{line:135,column:9}}],line:133}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0},b:{0:[0,0],1:[0],2:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class TransactionStore{static initPersistent(n){Pn.f[0]++;const e=(Pn.s[0]++,n.createObjectStore("Transactions",{codec:new TransactionStoreCodec}));Pn.s[1]++;e.createIndex("sender",["senderBuffer"],{lmdbKeyEncoding:JDB.JungleDB.BINARY_ENCODING});Pn.s[2]++;e.createIndex("recipient",["recipientBuffer"],{lmdbKeyEncoding:JDB.JungleDB.BINARY_ENCODING})}static getPersistent(n){Pn.f[1]++;Pn.s[3]++;return new TransactionStore(n.getObjectStore("Transactions"))}static createVolatile(){Pn.f[2]++;const n=(Pn.s[4]++,JDB.JungleDB.createVolatileObjectStore());Pn.s[5]++;n.createIndex("sender",["senderBuffer"]);Pn.s[6]++;n.createIndex("recipient",["recipientBuffer"]);Pn.s[7]++;return new TransactionStore(n)}constructor(n){Pn.f[3]++;Pn.s[8]++;this._store=n}get(n){Pn.f[4]++;Pn.s[9]++;return this._store.get(n.toBase64())}getBySender(n){Pn.f[5]++;const e=(Pn.s[10]++,this._store.index("sender"));Pn.s[11]++;return e.values(JDB.KeyRange.only(n.serialize()))}getByRecipient(n){Pn.f[6]++;const e=(Pn.s[12]++,this._store.index("recipient"));Pn.s[13]++;return e.values(JDB.KeyRange.only(n.serialize()))}async put(n){Pn.f[7]++;const e=(Pn.s[14]++,TransactionStoreEntry.fromBlock(n)),l=(Pn.s[15]++,this._store.transaction());Pn.s[16]++;for(const t of e){Pn.s[17]++;l.putSync(t.key,t)}Pn.s[18]++;return l.commit()}async remove(n){Pn.f[8]++;const e=(Pn.s[19]++,this._store.transaction());Pn.s[20]++;for(const l of n.transactions){Pn.s[21]++;e.removeSync(l.hash().toBase64())}Pn.s[22]++;return e.commit()}snapshot(n){Pn.f[9]++;const e=(Pn.s[23]++,this._store.snapshot());Pn.s[24]++;if(n){Pn.b[0][0]++;Pn.s[25]++;e.inherit(n._store)}else Pn.b[0][1]++;Pn.s[26]++;return new TransactionStore(e)}transaction(n=(Pn.b[1][0]++,!0)){Pn.f[10]++;const e=(Pn.s[27]++,this._store.transaction(n));Pn.s[28]++;return new TransactionStore(e)}truncate(){Pn.f[11]++;Pn.s[29]++;return this._store.truncate()}commit(){Pn.f[12]++;Pn.s[30]++;return this._store.commit()}abort(){Pn.f[13]++;Pn.s[31]++;return this._store.abort()}get tx(){Pn.f[14]++;Pn.s[32]++;if(this._store instanceof JDB.Transaction){Pn.b[2][0]++;Pn.s[33]++;return this._store}Pn.b[2][1]++;Pn.s[34]++;return undefined}}Pn.s[35]++;Class.register(TransactionStore);class TransactionStoreCodec{encode(n){Pn.f[15]++;Pn.s[36]++;return n.toJSON()}decode(n,e){Pn.f[16]++;Pn.s[37]++;return TransactionStoreEntry.fromJSON(e,n)}get valueEncoding(){Pn.f[17]++;Pn.s[38]++;return JDB.JungleDB.JSON_ENCODING}}var vn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/transaction/index/TransactionReceipt.js",e="ff6883255940a1c483bb6ba7d20890a4889694bf",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/transaction/index/TransactionReceipt.js",statementMap:{0:{start:{line:8,column:8},end:{line:8,column:48}},1:{start:{line:9,column:8},end:{line:9,column:36}},2:{start:{line:10,column:8},end:{line:10,column:40}},3:{start:{line:18,column:32},end:{line:18,column:53}},4:{start:{line:19,column:26},end:{line:19,column:47}},5:{start:{line:20,column:28},end:{line:20,column:44}},6:{start:{line:21,column:8},end:{line:21,column:79}},7:{start:{line:29,column:8},end:{line:29,column:59}},8:{start:{line:30,column:8},end:{line:30,column:45}},9:{start:{line:31,column:8},end:{line:31,column:39}},10:{start:{line:32,column:8},end:{line:32,column:43}},11:{start:{line:33,column:8},end:{line:33,column:19}},12:{start:{line:38,column:8},end:{line:40,column:32}},13:{start:{line:45,column:8},end:{line:45,column:37}},14:{start:{line:50,column:8},end:{line:50,column:31}},15:{start:{line:55,column:8},end:{line:55,column:33}},16:{start:{line:58,column:0},end:{line:58,column:35}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:57},end:{line:11,column:5}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:28},end:{line:22,column:5}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:28,column:4},end:{line:28,column:5}},loc:{start:{line:28,column:19},end:{line:34,column:5}},line:28},3:{name:"(anonymous_3)",decl:{start:{line:37,column:4},end:{line:37,column:5}},loc:{start:{line:37,column:25},end:{line:41,column:5}},line:37},4:{name:"(anonymous_4)",decl:{start:{line:44,column:4},end:{line:44,column:5}},loc:{start:{line:44,column:26},end:{line:46,column:5}},line:44},5:{name:"(anonymous_5)",decl:{start:{line:49,column:4},end:{line:49,column:5}},loc:{start:{line:49,column:20},end:{line:51,column:5}},line:49},6:{name:"(anonymous_6)",decl:{start:{line:54,column:4},end:{line:54,column:5}},loc:{start:{line:54,column:22},end:{line:56,column:5}},line:54}},branchMap:{0:{loc:{start:{line:29,column:14},end:{line:29,column:58}},type:"binary-expr",locations:[{start:{line:29,column:14},end:{line:29,column:17}},{start:{line:29,column:21},end:{line:29,column:58}}],line:29}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class TransactionReceipt{constructor(n,e,l){vn.f[0]++;vn.s[0]++;this._transactionHash=n;vn.s[1]++;this._blockHash=e;vn.s[2]++;this._blockHeight=l}static unserialize(n){vn.f[1]++;const e=(vn.s[3]++,Hash.unserialize(n)),l=(vn.s[4]++,Hash.unserialize(n)),t=(vn.s[5]++,n.readUint32());vn.s[6]++;return new TransactionReceipt(e,l,t)}serialize(n){vn.f[2]++;vn.s[7]++;n=(vn.b[0][0]++,n)||(vn.b[0][1]++,new SerialBuffer(this.serializedSize));vn.s[8]++;this._transactionHash.serialize(n);vn.s[9]++;this._blockHash.serialize(n);vn.s[10]++;n.writeUint32(this._blockHeight);vn.s[11]++;return n}get serializedSize(){vn.f[3]++;vn.s[12]++;return this._transactionHash.serializedSize+this._blockHash.serializedSize+4}get transactionHash(){vn.f[4]++;vn.s[13]++;return this._transactionHash}get blockHash(){vn.f[5]++;vn.s[14]++;return this._blockHash}get blockHeight(){vn.f[6]++;vn.s[15]++;return this._blockHeight}}vn.s[16]++;Class.register(TransactionReceipt);var In=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/block/Block.js",e="06d317279ab958d5b8c6bf182c8c67b9bb0435e6",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/block/Block.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:25}},1:{start:{line:7,column:16},end:{line:7,column:25}},2:{start:{line:8,column:8},end:{line:12,column:10}},3:{start:{line:21,column:8},end:{line:21,column:71}},4:{start:{line:21,column:46},end:{line:21,column:71}},5:{start:{line:22,column:8},end:{line:22,column:80}},6:{start:{line:22,column:52},end:{line:22,column:80}},7:{start:{line:23,column:8},end:{line:23,column:73}},8:{start:{line:23,column:50},end:{line:23,column:73}},9:{start:{line:26,column:8},end:{line:26,column:30}},10:{start:{line:28,column:8},end:{line:28,column:36}},11:{start:{line:30,column:8},end:{line:30,column:26}},12:{start:{line:38,column:23},end:{line:38,column:51}},13:{start:{line:39,column:26},end:{line:39,column:74}},14:{start:{line:41,column:19},end:{line:41,column:28}},15:{start:{line:42,column:28},end:{line:42,column:43}},16:{start:{line:43,column:8},end:{line:45,column:9}},17:{start:{line:44,column:12},end:{line:44,column:46}},18:{start:{line:47,column:8},end:{line:47,column:50}},19:{start:{line:55,column:8},end:{line:55,column:59}},20:{start:{line:56,column:8},end:{line:56,column:36}},21:{start:{line:57,column:8},end:{line:57,column:39}},22:{start:{line:59,column:8},end:{line:64,column:9}},23:{start:{line:60,column:12},end:{line:60,column:30}},24:{start:{line:61,column:12},end:{line:61,column:38}},25:{start:{line:63,column:12},end:{line:63,column:30}},26:{start:{line:66,column:8},end:{line:66,column:19}},27:{start:{line:71,column:8},end:{line:74,column:59}},28:{start:{line:82,column:8},end:{line:96,column:9}},29:{start:{line:83,column:12},end:{line:95,column:13}},30:{start:{line:85,column:16},end:{line:85,column:61}},31:{start:{line:87,column:41},end:{line:87,column:82}},32:{start:{line:87,column:73},end:{line:87,column:81}},33:{start:{line:88,column:31},end:{line:88,column:68}},34:{start:{line:89,column:62},end:{line:90,column:115}},35:{start:{line:91,column:16},end:{line:91,column:36}},36:{start:{line:92,column:16},end:{line:92,column:75}},37:{start:{line:93,column:16},end:{line:93,column:89}},38:{start:{line:94,column:16},end:{line:94,column:79}},39:{start:{line:97,column:8},end:{line:97,column:27}},40:{start:{line:106,column:8},end:{line:109,column:9}},41:{start:{line:107,column:12},end:{line:107,column:76}},42:{start:{line:108,column:12},end:{line:108,column:25}},43:{start:{line:112,column:8},end:{line:115,column:9}},44:{start:{line:113,column:12},end:{line:113,column:68}},45:{start:{line:114,column:12},end:{line:114,column:25}},46:{start:{line:118,column:8},end:{line:121,column:9}},47:{start:{line:119,column:12},end:{line:119,column:68}},48:{start:{line:120,column:12},end:{line:120,column:25}},49:{start:{line:124,column:8},end:{line:126,column:9}},50:{start:{line:125,column:12},end:{line:125,column:25}},51:{start:{line:129,column:8},end:{line:131,column:9}},52:{start:{line:130,column:12},end:{line:130,column:25}},53:{start:{line:134,column:8},end:{line:134,column:20}},54:{start:{line:143,column:8},end:{line:145,column:9}},55:{start:{line:144,column:12},end:{line:144,column:24}},56:{start:{line:148,column:30},end:{line:148,column:52}},57:{start:{line:149,column:8},end:{line:152,column:9}},58:{start:{line:150,column:12},end:{line:150,column:68}},59:{start:{line:151,column:12},end:{line:151,column:25}},60:{start:{line:155,column:8},end:{line:155,column:20}},61:{start:{line:164,column:8},end:{line:166,column:9}},62:{start:{line:165,column:12},end:{line:165,column:25}},63:{start:{line:169,column:25},end:{line:169,column:42}},64:{start:{line:170,column:8},end:{line:173,column:9}},65:{start:{line:171,column:12},end:{line:171,column:63}},66:{start:{line:172,column:12},end:{line:172,column:25}},67:{start:{line:176,column:8},end:{line:176,column:20}},68:{start:{line:185,column:8},end:{line:187,column:9}},69:{start:{line:186,column:12},end:{line:186,column:25}},70:{start:{line:190,column:26},end:{line:190,column:87}},71:{start:{line:191,column:8},end:{line:193,column:9}},72:{start:{line:192,column:12},end:{line:192,column:25}},73:{start:{line:196,column:8},end:{line:196,column:20}},74:{start:{line:205,column:8},end:{line:208,column:9}},75:{start:{line:206,column:12},end:{line:206,column:60}},76:{start:{line:207,column:12},end:{line:207,column:25}},77:{start:{line:211,column:8},end:{line:214,column:9}},78:{start:{line:212,column:12},end:{line:212,column:63}},79:{start:{line:213,column:12},end:{line:213,column:25}},80:{start:{line:217,column:25},end:{line:217,column:43}},81:{start:{line:218,column:8},end:{line:238,column:9}},82:{start:{line:219,column:28},end:{line:219,column:51}},83:{start:{line:220,column:33},end:{line:220,column:72}},84:{start:{line:221,column:29},end:{line:221,column:34}},85:{start:{line:223,column:24},end:{line:223,column:25}},86:{start:{line:224,column:12},end:{line:232,column:13}},87:{start:{line:225,column:16},end:{line:231,column:17}},88:{start:{line:226,column:20},end:{line:226,column:38}},89:{start:{line:227,column:20},end:{line:230,column:21}},90:{start:{line:228,column:24},end:{line:228,column:95}},91:{start:{line:229,column:24},end:{line:229,column:37}},92:{start:{line:234,column:12},end:{line:237,column:13}},93:{start:{line:235,column:16},end:{line:235,column:74}},94:{start:{line:236,column:16},end:{line:236,column:29}},95:{start:{line:243,column:8},end:{line:298,column:9}},96:{start:{line:244,column:12},end:{line:247,column:13}},97:{start:{line:245,column:16},end:{line:245,column:74}},98:{start:{line:246,column:16},end:{line:246,column:29}},99:{start:{line:249,column:30},end:{line:249,column:91}},100:{start:{line:250,column:34},end:{line:250,column:50}},101:{start:{line:251,column:12},end:{line:254,column:13}},102:{start:{line:252,column:16},end:{line:252,column:77}},103:{start:{line:253,column:16},end:{line:253,column:29}},104:{start:{line:258,column:13},end:{line:298,column:9}},105:{start:{line:259,column:12},end:{line:259,column:74}},106:{start:{line:260,column:12},end:{line:260,column:25}},107:{start:{line:268,column:27},end:{line:268,column:40}},108:{start:{line:269,column:12},end:{line:269,column:50}},109:{start:{line:270,column:12},end:{line:270,column:59}},110:{start:{line:271,column:12},end:{line:274,column:13}},111:{start:{line:272,column:16},end:{line:272,column:77}},112:{start:{line:273,column:16},end:{line:273,column:29}},113:{start:{line:277,column:30},end:{line:277,column:68}},114:{start:{line:278,column:30},end:{line:278,column:75}},115:{start:{line:279,column:30},end:{line:279,column:51}},116:{start:{line:280,column:12},end:{line:283,column:13}},117:{start:{line:281,column:16},end:{line:281,column:77}},118:{start:{line:282,column:16},end:{line:282,column:29}},119:{start:{line:286,column:30},end:{line:286,column:35}},120:{start:{line:287,column:34},end:{line:287,column:56}},121:{start:{line:288,column:34},end:{line:288,column:62}},122:{start:{line:289,column:12},end:{line:297,column:13}},123:{start:{line:290,column:16},end:{line:296,column:17}},124:{start:{line:291,column:20},end:{line:291,column:39}},125:{start:{line:293,column:21},end:{line:296,column:17}},126:{start:{line:294,column:20},end:{line:294,column:83}},127:{start:{line:295,column:20},end:{line:295,column:33}},128:{start:{line:301,column:8},end:{line:301,column:20}},129:{start:{line:310,column:8},end:{line:310,column:116}},130:{start:{line:320,column:23},end:{line:320,column:25}},131:{start:{line:321,column:21},end:{line:321,column:32}},132:{start:{line:324,column:29},end:{line:324,column:70}},133:{start:{line:325,column:32},end:{line:325,column:69}},134:{start:{line:326,column:31},end:{line:326,column:78}},135:{start:{line:329,column:8},end:{line:331,column:9}},136:{start:{line:330,column:12},end:{line:330,column:30}},137:{start:{line:334,column:32},end:{line:334,column:70}},138:{start:{line:335,column:29},end:{line:335,column:62}},139:{start:{line:336,column:32},end:{line:336,column:61}},140:{start:{line:339,column:8},end:{line:341,column:9}},141:{start:{line:340,column:12},end:{line:340,column:50}},142:{start:{line:343,column:8},end:{line:343,column:48}},143:{start:{line:351,column:8},end:{line:354,column:68}},144:{start:{line:361,column:8},end:{line:361,column:27}},145:{start:{line:368,column:8},end:{line:368,column:28}},146:{start:{line:375,column:8},end:{line:375,column:80}},147:{start:{line:383,column:8},end:{line:383,column:85}},148:{start:{line:390,column:8},end:{line:390,column:28}},149:{start:{line:397,column:8},end:{line:397,column:31}},150:{start:{line:404,column:8},end:{line:406,column:9}},151:{start:{line:405,column:12},end:{line:405,column:54}},152:{start:{line:407,column:8},end:{line:407,column:26}},153:{start:{line:414,column:8},end:{line:414,column:36}},154:{start:{line:421,column:8},end:{line:421,column:37}},155:{start:{line:428,column:8},end:{line:428,column:37}},156:{start:{line:435,column:8},end:{line:435,column:41}},157:{start:{line:442,column:8},end:{line:442,column:34}},158:{start:{line:449,column:8},end:{line:449,column:35}},159:{start:{line:456,column:8},end:{line:456,column:39}},160:{start:{line:463,column:8},end:{line:463,column:35}},161:{start:{line:470,column:8},end:{line:470,column:38}},162:{start:{line:477,column:8},end:{line:477,column:34}},163:{start:{line:484,column:8},end:{line:484,column:36}},164:{start:{line:491,column:8},end:{line:491,column:39}},165:{start:{line:498,column:8},end:{line:498,column:43}},166:{start:{line:506,column:8},end:{line:506,column:38}},167:{start:{line:514,column:8},end:{line:514,column:37}},168:{start:{line:518,column:0},end:{line:518,column:46}},169:{start:{line:519,column:0},end:{line:519,column:22}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:19},end:{line:13,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:20,column:4},end:{line:20,column:5}},loc:{start:{line:20,column:41},end:{line:31,column:5}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:37,column:4},end:{line:37,column:5}},loc:{start:{line:37,column:28},end:{line:48,column:5}},line:37},3:{name:"(anonymous_3)",decl:{start:{line:54,column:4},end:{line:54,column:5}},loc:{start:{line:54,column:19},end:{line:67,column:5}},line:54},4:{name:"(anonymous_4)",decl:{start:{line:70,column:4},end:{line:70,column:5}},loc:{start:{line:70,column:25},end:{line:75,column:5}},line:70},5:{name:"(anonymous_5)",decl:{start:{line:81,column:4},end:{line:81,column:5}},loc:{start:{line:81,column:23},end:{line:98,column:5}},line:81},6:{name:"(anonymous_6)",decl:{start:{line:87,column:68},end:{line:87,column:69}},loc:{start:{line:87,column:73},end:{line:87,column:81}},line:87},7:{name:"(anonymous_7)",decl:{start:{line:104,column:4},end:{line:104,column:5}},loc:{start:{line:104,column:27},end:{line:135,column:5}},line:104},8:{name:"(anonymous_8)",decl:{start:{line:141,column:4},end:{line:141,column:5}},loc:{start:{line:141,column:23},end:{line:156,column:5}},line:141},9:{name:"(anonymous_9)",decl:{start:{line:162,column:4},end:{line:162,column:5}},loc:{start:{line:162,column:18},end:{line:177,column:5}},line:162},10:{name:"(anonymous_10)",decl:{start:{line:183,column:4},end:{line:183,column:5}},loc:{start:{line:183,column:46},end:{line:197,column:5}},line:183},11:{name:"(anonymous_11)",decl:{start:{line:203,column:4},end:{line:203,column:5}},loc:{start:{line:203,column:46},end:{line:302,column:5}},line:203},12:{name:"(anonymous_12)",decl:{start:{line:308,column:4},end:{line:308,column:5}},loc:{start:{line:308,column:37},end:{line:311,column:5}},line:308},13:{name:"(anonymous_13)",decl:{start:{line:318,column:4},end:{line:318,column:5}},loc:{start:{line:318,column:82},end:{line:344,column:5}},line:318},14:{name:"(anonymous_14)",decl:{start:{line:350,column:4},end:{line:350,column:5}},loc:{start:{line:350,column:14},end:{line:355,column:5}},line:350},15:{name:"(anonymous_15)",decl:{start:{line:360,column:4},end:{line:360,column:5}},loc:{start:{line:360,column:14},end:{line:362,column:5}},line:360},16:{name:"(anonymous_16)",decl:{start:{line:367,column:4},end:{line:367,column:5}},loc:{start:{line:367,column:13},end:{line:369,column:5}},line:367},17:{name:"(anonymous_17)",decl:{start:{line:374,column:4},end:{line:374,column:5}},loc:{start:{line:374,column:14},end:{line:376,column:5}},line:374},18:{name:"(anonymous_18)",decl:{start:{line:382,column:4},end:{line:382,column:5}},loc:{start:{line:382,column:17},end:{line:384,column:5}},line:382},19:{name:"(anonymous_19)",decl:{start:{line:389,column:4},end:{line:389,column:5}},loc:{start:{line:389,column:17},end:{line:391,column:5}},line:389},20:{name:"(anonymous_20)",decl:{start:{line:396,column:4},end:{line:396,column:5}},loc:{start:{line:396,column:20},end:{line:398,column:5}},line:396},21:{name:"(anonymous_21)",decl:{start:{line:403,column:4},end:{line:403,column:5}},loc:{start:{line:403,column:15},end:{line:408,column:5}},line:403},22:{name:"(anonymous_22)",decl:{start:{line:413,column:4},end:{line:413,column:5}},loc:{start:{line:413,column:18},end:{line:415,column:5}},line:413},23:{name:"(anonymous_23)",decl:{start:{line:420,column:4},end:{line:420,column:5}},loc:{start:{line:420,column:19},end:{line:422,column:5}},line:420},24:{name:"(anonymous_24)",decl:{start:{line:427,column:4},end:{line:427,column:5}},loc:{start:{line:427,column:19},end:{line:429,column:5}},line:427},25:{name:"(anonymous_25)",decl:{start:{line:434,column:4},end:{line:434,column:5}},loc:{start:{line:434,column:23},end:{line:436,column:5}},line:434},26:{name:"(anonymous_26)",decl:{start:{line:441,column:4},end:{line:441,column:5}},loc:{start:{line:441,column:16},end:{line:443,column:5}},line:441},27:{name:"(anonymous_27)",decl:{start:{line:448,column:4},end:{line:448,column:5}},loc:{start:{line:448,column:17},end:{line:450,column:5}},line:448},28:{name:"(anonymous_28)",decl:{start:{line:455,column:4},end:{line:455,column:5}},loc:{start:{line:455,column:21},end:{line:457,column:5}},line:455},29:{name:"(anonymous_29)",decl:{start:{line:462,column:4},end:{line:462,column:5}},loc:{start:{line:462,column:17},end:{line:464,column:5}},line:462},30:{name:"(anonymous_30)",decl:{start:{line:469,column:4},end:{line:469,column:5}},loc:{start:{line:469,column:20},end:{line:471,column:5}},line:469},31:{name:"(anonymous_31)",decl:{start:{line:476,column:4},end:{line:476,column:5}},loc:{start:{line:476,column:16},end:{line:478,column:5}},line:476},32:{name:"(anonymous_32)",decl:{start:{line:483,column:4},end:{line:483,column:5}},loc:{start:{line:483,column:20},end:{line:485,column:5}},line:483},33:{name:"(anonymous_33)",decl:{start:{line:490,column:4},end:{line:490,column:5}},loc:{start:{line:490,column:23},end:{line:492,column:5}},line:490},34:{name:"(anonymous_34)",decl:{start:{line:497,column:4},end:{line:497,column:5}},loc:{start:{line:497,column:27},end:{line:499,column:5}},line:497},35:{name:"(anonymous_35)",decl:{start:{line:505,column:4},end:{line:505,column:5}},loc:{start:{line:505,column:14},end:{line:507,column:5}},line:505},36:{name:"(anonymous_36)",decl:{start:{line:513,column:4},end:{line:513,column:5}},loc:{start:{line:513,column:13},end:{line:515,column:5}},line:513}},branchMap:{0:{loc:{start:{line:7,column:8},end:{line:7,column:25}},type:"if",locations:[{start:{line:7,column:8},end:{line:7,column:25}},{start:{line:7,column:8},end:{line:7,column:25}}],line:7},1:{loc:{start:{line:21,column:8},end:{line:21,column:71}},type:"if",locations:[{start:{line:21,column:8},end:{line:21,column:71}},{start:{line:21,column:8},end:{line:21,column:71}}],line:21},2:{loc:{start:{line:22,column:8},end:{line:22,column:80}},type:"if",locations:[{start:{line:22,column:8},end:{line:22,column:80}},{start:{line:22,column:8},end:{line:22,column:80}}],line:22},3:{loc:{start:{line:23,column:8},end:{line:23,column:73}},type:"if",locations:[{start:{line:23,column:8},end:{line:23,column:73}},{start:{line:23,column:8},end:{line:23,column:73}}],line:23},4:{loc:{start:{line:23,column:12},end:{line:23,column:48}},type:"binary-expr",locations:[{start:{line:23,column:12},end:{line:23,column:16}},{start:{line:23,column:20},end:{line:23,column:48}}],line:23},5:{loc:{start:{line:43,column:8},end:{line:45,column:9}},type:"if",locations:[{start:{line:43,column:8},end:{line:45,column:9}},{start:{line:43,column:8},end:{line:45,column:9}}],line:43},6:{loc:{start:{line:55,column:14},end:{line:55,column:58}},type:"binary-expr",locations:[{start:{line:55,column:14},end:{line:55,column:17}},{start:{line:55,column:21},end:{line:55,column:58}}],line:55},7:{loc:{start:{line:59,column:8},end:{line:64,column:9}},type:"if",locations:[{start:{line:59,column:8},end:{line:64,column:9}},{start:{line:59,column:8},end:{line:64,column:9}}],line:59},8:{loc:{start:{line:74,column:15},end:{line:74,column:57}},type:"cond-expr",locations:[{start:{line:74,column:28},end:{line:74,column:53}},{start:{line:74,column:56},end:{line:74,column:57}}],line:74},9:{loc:{start:{line:82,column:8},end:{line:96,column:9}},type:"if",locations:[{start:{line:82,column:8},end:{line:96,column:9}},{start:{line:82,column:8},end:{line:96,column:9}}],line:82},10:{loc:{start:{line:83,column:12},end:{line:95,column:13}},type:"if",locations:[{start:{line:83,column:12},end:{line:95,column:13}},{start:{line:83,column:12},end:{line:95,column:13}}],line:83},11:{loc:{start:{line:83,column:16},end:{line:83,column:97}},type:"binary-expr",locations:[{start:{line:83,column:16},end:{line:83,column:30}},{start:{line:83,column:34},end:{line:83,column:69}},{start:{line:83,column:73},end:{line:83,column:97}}],line:83},12:{loc:{start:{line:106,column:8},end:{line:109,column:9}},type:"if",locations:[{start:{line:106,column:8},end:{line:109,column:9}},{start:{line:106,column:8},end:{line:109,column:9}}],line:106},13:{loc:{start:{line:112,column:8},end:{line:115,column:9}},type:"if",locations:[{start:{line:112,column:8},end:{line:115,column:9}},{start:{line:112,column:8},end:{line:115,column:9}}],line:112},14:{loc:{start:{line:118,column:8},end:{line:121,column:9}},type:"if",locations:[{start:{line:118,column:8},end:{line:121,column:9}},{start:{line:118,column:8},end:{line:121,column:9}}],line:118},15:{loc:{start:{line:124,column:8},end:{line:126,column:9}},type:"if",locations:[{start:{line:124,column:8},end:{line:126,column:9}},{start:{line:124,column:8},end:{line:126,column:9}}],line:124},16:{loc:{start:{line:129,column:8},end:{line:131,column:9}},type:"if",locations:[{start:{line:129,column:8},end:{line:131,column:9}},{start:{line:129,column:8},end:{line:131,column:9}}],line:129},17:{loc:{start:{line:129,column:12},end:{line:129,column:48}},type:"binary-expr",locations:[{start:{line:129,column:12},end:{line:129,column:25}},{start:{line:129,column:29},end:{line:129,column:48}}],line:129},18:{loc:{start:{line:143,column:8},end:{line:145,column:9}},type:"if",locations:[{start:{line:143,column:8},end:{line:145,column:9}},{start:{line:143,column:8},end:{line:145,column:9}}],line:143},19:{loc:{start:{line:143,column:12},end:{line:143,column:82}},type:"binary-expr",locations:[{start:{line:143,column:12},end:{line:143,column:29}},{start:{line:143,column:33},end:{line:143,column:82}}],line:143},20:{loc:{start:{line:149,column:8},end:{line:152,column:9}},type:"if",locations:[{start:{line:149,column:8},end:{line:152,column:9}},{start:{line:149,column:8},end:{line:152,column:9}}],line:149},21:{loc:{start:{line:164,column:8},end:{line:166,column:9}},type:"if",locations:[{start:{line:164,column:8},end:{line:166,column:9}},{start:{line:164,column:8},end:{line:166,column:9}}],line:164},22:{loc:{start:{line:170,column:8},end:{line:173,column:9}},type:"if",locations:[{start:{line:170,column:8},end:{line:173,column:9}},{start:{line:170,column:8},end:{line:173,column:9}}],line:170},23:{loc:{start:{line:185,column:8},end:{line:187,column:9}},type:"if",locations:[{start:{line:185,column:8},end:{line:187,column:9}},{start:{line:185,column:8},end:{line:187,column:9}}],line:185},24:{loc:{start:{line:191,column:8},end:{line:193,column:9}},type:"if",locations:[{start:{line:191,column:8},end:{line:193,column:9}},{start:{line:191,column:8},end:{line:193,column:9}}],line:191},25:{loc:{start:{line:205,column:8},end:{line:208,column:9}},type:"if",locations:[{start:{line:205,column:8},end:{line:208,column:9}},{start:{line:205,column:8},end:{line:208,column:9}}],line:205},26:{loc:{start:{line:211,column:8},end:{line:214,column:9}},type:"if",locations:[{start:{line:211,column:8},end:{line:214,column:9}},{start:{line:211,column:8},end:{line:214,column:9}}],line:211},27:{loc:{start:{line:218,column:8},end:{line:238,column:9}},type:"if",locations:[{start:{line:218,column:8},end:{line:238,column:9}},{start:{line:218,column:8},end:{line:238,column:9}}],line:218},28:{loc:{start:{line:225,column:16},end:{line:231,column:17}},type:"if",locations:[{start:{line:225,column:16},end:{line:231,column:17}},{start:{line:225,column:16},end:{line:231,column:17}}],line:225},29:{loc:{start:{line:227,column:20},end:{line:230,column:21}},type:"if",locations:[{start:{line:227,column:20},end:{line:230,column:21}},{start:{line:227,column:20},end:{line:230,column:21}}],line:227},30:{loc:{start:{line:234,column:12},end:{line:237,column:13}},type:"if",locations:[{start:{line:234,column:12},end:{line:237,column:13}},{start:{line:234,column:12},end:{line:237,column:13}}],line:234},31:{loc:{start:{line:243,column:8},end:{line:298,column:9}},type:"if",locations:[{start:{line:243,column:8},end:{line:298,column:9}},{start:{line:243,column:8},end:{line:298,column:9}}],line:243},32:{loc:{start:{line:244,column:12},end:{line:247,column:13}},type:"if",locations:[{start:{line:244,column:12},end:{line:247,column:13}},{start:{line:244,column:12},end:{line:247,column:13}}],line:244},33:{loc:{start:{line:251,column:12},end:{line:254,column:13}},type:"if",locations:[{start:{line:251,column:12},end:{line:254,column:13}},{start:{line:251,column:12},end:{line:254,column:13}}],line:251},34:{loc:{start:{line:258,column:13},end:{line:298,column:9}},type:"if",locations:[{start:{line:258,column:13},end:{line:298,column:9}},{start:{line:258,column:13},end:{line:298,column:9}}],line:258},35:{loc:{start:{line:271,column:12},end:{line:274,column:13}},type:"if",locations:[{start:{line:271,column:12},end:{line:274,column:13}},{start:{line:271,column:12},end:{line:274,column:13}}],line:271},36:{loc:{start:{line:280,column:12},end:{line:283,column:13}},type:"if",locations:[{start:{line:280,column:12},end:{line:283,column:13}},{start:{line:280,column:12},end:{line:283,column:13}}],line:280},37:{loc:{start:{line:289,column:28},end:{line:289,column:92}},type:"binary-expr",locations:[{start:{line:289,column:28},end:{line:289,column:52}},{start:{line:289,column:56},end:{line:289,column:92}}],line:289},38:{loc:{start:{line:290,column:16},end:{line:296,column:17}},type:"if",locations:[{start:{line:290,column:16},end:{line:296,column:17}},{start:{line:290,column:16},end:{line:296,column:17}}],line:290},39:{loc:{start:{line:293,column:21},end:{line:296,column:17}},type:"if",locations:[{start:{line:293,column:21},end:{line:296,column:17}},{start:{line:293,column:21},end:{line:296,column:17}}],line:293},40:{loc:{start:{line:310,column:15},end:{line:310,column:115}},type:"binary-expr",locations:[{start:{line:310,column:16},end:{line:310,column:62}},{start:{line:310,column:68},end:{line:310,column:114}}],line:310},41:{loc:{start:{line:318,column:39},end:{line:318,column:80}},type:"default-arg",locations:[{start:{line:318,column:53},end:{line:318,column:80}}],line:318},42:{loc:{start:{line:351,column:15},end:{line:354,column:67}},type:"binary-expr",locations:[{start:{line:351,column:15},end:{line:351,column:33}},{start:{line:352,column:15},end:{line:352,column:45}},{start:{line:353,column:15},end:{line:353,column:51}},{start:{line:354,column:16},end:{line:354,column:66}}],line:351},43:{loc:{start:{line:354,column:16},end:{line:354,column:66}},type:"cond-expr",locations:[{start:{line:354,column:29},end:{line:354,column:55}},{start:{line:354,column:58},end:{line:354,column:66}}],line:354},44:{loc:{start:{line:375,column:15},end:{line:375,column:79}},type:"cond-expr",locations:[{start:{line:375,column:32},end:{line:375,column:36}},{start:{line:375,column:39},end:{line:375,column:79}}],line:375},45:{loc:{start:{line:383,column:15},end:{line:383,column:84}},type:"cond-expr",locations:[{start:{line:383,column:31},end:{line:383,column:35}},{start:{line:383,column:38},end:{line:383,column:84}}],line:383},46:{loc:{start:{line:404,column:8},end:{line:406,column:9}},type:"if",locations:[{start:{line:404,column:8},end:{line:406,column:9}},{start:{line:404,column:8},end:{line:406,column:9}}],line:404}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0],42:[0,0,0,0],43:[0,0],44:[0,0],45:[0,0],46:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Block{static copy(n){In.f[0]++;In.s[0]++;if(!n){In.b[0][0]++;In.s[1]++;return n}In.b[0][1]++;In.s[2]++;return new Block(BlockHeader.copy(n._header),BlockInterlink.copy(n._interlink),BlockBody.copy(n._body))}constructor(n,e,l){In.f[1]++;In.s[3]++;if(!(n instanceof BlockHeader)){In.b[1][0]++;In.s[4]++;throw"Malformed header"}In.b[1][1]++;In.s[5]++;if(!(e instanceof BlockInterlink)){In.b[2][0]++;In.s[6]++;throw"Malformed interlink"}In.b[2][1]++;In.s[7]++;if((In.b[4][0]++,l)&&(In.b[4][1]++,!(l instanceof BlockBody))){In.b[3][0]++;In.s[8]++;throw"Malformed body"}In.b[3][1]++;In.s[9]++;this._header=n;In.s[10]++;this._interlink=e;In.s[11]++;this._body=l}static unserialize(n){In.f[2]++;const e=(In.s[12]++,BlockHeader.unserialize(n)),l=(In.s[13]++,BlockInterlink.unserialize(n,e.prevHash));let t=(In.s[14]++,undefined);const o=(In.s[15]++,n.readUint8());In.s[16]++;if(o){In.b[5][0]++;In.s[17]++;t=BlockBody.unserialize(n)}else In.b[5][1]++;In.s[18]++;return new Block(e,l,t)}serialize(n){In.f[3]++;In.s[19]++;n=(In.b[6][0]++,n)||(In.b[6][1]++,new SerialBuffer(this.serializedSize));In.s[20]++;this._header.serialize(n);In.s[21]++;this._interlink.serialize(n);In.s[22]++;if(this._body){In.b[7][0]++;In.s[23]++;n.writeUint8(1);In.s[24]++;this._body.serialize(n)}else{In.b[7][1]++;In.s[25]++;n.writeUint8(0)}In.s[26]++;return n}get serializedSize(){In.f[4]++;In.s[27]++;return this._header.serializedSize+this._interlink.serializedSize+1+(this._body?(In.b[8][0]++,this._body.serializedSize):(In.b[8][1]++,0))}async verify(n){In.f[5]++;In.s[28]++;if(this._valid===undefined){In.b[9][0]++;In.s[29]++;if((In.b[11][0]++,this.isLight())||(In.b[11][1]++,this.body.transactions.length<150)||(In.b[11][2]++,!IWorker.areWorkersAsync)){In.b[10][0]++;In.s[30]++;this._valid=await this._verify(n.now())}else{In.b[10][1]++;const e=(In.s[31]++,this.body.transactions.map(n=>{In.f[6]++;In.s[32]++;return n._valid})),l=(In.s[33]++,await CryptoWorker.getInstanceAsync()),{valid:t,pow:o,interlinkHash:i,bodyHash:c}=(In.s[34]++,await l.blockVerify(this.serialize(),e,n.now(),GenesisConfig.GENESIS_HASH.serialize(),GenesisConfig.NETWORK_ID));In.s[35]++;this._valid=t;In.s[36]++;this.header._pow=Hash.unserialize(new SerialBuffer(o));In.s[37]++;this.interlink._hash=Hash.unserialize(new SerialBuffer(i));In.s[38]++;this.body._hash=Hash.unserialize(new SerialBuffer(c))}}else In.b[9][1]++;In.s[39]++;return this._valid}async _verify(n){In.f[7]++;In.s[40]++;if(1e3*this._header.timestamp>n+1e3*Block.TIMESTAMP_DRIFT_MAX){In.b[12][0]++;In.s[41]++;Log.w(Block,"Invalid block - timestamp too far in the future");In.s[42]++;return!1}In.b[12][1]++;In.s[43]++;if(!(await this._header.verifyProofOfWork())){In.b[13][0]++;In.s[44]++;Log.w(Block,"Invalid block - PoW verification failed");In.s[45]++;return!1}In.b[13][1]++;In.s[46]++;if(this.serializedSize>Policy.BLOCK_SIZE_MAX){In.b[14][0]++;In.s[47]++;Log.w(Block,"Invalid block - max block size exceeded");In.s[48]++;return!1}In.b[14][1]++;In.s[49]++;if(!this._verifyInterlink()){In.b[15][0]++;In.s[50]++;return!1}In.b[15][1]++;In.s[51]++;if((In.b[17][0]++,this.isFull())&&(In.b[17][1]++,!this._verifyBody())){In.b[16][0]++;In.s[52]++;return!1}In.b[16][1]++;In.s[53]++;return!0}_verifyInterlink(){In.f[8]++;In.s[54]++;if((In.b[19][0]++,1===this.height)&&(In.b[19][1]++,this._header.interlinkHash.equals(new Hash(null)))){In.b[18][0]++;In.s[55]++;return!0}In.b[18][1]++;const n=(In.s[56]++,this._interlink.hash());In.s[57]++;if(!this._header.interlinkHash.equals(n)){In.b[20][0]++;In.s[58]++;Log.w(Block,"Invalid block - interlink hash mismatch");In.s[59]++;return!1}In.b[20][1]++;In.s[60]++;return!0}_verifyBody(){In.f[9]++;In.s[61]++;if(!this._body.verify()){In.b[21][0]++;In.s[62]++;return!1}In.b[21][1]++;const n=(In.s[63]++,this._body.hash());In.s[64]++;if(!this._header.bodyHash.equals(n)){In.b[22][0]++;In.s[65]++;Log.w(Block,"Invalid block - body hash mismatch");In.s[66]++;return!1}In.b[22][1]++;In.s[67]++;return!0}async isImmediateSuccessorOf(n){In.f[10]++;In.s[68]++;if(!this._header.isImmediateSuccessorOf(n.header)){In.b[23][0]++;In.s[69]++;return!1}In.b[23][1]++;const e=(In.s[70]++,await n.getNextInterlink(this.target,this.version));In.s[71]++;if(!this._interlink.equals(e)){In.b[24][0]++;In.s[72]++;return!1}In.b[24][1]++;In.s[73]++;return!0}async isInterlinkSuccessorOf(n){In.f[11]++;In.s[74]++;if(this._header.height<=n.header.height){In.b[25][0]++;In.s[75]++;Log.v(Block,"No interlink successor - height");In.s[76]++;return!1}In.b[25][1]++;In.s[77]++;if(this._header.timestamp<n.header.timestamp){In.b[26][0]++;In.s[78]++;Log.v(Block,"No interlink successor - timestamp");In.s[79]++;return!1}In.b[26][1]++;const e=(In.s[80]++,n.hash());In.s[81]++;if(GenesisConfig.GENESIS_HASH.equals(e))In.b[27][1]++;else{In.b[27][0]++;const l=(In.s[82]++,await n.pow()),t=(In.s[83]++,BlockUtils.getTargetHeight(this.target));let o=(In.s[84]++,!1),i=(In.s[85]++,0);In.s[86]++;for(;i<this._interlink.length;i++){In.s[87]++;if(e.equals(this._interlink.hashes[i])){In.b[28][0]++;In.s[88]++;o=!0;In.s[89]++;if(!BlockUtils.isProofOfWork(l,Math.pow(2,t-i))){In.b[29][0]++;In.s[90]++;Log.v(Block,"No interlink successor - invalid position in interlink");In.s[91]++;return!1}In.b[29][1]++}else In.b[28][1]++}In.s[92]++;if(!o){In.b[30][0]++;In.s[93]++;Log.v(Block,"No interlink successor - not in interlink");In.s[94]++;return!1}In.b[30][1]++}In.s[95]++;if(this._header.prevHash.equals(e)){In.b[31][0]++;In.s[96]++;if(this._header.height!==n.header.height+1){In.b[32][0]++;In.s[97]++;Log.v(Block,"No interlink successor - immediate height");In.s[98]++;return!1}In.b[32][1]++;const e=(In.s[99]++,await n.getNextInterlink(this.target,this.version)),l=(In.s[100]++,e.hash());In.s[101]++;if(!this._header.interlinkHash.equals(l)){In.b[33][0]++;In.s[102]++;Log.v(Block,"No interlink successor - immediate interlink");In.s[103]++;return!1}In.b[33][1]++}else{In.b[31][1]++;In.s[104]++;if(this._header.height===n.height.height+1){In.b[34][0]++;In.s[105]++;Log.v(Block,"No interlink successor - immediate height (2)");In.s[106]++;return!1}{In.b[34][1]++;const e=(In.s[107]++,new HashSet);In.s[108]++;e.addAll(this._interlink.hashes);In.s[109]++;e.removeAll(n.interlink.hashes);In.s[110]++;if(e.length>this._header.height-n.header.height){In.b[35][0]++;In.s[111]++;Log.v(Block,"No interlink successor - too many new blocks");In.s[112]++;return!1}In.b[35][1]++;const l=(In.s[113]++,BlockUtils.getTargetDepth(this.target)),t=(In.s[114]++,BlockUtils.getTargetDepth(n.target)),o=(In.s[115]++,l-t);In.s[116]++;if(this._interlink.length<n.interlink.length-o){In.b[36][0]++;In.s[117]++;Log.v(Block,"No interlink successor - interlink too short");In.s[118]++;return!1}In.b[36][1]++;let i=(In.s[119]++,!1);const c=(In.s[120]++,this._interlink.hashes),s=(In.s[121]++,n.interlink.hashes);In.s[122]++;for(let n=1;(In.b[37][0]++,n<s.length)&&(In.b[37][1]++,n-o<c.length);n++){In.s[123]++;if(s[n].equals(c[n-o])){In.b[38][0]++;In.s[124]++;i=!0}else{In.b[38][1]++;In.s[125]++;if(i){In.b[39][0]++;In.s[126]++;Log.v(Block,"No interlink successor - invalid common suffix");In.s[127]++;return!1}In.b[39][1]++}}}}In.s[128]++;return!0}async isSuccessorOf(n){In.f[12]++;In.s[129]++;return(In.b[40][0]++,await this.isImmediateSuccessorOf(n))||(In.b[40][1]++,await this.isInterlinkSuccessorOf(n))}async getNextInterlink(n,e=(In.b[41][0]++,BlockHeader.CURRENT_VERSION)){In.f[13]++;const l=(In.s[130]++,[]),t=(In.s[131]++,this.hash()),o=(In.s[132]++,BlockUtils.getHashDepth(await this.pow())),i=(In.s[133]++,BlockUtils.getTargetDepth(n)),c=(In.s[134]++,Math.max(o-i+1,0));In.s[135]++;for(let r=0;r<c;r++){In.s[136]++;l.push(t)}const s=(In.s[137]++,BlockUtils.getTargetDepth(this.target)),u=(In.s[138]++,i-s),m=(In.s[139]++,c+u);In.s[140]++;for(let r=m;r<this.interlink.length;r++){In.s[141]++;l.push(this.interlink.hashes[r])}In.s[142]++;return new BlockInterlink(l,t)}equals(n){In.f[14]++;In.s[143]++;return(In.b[42][0]++,n instanceof Block)&&(In.b[42][1]++,this._header.equals(n._header))&&(In.b[42][2]++,this._interlink.equals(n._interlink))&&(In.b[42][3]++,this._body?(In.b[43][0]++,this._body.equals(n._body)):(In.b[43][1]++,!n._body))}isLight(){In.f[15]++;In.s[144]++;return!this._body}isFull(){In.f[16]++;In.s[145]++;return!!this._body}toLight(){In.f[17]++;In.s[146]++;return this.isLight()?(In.b[44][0]++,this):(In.b[44][1]++,new Block(this._header,this._interlink))}toFull(n){In.f[18]++;In.s[147]++;return this.isFull()?(In.b[45][0]++,this):(In.b[45][1]++,new Block(this._header,this._interlink,n))}get header(){In.f[19]++;In.s[148]++;return this._header}get interlink(){In.f[20]++;In.s[149]++;return this._interlink}get body(){In.f[21]++;In.s[150]++;if(this.isLight()){In.b[46][0]++;In.s[151]++;throw"Cannot access body of light block"}In.b[46][1]++;In.s[152]++;return this._body}get version(){In.f[22]++;In.s[153]++;return this._header.version}get prevHash(){In.f[23]++;In.s[154]++;return this._header.prevHash}get bodyHash(){In.f[24]++;In.s[155]++;return this._header.bodyHash}get accountsHash(){In.f[25]++;In.s[156]++;return this._header.accountsHash}get nBits(){In.f[26]++;In.s[157]++;return this._header.nBits}get target(){In.f[27]++;In.s[158]++;return this._header.target}get difficulty(){In.f[28]++;In.s[159]++;return this._header.difficulty}get height(){In.f[29]++;In.s[160]++;return this._header.height}get timestamp(){In.f[30]++;In.s[161]++;return this._header.timestamp}get nonce(){In.f[31]++;In.s[162]++;return this._header.nonce}get minerAddr(){In.f[32]++;In.s[163]++;return this._body.minerAddr}get transactions(){In.f[33]++;In.s[164]++;return this._body.transactions}get transactionCount(){In.f[34]++;In.s[165]++;return this._body.transactionCount}hash(n){In.f[35]++;In.s[166]++;return this._header.hash(n)}pow(n){In.f[36]++;In.s[167]++;return this._header.pow(n)}}In.s[168]++;Block.TIMESTAMP_DRIFT_MAX=600;In.s[169]++;Class.register(Block);var Mn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/blockchain/IBlockchain.js",e="c79bff6ff3d4e1832b2a125ae3a4c516759f3d4d",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/blockchain/IBlockchain.js",statementMap:{0:{start:{line:23,column:0},end:{line:23,column:28}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:4},end:{line:9,column:5}},loc:{start:{line:9,column:15},end:{line:9,column:17}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:15,column:4},end:{line:15,column:5}},loc:{start:{line:15,column:19},end:{line:15,column:21}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:21,column:4},end:{line:21,column:5}},loc:{start:{line:21,column:17},end:{line:21,column:19}},line:21}},branchMap:{},s:{0:0},f:{0:0,1:0,2:0},b:{},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class IBlockchain extends Observable{get head(){Mn.f[0]++}get headHash(){Mn.f[1]++}get height(){Mn.f[2]++}}Mn.s[0]++;Class.register(IBlockchain);var Nn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/blockchain/BaseChain.js",e="f7b704d4b33c99d47786dae7324f9c62df7e34a9",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/blockchain/BaseChain.js",statementMap:{0:{start:{line:9,column:8},end:{line:9,column:16}},1:{start:{line:10,column:8},end:{line:10,column:28}},2:{start:{line:20,column:26},end:{line:20,column:75}},3:{start:{line:21,column:8},end:{line:21,column:92}},4:{start:{line:30,column:8},end:{line:30,column:67}},5:{start:{line:39,column:8},end:{line:39,column:68}},6:{start:{line:48,column:25},end:{line:48,column:40}},7:{start:{line:50,column:20},end:{line:50,column:29}},8:{start:{line:51,column:8},end:{line:57,column:9}},9:{start:{line:52,column:12},end:{line:54,column:13}},10:{start:{line:53,column:16},end:{line:53,column:22}},11:{start:{line:55,column:12},end:{line:55,column:42}},12:{start:{line:56,column:12},end:{line:56,column:56}},13:{start:{line:59,column:19},end:{line:59,column:20}},14:{start:{line:60,column:8},end:{line:66,column:9}},15:{start:{line:61,column:12},end:{line:61,column:45}},16:{start:{line:62,column:12},end:{line:64,column:13}},17:{start:{line:63,column:16},end:{line:63,column:50}},18:{start:{line:65,column:12},end:{line:65,column:22}},19:{start:{line:69,column:8},end:{line:71,column:9}},20:{start:{line:70,column:12},end:{line:70,column:54}},21:{start:{line:73,column:8},end:{line:73,column:24}},22:{start:{line:84,column:8},end:{line:91,column:9}},23:{start:{line:85,column:25},end:{line:85,column:37}},24:{start:{line:86,column:12},end:{line:86,column:60}},25:{start:{line:87,column:12},end:{line:87,column:36}},26:{start:{line:89,column:12},end:{line:89,column:30}},27:{start:{line:90,column:12},end:{line:90,column:39}},28:{start:{line:95,column:27},end:{line:95,column:85}},29:{start:{line:98,column:8},end:{line:115,column:9}},30:{start:{line:99,column:12},end:{line:99,column:68}},31:{start:{line:101,column:27},end:{line:101,column:35}},32:{start:{line:102,column:12},end:{line:108,column:13}},33:{start:{line:103,column:16},end:{line:103,column:82}},34:{start:{line:104,column:16},end:{line:107,column:17}},35:{start:{line:106,column:20},end:{line:106,column:30}},36:{start:{line:110,column:12},end:{line:114,column:13}},37:{start:{line:111,column:16},end:{line:111,column:72}},38:{start:{line:113,column:16},end:{line:113,column:36}},39:{start:{line:117,column:8},end:{line:120,column:9}},40:{start:{line:119,column:12},end:{line:119,column:22}},41:{start:{line:122,column:37},end:{line:122,column:88}},42:{start:{line:123,column:8},end:{line:123,column:106}},43:{start:{line:136,column:8},end:{line:136,column:61}},44:{start:{line:148,column:8},end:{line:148,column:46}},45:{start:{line:149,column:8},end:{line:149,column:52}},46:{start:{line:150,column:21},end:{line:150,column:39}},47:{start:{line:153,column:26},end:{line:153,column:27}},48:{start:{line:156,column:25},end:{line:156,column:87}},49:{start:{line:157,column:25},end:{line:157,column:71}},50:{start:{line:160,column:8},end:{line:175,column:9}},51:{start:{line:163,column:26},end:{line:163,column:81}},52:{start:{line:166,column:12},end:{line:166,column:102}},53:{start:{line:166,column:79},end:{line:166,column:98}},54:{start:{line:169,column:12},end:{line:174,column:13}},55:{start:{line:170,column:16},end:{line:170,column:100}},56:{start:{line:171,column:16},end:{line:171,column:149}},57:{start:{line:173,column:16},end:{line:173,column:66}},58:{start:{line:178,column:23},end:{line:178,column:85}},59:{start:{line:181,column:8},end:{line:181,column:46}},60:{start:{line:192,column:8},end:{line:192,column:64}},61:{start:{line:194,column:22},end:{line:194,column:24}},62:{start:{line:197,column:26},end:{line:197,column:76}},63:{start:{line:198,column:8},end:{line:200,column:9}},64:{start:{line:199,column:12},end:{line:199,column:33}},65:{start:{line:204,column:24},end:{line:204,column:32}},66:{start:{line:205,column:16},end:{line:205,column:86}},67:{start:{line:206,column:8},end:{line:218,column:9}},68:{start:{line:207,column:30},end:{line:207,column:98}},69:{start:{line:208,column:12},end:{line:208,column:66}},70:{start:{line:209,column:12},end:{line:214,column:13}},71:{start:{line:212,column:16},end:{line:212,column:146}},72:{start:{line:213,column:16},end:{line:213,column:22}},73:{start:{line:215,column:12},end:{line:215,column:34}},74:{start:{line:217,column:12},end:{line:217,column:87}},75:{start:{line:220,column:8},end:{line:222,column:9}},76:{start:{line:221,column:12},end:{line:221,column:77}},77:{start:{line:224,column:8},end:{line:224,column:31}},78:{start:{line:235,column:8},end:{line:236,column:76}},79:{start:{line:248,column:8},end:{line:248,column:46}},80:{start:{line:249,column:8},end:{line:251,column:9}},81:{start:{line:250,column:12},end:{line:250,column:25}},82:{start:{line:253,column:8},end:{line:258,column:9}},83:{start:{line:254,column:37},end:{line:254,column:134}},84:{start:{line:255,column:12},end:{line:257,column:13}},85:{start:{line:256,column:16},end:{line:256,column:29}},86:{start:{line:260,column:8},end:{line:260,column:20}},87:{start:{line:273,column:8},end:{line:275,column:9}},88:{start:{line:274,column:12},end:{line:274,column:24}},89:{start:{line:277,column:8},end:{line:321,column:9}},90:{start:{line:278,column:29},end:{line:278,column:42}},91:{start:{line:279,column:29},end:{line:279,column:47}},92:{start:{line:281,column:12},end:{line:320,column:13}},93:{start:{line:282,column:41},end:{line:282,column:110}},94:{start:{line:304,column:16},end:{line:310,column:17}},95:{start:{line:305,column:45},end:{line:305,column:112}},96:{start:{line:306,column:20},end:{line:309,column:21}},97:{start:{line:307,column:24},end:{line:307,column:124}},98:{start:{line:308,column:24},end:{line:308,column:37}},99:{start:{line:323,column:8},end:{line:323,column:20}},100:{start:{line:336,column:8},end:{line:336,column:82}},101:{start:{line:346,column:24},end:{line:346,column:26}},102:{start:{line:347,column:8},end:{line:350,column:9}},103:{start:{line:348,column:12},end:{line:348,column:38}},104:{start:{line:349,column:12},end:{line:349,column:54}},105:{start:{line:351,column:8},end:{line:351,column:50}},106:{start:{line:363,column:23},end:{line:363,column:51}},107:{start:{line:364,column:8},end:{line:364,column:28}},108:{start:{line:367,column:23},end:{line:367,column:50}},109:{start:{line:368,column:8},end:{line:370,column:9}},110:{start:{line:369,column:12},end:{line:369,column:83}},111:{start:{line:373,column:27},end:{line:373,column:41}},112:{start:{line:376,column:26},end:{line:376,column:105}},113:{start:{line:377,column:27},end:{line:377,column:59}},114:{start:{line:380,column:8},end:{line:380,column:32}},115:{start:{line:383,column:23},end:{line:383,column:68}},116:{start:{line:386,column:22},end:{line:386,column:69}},117:{start:{line:387,column:8},end:{line:394,column:9}},118:{start:{line:389,column:12},end:{line:393,column:13}},119:{start:{line:390,column:16},end:{line:390,column:57}},120:{start:{line:392,column:16},end:{line:392,column:78}},121:{start:{line:397,column:8},end:{line:399,column:9}},122:{start:{line:398,column:12},end:{line:398,column:91}},123:{start:{line:403,column:36},end:{line:403,column:45}},124:{start:{line:404,column:8},end:{line:442,column:9}},125:{start:{line:405,column:31},end:{line:405,column:40}},126:{start:{line:406,column:12},end:{line:408,column:13}},127:{start:{line:407,column:16},end:{line:407,column:25}},128:{start:{line:411,column:32},end:{line:411,column:81}},129:{start:{line:411,column:64},end:{line:411,column:79}},130:{start:{line:412,column:12},end:{line:419,column:13}},131:{start:{line:413,column:16},end:{line:413,column:81}},132:{start:{line:415,column:16},end:{line:417,column:17}},133:{start:{line:416,column:20},end:{line:416,column:32}},134:{start:{line:418,column:16},end:{line:418,column:25}},135:{start:{line:422,column:35},end:{line:422,column:82}},136:{start:{line:423,column:12},end:{line:441,column:13}},137:{start:{line:424,column:40},end:{line:424,column:41}},138:{start:{line:425,column:37},end:{line:425,column:72}},139:{start:{line:426,column:16},end:{line:435,column:17}},140:{start:{line:428,column:43},end:{line:428,column:94}},141:{start:{line:429,column:20},end:{line:431,column:21}},142:{start:{line:430,column:24},end:{line:430,column:71}},143:{start:{line:433,column:20},end:{line:433,column:40}},144:{start:{line:434,column:20},end:{line:434,column:73}},145:{start:{line:437,column:16},end:{line:440,column:17}},146:{start:{line:439,column:20},end:{line:439,column:90}},147:{start:{line:445,column:26},end:{line:445,column:112}},148:{start:{line:445,column:64},end:{line:445,column:102}},149:{start:{line:448,column:8},end:{line:448,column:66}},150:{start:{line:464,column:38},end:{line:467,column:9}},151:{start:{line:465,column:26},end:{line:465,column:111}},152:{start:{line:466,column:12},end:{line:466,column:78}},153:{start:{line:469,column:23},end:{line:469,column:25}},154:{start:{line:470,column:28},end:{line:470,column:47}},155:{start:{line:472,column:28},end:{line:472,column:77}},156:{start:{line:473,column:27},end:{line:473,column:65}},157:{start:{line:475,column:20},end:{line:475,column:98}},158:{start:{line:476,column:20},end:{line:476,column:30}},159:{start:{line:478,column:24},end:{line:478,column:59}},160:{start:{line:479,column:8},end:{line:508,column:9}},161:{start:{line:480,column:30},end:{line:480,column:60}},162:{start:{line:481,column:12},end:{line:486,column:13}},163:{start:{line:484,column:16},end:{line:484,column:105}},164:{start:{line:485,column:16},end:{line:485,column:28}},165:{start:{line:488,column:12},end:{line:507,column:13}},166:{start:{line:490,column:16},end:{line:492,column:17}},167:{start:{line:491,column:20},end:{line:491,column:32}},168:{start:{line:495,column:16},end:{line:495,column:24}},169:{start:{line:496,column:16},end:{line:496,column:64}},170:{start:{line:497,column:19},end:{line:507,column:13}},171:{start:{line:499,column:16},end:{line:499,column:49}},172:{start:{line:501,column:16},end:{line:501,column:34}},173:{start:{line:502,column:16},end:{line:502,column:64}},174:{start:{line:505,column:16},end:{line:505,column:134}},175:{start:{line:506,column:16},end:{line:506,column:28}},176:{start:{line:511,column:8},end:{line:511,column:44}},177:{start:{line:513,column:8},end:{line:513,column:48}},178:{start:{line:521,column:23},end:{line:521,column:60}},179:{start:{line:522,column:21},end:{line:522,column:41}},180:{start:{line:523,column:27},end:{line:523,column:29}},181:{start:{line:524,column:16},end:{line:524,column:17}},182:{start:{line:525,column:8},end:{line:530,column:9}},183:{start:{line:526,column:12},end:{line:526,column:32}},184:{start:{line:527,column:12},end:{line:529,column:13}},185:{start:{line:528,column:16},end:{line:528,column:59}},186:{start:{line:531,column:25},end:{line:531,column:27}},187:{start:{line:532,column:8},end:{line:534,column:9}},188:{start:{line:533,column:12},end:{line:533,column:60}},189:{start:{line:535,column:21},end:{line:535,column:85}},190:{start:{line:535,column:68},end:{line:535,column:80}},191:{start:{line:536,column:8},end:{line:538,column:9}},192:{start:{line:537,column:12},end:{line:537,column:48}},193:{start:{line:551,column:20},end:{line:551,column:81}},194:{start:{line:552,column:23},end:{line:552,column:76}},195:{start:{line:553,column:23},end:{line:553,column:76}},196:{start:{line:554,column:8},end:{line:556,column:30}},197:{start:{line:568,column:23},end:{line:568,column:25}},198:{start:{line:569,column:8},end:{line:576,column:9}},199:{start:{line:570,column:12},end:{line:572,column:13}},200:{start:{line:571,column:16},end:{line:571,column:25}},201:{start:{line:574,column:26},end:{line:574,column:68}},202:{start:{line:575,column:12},end:{line:575,column:66}},203:{start:{line:578,column:18},end:{line:578,column:19}},204:{start:{line:580,column:8},end:{line:582,column:9}},205:{start:{line:581,column:12},end:{line:581,column:53}},206:{start:{line:584,column:23},end:{line:584,column:51}},207:{start:{line:585,column:21},end:{line:585,column:24}},208:{start:{line:586,column:8},end:{line:590,column:9}},209:{start:{line:587,column:12},end:{line:587,column:48}},210:{start:{line:588,column:26},end:{line:588,column:49}},211:{start:{line:589,column:12},end:{line:589,column:49}},212:{start:{line:592,column:8},end:{line:592,column:24}},213:{start:{line:595,column:0},end:{line:595,column:26}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:4},end:{line:8,column:5}},loc:{start:{line:8,column:23},end:{line:11,column:5}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:19,column:4},end:{line:19,column:5}},loc:{start:{line:19,column:68},end:{line:22,column:5}},line:19},2:{name:"(anonymous_2)",decl:{start:{line:29,column:4},end:{line:29,column:5}},loc:{start:{line:29,column:44},end:{line:31,column:5}},line:29},3:{name:"(anonymous_3)",decl:{start:{line:38,column:4},end:{line:38,column:5}},loc:{start:{line:38,column:44},end:{line:40,column:5}},line:38},4:{name:"(anonymous_4)",decl:{start:{line:45,column:4},end:{line:45,column:5}},loc:{start:{line:45,column:29},end:{line:74,column:5}},line:45},5:{name:"(anonymous_5)",decl:{start:{line:81,column:4},end:{line:81,column:5}},loc:{start:{line:81,column:31},end:{line:124,column:5}},line:81},6:{name:"(anonymous_6)",decl:{start:{line:135,column:4},end:{line:135,column:5}},loc:{start:{line:135,column:21},end:{line:137,column:5}},line:135},7:{name:"(anonymous_7)",decl:{start:{line:147,column:4},end:{line:147,column:5}},loc:{start:{line:147,column:30},end:{line:182,column:5}},line:147},8:{name:"(anonymous_8)",decl:{start:{line:166,column:71},end:{line:166,column:72}},loc:{start:{line:166,column:79},end:{line:166,column:98}},line:166},9:{name:"(anonymous_9)",decl:{start:{line:191,column:4},end:{line:191,column:5}},loc:{start:{line:191,column:58},end:{line:225,column:5}},line:191},10:{name:"(anonymous_10)",decl:{start:{line:234,column:4},end:{line:234,column:5}},loc:{start:{line:234,column:58},end:{line:237,column:5}},line:234},11:{name:"(anonymous_11)",decl:{start:{line:247,column:4},end:{line:247,column:5}},loc:{start:{line:247,column:57},end:{line:261,column:5}},line:247},12:{name:"(anonymous_12)",decl:{start:{line:272,column:4},end:{line:272,column:5}},loc:{start:{line:272,column:63},end:{line:324,column:5}},line:272},13:{name:"(anonymous_13)",decl:{start:{line:334,column:4},end:{line:334,column:5}},loc:{start:{line:334,column:71},end:{line:337,column:5}},line:334},14:{name:"(anonymous_14)",decl:{start:{line:345,column:4},end:{line:345,column:5}},loc:{start:{line:345,column:52},end:{line:352,column:5}},line:345},15:{name:"(anonymous_15)",decl:{start:{line:361,column:4},end:{line:361,column:5}},loc:{start:{line:361,column:65},end:{line:449,column:5}},line:361},16:{name:"(anonymous_16)",decl:{start:{line:411,column:54},end:{line:411,column:55}},loc:{start:{line:411,column:64},end:{line:411,column:79}},line:411},17:{name:"(anonymous_17)",decl:{start:{line:445,column:55},end:{line:445,column:56}},loc:{start:{line:445,column:64},end:{line:445,column:102}},line:445},18:{name:"(anonymous_18)",decl:{start:{line:458,column:4},end:{line:458,column:5}},loc:{start:{line:458,column:51},end:{line:514,column:5}},line:458},19:{name:"(anonymous_19)",decl:{start:{line:464,column:38},end:{line:464,column:39}},loc:{start:{line:464,column:56},end:{line:467,column:9}},line:464},20:{name:"(anonymous_20)",decl:{start:{line:520,column:4},end:{line:520,column:5}},loc:{start:{line:520,column:34},end:{line:539,column:5}},line:520},21:{name:"(anonymous_21)",decl:{start:{line:535,column:58},end:{line:535,column:59}},loc:{start:{line:535,column:68},end:{line:535,column:80}},line:535},22:{name:"(anonymous_22)",decl:{start:{line:550,column:4},end:{line:550,column:5}},loc:{start:{line:550,column:50},end:{line:557,column:5}},line:550},23:{name:"(anonymous_23)",decl:{start:{line:567,column:4},end:{line:567,column:5}},loc:{start:{line:567,column:47},end:{line:593,column:5}},line:567}},branchMap:{0:{loc:{start:{line:19,column:25},end:{line:19,column:45}},type:"default-arg",locations:[{start:{line:19,column:40},end:{line:19,column:45}}],line:19},1:{loc:{start:{line:19,column:47},end:{line:19,column:66}},type:"default-arg",locations:[{start:{line:19,column:61},end:{line:19,column:66}}],line:19},2:{loc:{start:{line:21,column:15},end:{line:21,column:91}},type:"cond-expr",locations:[{start:{line:21,column:70},end:{line:21,column:84}},{start:{line:21,column:87},end:{line:21,column:91}}],line:21},3:{loc:{start:{line:21,column:15},end:{line:21,column:67}},type:"binary-expr",locations:[{start:{line:21,column:15},end:{line:21,column:24}},{start:{line:21,column:29},end:{line:21,column:50}},{start:{line:21,column:54},end:{line:21,column:66}}],line:21},4:{loc:{start:{line:29,column:23},end:{line:29,column:42}},type:"default-arg",locations:[{start:{line:29,column:37},end:{line:29,column:42}}],line:29},5:{loc:{start:{line:30,column:15},end:{line:30,column:66}},type:"binary-expr",locations:[{start:{line:30,column:15},end:{line:30,column:58}},{start:{line:30,column:62},end:{line:30,column:66}}],line:30},6:{loc:{start:{line:38,column:30},end:{line:38,column:42}},type:"default-arg",locations:[{start:{line:38,column:38},end:{line:38,column:42}}],line:38},7:{loc:{start:{line:39,column:15},end:{line:39,column:67}},type:"binary-expr",locations:[{start:{line:39,column:15},end:{line:39,column:59}},{start:{line:39,column:63},end:{line:39,column:67}}],line:39},8:{loc:{start:{line:52,column:12},end:{line:54,column:13}},type:"if",locations:[{start:{line:52,column:12},end:{line:54,column:13}},{start:{line:52,column:12},end:{line:54,column:13}}],line:52},9:{loc:{start:{line:62,column:12},end:{line:64,column:13}},type:"if",locations:[{start:{line:62,column:12},end:{line:64,column:13}},{start:{line:62,column:12},end:{line:64,column:13}}],line:62},10:{loc:{start:{line:69,column:8},end:{line:71,column:9}},type:"if",locations:[{start:{line:69,column:8},end:{line:71,column:9}},{start:{line:69,column:8},end:{line:71,column:9}}],line:69},11:{loc:{start:{line:69,column:12},end:{line:69,column:102}},type:"binary-expr",locations:[{start:{line:69,column:12},end:{line:69,column:33}},{start:{line:69,column:37},end:{line:69,column:102}}],line:69},12:{loc:{start:{line:84,column:8},end:{line:91,column:9}},type:"if",locations:[{start:{line:84,column:8},end:{line:91,column:9}},{start:{line:84,column:8},end:{line:91,column:9}}],line:84},13:{loc:{start:{line:98,column:8},end:{line:115,column:9}},type:"if",locations:[{start:{line:98,column:8},end:{line:115,column:9}},{start:{line:98,column:8},end:{line:115,column:9}}],line:98},14:{loc:{start:{line:102,column:28},end:{line:102,column:87}},type:"binary-expr",locations:[{start:{line:102,column:28},end:{line:102,column:62}},{start:{line:102,column:66},end:{line:102,column:87}}],line:102},15:{loc:{start:{line:104,column:16},end:{line:107,column:17}},type:"if",locations:[{start:{line:104,column:16},end:{line:107,column:17}},{start:{line:104,column:16},end:{line:107,column:17}}],line:104},16:{loc:{start:{line:110,column:12},end:{line:114,column:13}},type:"if",locations:[{start:{line:110,column:12},end:{line:114,column:13}},{start:{line:110,column:12},end:{line:114,column:13}}],line:110},17:{loc:{start:{line:110,column:16},end:{line:110,column:73}},type:"binary-expr",locations:[{start:{line:110,column:16},end:{line:110,column:36}},{start:{line:110,column:40},end:{line:110,column:73}}],line:110},18:{loc:{start:{line:117,column:8},end:{line:120,column:9}},type:"if",locations:[{start:{line:117,column:8},end:{line:120,column:9}},{start:{line:117,column:8},end:{line:120,column:9}}],line:117},19:{loc:{start:{line:117,column:12},end:{line:117,column:53}},type:"binary-expr",locations:[{start:{line:117,column:12},end:{line:117,column:21}},{start:{line:117,column:25},end:{line:117,column:53}}],line:117},20:{loc:{start:{line:169,column:12},end:{line:174,column:13}},type:"if",locations:[{start:{line:169,column:12},end:{line:174,column:13}},{start:{line:169,column:12},end:{line:174,column:13}}],line:169},21:{loc:{start:{line:191,column:42},end:{line:191,column:56}},type:"default-arg",locations:[{start:{line:191,column:55},end:{line:191,column:56}}],line:191},22:{loc:{start:{line:198,column:8},end:{line:200,column:9}},type:"if",locations:[{start:{line:198,column:8},end:{line:200,column:9}},{start:{line:198,column:8},end:{line:200,column:9}}],line:198},23:{loc:{start:{line:206,column:15},end:{line:206,column:95}},type:"binary-expr",locations:[{start:{line:206,column:15},end:{line:206,column:57}},{start:{line:206,column:61},end:{line:206,column:95}}],line:206},24:{loc:{start:{line:207,column:30},end:{line:207,column:98}},type:"cond-expr",locations:[{start:{line:207,column:38},end:{line:207,column:61}},{start:{line:207,column:64},end:{line:207,column:98}}],line:207},25:{loc:{start:{line:209,column:12},end:{line:214,column:13}},type:"if",locations:[{start:{line:209,column:12},end:{line:214,column:13}},{start:{line:209,column:12},end:{line:214,column:13}}],line:209},26:{loc:{start:{line:220,column:8},end:{line:222,column:9}},type:"if",locations:[{start:{line:220,column:8},end:{line:222,column:9}},{start:{line:220,column:8},end:{line:222,column:9}}],line:220},27:{loc:{start:{line:220,column:12},end:{line:220,column:95}},type:"binary-expr",locations:[{start:{line:220,column:13},end:{line:220,column:31}},{start:{line:220,column:35},end:{line:220,column:74}},{start:{line:220,column:79},end:{line:220,column:95}}],line:220},28:{loc:{start:{line:235,column:15},end:{line:236,column:75}},type:"binary-expr",locations:[{start:{line:235,column:15},end:{line:235,column:70}},{start:{line:236,column:15},end:{line:236,column:75}}],line:235},29:{loc:{start:{line:249,column:8},end:{line:251,column:9}},type:"if",locations:[{start:{line:249,column:8},end:{line:251,column:9}},{start:{line:249,column:8},end:{line:251,column:9}}],line:249},30:{loc:{start:{line:255,column:12},end:{line:257,column:13}},type:"if",locations:[{start:{line:255,column:12},end:{line:257,column:13}},{start:{line:255,column:12},end:{line:257,column:13}}],line:255},31:{loc:{start:{line:273,column:8},end:{line:275,column:9}},type:"if",locations:[{start:{line:273,column:8},end:{line:275,column:9}},{start:{line:273,column:8},end:{line:275,column:9}}],line:273},32:{loc:{start:{line:306,column:20},end:{line:309,column:21}},type:"if",locations:[{start:{line:306,column:20},end:{line:309,column:21}},{start:{line:306,column:20},end:{line:309,column:21}}],line:306},33:{loc:{start:{line:345,column:34},end:{line:345,column:50}},type:"default-arg",locations:[{start:{line:345,column:41},end:{line:345,column:50}}],line:345},34:{loc:{start:{line:347,column:15},end:{line:347,column:46}},type:"binary-expr",locations:[{start:{line:347,column:15},end:{line:347,column:19}},{start:{line:347,column:23},end:{line:347,column:46}}],line:347},35:{loc:{start:{line:361,column:43},end:{line:361,column:63}},type:"default-arg",locations:[{start:{line:361,column:59},end:{line:361,column:63}}],line:361},36:{loc:{start:{line:368,column:8},end:{line:370,column:9}},type:"if",locations:[{start:{line:368,column:8},end:{line:370,column:9}},{start:{line:368,column:8},end:{line:370,column:9}}],line:368},37:{loc:{start:{line:389,column:12},end:{line:393,column:13}},type:"if",locations:[{start:{line:389,column:12},end:{line:393,column:13}},{start:{line:389,column:12},end:{line:393,column:13}}],line:389},38:{loc:{start:{line:397,column:8},end:{line:399,column:9}},type:"if",locations:[{start:{line:397,column:8},end:{line:399,column:9}},{start:{line:397,column:8},end:{line:399,column:9}}],line:397},39:{loc:{start:{line:406,column:12},end:{line:408,column:13}},type:"if",locations:[{start:{line:406,column:12},end:{line:408,column:13}},{start:{line:406,column:12},end:{line:408,column:13}}],line:406},40:{loc:{start:{line:412,column:12},end:{line:419,column:13}},type:"if",locations:[{start:{line:412,column:12},end:{line:419,column:13}},{start:{line:412,column:12},end:{line:419,column:13}}],line:412},41:{loc:{start:{line:415,column:16},end:{line:417,column:17}},type:"if",locations:[{start:{line:415,column:16},end:{line:417,column:17}},{start:{line:415,column:16},end:{line:417,column:17}}],line:415},42:{loc:{start:{line:429,column:20},end:{line:431,column:21}},type:"if",locations:[{start:{line:429,column:20},end:{line:431,column:21}},{start:{line:429,column:20},end:{line:431,column:21}}],line:429},43:{loc:{start:{line:429,column:24},end:{line:429,column:73}},type:"binary-expr",locations:[{start:{line:429,column:24},end:{line:429,column:44}},{start:{line:429,column:48},end:{line:429,column:73}}],line:429},44:{loc:{start:{line:437,column:16},end:{line:440,column:17}},type:"if",locations:[{start:{line:437,column:16},end:{line:440,column:17}},{start:{line:437,column:16},end:{line:440,column:17}}],line:437},45:{loc:{start:{line:466,column:19},end:{line:466,column:77}},type:"cond-expr",locations:[{start:{line:466,column:31},end:{line:466,column:45}},{start:{line:466,column:48},end:{line:466,column:77}}],line:466},46:{loc:{start:{line:481,column:12},end:{line:486,column:13}},type:"if",locations:[{start:{line:481,column:12},end:{line:486,column:13}},{start:{line:481,column:12},end:{line:486,column:13}}],line:481},47:{loc:{start:{line:488,column:12},end:{line:507,column:13}},type:"if",locations:[{start:{line:488,column:12},end:{line:507,column:13}},{start:{line:488,column:12},end:{line:507,column:13}}],line:488},48:{loc:{start:{line:490,column:16},end:{line:492,column:17}},type:"if",locations:[{start:{line:490,column:16},end:{line:492,column:17}},{start:{line:490,column:16},end:{line:492,column:17}}],line:490},49:{loc:{start:{line:497,column:19},end:{line:507,column:13}},type:"if",locations:[{start:{line:497,column:19},end:{line:507,column:13}},{start:{line:497,column:19},end:{line:507,column:13}}],line:497},50:{loc:{start:{line:522,column:21},end:{line:522,column:41}},type:"binary-expr",locations:[{start:{line:522,column:21},end:{line:522,column:36}},{start:{line:522,column:40},end:{line:522,column:41}}],line:522},51:{loc:{start:{line:554,column:15},end:{line:556,column:29}},type:"cond-expr",locations:[{start:{line:555,column:14},end:{line:555,column:80}},{start:{line:556,column:14},end:{line:556,column:29}}],line:554},52:{loc:{start:{line:570,column:12},end:{line:572,column:13}},type:"if",locations:[{start:{line:570,column:12},end:{line:572,column:13}},{start:{line:570,column:12},end:{line:572,column:13}}],line:570},53:{loc:{start:{line:575,column:28},end:{line:575,column:65}},type:"cond-expr",locations:[{start:{line:575,column:44},end:{line:575,column:61}},{start:{line:575,column:64},end:{line:575,column:65}}],line:575},54:{loc:{start:{line:580,column:40},end:{line:580,column:61}},type:"binary-expr",locations:[{start:{line:580,column:40},end:{line:580,column:47}},{start:{line:580,column:51},end:{line:580,column:61}}],line:580},55:{loc:{start:{line:581,column:19},end:{line:581,column:52}},type:"cond-expr",locations:[{start:{line:581,column:35},end:{line:581,column:48}},{start:{line:581,column:51},end:{line:581,column:52}}],line:581},56:{loc:{start:{line:587,column:22},end:{line:587,column:47}},type:"cond-expr",locations:[{start:{line:587,column:34},end:{line:587,column:43}},{start:{line:587,column:46},end:{line:587,column:47}}],line:587}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},b:{0:[0],1:[0],2:[0,0],3:[0,0,0],4:[0],5:[0,0],6:[0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0],34:[0,0],35:[0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0],46:[0,0],47:[0,0],48:[0,0],49:[0,0],50:[0,0],51:[0,0],52:[0,0],53:[0,0],54:[0,0],55:[0,0],56:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class BaseChain extends IBlockchain{constructor(n){Nn.f[0]++;Nn.s[0]++;super();Nn.s[1]++;this._store=n}async getBlock(n,e=(Nn.b[0][0]++,!1),l=(Nn.b[1][0]++,!1)){Nn.f[1]++;const t=(Nn.s[2]++,await this._store.getChainData(n,l));Nn.s[3]++;return(Nn.b[3][0]++,t)&&((Nn.b[3][1]++,t.onMainChain)||(Nn.b[3][2]++,e))?(Nn.b[2][0]++,t.head):(Nn.b[2][1]++,null)}getBlockAt(n,e=(Nn.b[4][0]++,!1)){Nn.f[2]++;Nn.s[4]++;return(Nn.b[5][0]++,this._store.getBlockAt(n,e))||(Nn.b[5][1]++,null)}getNearestBlockAt(n,e=(Nn.b[6][0]++,!0)){Nn.f[3]++;Nn.s[5]++;return(Nn.b[7][0]++,this._store.getNearestBlockAt(n,e))||(Nn.b[7][1]++,null)}async getBlockLocators(){Nn.f[4]++;const n=(Nn.s[6]++,[this.headHash]);let e=(Nn.s[7]++,this.head);Nn.s[8]++;for(let t=Math.min(10,this.height)-1;t>0;t--){Nn.s[9]++;if(!e){Nn.b[8][0]++;Nn.s[10]++;break}Nn.b[8][1]++;Nn.s[11]++;n.push(e.prevHash);Nn.s[12]++;e=await this.getBlock(e.prevHash)}let l=(Nn.s[13]++,2);Nn.s[14]++;for(let t=this.height-10-l;t>0;t-=l){Nn.s[15]++;e=await this.getBlockAt(t);Nn.s[16]++;if(e){Nn.b[9][0]++;Nn.s[17]++;n.push(await e.hash())}else Nn.b[9][1]++;Nn.s[18]++;l*=2}Nn.s[19]++;if((Nn.b[11][0]++,0!==n.length)&&(Nn.b[11][1]++,n[n.length-1].equals(GenesisConfig.GENESIS_HASH)))Nn.b[10][1]++;else{Nn.b[10][0]++;Nn.s[20]++;n.push(GenesisConfig.GENESIS_HASH)}Nn.s[21]++;return n}async getNextTarget(n){Nn.f[5]++;let e;Nn.s[22]++;if(n){Nn.b[12][0]++;const l=(Nn.s[23]++,n.hash());Nn.s[24]++;e=await this._store.getChainData(l);Nn.s[25]++;Assert.that(!!e)}else{Nn.b[12][1]++;Nn.s[26]++;n=this.head;Nn.s[27]++;e=this._mainChain}const l=(Nn.s[28]++,Math.max(n.height-Policy.DIFFICULTY_BLOCK_WINDOW,1));let t;Nn.s[29]++;if(e.onMainChain){Nn.b[13][0]++;Nn.s[30]++;t=await this._store.getChainDataAt(l)}else{Nn.b[13][1]++;let n=(Nn.s[31]++,e);Nn.s[32]++;for(let e=0;(Nn.b[14][0]++,e<Policy.DIFFICULTY_BLOCK_WINDOW)&&(Nn.b[14][1]++,!n.onMainChain);e++){Nn.s[33]++;n=await this._store.getChainData(n.head.prevHash);Nn.s[34]++;if(!n){Nn.b[15][0]++;Nn.s[35]++;return-1}Nn.b[15][1]++}Nn.s[36]++;if((Nn.b[17][0]++,n.onMainChain)&&(Nn.b[17][1]++,n.head.height>l)){Nn.b[16][0]++;Nn.s[37]++;t=await this._store.getChainDataAt(l)}else{Nn.b[16][1]++;Nn.s[38]++;t=n}}Nn.s[39]++;if((Nn.b[19][0]++,!t)||(Nn.b[19][1]++,t.totalDifficulty<1)){Nn.b[18][0]++;Nn.s[40]++;return-1}Nn.b[18][1]++;const o=(Nn.s[41]++,e.totalDifficulty-t.totalDifficulty);Nn.s[42]++;return BlockUtils.getNextTarget(e.head.header,t.head.header,o)}_getChainProof(){Nn.f[6]++;Nn.s[43]++;return this._prove(Policy.M,Policy.K,Policy.DELTA)}async _prove(n,e,l){Nn.f[7]++;Nn.s[44]++;Assert.that(n>=1,"m must be >= 1");Nn.s[45]++;Assert.that(l>0,"delta must be > 0");let t=(Nn.s[46]++,new BlockChain([])),o=(Nn.s[47]++,1);const i=(Nn.s[48]++,await this._store.getChainDataAt(Math.max(this.height-e,1))),c=(Nn.s[49]++,i.superBlockCounts.getCandidateDepth(n));Nn.s[50]++;for(let u=c;u>=0;u--){const e=(Nn.s[51]++,await this._getSuperChain(u,i,o));Nn.s[52]++;t=BlockChain.merge(t,new BlockChain(e.map(n=>{Nn.f[8]++;Nn.s[53]++;return n.head.toLight()})));Nn.s[54]++;if(BaseChain._isGoodSuperChain(e,u,n,l)){Nn.b[20][0]++;Nn.s[55]++;Assert.that(e.length>=n,`Good superchain expected to be at least ${n} long`);Nn.s[56]++;Log.v(BaseChain,`Found good superchain at depth ${u} with length ${e.length} (#${o} - #${i.head.height})`);Nn.s[57]++;o=e[e.length-n].head.height}else Nn.b[20][1]++}const s=(Nn.s[58]++,await this._getHeaderChain(this.height-i.head.height));Nn.s[59]++;return new ChainProof(t,s)}async _getSuperChain(n,e,l=(Nn.b[21][0]++,1)){Nn.f[9]++;Nn.s[60]++;Assert.that(l>=1,"tailHeight must be >= 1");const t=(Nn.s[61]++,[]),o=(Nn.s[62]++,BlockUtils.getHashDepth(await e.head.pow()));Nn.s[63]++;if(o>=n){Nn.b[22][0]++;Nn.s[64]++;t.push(e)}else Nn.b[22][1]++;let i=(Nn.s[65]++,e),c=(Nn.s[66]++,Math.max(n-BlockUtils.getTargetDepth(i.head.target),-1));Nn.s[67]++;for(;(Nn.b[23][0]++,c<i.head.interlink.hashes.length)&&(Nn.b[23][1]++,i.head.height>l);){const e=(Nn.s[68]++,c<0?(Nn.b[24][0]++,i.head.prevHash):(Nn.b[24][1]++,i.head.interlink.hashes[c]));Nn.s[69]++;i=await this._store.getChainData(e);Nn.s[70]++;if(!i){Nn.b[25][0]++;Nn.s[71]++;Log.w(BaseChain,`Failed to find block ${e} while constructing SuperChain at depth ${n} - returning truncated chain`);Nn.s[72]++;break}Nn.b[25][1]++;Nn.s[73]++;t.push(i);Nn.s[74]++;c=Math.max(n-BlockUtils.getTargetDepth(i.head.target),-1)}Nn.s[75]++;if(((Nn.b[27][0]++,0===t.length)||(Nn.b[27][1]++,t[t.length-1].head.height>1))&&(Nn.b[27][2]++,1===l)){Nn.b[26][0]++;Nn.s[76]++;t.push(await ChainData.initial(GenesisConfig.GENESIS_BLOCK))}else Nn.b[26][1]++;Nn.s[77]++;return t.reverse()}static _isGoodSuperChain(n,e,l,t){Nn.f[10]++;Nn.s[78]++;return(Nn.b[28][0]++,BaseChain._hasSuperQuality(n,e,l,t))&&(Nn.b[28][1]++,BaseChain._hasMultiLevelQuality(n,e,l,t))}static _hasSuperQuality(n,e,l,t){Nn.f[11]++;Nn.s[79]++;Assert.that(l>=1,"m must be >= 1");Nn.s[80]++;if(n.length<l){Nn.b[29][0]++;Nn.s[81]++;return!1}Nn.b[29][1]++;Nn.s[82]++;for(let o=l;o<=n.length;o++){const l=(Nn.s[83]++,n[n.length-1].head.height-n[n.length-o].head.height+1);Nn.s[84]++;if(!BaseChain._isLocallyGood(o,l,e,t)){Nn.b[30][0]++;Nn.s[85]++;return!1}Nn.b[30][1]++}Nn.s[86]++;return!0}static _hasMultiLevelQuality(n,e,l,t){Nn.f[12]++;Nn.s[87]++;if(e<=0){Nn.b[31][0]++;Nn.s[88]++;return!0}Nn.b[31][1]++;Nn.s[89]++;for(let o=0;o<n.length-l;o++){const i=(Nn.s[90]++,n[o]),c=(Nn.s[91]++,n[o+l]);Nn.s[92]++;for(let n=e;n>=1;n--){const s=(Nn.s[93]++,c.superBlockCounts.get(n)-i.superBlockCounts.get(n));Nn.s[94]++;for(let u=n-1;u>=0;u--){const m=(Nn.s[95]++,c.superBlockCounts.get(u)-i.superBlockCounts.get(u));Nn.s[96]++;if(!BaseChain._isLocallyGood(s,m,n-u,t)){Nn.b[32][0]++;Nn.s[97]++;Log.d(BaseChain,`Chain badness detected at depth ${e}[${o}:${o+l}], failing at ${n}/${u}`);Nn.s[98]++;return!1}Nn.b[32][1]++}}}Nn.s[99]++;return!0}static _isLocallyGood(n,e,l,t){Nn.f[13]++;Nn.s[100]++;return n>(1-t)*Math.pow(2,-l)*e}async _getHeaderChain(n,e=(Nn.b[33][0]++,this.head)){Nn.f[14]++;const l=(Nn.s[101]++,[]);Nn.s[102]++;for(;(Nn.b[34][0]++,e)&&(Nn.b[34][1]++,l.length<n);){Nn.s[103]++;l.push(e.header);Nn.s[104]++;e=await this.getBlock(e.prevHash)}Nn.s[105]++;return new HeaderChain(l.reverse())}async _extendChainProof(n,e,l=(Nn.b[35][0]++,!0)){Nn.f[15]++;const t=(Nn.s[106]++,n.suffix.headers.slice());Nn.s[107]++;t.push(e);const o=(Nn.s[108]++,n.prefix.blocks.slice());Nn.s[109]++;if(t.length<=Policy.K){Nn.b[36][0]++;Nn.s[110]++;return new ChainProof(new BlockChain(o),new HeaderChain(t))}Nn.b[36][1]++;const i=(Nn.s[111]++,t.shift()),c=(Nn.s[112]++,await n.prefix.head.getNextInterlink(i.target,i.version)),s=(Nn.s[113]++,new Block(i,c));Nn.s[114]++;o.push(s);const u=(Nn.s[115]++,(await n.prefix.getSuperChains()).slice()),m=(Nn.s[116]++,BlockUtils.getHashDepth(await s.pow()));Nn.s[117]++;for(let d=m;d>=0;d--){Nn.s[118]++;if(u[d]){Nn.b[37][1]++;Nn.s[120]++;u[d]=new BlockChain([...u[d].blocks,s])}else{Nn.b[37][0]++;Nn.s[119]++;u[d]=new BlockChain([s])}}Nn.s[121]++;if(m-BlockUtils.getTargetDepth(s.target)<=0){Nn.b[38][0]++;Nn.s[122]++;return new ChainProof(new BlockChain(o,u),new HeaderChain(t))}Nn.b[38][1]++;const r=(Nn.s[123]++,new Set);Nn.s[124]++;for(let d=m;d>=0;d--){const n=(Nn.s[125]++,u[d]);Nn.s[126]++;if(n.length<Policy.M){Nn.b[39][0]++;Nn.s[127]++;continue}Nn.b[39][1]++;const e=(Nn.s[128]++,n.blocks.map(n=>{Nn.f[16]++;Nn.s[129]++;return{head:n}}));Nn.s[130]++;if(!BaseChain._hasSuperQuality(e,d,Policy.M,Policy.DELTA)){Nn.b[40][0]++;Nn.s[131]++;Log.w(BaseChain,`Chain quality badness detected at depth ${d}`);Nn.s[132]++;if(l){Nn.b[41][0]++;Nn.s[133]++;return null}Nn.b[41][1]++;Nn.s[134]++;continue}Nn.b[40][1]++;const t=(Nn.s[135]++,n.blocks[n.length-Policy.M]);Nn.s[136]++;for(let l=d-1;l>=0;l--){let n=(Nn.s[137]++,0),e=(Nn.s[138]++,u[l].blocks[n]);Nn.s[139]++;for(;e.height<=t.height;){const t=(Nn.s[140]++,BlockUtils.getHashDepth(await e.pow()));Nn.s[141]++;if((Nn.b[43][0]++,t===l)&&(Nn.b[43][1]++,e.height>1)){Nn.b[42][0]++;Nn.s[142]++;r.add(e.height)}else Nn.b[42][1]++;Nn.s[143]++;n++;Nn.s[144]++;e=u[l].blocks[n]}Nn.s[145]++;if(n>0){Nn.b[44][0]++;Nn.s[146]++;u[l]=new BlockChain(u[l].blocks.slice(n))}else Nn.b[44][1]++}}const a=(Nn.s[147]++,new BlockChain(o.filter(n=>{Nn.f[17]++;Nn.s[148]++;return!r.has(n.height)}),u));Nn.s[149]++;return new ChainProof(a,new HeaderChain(t))}async _getBlockProof(n,e){Nn.f[18]++;Nn.s[150]++;const l=(n,e)=>{Nn.f[19]++;const l=(Nn.s[151]++,Math.min(e-BlockUtils.getTargetDepth(n.target),n.interlink.length-1));Nn.s[152]++;return l<0?(Nn.b[45][0]++,n.prevHash):(Nn.b[45][1]++,n.interlink.hashes[l])},t=(Nn.s[153]++,[]),o=(Nn.s[154]++,n.hash()),i=(Nn.s[155]++,BlockUtils.hashToTarget(await n.pow())),c=(Nn.s[156]++,BlockUtils.getTargetDepth(i));let s=(Nn.s[157]++,BlockUtils.getTargetDepth(e.target)+e.interlink.length-1),u=(Nn.s[158]++,e),m=(Nn.s[159]++,l(u,s));Nn.s[160]++;for(;!o.equals(m);){const e=(Nn.s[161]++,await this.getBlock(m));Nn.s[162]++;if(!e){Nn.b[46][0]++;Nn.s[163]++;Log.w(BaseChain,`Failed to find block ${m} while constructing inclusion proof`);Nn.s[164]++;return null}Nn.b[46][1]++;Nn.s[165]++;if(e.height<n.height){Nn.b[47][0]++;Nn.s[166]++;if(s<=c){Nn.b[48][0]++;Nn.s[167]++;return null}Nn.b[48][1]++;Nn.s[168]++;s--;Nn.s[169]++;m=l(u,s)}else{Nn.b[47][1]++;Nn.s[170]++;if(!(e.height>n.height)){Nn.b[49][1]++;Nn.s[174]++;Log.w(BaseChain,`Failed to prove block ${o} - different block ${m} at its height ${u.height}`);Nn.s[175]++;return null}Nn.b[49][0]++;Nn.s[171]++;t.push(e.toLight());Nn.s[172]++;u=e;Nn.s[173]++;m=l(u,s)}}Nn.s[176]++;t.push(n.toLight());Nn.s[177]++;return new BlockChain(t.reverse())}static async manyPow(n){Nn.f[20]++;const e=(Nn.s[178]++,await CryptoWorker.getInstanceAsync()),l=(Nn.s[179]++,(Nn.b[50][0]++,e.poolSize)||(Nn.b[50][1]++,1)),t=(Nn.s[180]++,[]);let o=(Nn.s[181]++,0);Nn.s[182]++;for(let s=0;s<l;++s){Nn.s[183]++;t.push([]);Nn.s[184]++;for(;o<(s+1)/l*n.length;++o){Nn.s[185]++;t[s].push(n[o].serialize())}}const i=(Nn.s[186]++,[]);Nn.s[187]++;for(const s of t){Nn.s[188]++;i.push(e.computeArgon2dBatch(s))}const c=(Nn.s[189]++,(await Promise.all(i)).reduce((n,e)=>{Nn.f[21]++;Nn.s[190]++;return[...n,...e]},[]));Nn.s[191]++;for(let s=0;s<n.length;++s){Nn.s[192]++;n[s]._pow=new Hash(c[s])}}static async isBetterProof(n,e,l){Nn.f[22]++;const t=(Nn.s[193]++,BlockChain.lowestCommonAncestor(n.prefix,e.prefix)),o=(Nn.s[194]++,await NanoChain._getProofScore(n.prefix,t,l)),i=(Nn.s[195]++,await NanoChain._getProofScore(e.prefix,t,l));Nn.s[196]++;return o===i?(Nn.b[51][0]++,n.suffix.totalDifficulty()>=e.suffix.totalDifficulty()):(Nn.b[51][1]++,o>i)}static async _getProofScore(n,e,l){Nn.f[23]++;const t=(Nn.s[197]++,[]);Nn.s[198]++;for(const u of n.blocks){Nn.s[199]++;if(u.height<e.height){Nn.b[52][0]++;Nn.s[200]++;continue}Nn.b[52][1]++;const n=(Nn.s[201]++,BlockUtils.getHashDepth(await u.pow()));Nn.s[202]++;t[n]=t[n]?(Nn.b[53][0]++,t[n]+1):(Nn.b[53][1]++,1)}let o,i=(Nn.s[203]++,0);Nn.s[204]++;for(o=t.length-1;(Nn.b[54][0]++,i<l)&&(Nn.b[54][1]++,o>=0);o--){Nn.s[205]++;i+=t[o]?(Nn.b[55][0]++,t[o]):(Nn.b[55][1]++,0)}let c=(Nn.s[206]++,Math.pow(2,o+1)*i),s=(Nn.s[207]++,i);Nn.s[208]++;for(let u=o;u>=0;u--){Nn.s[209]++;s+=t[u]?(Nn.b[56][0]++,t[u]):(Nn.b[56][1]++,0);const n=(Nn.s[210]++,Math.pow(2,u)*s);Nn.s[211]++;c=Math.max(c,n)}Nn.s[212]++;return c}}Nn.s[213]++;Class.register(BaseChain);var Bn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/blockchain/BlockChain.js",e="c867cca7aeb1a295f1ee92d74a32be345ba81d6f",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/blockchain/BlockChain.js",statementMap:{0:{start:{line:8,column:23},end:{line:8,column:25}},1:{start:{line:9,column:17},end:{line:9,column:18}},2:{start:{line:9,column:25},end:{line:9,column:26}},3:{start:{line:10,column:8},end:{line:26,column:9}},4:{start:{line:11,column:27},end:{line:11,column:44}},5:{start:{line:12,column:27},end:{line:12,column:44}},6:{start:{line:14,column:12},end:{line:25,column:13}},7:{start:{line:15,column:16},end:{line:15,column:117}},8:{start:{line:16,column:16},end:{line:16,column:36}},9:{start:{line:17,column:16},end:{line:17,column:21}},10:{start:{line:18,column:16},end:{line:18,column:21}},11:{start:{line:19,column:19},end:{line:25,column:13}},12:{start:{line:20,column:16},end:{line:20,column:36}},13:{start:{line:21,column:16},end:{line:21,column:21}},14:{start:{line:23,column:16},end:{line:23,column:36}},15:{start:{line:24,column:16},end:{line:24,column:21}},16:{start:{line:28,column:8},end:{line:30,column:9}},17:{start:{line:29,column:12},end:{line:29,column:43}},18:{start:{line:31,column:8},end:{line:33,column:9}},19:{start:{line:32,column:12},end:{line:32,column:43}},20:{start:{line:35,column:8},end:{line:35,column:38}},21:{start:{line:44,column:17},end:{line:44,column:34}},22:{start:{line:45,column:17},end:{line:45,column:34}},23:{start:{line:46,column:8},end:{line:57,column:9}},24:{start:{line:47,column:27},end:{line:47,column:44}},25:{start:{line:48,column:27},end:{line:48,column:44}},26:{start:{line:50,column:12},end:{line:56,column:13}},27:{start:{line:51,column:16},end:{line:51,column:30}},28:{start:{line:52,column:19},end:{line:56,column:13}},29:{start:{line:53,column:16},end:{line:53,column:21}},30:{start:{line:55,column:16},end:{line:55,column:21}},31:{start:{line:58,column:8},end:{line:58,column:25}},32:{start:{line:66,column:8},end:{line:67,column:111}},33:{start:{line:67,column:33},end:{line:67,column:72}},34:{start:{line:67,column:75},end:{line:67,column:111}},35:{start:{line:70,column:8},end:{line:70,column:30}},36:{start:{line:72,column:8},end:{line:72,column:35}},37:{start:{line:80,column:22},end:{line:80,column:38}},38:{start:{line:81,column:23},end:{line:81,column:25}},39:{start:{line:82,column:8},end:{line:84,column:9}},40:{start:{line:83,column:12},end:{line:83,column:48}},41:{start:{line:85,column:8},end:{line:85,column:38}},42:{start:{line:93,column:8},end:{line:93,column:59}},43:{start:{line:94,column:8},end:{line:94,column:45}},44:{start:{line:95,column:8},end:{line:97,column:9}},45:{start:{line:96,column:12},end:{line:96,column:33}},46:{start:{line:98,column:8},end:{line:98,column:19}},47:{start:{line:103,column:8},end:{line:104,column:81}},48:{start:{line:104,column:50},end:{line:104,column:76}},49:{start:{line:115,column:8},end:{line:119,column:9}},50:{start:{line:116,column:12},end:{line:118,column:13}},51:{start:{line:117,column:16},end:{line:117,column:29}},52:{start:{line:122,column:8},end:{line:122,column:20}},53:{start:{line:130,column:28},end:{line:130,column:39}},54:{start:{line:131,column:30},end:{line:131,column:39}},55:{start:{line:132,column:8},end:{line:141,column:9}},56:{start:{line:133,column:26},end:{line:133,column:40}},57:{start:{line:134,column:25},end:{line:134,column:37}},58:{start:{line:135,column:12},end:{line:137,column:13}},59:{start:{line:136,column:16},end:{line:136,column:22}},60:{start:{line:139,column:12},end:{line:139,column:36}},61:{start:{line:140,column:12},end:{line:140,column:36}},62:{start:{line:142,column:8},end:{line:142,column:30}},63:{start:{line:143,column:8},end:{line:143,column:27}},64:{start:{line:150,column:8},end:{line:174,column:9}},65:{start:{line:151,column:12},end:{line:151,column:30}},66:{start:{line:152,column:12},end:{line:167,column:13}},67:{start:{line:153,column:30},end:{line:153,column:44}},68:{start:{line:154,column:30},end:{line:154,column:72}},69:{start:{line:156,column:16},end:{line:160,column:17}},70:{start:{line:157,column:20},end:{line:157,column:59}},71:{start:{line:158,column:23},end:{line:160,column:17}},72:{start:{line:159,column:20},end:{line:159,column:66}},73:{start:{line:162,column:16},end:{line:166,column:17}},74:{start:{line:163,column:20},end:{line:165,column:21}},75:{start:{line:164,column:24},end:{line:164,column:59}},76:{start:{line:169,column:12},end:{line:173,column:13}},77:{start:{line:170,column:16},end:{line:172,column:17}},78:{start:{line:171,column:20},end:{line:171,column:57}},79:{start:{line:175,column:8},end:{line:175,column:28}},80:{start:{line:182,column:8},end:{line:182,column:67}},81:{start:{line:189,column:8},end:{line:189,column:51}},82:{start:{line:194,column:8},end:{line:194,column:35}},83:{start:{line:199,column:8},end:{line:199,column:28}},84:{start:{line:204,column:8},end:{line:204,column:45}},85:{start:{line:209,column:8},end:{line:209,column:31}},86:{start:{line:216,column:8},end:{line:216,column:105}},87:{start:{line:216,column:51},end:{line:216,column:100}},88:{start:{line:219,column:0},end:{line:219,column:27}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:33},end:{line:36,column:5}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:43,column:4},end:{line:43,column:5}},loc:{start:{line:43,column:48},end:{line:59,column:5}},line:43},2:{name:"(anonymous_2)",decl:{start:{line:65,column:4},end:{line:65,column:5}},loc:{start:{line:65,column:37},end:{line:73,column:5}},line:65},3:{name:"(anonymous_3)",decl:{start:{line:67,column:27},end:{line:67,column:28}},loc:{start:{line:67,column:33},end:{line:67,column:72}},line:67},4:{name:"(anonymous_4)",decl:{start:{line:79,column:4},end:{line:79,column:5}},loc:{start:{line:79,column:28},end:{line:86,column:5}},line:79},5:{name:"(anonymous_5)",decl:{start:{line:92,column:4},end:{line:92,column:5}},loc:{start:{line:92,column:19},end:{line:99,column:5}},line:92},6:{name:"(anonymous_6)",decl:{start:{line:102,column:4},end:{line:102,column:5}},loc:{start:{line:102,column:25},end:{line:105,column:5}},line:102},7:{name:"(anonymous_7)",decl:{start:{line:104,column:34},end:{line:104,column:35}},loc:{start:{line:104,column:50},end:{line:104,column:76}},line:104},8:{name:"(anonymous_8)",decl:{start:{line:110,column:4},end:{line:110,column:5}},loc:{start:{line:110,column:19},end:{line:123,column:5}},line:110},9:{name:"(anonymous_9)",decl:{start:{line:128,column:4},end:{line:128,column:5}},loc:{start:{line:128,column:18},end:{line:144,column:5}},line:128},10:{name:"(anonymous_10)",decl:{start:{line:149,column:4},end:{line:149,column:5}},loc:{start:{line:149,column:27},end:{line:176,column:5}},line:149},11:{name:"(anonymous_11)",decl:{start:{line:181,column:4},end:{line:181,column:5}},loc:{start:{line:181,column:17},end:{line:183,column:5}},line:181},12:{name:"(anonymous_12)",decl:{start:{line:188,column:4},end:{line:188,column:5}},loc:{start:{line:188,column:15},end:{line:190,column:5}},line:188},13:{name:"(anonymous_13)",decl:{start:{line:193,column:4},end:{line:193,column:5}},loc:{start:{line:193,column:17},end:{line:195,column:5}},line:193},14:{name:"(anonymous_14)",decl:{start:{line:198,column:4},end:{line:198,column:5}},loc:{start:{line:198,column:17},end:{line:200,column:5}},line:198},15:{name:"(anonymous_15)",decl:{start:{line:203,column:4},end:{line:203,column:5}},loc:{start:{line:203,column:15},end:{line:205,column:5}},line:203},16:{name:"(anonymous_16)",decl:{start:{line:208,column:4},end:{line:208,column:5}},loc:{start:{line:208,column:15},end:{line:210,column:5}},line:208},17:{name:"(anonymous_17)",decl:{start:{line:215,column:4},end:{line:215,column:5}},loc:{start:{line:215,column:22},end:{line:217,column:5}},line:215},18:{name:"(anonymous_18)",decl:{start:{line:216,column:35},end:{line:216,column:36}},loc:{start:{line:216,column:51},end:{line:216,column:100}},line:216}},branchMap:{0:{loc:{start:{line:10,column:15},end:{line:10,column:55}},type:"binary-expr",locations:[{start:{line:10,column:15},end:{line:10,column:33}},{start:{line:10,column:37},end:{line:10,column:55}}],line:10},1:{loc:{start:{line:14,column:12},end:{line:25,column:13}},type:"if",locations:[{start:{line:14,column:12},end:{line:25,column:13}},{start:{line:14,column:12},end:{line:25,column:13}}],line:14},2:{loc:{start:{line:19,column:19},end:{line:25,column:13}},type:"if",locations:[{start:{line:19,column:19},end:{line:25,column:13}},{start:{line:19,column:19},end:{line:25,column:13}}],line:19},3:{loc:{start:{line:46,column:15},end:{line:46,column:33}},type:"binary-expr",locations:[{start:{line:46,column:15},end:{line:46,column:22}},{start:{line:46,column:26},end:{line:46,column:33}}],line:46},4:{loc:{start:{line:50,column:12},end:{line:56,column:13}},type:"if",locations:[{start:{line:50,column:12},end:{line:56,column:13}},{start:{line:50,column:12},end:{line:56,column:13}}],line:50},5:{loc:{start:{line:52,column:19},end:{line:56,column:13}},type:"if",locations:[{start:{line:52,column:19},end:{line:56,column:13}},{start:{line:52,column:19},end:{line:56,column:13}}],line:52},6:{loc:{start:{line:66,column:8},end:{line:67,column:111}},type:"if",locations:[{start:{line:66,column:8},end:{line:67,column:111}},{start:{line:66,column:8},end:{line:67,column:111}}],line:66},7:{loc:{start:{line:66,column:12},end:{line:67,column:73}},type:"binary-expr",locations:[{start:{line:66,column:12},end:{line:66,column:34}},{start:{line:66,column:38},end:{line:66,column:74}},{start:{line:67,column:15},end:{line:67,column:73}}],line:66},8:{loc:{start:{line:67,column:33},end:{line:67,column:72}},type:"binary-expr",locations:[{start:{line:67,column:33},end:{line:67,column:55}},{start:{line:67,column:59},end:{line:67,column:72}}],line:67},9:{loc:{start:{line:93,column:14},end:{line:93,column:58}},type:"binary-expr",locations:[{start:{line:93,column:14},end:{line:93,column:17}},{start:{line:93,column:21},end:{line:93,column:58}}],line:93},10:{loc:{start:{line:116,column:12},end:{line:118,column:13}},type:"if",locations:[{start:{line:116,column:12},end:{line:118,column:13}},{start:{line:116,column:12},end:{line:118,column:13}}],line:116},11:{loc:{start:{line:135,column:12},end:{line:137,column:13}},type:"if",locations:[{start:{line:135,column:12},end:{line:137,column:13}},{start:{line:135,column:12},end:{line:137,column:13}}],line:135},12:{loc:{start:{line:150,column:8},end:{line:174,column:9}},type:"if",locations:[{start:{line:150,column:8},end:{line:174,column:9}},{start:{line:150,column:8},end:{line:174,column:9}}],line:150},13:{loc:{start:{line:156,column:16},end:{line:160,column:17}},type:"if",locations:[{start:{line:156,column:16},end:{line:160,column:17}},{start:{line:156,column:16},end:{line:160,column:17}}],line:156},14:{loc:{start:{line:158,column:23},end:{line:160,column:17}},type:"if",locations:[{start:{line:158,column:23},end:{line:160,column:17}},{start:{line:158,column:23},end:{line:160,column:17}}],line:158},15:{loc:{start:{line:163,column:20},end:{line:165,column:21}},type:"if",locations:[{start:{line:163,column:20},end:{line:165,column:21}},{start:{line:163,column:20},end:{line:165,column:21}}],line:163},16:{loc:{start:{line:170,column:16},end:{line:172,column:17}},type:"if",locations:[{start:{line:170,column:16},end:{line:172,column:17}},{start:{line:170,column:16},end:{line:172,column:17}}],line:170}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class BlockChain{static merge(n,e){Bn.f[0]++;const l=(Bn.s[0]++,[]);let t=(Bn.s[1]++,0),o=(Bn.s[2]++,0);Bn.s[3]++;for(;(Bn.b[0][0]++,t<n.length)&&(Bn.b[0][1]++,o<e.length);){const i=(Bn.s[4]++,n.blocks[t]),c=(Bn.s[5]++,e.blocks[o]);Bn.s[6]++;if(i.height===c.height){Bn.b[1][0]++;Bn.s[7]++;Assert.that(i.equals(c),"Encountered different blocks at same height during chain merge");Bn.s[8]++;l.push(i);Bn.s[9]++;t++;Bn.s[10]++;o++}else{Bn.b[1][1]++;Bn.s[11]++;if(i.height<c.height){Bn.b[2][0]++;Bn.s[12]++;l.push(i);Bn.s[13]++;t++}else{Bn.b[2][1]++;Bn.s[14]++;l.push(c);Bn.s[15]++;o++}}}Bn.s[16]++;for(;t<n.length;t++){Bn.s[17]++;l.push(n.blocks[t])}Bn.s[18]++;for(;o<e.length;o++){Bn.s[19]++;l.push(e.blocks[o])}Bn.s[20]++;return new BlockChain(l)}static lowestCommonAncestor(n,e){Bn.f[1]++;let l=(Bn.s[21]++,n.length-1),t=(Bn.s[22]++,e.length-1);Bn.s[23]++;for(;(Bn.b[3][0]++,l>=0)&&(Bn.b[3][1]++,t>=0);){const o=(Bn.s[24]++,n.blocks[l]),i=(Bn.s[25]++,e.blocks[t]);Bn.s[26]++;if(o.equals(i)){Bn.b[4][0]++;Bn.s[27]++;return o}Bn.b[4][1]++;Bn.s[28]++;if(o.height>i.height){Bn.b[5][0]++;Bn.s[29]++;l--}else{Bn.b[5][1]++;Bn.s[30]++;t--}}Bn.s[31]++;return undefined}constructor(n,e){Bn.f[2]++;Bn.s[32]++;if((Bn.b[7][0]++,!Array.isArray(n))||(Bn.b[7][1]++,!NumberUtils.isUint16(n.length))||(Bn.b[7][2]++,n.some(n=>{Bn.f[3]++;Bn.s[33]++;return!((Bn.b[8][0]++,n instanceof Block)&&(Bn.b[8][1]++,n.isLight()))}))){Bn.b[6][0]++;Bn.s[34]++;throw new Error("Malformed blocks")}Bn.b[6][1]++;Bn.s[35]++;this._blocks=n;Bn.s[36]++;this._chains=e}static unserialize(n){Bn.f[4]++;const e=(Bn.s[37]++,n.readUint16()),l=(Bn.s[38]++,[]);Bn.s[39]++;for(let t=0;t<e;t++){Bn.s[40]++;l.push(Block.unserialize(n))}Bn.s[41]++;return new BlockChain(l)}serialize(n){Bn.f[5]++;Bn.s[42]++;n=(Bn.b[9][0]++,n)||(Bn.b[9][1]++,new SerialBuffer(this.serializedSize));Bn.s[43]++;n.writeUint16(this._blocks.length);Bn.s[44]++;for(const e of this._blocks){Bn.s[45]++;e.serialize(n)}Bn.s[46]++;return n}get serializedSize(){Bn.f[6]++;Bn.s[47]++;return 2+this._blocks.reduce((n,e)=>{Bn.f[7]++;Bn.s[48]++;return n+e.serializedSize},0)}async verify(){Bn.f[8]++;Bn.s[49]++;for(let n=this._blocks.length-1;n>=1;n--){Bn.s[50]++;if(!(await this._blocks[n].isSuccessorOf(this._blocks[n-1]))){Bn.b[10][0]++;Bn.s[51]++;return!1}Bn.b[10][1]++}Bn.s[52]++;return!0}denseSuffix(){Bn.f[9]++;const n=(Bn.s[53]++,[this.head]);let e=(Bn.s[54]++,this.head);Bn.s[55]++;for(let l=this.length-2;l>=0;l--){const t=(Bn.s[56]++,this.blocks[l]),o=(Bn.s[57]++,t.hash());Bn.s[58]++;if(!o.equals(e.prevHash)){Bn.b[11][0]++;Bn.s[59]++;break}Bn.b[11][1]++;Bn.s[60]++;n.push(t);Bn.s[61]++;e=t}Bn.s[62]++;n.reverse();Bn.s[63]++;return n}async getSuperChains(){Bn.f[10]++;Bn.s[64]++;if(this._chains)Bn.b[12][1]++;else{Bn.b[12][0]++;Bn.s[65]++;this._chains=[];Bn.s[66]++;for(let n=0;n<this.length;n++){const e=(Bn.s[67]++,this.blocks[n]),l=(Bn.s[68]++,BlockUtils.getHashDepth(await e.pow()));Bn.s[69]++;if(this._chains[l]){Bn.b[13][0]++;Bn.s[70]++;this._chains[l].blocks.push(e)}else{Bn.b[13][1]++;Bn.s[71]++;if(this._chains[l])Bn.b[14][1]++;else{Bn.b[14][0]++;Bn.s[72]++;this._chains[l]=new BlockChain([e])}}Bn.s[73]++;for(let n=l-1;n>=0;n--){Bn.s[74]++;if(this._chains[n]){Bn.b[15][0]++;Bn.s[75]++;this._chains[n].blocks.push(e)}else Bn.b[15][1]++}}Bn.s[76]++;for(let n=0;n<this._chains.length;n++){Bn.s[77]++;if(this._chains[n])Bn.b[16][1]++;else{Bn.b[16][0]++;Bn.s[78]++;this._chains[n]=new BlockChain([])}}}Bn.s[79]++;return this._chains}isAnchored(){Bn.f[11]++;Bn.s[80]++;return GenesisConfig.GENESIS_HASH.equals(this.tail.hash())}toString(){Bn.f[12]++;Bn.s[81]++;return`BlockChain{length=${this.length}}`}get length(){Bn.f[13]++;Bn.s[82]++;return this._blocks.length}get blocks(){Bn.f[14]++;Bn.s[83]++;return this._blocks}get head(){Bn.f[15]++;Bn.s[84]++;return this._blocks[this.length-1]}get tail(){Bn.f[16]++;Bn.s[85]++;return this._blocks[0]}totalDifficulty(){Bn.f[17]++;Bn.s[86]++;return this._blocks.reduce((n,e)=>{Bn.f[18]++;Bn.s[87]++;return n+BlockUtils.targetToDifficulty(e.target)},0)}}Bn.s[88]++;Class.register(BlockChain);var Rn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/blockchain/HeaderChain.js",e="c6ca5a5fb3649def61cee07f9677f506c4c05c8b",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/blockchain/HeaderChain.js",statementMap:{0:{start:{line:6,column:8},end:{line:7,column:102}},1:{start:{line:7,column:34},end:{line:7,column:62}},2:{start:{line:7,column:65},end:{line:7,column:102}},3:{start:{line:10,column:8},end:{line:10,column:32}},4:{start:{line:18,column:22},end:{line:18,column:38}},5:{start:{line:19,column:24},end:{line:19,column:26}},6:{start:{line:20,column:8},end:{line:22,column:9}},7:{start:{line:21,column:12},end:{line:21,column:55}},8:{start:{line:23,column:8},end:{line:23,column:40}},9:{start:{line:31,column:8},end:{line:31,column:59}},10:{start:{line:32,column:8},end:{line:32,column:46}},11:{start:{line:33,column:8},end:{line:35,column:9}},12:{start:{line:34,column:12},end:{line:34,column:34}},13:{start:{line:36,column:8},end:{line:36,column:19}},14:{start:{line:41,column:8},end:{line:42,column:84}},15:{start:{line:42,column:52},end:{line:42,column:79}},16:{start:{line:53,column:8},end:{line:57,column:9}},17:{start:{line:54,column:12},end:{line:56,column:13}},18:{start:{line:55,column:16},end:{line:55,column:29}},19:{start:{line:60,column:8},end:{line:60,column:20}},20:{start:{line:67,column:8},end:{line:67,column:52}},21:{start:{line:72,column:8},end:{line:72,column:36}},22:{start:{line:77,column:8},end:{line:77,column:29}},23:{start:{line:82,column:8},end:{line:82,column:46}},24:{start:{line:87,column:8},end:{line:87,column:32}},25:{start:{line:94,column:8},end:{line:94,column:108}},26:{start:{line:94,column:53},end:{line:94,column:103}},27:{start:{line:97,column:0},end:{line:97,column:28}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:25},end:{line:11,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:7,column:28},end:{line:7,column:29}},loc:{start:{line:7,column:34},end:{line:7,column:62}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:28},end:{line:24,column:5}},line:17},3:{name:"(anonymous_3)",decl:{start:{line:30,column:4},end:{line:30,column:5}},loc:{start:{line:30,column:19},end:{line:37,column:5}},line:30},4:{name:"(anonymous_4)",decl:{start:{line:40,column:4},end:{line:40,column:5}},loc:{start:{line:40,column:25},end:{line:43,column:5}},line:40},5:{name:"(anonymous_5)",decl:{start:{line:42,column:35},end:{line:42,column:36}},loc:{start:{line:42,column:52},end:{line:42,column:79}},line:42},6:{name:"(anonymous_6)",decl:{start:{line:48,column:4},end:{line:48,column:5}},loc:{start:{line:48,column:19},end:{line:61,column:5}},line:48},7:{name:"(anonymous_7)",decl:{start:{line:66,column:4},end:{line:66,column:5}},loc:{start:{line:66,column:15},end:{line:68,column:5}},line:66},8:{name:"(anonymous_8)",decl:{start:{line:71,column:4},end:{line:71,column:5}},loc:{start:{line:71,column:17},end:{line:73,column:5}},line:71},9:{name:"(anonymous_9)",decl:{start:{line:76,column:4},end:{line:76,column:5}},loc:{start:{line:76,column:18},end:{line:78,column:5}},line:76},10:{name:"(anonymous_10)",decl:{start:{line:81,column:4},end:{line:81,column:5}},loc:{start:{line:81,column:15},end:{line:83,column:5}},line:81},11:{name:"(anonymous_11)",decl:{start:{line:86,column:4},end:{line:86,column:5}},loc:{start:{line:86,column:15},end:{line:88,column:5}},line:86},12:{name:"(anonymous_12)",decl:{start:{line:93,column:4},end:{line:93,column:5}},loc:{start:{line:93,column:22},end:{line:95,column:5}},line:93},13:{name:"(anonymous_13)",decl:{start:{line:94,column:36},end:{line:94,column:37}},loc:{start:{line:94,column:53},end:{line:94,column:103}},line:94}},branchMap:{0:{loc:{start:{line:6,column:8},end:{line:7,column:102}},type:"if",locations:[{start:{line:6,column:8},end:{line:7,column:102}},{start:{line:6,column:8},end:{line:7,column:102}}],line:6},1:{loc:{start:{line:6,column:12},end:{line:7,column:63}},type:"binary-expr",locations:[{start:{line:6,column:12},end:{line:6,column:20}},{start:{line:6,column:24},end:{line:6,column:47}},{start:{line:6,column:51},end:{line:6,column:88}},{start:{line:7,column:15},end:{line:7,column:63}}],line:6},2:{loc:{start:{line:31,column:14},end:{line:31,column:58}},type:"binary-expr",locations:[{start:{line:31,column:14},end:{line:31,column:17}},{start:{line:31,column:21},end:{line:31,column:58}}],line:31},3:{loc:{start:{line:54,column:12},end:{line:56,column:13}},type:"if",locations:[{start:{line:54,column:12},end:{line:56,column:13}},{start:{line:54,column:12},end:{line:56,column:13}}],line:54}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},b:{0:[0,0],1:[0,0,0,0],2:[0,0],3:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class HeaderChain{constructor(n){Rn.f[0]++;Rn.s[0]++;if(!((Rn.b[1][0]++,n)&&(Rn.b[1][1]++,Array.isArray(n))&&(Rn.b[1][2]++,NumberUtils.isUint16(n.length)))||(Rn.b[1][3]++,n.some(n=>{Rn.f[1]++;Rn.s[1]++;return!(n instanceof BlockHeader)}))){Rn.b[0][0]++;Rn.s[2]++;throw new Error("Malformed headers")}Rn.b[0][1]++;Rn.s[3]++;this._headers=n}static unserialize(n){Rn.f[2]++;const e=(Rn.s[4]++,n.readUint16()),l=(Rn.s[5]++,[]);Rn.s[6]++;for(let t=0;t<e;t++){Rn.s[7]++;l.push(BlockHeader.unserialize(n))}Rn.s[8]++;return new HeaderChain(l)}serialize(n){Rn.f[3]++;Rn.s[9]++;n=(Rn.b[2][0]++,n)||(Rn.b[2][1]++,new SerialBuffer(this.serializedSize));Rn.s[10]++;n.writeUint16(this._headers.length);Rn.s[11]++;for(const e of this._headers){Rn.s[12]++;e.serialize(n)}Rn.s[13]++;return n}get serializedSize(){Rn.f[4]++;Rn.s[14]++;return 2+this._headers.reduce((n,e)=>{Rn.f[5]++;Rn.s[15]++;return n+e.serializedSize},0)}async verify(){Rn.f[6]++;Rn.s[16]++;for(let n=this._headers.length-1;n>=1;n--){Rn.s[17]++;if(!this._headers[n].isImmediateSuccessorOf(this._headers[n-1])){Rn.b[3][0]++;Rn.s[18]++;return!1}Rn.b[3][1]++}Rn.s[19]++;return!0}toString(){Rn.f[7]++;Rn.s[20]++;return`HeaderChain{length=${this.length}}`}get length(){Rn.f[8]++;Rn.s[21]++;return this._headers.length}get headers(){Rn.f[9]++;Rn.s[22]++;return this._headers}get head(){Rn.f[10]++;Rn.s[23]++;return this._headers[this.length-1]}get tail(){Rn.f[11]++;Rn.s[24]++;return this._headers[0]}totalDifficulty(){Rn.f[12]++;Rn.s[25]++;return this._headers.reduce((n,e)=>{Rn.f[13]++;Rn.s[26]++;return n+BlockUtils.targetToDifficulty(e.target)},0)}}Rn.s[27]++;Class.register(HeaderChain);var On=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/blockchain/ChainProof.js",e="9d8b403f227d963999693463abc951483b0370bd",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/blockchain/ChainProof.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:99}},1:{start:{line:7,column:63},end:{line:7,column:99}},2:{start:{line:8,column:8},end:{line:8,column:82}},3:{start:{line:8,column:46},end:{line:8,column:82}},4:{start:{line:11,column:8},end:{line:11,column:30}},5:{start:{line:13,column:8},end:{line:13,column:30}},6:{start:{line:17,column:23},end:{line:17,column:50}},7:{start:{line:18,column:23},end:{line:18,column:51}},8:{start:{line:19,column:8},end:{line:19,column:46}},9:{start:{line:23,column:8},end:{line:23,column:59}},10:{start:{line:24,column:8},end:{line:24,column:36}},11:{start:{line:25,column:8},end:{line:25,column:36}},12:{start:{line:26,column:8},end:{line:26,column:19}},13:{start:{line:30,column:8},end:{line:31,column:42}},14:{start:{line:39,column:8},end:{line:41,column:9}},15:{start:{line:40,column:12},end:{line:40,column:25}},16:{start:{line:44,column:8},end:{line:46,column:9}},17:{start:{line:45,column:12},end:{line:45,column:25}},18:{start:{line:49,column:8},end:{line:51,column:9}},19:{start:{line:50,column:12},end:{line:50,column:25}},20:{start:{line:54,column:8},end:{line:56,column:9}},21:{start:{line:55,column:12},end:{line:55,column:25}},22:{start:{line:59,column:8},end:{line:59,column:20}},23:{start:{line:69,column:28},end:{line:69,column:80}},24:{start:{line:69,column:67},end:{line:69,column:79}},25:{start:{line:71,column:27},end:{line:71,column:66}},26:{start:{line:74,column:30},end:{line:74,column:31}},27:{start:{line:75,column:34},end:{line:75,column:36}},28:{start:{line:76,column:8},end:{line:79,column:9}},29:{start:{line:77,column:12},end:{line:77,column:56}},30:{start:{line:78,column:12},end:{line:78,column:51}},31:{start:{line:81,column:24},end:{line:81,column:45}},32:{start:{line:82,column:24},end:{line:82,column:66}},33:{start:{line:83,column:8},end:{line:101,column:9}},34:{start:{line:84,column:30},end:{line:84,column:51}},35:{start:{line:85,column:30},end:{line:85,column:51}},36:{start:{line:86,column:41},end:{line:86,column:100}},37:{start:{line:87,column:27},end:{line:87,column:95}},38:{start:{line:88,column:26},end:{line:88,column:60}},39:{start:{line:91,column:31},end:{line:91,column:56}},40:{start:{line:92,column:12},end:{line:95,column:13}},41:{start:{line:93,column:16},end:{line:93,column:103}},42:{start:{line:94,column:16},end:{line:94,column:29}},43:{start:{line:97,column:12},end:{line:97,column:24}},44:{start:{line:98,column:12},end:{line:100,column:13}},45:{start:{line:99,column:16},end:{line:99,column:28}},46:{start:{line:103,column:8},end:{line:103,column:20}},47:{start:{line:110,column:8},end:{line:110,column:118}},48:{start:{line:115,column:8},end:{line:115,column:28}},49:{start:{line:120,column:8},end:{line:120,column:28}},50:{start:{line:125,column:8},end:{line:125,column:86}},51:{start:{line:128,column:0},end:{line:128,column:27}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:32},end:{line:14,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:16,column:4},end:{line:16,column:5}},loc:{start:{line:16,column:28},end:{line:20,column:5}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:22,column:4},end:{line:22,column:5}},loc:{start:{line:22,column:19},end:{line:27,column:5}},line:22},3:{name:"(anonymous_3)",decl:{start:{line:29,column:4},end:{line:29,column:5}},loc:{start:{line:29,column:25},end:{line:32,column:5}},line:29},4:{name:"(anonymous_4)",decl:{start:{line:37,column:4},end:{line:37,column:5}},loc:{start:{line:37,column:19},end:{line:60,column:5}},line:37},5:{name:"(anonymous_5)",decl:{start:{line:66,column:4},end:{line:66,column:5}},loc:{start:{line:66,column:24},end:{line:104,column:5}},line:66},6:{name:"(anonymous_6)",decl:{start:{line:69,column:58},end:{line:69,column:59}},loc:{start:{line:69,column:67},end:{line:69,column:79}},line:69},7:{name:"(anonymous_7)",decl:{start:{line:109,column:4},end:{line:109,column:5}},loc:{start:{line:109,column:15},end:{line:111,column:5}},line:109},8:{name:"(anonymous_8)",decl:{start:{line:114,column:4},end:{line:114,column:5}},loc:{start:{line:114,column:17},end:{line:116,column:5}},line:114},9:{name:"(anonymous_9)",decl:{start:{line:119,column:4},end:{line:119,column:5}},loc:{start:{line:119,column:17},end:{line:121,column:5}},line:119},10:{name:"(anonymous_10)",decl:{start:{line:124,column:4},end:{line:124,column:5}},loc:{start:{line:124,column:15},end:{line:126,column:5}},line:124}},branchMap:{0:{loc:{start:{line:7,column:8},end:{line:7,column:99}},type:"if",locations:[{start:{line:7,column:8},end:{line:7,column:99}},{start:{line:7,column:8},end:{line:7,column:99}}],line:7},1:{loc:{start:{line:7,column:12},end:{line:7,column:61}},type:"binary-expr",locations:[{start:{line:7,column:12},end:{line:7,column:43}},{start:{line:7,column:47},end:{line:7,column:61}}],line:7},2:{loc:{start:{line:8,column:8},end:{line:8,column:82}},type:"if",locations:[{start:{line:8,column:8},end:{line:8,column:82}},{start:{line:8,column:8},end:{line:8,column:82}}],line:8},3:{loc:{start:{line:23,column:14},end:{line:23,column:58}},type:"binary-expr",locations:[{start:{line:23,column:14},end:{line:23,column:17}},{start:{line:23,column:21},end:{line:23,column:58}}],line:23},4:{loc:{start:{line:39,column:8},end:{line:41,column:9}},type:"if",locations:[{start:{line:39,column:8},end:{line:41,column:9}},{start:{line:39,column:8},end:{line:41,column:9}}],line:39},5:{loc:{start:{line:44,column:8},end:{line:46,column:9}},type:"if",locations:[{start:{line:44,column:8},end:{line:46,column:9}},{start:{line:44,column:8},end:{line:46,column:9}}],line:44},6:{loc:{start:{line:44,column:12},end:{line:44,column:76}},type:"binary-expr",locations:[{start:{line:44,column:12},end:{line:44,column:42}},{start:{line:44,column:46},end:{line:44,column:76}}],line:44},7:{loc:{start:{line:49,column:8},end:{line:51,column:9}},type:"if",locations:[{start:{line:49,column:8},end:{line:51,column:9}},{start:{line:49,column:8},end:{line:51,column:9}}],line:49},8:{loc:{start:{line:49,column:12},end:{line:49,column:106}},type:"binary-expr",locations:[{start:{line:49,column:12},end:{line:49,column:35}},{start:{line:49,column:39},end:{line:49,column:106}}],line:49},9:{loc:{start:{line:54,column:8},end:{line:56,column:9}},type:"if",locations:[{start:{line:54,column:8},end:{line:56,column:9}},{start:{line:54,column:8},end:{line:56,column:9}}],line:54},10:{loc:{start:{line:83,column:15},end:{line:83,column:47}},type:"binary-expr",locations:[{start:{line:83,column:15},end:{line:83,column:29}},{start:{line:83,column:33},end:{line:83,column:47}}],line:83},11:{loc:{start:{line:92,column:12},end:{line:95,column:13}},type:"if",locations:[{start:{line:92,column:12},end:{line:95,column:13}},{start:{line:92,column:12},end:{line:95,column:13}}],line:92},12:{loc:{start:{line:98,column:12},end:{line:100,column:13}},type:"if",locations:[{start:{line:98,column:12},end:{line:100,column:13}},{start:{line:98,column:12},end:{line:100,column:13}}],line:98},13:{loc:{start:{line:98,column:16},end:{line:98,column:57}},type:"binary-expr",locations:[{start:{line:98,column:16},end:{line:98,column:31}},{start:{line:98,column:35},end:{line:98,column:57}}],line:98},14:{loc:{start:{line:125,column:15},end:{line:125,column:85}},type:"cond-expr",locations:[{start:{line:125,column:41},end:{line:125,column:58}},{start:{line:125,column:61},end:{line:125,column:85}}],line:125}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class ChainProof{constructor(n,e){On.f[0]++;On.s[0]++;if(!((On.b[1][0]++,n instanceof BlockChain)&&(On.b[1][1]++,n.length))){On.b[0][0]++;On.s[1]++;throw new Error("Malformed prefix")}On.b[0][1]++;On.s[2]++;if(!(e instanceof HeaderChain)){On.b[2][0]++;On.s[3]++;throw new Error("Malformed suffix")}On.b[2][1]++;On.s[4]++;this._prefix=n;On.s[5]++;this._suffix=e}static unserialize(n){On.f[1]++;const e=(On.s[6]++,BlockChain.unserialize(n)),l=(On.s[7]++,HeaderChain.unserialize(n));On.s[8]++;return new ChainProof(e,l)}serialize(n){On.f[2]++;On.s[9]++;n=(On.b[3][0]++,n)||(On.b[3][1]++,new SerialBuffer(this.serializedSize));On.s[10]++;this._prefix.serialize(n);On.s[11]++;this._suffix.serialize(n);On.s[12]++;return n}get serializedSize(){On.f[3]++;On.s[13]++;return this._prefix.serializedSize+this._suffix.serializedSize}async verify(){On.f[4]++;On.s[14]++;if(!this._prefix.isAnchored()){On.b[4][0]++;On.s[15]++;return!1}On.b[4][1]++;On.s[16]++;if((On.b[6][0]++,!(await this._prefix.verify()))||(On.b[6][1]++,!(await this._suffix.verify()))){On.b[5][0]++;On.s[17]++;return!1}On.b[5][1]++;On.s[18]++;if((On.b[8][0]++,this._suffix.length>0)&&(On.b[8][1]++,!this._suffix.tail.isImmediateSuccessorOf(this._prefix.head.header))){On.b[7][0]++;On.s[19]++;return!1}On.b[7][1]++;On.s[20]++;if(!this._verifyDifficulty()){On.b[9][0]++;On.s[21]++;return!1}On.b[9][1]++;On.s[22]++;return!0}_verifyDifficulty(){On.f[5]++;const n=(On.s[23]++,this.prefix.denseSuffix().map(n=>{On.f[6]++;On.s[24]++;return n.header})),e=(On.s[25]++,n.concat(this.suffix.headers));let l=(On.s[26]++,0);const t=(On.s[27]++,[]);On.s[28]++;for(let c=0;c<e.length;c++){On.s[29]++;l+=e[c].difficulty;On.s[30]++;t[c]=l}let o=(On.s[31]++,e.length-2),i=(On.s[32]++,o-Policy.DIFFICULTY_BLOCK_WINDOW);On.s[33]++;for(;(On.b[10][0]++,i>=0)&&(On.b[10][1]++,o>=0);){const n=(On.s[34]++,e[o]),l=(On.s[35]++,e[i]),c=(On.s[36]++,t[o]-t[i]),s=(On.s[37]++,BlockUtils.getNextTarget(n,l,c)),u=(On.s[38]++,BlockUtils.targetToCompact(s)),m=(On.s[39]++,e[o+1]);On.s[40]++;if(m.nBits!==u){On.b[11][0]++;On.s[41]++;Log.w(ChainProof,`Block target mismatch: expected=${u}, got=${m.nBits}`);On.s[42]++;return!1}On.b[11][1]++;On.s[43]++;--o;On.s[44]++;if((On.b[13][0]++,0!==i)||(On.b[13][1]++,1!==l.height)){On.b[12][0]++;On.s[45]++;--i}else On.b[12][1]++}On.s[46]++;return!0}toString(){On.f[7]++;On.s[47]++;return`ChainProof{prefix=${this._prefix.length}, suffix=${this._suffix.length}, height=${this.head.height}}`}get prefix(){On.f[8]++;On.s[48]++;return this._prefix}get suffix(){On.f[9]++;On.s[49]++;return this._suffix}get head(){On.f[10]++;On.s[50]++;return this._suffix.length>0?(On.b[14][0]++,this._suffix.head):(On.b[14][1]++,this._prefix.head.header)}}On.s[51]++;Class.register(ChainProof);var Ln=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/blockchain/ChainData.js",e="ba1d6681b162e1d2ac02fa24045a709440f48287",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/blockchain/ChainData.js",statementMap:{0:{start:{line:8,column:20},end:{line:8,column:37}},1:{start:{line:9,column:26},end:{line:9,column:56}},2:{start:{line:11,column:22},end:{line:11,column:50}},3:{start:{line:12,column:8},end:{line:17,column:9}},4:{start:{line:13,column:12},end:{line:13,column:66}},5:{start:{line:15,column:12},end:{line:15,column:54}},6:{start:{line:16,column:12},end:{line:16,column:40}},7:{start:{line:19,column:8},end:{line:19,column:89}},8:{start:{line:31,column:8},end:{line:31,column:26}},9:{start:{line:32,column:8},end:{line:32,column:48}},10:{start:{line:33,column:8},end:{line:33,column:36}},11:{start:{line:34,column:8},end:{line:34,column:50}},12:{start:{line:35,column:8},end:{line:35,column:40}},13:{start:{line:36,column:8},end:{line:36,column:54}},14:{start:{line:37,column:8},end:{line:37,column:35}},15:{start:{line:44,column:8},end:{line:44,column:88}},16:{start:{line:45,column:8},end:{line:54,column:10}},17:{start:{line:63,column:8},end:{line:63,column:29}},18:{start:{line:63,column:18},end:{line:63,column:29}},19:{start:{line:64,column:21},end:{line:64,column:67}},20:{start:{line:65,column:8},end:{line:65,column:72}},21:{start:{line:66,column:8},end:{line:66,column:76}},22:{start:{line:67,column:33},end:{line:67,column:76}},23:{start:{line:68,column:26},end:{line:68,column:118}},24:{start:{line:69,column:8},end:{line:76,column:10}},25:{start:{line:84,column:8},end:{line:84,column:47}},26:{start:{line:86,column:20},end:{line:86,column:37}},27:{start:{line:87,column:32},end:{line:87,column:71}},28:{start:{line:88,column:26},end:{line:88,column:73}},29:{start:{line:89,column:33},end:{line:89,column:95}},30:{start:{line:90,column:8},end:{line:90,column:82}},31:{start:{line:98,column:8},end:{line:98,column:47}},32:{start:{line:100,column:20},end:{line:100,column:41}},33:{start:{line:101,column:32},end:{line:101,column:75}},34:{start:{line:102,column:26},end:{line:102,column:73}},35:{start:{line:103,column:33},end:{line:103,column:100}},36:{start:{line:104,column:8},end:{line:104,column:82}},37:{start:{line:109,column:8},end:{line:109,column:26}},38:{start:{line:114,column:8},end:{line:114,column:37}},39:{start:{line:119,column:8},end:{line:119,column:31}},40:{start:{line:124,column:8},end:{line:124,column:38}},41:{start:{line:129,column:8},end:{line:129,column:33}},42:{start:{line:134,column:8},end:{line:134,column:40}},43:{start:{line:139,column:8},end:{line:139,column:40}},44:{start:{line:144,column:8},end:{line:144,column:54}},45:{start:{line:147,column:0},end:{line:147,column:26}},46:{start:{line:155,column:8},end:{line:155,column:26}},47:{start:{line:162,column:8},end:{line:162,column:48}},48:{start:{line:163,column:8},end:{line:165,column:9}},49:{start:{line:164,column:12},end:{line:164,column:43}},50:{start:{line:172,column:8},end:{line:172,column:48}},51:{start:{line:173,column:8},end:{line:176,column:9}},52:{start:{line:174,column:12},end:{line:174,column:27}},53:{start:{line:175,column:12},end:{line:175,column:43}},54:{start:{line:184,column:21},end:{line:184,column:60}},55:{start:{line:185,column:8},end:{line:185,column:24}},56:{start:{line:186,column:8},end:{line:186,column:20}},57:{start:{line:194,column:21},end:{line:194,column:60}},58:{start:{line:195,column:8},end:{line:195,column:29}},59:{start:{line:196,column:8},end:{line:196,column:20}},60:{start:{line:204,column:8},end:{line:204,column:48}},61:{start:{line:205,column:8},end:{line:205,column:37}},62:{start:{line:213,column:8},end:{line:217,column:9}},63:{start:{line:214,column:12},end:{line:216,column:13}},64:{start:{line:215,column:16},end:{line:215,column:25}},65:{start:{line:218,column:8},end:{line:218,column:17}},66:{start:{line:223,column:8},end:{line:223,column:32}},67:{start:{line:228,column:8},end:{line:228,column:25}},68:{start:{line:231,column:0},end:{line:231,column:33}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:50},end:{line:20,column:5}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:30,column:4},end:{line:30,column:5}},loc:{start:{line:30,column:116},end:{line:38,column:5}},line:30},2:{name:"(anonymous_2)",decl:{start:{line:43,column:4},end:{line:43,column:5}},loc:{start:{line:43,column:12},end:{line:55,column:5}},line:43},3:{name:"(anonymous_3)",decl:{start:{line:62,column:4},end:{line:62,column:5}},loc:{start:{line:62,column:36},end:{line:77,column:5}},line:62},4:{name:"(anonymous_4)",decl:{start:{line:83,column:4},end:{line:83,column:5}},loc:{start:{line:83,column:31},end:{line:91,column:5}},line:83},5:{name:"(anonymous_5)",decl:{start:{line:97,column:4},end:{line:97,column:5}},loc:{start:{line:97,column:35},end:{line:105,column:5}},line:97},6:{name:"(anonymous_6)",decl:{start:{line:108,column:4},end:{line:108,column:5}},loc:{start:{line:108,column:15},end:{line:110,column:5}},line:108},7:{name:"(anonymous_7)",decl:{start:{line:113,column:4},end:{line:113,column:5}},loc:{start:{line:113,column:26},end:{line:115,column:5}},line:113},8:{name:"(anonymous_8)",decl:{start:{line:118,column:4},end:{line:118,column:5}},loc:{start:{line:118,column:20},end:{line:120,column:5}},line:118},9:{name:"(anonymous_9)",decl:{start:{line:123,column:4},end:{line:123,column:5}},loc:{start:{line:123,column:27},end:{line:125,column:5}},line:123},10:{name:"(anonymous_10)",decl:{start:{line:128,column:4},end:{line:128,column:5}},loc:{start:{line:128,column:22},end:{line:130,column:5}},line:128},11:{name:"(anonymous_11)",decl:{start:{line:133,column:4},end:{line:133,column:5}},loc:{start:{line:133,column:33},end:{line:135,column:5}},line:133},12:{name:"(anonymous_12)",decl:{start:{line:138,column:4},end:{line:138,column:5}},loc:{start:{line:138,column:29},end:{line:140,column:5}},line:138},13:{name:"(anonymous_13)",decl:{start:{line:143,column:4},end:{line:143,column:5}},loc:{start:{line:143,column:47},end:{line:145,column:5}},line:143},14:{name:"(anonymous_14)",decl:{start:{line:154,column:4},end:{line:154,column:5}},loc:{start:{line:154,column:28},end:{line:156,column:5}},line:154},15:{name:"(anonymous_15)",decl:{start:{line:161,column:4},end:{line:161,column:5}},loc:{start:{line:161,column:15},end:{line:166,column:5}},line:161},16:{name:"(anonymous_16)",decl:{start:{line:171,column:4},end:{line:171,column:5}},loc:{start:{line:171,column:20},end:{line:177,column:5}},line:171},17:{name:"(anonymous_17)",decl:{start:{line:183,column:4},end:{line:183,column:5}},loc:{start:{line:183,column:22},end:{line:187,column:5}},line:183},18:{name:"(anonymous_18)",decl:{start:{line:193,column:4},end:{line:193,column:5}},loc:{start:{line:193,column:27},end:{line:197,column:5}},line:193},19:{name:"(anonymous_19)",decl:{start:{line:203,column:4},end:{line:203,column:5}},loc:{start:{line:203,column:15},end:{line:206,column:5}},line:203},20:{name:"(anonymous_20)",decl:{start:{line:212,column:4},end:{line:212,column:5}},loc:{start:{line:212,column:25},end:{line:219,column:5}},line:212},21:{name:"(anonymous_21)",decl:{start:{line:222,column:4},end:{line:222,column:5}},loc:{start:{line:222,column:17},end:{line:224,column:5}},line:222},22:{name:"(anonymous_22)",decl:{start:{line:227,column:4},end:{line:227,column:5}},loc:{start:{line:227,column:16},end:{line:229,column:5}},line:227}},branchMap:{0:{loc:{start:{line:12,column:8},end:{line:17,column:9}},type:"if",locations:[{start:{line:12,column:8},end:{line:17,column:9}},{start:{line:12,column:8},end:{line:17,column:9}}],line:12},1:{loc:{start:{line:30,column:68},end:{line:30,column:87}},type:"default-arg",locations:[{start:{line:30,column:82},end:{line:30,column:87}}],line:30},2:{loc:{start:{line:30,column:89},end:{line:30,column:114}},type:"default-arg",locations:[{start:{line:30,column:110},end:{line:30,column:114}}],line:30},3:{loc:{start:{line:51,column:33},end:{line:51,column:103}},type:"cond-expr",locations:[{start:{line:51,column:60},end:{line:51,column:96}},{start:{line:51,column:99},end:{line:51,column:103}}],line:51},4:{loc:{start:{line:63,column:8},end:{line:63,column:29}},type:"if",locations:[{start:{line:63,column:8},end:{line:63,column:29}},{start:{line:63,column:8},end:{line:63,column:29}}],line:63},5:{loc:{start:{line:66,column:28},end:{line:66,column:75}},type:"cond-expr",locations:[{start:{line:66,column:41},end:{line:66,column:68}},{start:{line:66,column:71},end:{line:66,column:75}}],line:66},6:{loc:{start:{line:68,column:26},end:{line:68,column:118}},type:"cond-expr",locations:[{start:{line:68,column:52},end:{line:68,column:111}},{start:{line:68,column:114},end:{line:68,column:118}}],line:68},7:{loc:{start:{line:154,column:16},end:{line:154,column:26}},type:"default-arg",locations:[{start:{line:154,column:24},end:{line:154,column:26}}],line:154},8:{loc:{start:{line:205,column:15},end:{line:205,column:36}},type:"binary-expr",locations:[{start:{line:205,column:15},end:{line:205,column:31}},{start:{line:205,column:35},end:{line:205,column:36}}],line:205},9:{loc:{start:{line:214,column:12},end:{line:216,column:13}},type:"if",locations:[{start:{line:214,column:12},end:{line:216,column:13}},{start:{line:214,column:12},end:{line:216,column:13}}],line:214}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},b:{0:[0,0],1:[0],2:[0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0],8:[0,0],9:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class ChainData{static async initial(n,e){Ln.f[0]++;const l=(Ln.s[0]++,await n.pow()),t=(Ln.s[1]++,BlockUtils.realDifficulty(l)),o=(Ln.s[2]++,BlockUtils.getHashDepth(l));Ln.s[3]++;if(e){Ln.b[0][0]++;Ln.s[4]++;e=e.copyAndAdd(o)}else{Ln.b[0][1]++;Ln.s[5]++;e=new SuperBlockCounts;Ln.s[6]++;e.add(o)}Ln.s[7]++;return new ChainData(n,n.difficulty,t,e,!0)}constructor(n,e,l,t,o=(Ln.b[1][0]++,!1),i=(Ln.b[2][0]++,null)){Ln.f[1]++;Ln.s[8]++;this._head=n;Ln.s[9]++;this._totalDifficulty=e;Ln.s[10]++;this._totalWork=l;Ln.s[11]++;this._superBlockCounts=t;Ln.s[12]++;this._onMainChain=o;Ln.s[13]++;this._mainChainSuccessor=i;Ln.s[14]++;this._height=n.height}toObj(){Ln.f[2]++;Ln.s[15]++;Assert.that(this._head.header._pow instanceof Hash,"Expected cached PoW hash");Ln.s[16]++;return{_head:this._head.toLight().serialize(),_totalDifficulty:this._totalDifficulty,_totalWork:this._totalWork,_superBlockCounts:this._superBlockCounts.array,_onMainChain:this._onMainChain,_mainChainSuccessor:this._mainChainSuccessor?(Ln.b[3][0]++,this._mainChainSuccessor.serialize()):(Ln.b[3][1]++,null),_height:this._head.height,_pow:this._head.header._pow.serialize()}}static fromObj(n,e){Ln.f[3]++;Ln.s[17]++;if(!n){Ln.b[4][0]++;Ln.s[18]++;return n}Ln.b[4][1]++;const l=(Ln.s[19]++,Block.unserialize(new SerialBuffer(n._head)));Ln.s[20]++;l.header._pow=Hash.unserialize(new SerialBuffer(n._pow));Ln.s[21]++;l.header._hash=e?(Ln.b[5][0]++,Hash.fromBase64(e)):(Ln.b[5][1]++,null);const t=(Ln.s[22]++,new SuperBlockCounts(n._superBlockCounts)),o=(Ln.s[23]++,n._mainChainSuccessor?(Ln.b[6][0]++,Hash.unserialize(new SerialBuffer(n._mainChainSuccessor))):(Ln.b[6][1]++,null));Ln.s[24]++;return new ChainData(l,n._totalDifficulty,n._totalWork,t,n._onMainChain,o)}async nextChainData(n){Ln.f[4]++;Ln.s[25]++;Assert.that(this._totalDifficulty>0);const e=(Ln.s[26]++,await n.pow()),l=(Ln.s[27]++,this.totalDifficulty+n.difficulty),t=(Ln.s[28]++,this.totalWork+BlockUtils.realDifficulty(e)),o=(Ln.s[29]++,this.superBlockCounts.copyAndAdd(BlockUtils.getHashDepth(e)));Ln.s[30]++;return new ChainData(n,l,t,o)}async previousChainData(n){Ln.f[5]++;Ln.s[31]++;Assert.that(this._totalDifficulty>0);const e=(Ln.s[32]++,await this.head.pow()),l=(Ln.s[33]++,this.totalDifficulty-this.head.difficulty),t=(Ln.s[34]++,this.totalWork-BlockUtils.realDifficulty(e)),o=(Ln.s[35]++,this.superBlockCounts.copyAndSubtract(BlockUtils.getHashDepth(e)));Ln.s[36]++;return new ChainData(n,l,t,o)}get head(){Ln.f[6]++;Ln.s[37]++;return this._head}get totalDifficulty(){Ln.f[7]++;Ln.s[38]++;return this._totalDifficulty}get totalWork(){Ln.f[8]++;Ln.s[39]++;return this._totalWork}get superBlockCounts(){Ln.f[9]++;Ln.s[40]++;return this._superBlockCounts}get onMainChain(){Ln.f[10]++;Ln.s[41]++;return this._onMainChain}set onMainChain(n){Ln.f[11]++;Ln.s[42]++;this._onMainChain=n}get mainChainSuccessor(){Ln.f[12]++;Ln.s[43]++;return this._mainChainSuccessor}set mainChainSuccessor(n){Ln.f[13]++;Ln.s[44]++;this._mainChainSuccessor=n}}Ln.s[45]++;Class.register(ChainData);class SuperBlockCounts{constructor(n=(Ln.b[7][0]++,[])){Ln.f[14]++;Ln.s[46]++;this._arr=n}add(n){Ln.f[15]++;Ln.s[47]++;Assert.that(NumberUtils.isUint8(n));Ln.s[48]++;for(let e=0;e<=n;e++){Ln.s[49]++;this._arr[e]=this.get(e)+1}}subtract(n){Ln.f[16]++;Ln.s[50]++;Assert.that(NumberUtils.isUint8(n));Ln.s[51]++;for(let e=0;e<=n;e++){Ln.s[52]++;this._arr[e]--;Ln.s[53]++;Assert.that(this._arr[e]>=0)}}copyAndAdd(n){Ln.f[17]++;const e=(Ln.s[54]++,new SuperBlockCounts(this._arr.slice()));Ln.s[55]++;e.add(n);Ln.s[56]++;return e}copyAndSubtract(n){Ln.f[18]++;const e=(Ln.s[57]++,new SuperBlockCounts(this._arr.slice()));Ln.s[58]++;e.subtract(n);Ln.s[59]++;return e}get(n){Ln.f[19]++;Ln.s[60]++;Assert.that(NumberUtils.isUint8(n));Ln.s[61]++;return(Ln.b[8][0]++,this._arr[n])||(Ln.b[8][1]++,0)}getCandidateDepth(n){Ln.f[20]++;Ln.s[62]++;for(let e=this._arr.length-1;e>=0;e--){Ln.s[63]++;if(this._arr[e]>=n){Ln.b[9][0]++;Ln.s[64]++;return e}Ln.b[9][1]++}Ln.s[65]++;return 0}get length(){Ln.f[21]++;Ln.s[66]++;return this._arr.length}get array(){Ln.f[22]++;Ln.s[67]++;return this._arr}}Ln.s[68]++;Class.register(SuperBlockCounts);var Un=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/blockchain/ChainDataStore.js",e="be52bae41deefcd719380de5826c8b3df6d70e82",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/blockchain/ChainDataStore.js",statementMap:{0:{start:{line:6,column:27},end:{line:6,column:99}},1:{start:{line:7,column:8},end:{line:7,column:50}},2:{start:{line:9,column:8},end:{line:9,column:73}},3:{start:{line:17,column:27},end:{line:17,column:58}},4:{start:{line:18,column:27},end:{line:18,column:54}},5:{start:{line:19,column:8},end:{line:19,column:58}},6:{start:{line:26,column:27},end:{line:26,column:67}},7:{start:{line:27,column:27},end:{line:27,column:67}},8:{start:{line:28,column:8},end:{line:28,column:50}},9:{start:{line:29,column:8},end:{line:29,column:58}},10:{start:{line:37,column:8},end:{line:37,column:155}},11:{start:{line:46,column:8},end:{line:46,column:38}},12:{start:{line:48,column:8},end:{line:48,column:38}},13:{start:{line:58,column:26},end:{line:58,column:68}},14:{start:{line:59,column:8},end:{line:61,column:9}},15:{start:{line:60,column:12},end:{line:60,column:29}},16:{start:{line:63,column:22},end:{line:63,column:64}},17:{start:{line:64,column:8},end:{line:66,column:9}},18:{start:{line:65,column:12},end:{line:65,column:46}},19:{start:{line:68,column:8},end:{line:68,column:25}},20:{start:{line:78,column:8},end:{line:84,column:9}},21:{start:{line:79,column:12},end:{line:79,column:64}},22:{start:{line:80,column:12},end:{line:82,column:13}},23:{start:{line:81,column:16},end:{line:81,column:73}},24:{start:{line:83,column:12},end:{line:83,column:41}},25:{start:{line:86,column:8},end:{line:92,column:9}},26:{start:{line:87,column:28},end:{line:87,column:69}},27:{start:{line:88,column:12},end:{line:88,column:55}},28:{start:{line:89,column:28},end:{line:89,column:69}},29:{start:{line:90,column:12},end:{line:90,column:60}},30:{start:{line:91,column:12},end:{line:91,column:65}},31:{start:{line:94,column:8},end:{line:94,column:63}},32:{start:{line:104,column:8},end:{line:104,column:65}},33:{start:{line:105,column:8},end:{line:105,column:60}},34:{start:{line:106,column:8},end:{line:108,column:9}},35:{start:{line:107,column:12},end:{line:107,column:69}},36:{start:{line:117,column:8},end:{line:122,column:9}},37:{start:{line:118,column:26},end:{line:118,column:68}},38:{start:{line:119,column:12},end:{line:121,column:13}},39:{start:{line:120,column:16},end:{line:120,column:29}},40:{start:{line:124,column:26},end:{line:124,column:68}},41:{start:{line:125,column:8},end:{line:125,column:49}},42:{start:{line:135,column:27},end:{line:135,column:88}},43:{start:{line:136,column:8},end:{line:138,column:9}},44:{start:{line:137,column:12},end:{line:137,column:29}},45:{start:{line:140,column:8},end:{line:151,column:9}},46:{start:{line:141,column:12},end:{line:150,column:13}},47:{start:{line:142,column:16},end:{line:148,column:17}},48:{start:{line:144,column:34},end:{line:144,column:94}},49:{start:{line:145,column:20},end:{line:147,column:21}},50:{start:{line:146,column:24},end:{line:146,column:48}},51:{start:{line:149,column:16},end:{line:149,column:33}},52:{start:{line:153,column:8},end:{line:153,column:20}},53:{start:{line:162,column:26},end:{line:162,column:72}},54:{start:{line:163,column:8},end:{line:163,column:49}},55:{start:{line:172,column:22},end:{line:172,column:54}},56:{start:{line:174,column:27},end:{line:176,column:66}},57:{start:{line:177,column:8},end:{line:179,column:9}},58:{start:{line:178,column:12},end:{line:178,column:29}},59:{start:{line:181,column:8},end:{line:185,column:9}},60:{start:{line:182,column:12},end:{line:184,column:13}},61:{start:{line:183,column:16},end:{line:183,column:38}},62:{start:{line:187,column:8},end:{line:187,column:20}},63:{start:{line:220,column:8},end:{line:222,column:9}},64:{start:{line:221,column:12},end:{line:221,column:39}},65:{start:{line:224,column:8},end:{line:228,column:9}},66:{start:{line:225,column:12},end:{line:225,column:64}},67:{start:{line:227,column:12},end:{line:227,column:65}},68:{start:{line:238,column:24},end:{line:238,column:77}},69:{start:{line:239,column:8},end:{line:241,column:9}},70:{start:{line:240,column:12},end:{line:240,column:22}},71:{start:{line:243,column:23},end:{line:243,column:25}},72:{start:{line:244,column:8},end:{line:250,column:9}},73:{start:{line:245,column:12},end:{line:245,column:92}},74:{start:{line:246,column:12},end:{line:248,column:13}},75:{start:{line:247,column:16},end:{line:247,column:30}},76:{start:{line:249,column:12},end:{line:249,column:40}},77:{start:{line:251,column:8},end:{line:251,column:22}},78:{start:{line:261,column:25},end:{line:263,column:70}},79:{start:{line:262,column:21},end:{line:262,column:46}},80:{start:{line:263,column:21},end:{line:263,column:70}},81:{start:{line:263,column:60},end:{line:263,column:69}},82:{start:{line:266,column:26},end:{line:266,column:79}},83:{start:{line:267,column:8},end:{line:269,column:9}},84:{start:{line:268,column:12},end:{line:268,column:22}},85:{start:{line:272,column:20},end:{line:272,column:34}},86:{start:{line:273,column:23},end:{line:273,column:25}},87:{start:{line:274,column:8},end:{line:280,column:9}},88:{start:{line:275,column:12},end:{line:275,column:62}},89:{start:{line:276,column:12},end:{line:278,column:13}},90:{start:{line:277,column:16},end:{line:277,column:30}},91:{start:{line:279,column:12},end:{line:279,column:31}},92:{start:{line:281,column:8},end:{line:281,column:22}},93:{start:{line:289,column:20},end:{line:289,column:54}},94:{start:{line:290,column:8},end:{line:290,column:54}},95:{start:{line:298,column:8},end:{line:298,column:60}},96:{start:{line:306,column:8},end:{line:306,column:76}},97:{start:{line:307,column:8},end:{line:307,column:57}},98:{start:{line:315,column:24},end:{line:315,column:68}},99:{start:{line:316,column:24},end:{line:316,column:68}},100:{start:{line:317,column:8},end:{line:317,column:52}},101:{start:{line:325,column:24},end:{line:325,column:79}},102:{start:{line:326,column:24},end:{line:326,column:79}},103:{start:{line:327,column:8},end:{line:327,column:52}},104:{start:{line:334,column:8},end:{line:336,column:9}},105:{start:{line:335,column:12},end:{line:335,column:83}},106:{start:{line:337,column:8},end:{line:337,column:33}},107:{start:{line:344,column:8},end:{line:344,column:81}},108:{start:{line:351,column:30},end:{line:351,column:57}},109:{start:{line:352,column:30},end:{line:352,column:57}},110:{start:{line:353,column:8},end:{line:353,column:64}},111:{start:{line:360,column:8},end:{line:364,column:9}},112:{start:{line:361,column:12},end:{line:361,column:44}},113:{start:{line:362,column:12},end:{line:362,column:44}},114:{start:{line:363,column:12},end:{line:363,column:41}},115:{start:{line:366,column:24},end:{line:366,column:54}},116:{start:{line:367,column:8},end:{line:367,column:31}},117:{start:{line:368,column:24},end:{line:368,column:54}},118:{start:{line:369,column:8},end:{line:369,column:31}},119:{start:{line:370,column:8},end:{line:370,column:61}},120:{start:{line:375,column:8},end:{line:377,column:9}},121:{start:{line:376,column:12},end:{line:376,column:56}},122:{start:{line:378,column:8},end:{line:378,column:18}},123:{start:{line:381,column:0},end:{line:381,column:31}},124:{start:{line:392,column:8},end:{line:392,column:59}},125:{start:{line:401,column:8},end:{line:401,column:75}},126:{start:{line:408,column:8},end:{line:408,column:42}},127:{start:{line:421,column:8},end:{line:421,column:31}},128:{start:{line:430,column:22},end:{line:430,column:62}},129:{start:{line:431,column:8},end:{line:431,column:50}},130:{start:{line:432,column:8},end:{line:432,column:21}},131:{start:{line:439,column:8},end:{line:439,column:44}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:31},end:{line:10,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:16,column:4},end:{line:16,column:5}},loc:{start:{line:16,column:30},end:{line:20,column:5}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:25,column:4},end:{line:25,column:5}},loc:{start:{line:25,column:28},end:{line:30,column:5}},line:25},3:{name:"(anonymous_3)",decl:{start:{line:36,column:4},end:{line:36,column:5}},loc:{start:{line:36,column:38},end:{line:38,column:5}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:44,column:4},end:{line:44,column:5}},loc:{start:{line:44,column:40},end:{line:49,column:5}},line:44},5:{name:"(anonymous_5)",decl:{start:{line:56,column:4},end:{line:56,column:5}},loc:{start:{line:56,column:49},end:{line:69,column:5}},line:56},6:{name:"(anonymous_6)",decl:{start:{line:77,column:4},end:{line:77,column:5}},loc:{start:{line:77,column:53},end:{line:95,column:5}},line:77},7:{name:"(anonymous_7)",decl:{start:{line:103,column:4},end:{line:103,column:5}},loc:{start:{line:103,column:57},end:{line:109,column:5}},line:103},8:{name:"(anonymous_8)",decl:{start:{line:116,column:4},end:{line:116,column:5}},loc:{start:{line:116,column:45},end:{line:126,column:5}},line:116},9:{name:"(anonymous_9)",decl:{start:{line:133,column:4},end:{line:133,column:5}},loc:{start:{line:133,column:54},end:{line:154,column:5}},line:133},10:{name:"(anonymous_10)",decl:{start:{line:161,column:4},end:{line:161,column:5}},loc:{start:{line:161,column:50},end:{line:164,column:5}},line:161},11:{name:"(anonymous_11)",decl:{start:{line:171,column:4},end:{line:171,column:5}},loc:{start:{line:171,column:50},end:{line:188,column:5}},line:171},12:{name:"(anonymous_12)",decl:{start:{line:219,column:4},end:{line:219,column:5}},loc:{start:{line:219,column:59},end:{line:229,column:5}},line:219},13:{name:"(anonymous_13)",decl:{start:{line:236,column:4},end:{line:236,column:5}},loc:{start:{line:236,column:56},end:{line:252,column:5}},line:236},14:{name:"(anonymous_14)",decl:{start:{line:260,column:4},end:{line:260,column:5}},loc:{start:{line:260,column:78},end:{line:282,column:5}},line:260},15:{name:"(anonymous_15)",decl:{start:{line:262,column:14},end:{line:262,column:15}},loc:{start:{line:262,column:21},end:{line:262,column:46}},line:262},16:{name:"(anonymous_16)",decl:{start:{line:263,column:14},end:{line:263,column:15}},loc:{start:{line:263,column:21},end:{line:263,column:70}},line:263},17:{name:"(anonymous_17)",decl:{start:{line:263,column:52},end:{line:263,column:53}},loc:{start:{line:263,column:60},end:{line:263,column:69}},line:263},18:{name:"(anonymous_18)",decl:{start:{line:288,column:4},end:{line:288,column:5}},loc:{start:{line:288,column:20},end:{line:291,column:5}},line:288},19:{name:"(anonymous_19)",decl:{start:{line:297,column:4},end:{line:297,column:5}},loc:{start:{line:297,column:17},end:{line:299,column:5}},line:297},20:{name:"(anonymous_20)",decl:{start:{line:305,column:4},end:{line:305,column:5}},loc:{start:{line:305,column:21},end:{line:308,column:5}},line:305},21:{name:"(anonymous_21)",decl:{start:{line:314,column:4},end:{line:314,column:5}},loc:{start:{line:314,column:39},end:{line:318,column:5}},line:314},22:{name:"(anonymous_22)",decl:{start:{line:324,column:4},end:{line:324,column:5}},loc:{start:{line:324,column:50},end:{line:328,column:5}},line:324},23:{name:"(anonymous_23)",decl:{start:{line:333,column:4},end:{line:333,column:5}},loc:{start:{line:333,column:13},end:{line:338,column:5}},line:333},24:{name:"(anonymous_24)",decl:{start:{line:343,column:4},end:{line:343,column:5}},loc:{start:{line:343,column:12},end:{line:345,column:5}},line:343},25:{name:"(anonymous_25)",decl:{start:{line:350,column:4},end:{line:350,column:5}},loc:{start:{line:350,column:15},end:{line:354,column:5}},line:350},26:{name:"(anonymous_26)",decl:{start:{line:359,column:4},end:{line:359,column:5}},loc:{start:{line:359,column:15},end:{line:371,column:5}},line:359},27:{name:"(anonymous_27)",decl:{start:{line:374,column:4},end:{line:374,column:5}},loc:{start:{line:374,column:14},end:{line:379,column:5}},line:374},28:{name:"(anonymous_28)",decl:{start:{line:391,column:4},end:{line:391,column:5}},loc:{start:{line:391,column:16},end:{line:393,column:5}},line:391},29:{name:"(anonymous_29)",decl:{start:{line:400,column:4},end:{line:400,column:5}},loc:{start:{line:400,column:21},end:{line:402,column:5}},line:400},30:{name:"(anonymous_30)",decl:{start:{line:407,column:4},end:{line:407,column:5}},loc:{start:{line:407,column:24},end:{line:409,column:5}},line:407},31:{name:"(anonymous_31)",decl:{start:{line:420,column:4},end:{line:420,column:5}},loc:{start:{line:420,column:16},end:{line:422,column:5}},line:420},32:{name:"(anonymous_32)",decl:{start:{line:429,column:4},end:{line:429,column:5}},loc:{start:{line:429,column:21},end:{line:433,column:5}},line:429},33:{name:"(anonymous_33)",decl:{start:{line:438,column:4},end:{line:438,column:5}},loc:{start:{line:438,column:24},end:{line:440,column:5}},line:438}},branchMap:{0:{loc:{start:{line:56,column:28},end:{line:56,column:47}},type:"default-arg",locations:[{start:{line:56,column:42},end:{line:56,column:47}}],line:56},1:{loc:{start:{line:59,column:8},end:{line:61,column:9}},type:"if",locations:[{start:{line:59,column:8},end:{line:61,column:9}},{start:{line:59,column:8},end:{line:61,column:9}}],line:59},2:{loc:{start:{line:59,column:12},end:{line:59,column:38}},type:"binary-expr",locations:[{start:{line:59,column:12},end:{line:59,column:22}},{start:{line:59,column:26},end:{line:59,column:38}}],line:59},3:{loc:{start:{line:64,column:8},end:{line:66,column:9}},type:"if",locations:[{start:{line:64,column:8},end:{line:66,column:9}},{start:{line:64,column:8},end:{line:66,column:9}}],line:64},4:{loc:{start:{line:64,column:12},end:{line:64,column:35}},type:"binary-expr",locations:[{start:{line:64,column:12},end:{line:64,column:17}},{start:{line:64,column:21},end:{line:64,column:35}}],line:64},5:{loc:{start:{line:77,column:33},end:{line:77,column:51}},type:"default-arg",locations:[{start:{line:77,column:47},end:{line:77,column:51}}],line:77},6:{loc:{start:{line:78,column:8},end:{line:84,column:9}},type:"if",locations:[{start:{line:78,column:8},end:{line:84,column:9}},{start:{line:78,column:8},end:{line:84,column:9}}],line:78},7:{loc:{start:{line:80,column:12},end:{line:82,column:13}},type:"if",locations:[{start:{line:80,column:12},end:{line:82,column:13}},{start:{line:80,column:12},end:{line:82,column:13}}],line:80},8:{loc:{start:{line:80,column:16},end:{line:80,column:54}},type:"binary-expr",locations:[{start:{line:80,column:16},end:{line:80,column:27}},{start:{line:80,column:31},end:{line:80,column:54}}],line:80},9:{loc:{start:{line:86,column:8},end:{line:92,column:9}},type:"if",locations:[{start:{line:86,column:8},end:{line:92,column:9}},{start:{line:86,column:8},end:{line:92,column:9}}],line:86},10:{loc:{start:{line:86,column:12},end:{line:86,column:50}},type:"binary-expr",locations:[{start:{line:86,column:12},end:{line:86,column:23}},{start:{line:86,column:27},end:{line:86,column:50}}],line:86},11:{loc:{start:{line:103,column:37},end:{line:103,column:55}},type:"default-arg",locations:[{start:{line:103,column:51},end:{line:103,column:55}}],line:103},12:{loc:{start:{line:106,column:8},end:{line:108,column:9}},type:"if",locations:[{start:{line:106,column:8},end:{line:108,column:9}},{start:{line:106,column:8},end:{line:108,column:9}}],line:106},13:{loc:{start:{line:106,column:12},end:{line:106,column:50}},type:"binary-expr",locations:[{start:{line:106,column:12},end:{line:106,column:23}},{start:{line:106,column:27},end:{line:106,column:50}}],line:106},14:{loc:{start:{line:116,column:24},end:{line:116,column:43}},type:"default-arg",locations:[{start:{line:116,column:38},end:{line:116,column:43}}],line:116},15:{loc:{start:{line:117,column:8},end:{line:122,column:9}},type:"if",locations:[{start:{line:117,column:8},end:{line:122,column:9}},{start:{line:117,column:8},end:{line:122,column:9}}],line:117},16:{loc:{start:{line:119,column:12},end:{line:121,column:13}},type:"if",locations:[{start:{line:119,column:12},end:{line:121,column:13}},{start:{line:119,column:12},end:{line:121,column:13}}],line:119},17:{loc:{start:{line:125,column:15},end:{line:125,column:48}},type:"cond-expr",locations:[{start:{line:125,column:27},end:{line:125,column:41}},{start:{line:125,column:44},end:{line:125,column:48}}],line:125},18:{loc:{start:{line:133,column:33},end:{line:133,column:52}},type:"default-arg",locations:[{start:{line:133,column:47},end:{line:133,column:52}}],line:133},19:{loc:{start:{line:136,column:8},end:{line:138,column:9}},type:"if",locations:[{start:{line:136,column:8},end:{line:138,column:9}},{start:{line:136,column:8},end:{line:138,column:9}}],line:136},20:{loc:{start:{line:136,column:12},end:{line:136,column:45}},type:"binary-expr",locations:[{start:{line:136,column:12},end:{line:136,column:23}},{start:{line:136,column:27},end:{line:136,column:45}}],line:136},21:{loc:{start:{line:141,column:12},end:{line:150,column:13}},type:"if",locations:[{start:{line:141,column:12},end:{line:150,column:13}},{start:{line:141,column:12},end:{line:150,column:13}}],line:141},22:{loc:{start:{line:142,column:16},end:{line:148,column:17}},type:"if",locations:[{start:{line:142,column:16},end:{line:148,column:17}},{start:{line:142,column:16},end:{line:148,column:17}}],line:142},23:{loc:{start:{line:145,column:20},end:{line:147,column:21}},type:"if",locations:[{start:{line:145,column:20},end:{line:147,column:21}},{start:{line:145,column:20},end:{line:147,column:21}}],line:145},24:{loc:{start:{line:161,column:29},end:{line:161,column:48}},type:"default-arg",locations:[{start:{line:161,column:43},end:{line:161,column:48}}],line:161},25:{loc:{start:{line:163,column:15},end:{line:163,column:48}},type:"cond-expr",locations:[{start:{line:163,column:27},end:{line:163,column:41}},{start:{line:163,column:44},end:{line:163,column:48}}],line:163},26:{loc:{start:{line:171,column:36},end:{line:171,column:48}},type:"default-arg",locations:[{start:{line:171,column:44},end:{line:171,column:48}}],line:171},27:{loc:{start:{line:174,column:27},end:{line:176,column:66}},type:"cond-expr",locations:[{start:{line:175,column:12},end:{line:175,column:66}},{start:{line:176,column:12},end:{line:176,column:66}}],line:174},28:{loc:{start:{line:177,column:8},end:{line:179,column:9}},type:"if",locations:[{start:{line:177,column:8},end:{line:179,column:9}},{start:{line:177,column:8},end:{line:179,column:9}}],line:177},29:{loc:{start:{line:177,column:12},end:{line:177,column:45}},type:"binary-expr",locations:[{start:{line:177,column:12},end:{line:177,column:23}},{start:{line:177,column:27},end:{line:177,column:45}}],line:177},30:{loc:{start:{line:182,column:12},end:{line:184,column:13}},type:"if",locations:[{start:{line:182,column:12},end:{line:184,column:13}},{start:{line:182,column:12},end:{line:184,column:13}}],line:182},31:{loc:{start:{line:219,column:30},end:{line:219,column:41}},type:"default-arg",locations:[{start:{line:219,column:38},end:{line:219,column:41}}],line:219},32:{loc:{start:{line:219,column:43},end:{line:219,column:57}},type:"default-arg",locations:[{start:{line:219,column:53},end:{line:219,column:57}}],line:219},33:{loc:{start:{line:220,column:8},end:{line:222,column:9}},type:"if",locations:[{start:{line:220,column:8},end:{line:222,column:9}},{start:{line:220,column:8},end:{line:222,column:9}}],line:220},34:{loc:{start:{line:224,column:8},end:{line:228,column:9}},type:"if",locations:[{start:{line:224,column:8},end:{line:228,column:9}},{start:{line:224,column:8},end:{line:228,column:9}}],line:224},35:{loc:{start:{line:236,column:43},end:{line:236,column:54}},type:"default-arg",locations:[{start:{line:236,column:51},end:{line:236,column:54}}],line:236},36:{loc:{start:{line:239,column:8},end:{line:241,column:9}},type:"if",locations:[{start:{line:239,column:8},end:{line:241,column:9}},{start:{line:239,column:8},end:{line:241,column:9}}],line:239},37:{loc:{start:{line:244,column:15},end:{line:244,column:68}},type:"binary-expr",locations:[{start:{line:244,column:15},end:{line:244,column:36}},{start:{line:244,column:40},end:{line:244,column:68}}],line:244},38:{loc:{start:{line:246,column:12},end:{line:248,column:13}},type:"if",locations:[{start:{line:246,column:12},end:{line:248,column:13}},{start:{line:246,column:12},end:{line:248,column:13}}],line:246},39:{loc:{start:{line:260,column:44},end:{line:260,column:55}},type:"default-arg",locations:[{start:{line:260,column:52},end:{line:260,column:55}}],line:260},40:{loc:{start:{line:260,column:57},end:{line:260,column:76}},type:"default-arg",locations:[{start:{line:260,column:71},end:{line:260,column:76}}],line:260},41:{loc:{start:{line:261,column:25},end:{line:263,column:70}},type:"cond-expr",locations:[{start:{line:262,column:14},end:{line:262,column:46}},{start:{line:263,column:14},end:{line:263,column:70}}],line:261},42:{loc:{start:{line:267,column:8},end:{line:269,column:9}},type:"if",locations:[{start:{line:267,column:8},end:{line:269,column:9}},{start:{line:267,column:8},end:{line:269,column:9}}],line:267},43:{loc:{start:{line:274,column:15},end:{line:274,column:56}},type:"binary-expr",locations:[{start:{line:274,column:15},end:{line:274,column:36}},{start:{line:274,column:40},end:{line:274,column:56}}],line:274},44:{loc:{start:{line:276,column:12},end:{line:278,column:13}},type:"if",locations:[{start:{line:276,column:12},end:{line:278,column:13}},{start:{line:276,column:12},end:{line:278,column:13}}],line:276},45:{loc:{start:{line:290,column:15},end:{line:290,column:53}},type:"cond-expr",locations:[{start:{line:290,column:21},end:{line:290,column:41}},{start:{line:290,column:44},end:{line:290,column:53}}],line:290},46:{loc:{start:{line:314,column:16},end:{line:314,column:37}},type:"default-arg",locations:[{start:{line:314,column:33},end:{line:314,column:37}}],line:314},47:{loc:{start:{line:324,column:27},end:{line:324,column:48}},type:"default-arg",locations:[{start:{line:324,column:44},end:{line:324,column:48}}],line:324},48:{loc:{start:{line:334,column:8},end:{line:336,column:9}},type:"if",locations:[{start:{line:334,column:8},end:{line:336,column:9}},{start:{line:334,column:8},end:{line:336,column:9}}],line:334},49:{loc:{start:{line:360,column:8},end:{line:364,column:9}},type:"if",locations:[{start:{line:360,column:8},end:{line:364,column:9}},{start:{line:360,column:8},end:{line:364,column:9}}],line:360},50:{loc:{start:{line:375,column:8},end:{line:377,column:9}},type:"if",locations:[{start:{line:375,column:8},end:{line:377,column:9}},{start:{line:375,column:8},end:{line:377,column:9}}],line:375},51:{loc:{start:{line:392,column:15},end:{line:392,column:58}},type:"cond-expr",locations:[{start:{line:392,column:41},end:{line:392,column:44}},{start:{line:392,column:47},end:{line:392,column:58}}],line:392},52:{loc:{start:{line:401,column:15},end:{line:401,column:74}},type:"cond-expr",locations:[{start:{line:401,column:41},end:{line:401,column:44}},{start:{line:401,column:47},end:{line:401,column:74}}],line:401}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0],12:[0,0],13:[0,0],14:[0],15:[0,0],16:[0,0],17:[0,0],18:[0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0],25:[0,0],26:[0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0],32:[0],33:[0,0],34:[0,0],35:[0],36:[0,0],37:[0,0],38:[0,0],39:[0],40:[0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0],46:[0],47:[0],48:[0,0],49:[0,0],50:[0,0],51:[0,0],52:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class ChainDataStore{static initPersistent(n){Un.f[0]++;const e=(Un.s[0]++,n.createObjectStore("ChainData",{codec:new ChainDataStoreCodec}));Un.s[1]++;ChainDataStore._createIndexes(e);Un.s[2]++;n.createObjectStore("Block",{codec:new BlockStoreCodec})}static getPersistent(n){Un.f[1]++;const e=(Un.s[3]++,n.getObjectStore("ChainData")),l=(Un.s[4]++,n.getObjectStore("Block"));Un.s[5]++;return new ChainDataStore(e,l)}static createVolatile(){Un.f[2]++;const n=(Un.s[6]++,JDB.JungleDB.createVolatileObjectStore()),e=(Un.s[7]++,JDB.JungleDB.createVolatileObjectStore());Un.s[8]++;ChainDataStore._createIndexes(n);Un.s[9]++;return new ChainDataStore(n,e)}static _createIndexes(n){Un.f[3]++;Un.s[10]++;n.createIndex("height",["_height"],{lmdbKeyEncoding:JDB.JungleDB.NUMBER_ENCODING,leveldbKeyEncoding:JDB.JungleDB.NUMBER_ENCODING})}constructor(n,e){Un.f[4]++;Un.s[11]++;this._chainStore=n;Un.s[12]++;this._blockStore=e}async getChainData(n,e=(Un.b[0][0]++,!1)){Un.f[5]++;const l=(Un.s[13]++,await this._chainStore.get(n.toBase64()));Un.s[14]++;if((Un.b[2][0]++,!l)||(Un.b[2][1]++,!e)){Un.b[1][0]++;Un.s[15]++;return l}Un.b[1][1]++;const t=(Un.s[16]++,await this._blockStore.get(n.toBase64()));Un.s[17]++;if((Un.b[4][0]++,t)&&(Un.b[4][1]++,t.isFull())){Un.b[3][0]++;Un.s[18]++;l.head._body=t.body}else Un.b[3][1]++;Un.s[19]++;return l}putChainData(n,e,l=(Un.b[5][0]++,!0)){Un.f[6]++;Un.s[20]++;if(this._chainStore instanceof JDB.Transaction){Un.b[6][0]++;Un.s[21]++;this._chainStore.putSync(n.toBase64(),e);Un.s[22]++;if((Un.b[8][0]++,l)&&(Un.b[8][1]++,e.head.isFull())){Un.b[7][0]++;Un.s[23]++;this._blockStore.putSync(n.toBase64(),e.head)}else Un.b[7][1]++;Un.s[24]++;return Promise.resolve(!0)}Un.b[6][1]++;Un.s[25]++;if((Un.b[10][0]++,l)&&(Un.b[10][1]++,e.head.isFull())){Un.b[9][0]++;const l=(Un.s[26]++,this._chainStore.synchronousTransaction());Un.s[27]++;l.putSync(n.toBase64(),e);const t=(Un.s[28]++,this._blockStore.synchronousTransaction());Un.s[29]++;t.putSync(n.toBase64(),e.head);Un.s[30]++;return JDB.JungleDB.commitCombined(l,t)}Un.b[9][1]++;Un.s[31]++;return this._chainStore.put(n.toBase64(),e)}putChainDataSync(n,e,l=(Un.b[11][0]++,!0)){Un.f[7]++;Un.s[32]++;Assert.that(this._chainStore instanceof JDB.Transaction);Un.s[33]++;this._chainStore.putSync(n.toBase64(),e);Un.s[34]++;if((Un.b[13][0]++,l)&&(Un.b[13][1]++,e.head.isFull())){Un.b[12][0]++;Un.s[35]++;this._blockStore.putSync(n.toBase64(),e.head)}else Un.b[12][1]++}async getBlock(n,e=(Un.b[14][0]++,!1)){Un.f[8]++;Un.s[36]++;if(e){Un.b[15][0]++;const e=(Un.s[37]++,await this._blockStore.get(n.toBase64()));Un.s[38]++;if(e){Un.b[16][0]++;Un.s[39]++;return e}Un.b[16][1]++}else Un.b[15][1]++;const l=(Un.s[40]++,await this._chainStore.get(n.toBase64()));Un.s[41]++;return l?(Un.b[17][0]++,l.head):(Un.b[17][1]++,null)}async getChainDataAt(n,e=(Un.b[18][0]++,!1)){Un.f[9]++;const l=(Un.s[42]++,await this._chainStore.values(JDB.Query.eq("height",n)));Un.s[43]++;if((Un.b[20][0]++,!l)||(Un.b[20][1]++,!l.length)){Un.b[19][0]++;Un.s[44]++;return undefined}Un.b[19][1]++;Un.s[45]++;for(const t of l){Un.s[46]++;if(t.onMainChain){Un.b[21][0]++;Un.s[47]++;if(e){Un.b[22][0]++;const n=(Un.s[48]++,await this._blockStore.get(t.head.hash().toBase64()));Un.s[49]++;if(n){Un.b[23][0]++;Un.s[50]++;t._head=n}else Un.b[23][1]++}else Un.b[22][1]++;Un.s[51]++;return t}Un.b[21][1]++}Un.s[52]++;return null}async getBlockAt(n,e=(Un.b[24][0]++,!1)){Un.f[10]++;const l=(Un.s[53]++,await this.getChainDataAt(n,e));Un.s[54]++;return l?(Un.b[25][0]++,l.head):(Un.b[25][1]++,null)}async getNearestBlockAt(n,e=(Un.b[26][0]++,!0)){Un.f[11]++;const l=(Un.s[55]++,this._chainStore.index("height")),t=(Un.s[56]++,e?(Un.b[27][0]++,await l.maxValues(JDB.KeyRange.upperBound(n))):(Un.b[27][1]++,await l.minValues(JDB.KeyRange.lowerBound(n))));Un.s[57]++;if((Un.b[29][0]++,!t)||(Un.b[29][1]++,!t.length)){Un.b[28][0]++;Un.s[58]++;return undefined}Un.b[28][1]++;Un.s[59]++;for(const o of t){Un.s[60]++;if(o.onMainChain){Un.b[30][0]++;Un.s[61]++;return o.head}Un.b[30][1]++}Un.s[62]++;return null}getBlocks(n,e=(Un.b[31][0]++,500),l=(Un.b[32][0]++,!0)){Un.f[12]++;Un.s[63]++;if(e<=0){Un.b[33][0]++;Un.s[64]++;return Promise.resolve([])}Un.b[33][1]++;Un.s[65]++;if(l){Un.b[34][0]++;Un.s[66]++;return this.getBlocksForward(n,e)}Un.b[34][1]++;Un.s[67]++;return this.getBlocksBackward(n,e)}async getBlocksForward(n,e=(Un.b[35][0]++,500)){Un.f[13]++;let l=(Un.s[68]++,await this._chainStore.get(n.toBase64()));Un.s[69]++;if(!l){Un.b[36][0]++;Un.s[70]++;return[]}Un.b[36][1]++;const t=(Un.s[71]++,[]);Un.s[72]++;for(;(Un.b[37][0]++,t.length<e)&&(Un.b[37][1]++,l.mainChainSuccessor);){Un.s[73]++;l=await this._chainStore.get(l.mainChainSuccessor.toBase64());Un.s[74]++;if(!l){Un.b[38][0]++;Un.s[75]++;return t}Un.b[38][1]++;Un.s[76]++;t.push(l.head)}Un.s[77]++;return t}async getBlocksBackward(n,e=(Un.b[39][0]++,500),l=(Un.b[40][0]++,!1)){Un.f[14]++;const t=(Un.s[78]++,l?(Un.b[41][0]++,n=>{Un.f[15]++;Un.s[79]++;return this._blockStore.get(n)}):(Un.b[41][1]++,n=>{Un.f[16]++;Un.s[80]++;return this._chainStore.get(n).then(n=>{Un.f[17]++;Un.s[81]++;return n.head})})),o=(Un.s[82]++,await this._chainStore.get(n.toBase64()));Un.s[83]++;if(!o){Un.b[42][0]++;Un.s[84]++;return[]}Un.b[42][1]++;let i=(Un.s[85]++,o.head);const c=(Un.s[86]++,[]);Un.s[87]++;for(;(Un.b[43][0]++,c.length<e)&&(Un.b[43][1]++,i.height>1);){Un.s[88]++;i=await t(i.prevHash.toBase64());Un.s[89]++;if(!i){Un.b[44][0]++;Un.s[90]++;return c}Un.b[44][1]++;Un.s[91]++;c.push(i)}Un.s[92]++;return c}async getHead(){Un.f[18]++;const n=(Un.s[93]++,await this._chainStore.get("main"));Un.s[94]++;return n?(Un.b[45][0]++,Hash.fromBase64(n)):(Un.b[45][1]++,undefined)}setHead(n){Un.f[19]++;Un.s[95]++;return this._chainStore.put("main",n.toBase64())}setHeadSync(n){Un.f[20]++;Un.s[96]++;Assert.that(this._chainStore instanceof JDB.SynchronousTransaction);Un.s[97]++;this._chainStore.putSync("main",n.toBase64())}transaction(n=(Un.b[46][0]++,!0)){Un.f[21]++;const e=(Un.s[98]++,this._chainStore.transaction(n)),l=(Un.s[99]++,this._blockStore.transaction(n));Un.s[100]++;return new ChainDataStore(e,l)}synchronousTransaction(n=(Un.b[47][0]++,!0)){Un.f[22]++;const e=(Un.s[101]++,this._chainStore.synchronousTransaction(n)),l=(Un.s[102]++,this._blockStore.synchronousTransaction(n));Un.s[103]++;return new ChainDataStore(e,l)}commit(){Un.f[23]++;Un.s[104]++;if(this._chainStore instanceof JDB.Transaction){Un.b[48][0]++;Un.s[105]++;return JDB.JungleDB.commitCombined(this._chainStore,this._blockStore)}Un.b[48][1]++;Un.s[106]++;return Promise.resolve()}abort(){Un.f[24]++;Un.s[107]++;return Promise.all([this._chainStore.abort(),this._blockStore.abort()])}snapshot(){Un.f[25]++;const n=(Un.s[108]++,this._chainStore.snapshot()),e=(Un.s[109]++,this._blockStore.snapshot());Un.s[110]++;return new ChainDataStore(n,e)}truncate(){Un.f[26]++;Un.s[111]++;if(this._chainStore instanceof JDB.Transaction){Un.b[49][0]++;Un.s[112]++;this._chainStore.truncateSync();Un.s[113]++;this._blockStore.truncateSync();Un.s[114]++;return Promise.resolve(!0)}Un.b[49][1]++;const n=(Un.s[115]++,this._chainStore.transaction());Un.s[116]++;n.truncateSync();const e=(Un.s[117]++,this._blockStore.transaction());Un.s[118]++;e.truncateSync();Un.s[119]++;return JDB.JungleDB.commitCombined(n,e)}get txs(){Un.f[27]++;Un.s[120]++;if(this._chainStore instanceof JDB.Transaction){Un.b[50][0]++;Un.s[121]++;return[this._chainStore,this._blockStore]}Un.b[50][1]++;Un.s[122]++;return[]}}Un.s[123]++;Class.register(ChainDataStore);class ChainDataStoreCodec{encode(n){Un.f[28]++;Un.s[124]++;return"string"==typeof n?(Un.b[51][0]++,n):(Un.b[51][1]++,n.toObj())}decode(n,e){Un.f[29]++;Un.s[125]++;return"string"==typeof n?(Un.b[52][0]++,n):(Un.b[52][1]++,ChainData.fromObj(n,e))}get valueEncoding(){Un.f[30]++;Un.s[126]++;return JDB.JungleDB.JSON_ENCODING}}class BlockStoreCodec{encode(n){Un.f[31]++;Un.s[127]++;return n.serialize()}decode(n,e){Un.f[32]++;const l=(Un.s[128]++,Block.unserialize(new SerialBuffer(n)));Un.s[129]++;l.header._hash=Hash.fromBase64(e);Un.s[130]++;return l}get valueEncoding(){Un.f[33]++;Un.s[131]++;return JDB.JungleDB.BINARY_ENCODING}}var xn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/mempool/MempoolTransactionSet.js",e="89674c3d88a90478d7b217ce5715f944dd6eaba1",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/mempool/MempoolTransactionSet.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:64}},1:{start:{line:15,column:8},end:{line:15,column:44}},2:{start:{line:16,column:8},end:{line:16,column:20}},3:{start:{line:24,column:8},end:{line:24,column:47}},4:{start:{line:25,column:8},end:{line:25,column:20}},5:{start:{line:33,column:29},end:{line:33,column:54}},6:{start:{line:34,column:8},end:{line:34,column:38}},7:{start:{line:35,column:8},end:{line:35,column:64}},8:{start:{line:40,column:8},end:{line:40,column:43}},9:{start:{line:45,column:8},end:{line:45,column:92}},10:{start:{line:50,column:8},end:{line:50,column:101}},11:{start:{line:55,column:8},end:{line:55,column:41}},12:{start:{line:63,column:8},end:{line:63,column:101}},13:{start:{line:63,column:55},end:{line:63,column:92}},14:{start:{line:67,column:8},end:{line:67,column:62}},15:{start:{line:71,column:0},end:{line:71,column:38}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:36},end:{line:8,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:14,column:4},end:{line:14,column:5}},loc:{start:{line:14,column:21},end:{line:17,column:5}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:23,column:4},end:{line:23,column:5}},loc:{start:{line:23,column:24},end:{line:26,column:5}},line:23},3:{name:"(anonymous_3)",decl:{start:{line:32,column:4},end:{line:32,column:5}},loc:{start:{line:32,column:28},end:{line:36,column:5}},line:32},4:{name:"(anonymous_4)",decl:{start:{line:39,column:4},end:{line:39,column:5}},loc:{start:{line:39,column:23},end:{line:41,column:5}},line:39},5:{name:"(anonymous_5)",decl:{start:{line:44,column:4},end:{line:44,column:5}},loc:{start:{line:44,column:17},end:{line:46,column:5}},line:44},6:{name:"(anonymous_6)",decl:{start:{line:49,column:4},end:{line:49,column:5}},loc:{start:{line:49,column:21},end:{line:51,column:5}},line:49},7:{name:"(anonymous_7)",decl:{start:{line:54,column:4},end:{line:54,column:5}},loc:{start:{line:54,column:17},end:{line:56,column:5}},line:54},8:{name:"(anonymous_8)",decl:{start:{line:62,column:4},end:{line:62,column:5}},loc:{start:{line:62,column:35},end:{line:64,column:5}},line:62},9:{name:"(anonymous_9)",decl:{start:{line:63,column:50},end:{line:63,column:51}},loc:{start:{line:63,column:55},end:{line:63,column:92}},line:63},10:{name:"(anonymous_10)",decl:{start:{line:66,column:4},end:{line:66,column:5}},loc:{start:{line:66,column:15},end:{line:68,column:5}},line:66}},branchMap:{0:{loc:{start:{line:45,column:15},end:{line:45,column:91}},type:"cond-expr",locations:[{start:{line:45,column:47},end:{line:45,column:84}},{start:{line:45,column:87},end:{line:45,column:91}}],line:45},1:{loc:{start:{line:50,column:15},end:{line:50,column:100}},type:"cond-expr",locations:[{start:{line:50,column:47},end:{line:50,column:88}},{start:{line:50,column:91},end:{line:50,column:100}}],line:50}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class MempoolTransactionSet{constructor(n){xn.f[0]++;xn.s[0]++;this._transactions=new SortedList(n)}add(n){xn.f[1]++;xn.s[1]++;this._transactions.add(n);xn.s[2]++;return this}remove(n){xn.f[2]++;xn.s[3]++;this._transactions.remove(n);xn.s[4]++;return this}copyAndAdd(n){xn.f[3]++;const e=(xn.s[5]++,this._transactions.copy());xn.s[6]++;e.add(n);xn.s[7]++;return new MempoolTransactionSet(e.values())}get transactions(){xn.f[4]++;xn.s[8]++;return this._transactions.values()}get sender(){xn.f[5]++;xn.s[9]++;return this._transactions.length>0?(xn.b[0][0]++,this._transactions.values()[0].sender):(xn.b[0][1]++,null)}get senderType(){xn.f[6]++;xn.s[10]++;return this._transactions.length>0?(xn.b[1][0]++,this._transactions.values()[0].senderType):(xn.b[1][1]++,undefined)}get length(){xn.f[7]++;xn.s[11]++;return this._transactions.length}numBelowFeePerByte(n){xn.f[8]++;xn.s[12]++;return this._transactions.values().filter(e=>{xn.f[9]++;xn.s[13]++;return e.fee/e.serializedSize<n}).length}toString(){xn.f[10]++;xn.s[14]++;return`MempoolTransactionSet{length=${this.length}}`}}xn.s[15]++;Class.register(MempoolTransactionSet);var Dn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/base/mempool/Mempool.js",e="5adb641ce5824cd0f1f3dd515b41babfcc9681ca",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/base/mempool/Mempool.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:16}},1:{start:{line:9,column:8},end:{line:9,column:38}},2:{start:{line:11,column:8},end:{line:11,column:34}},3:{start:{line:15,column:8},end:{line:15,column:58}},4:{start:{line:17,column:8},end:{line:17,column:49}},5:{start:{line:19,column:8},end:{line:19,column:53}},6:{start:{line:21,column:8},end:{line:21,column:56}},7:{start:{line:23,column:8},end:{line:23,column:48}},8:{start:{line:26,column:8},end:{line:26,column:71}},9:{start:{line:26,column:44},end:{line:26,column:69}},10:{start:{line:27,column:8},end:{line:27,column:85}},11:{start:{line:27,column:51},end:{line:27,column:83}},12:{start:{line:36,column:8},end:{line:36,column:81}},13:{start:{line:36,column:45},end:{line:36,column:79}},14:{start:{line:46,column:21},end:{line:46,column:39}},15:{start:{line:47,column:8},end:{line:49,column:9}},16:{start:{line:48,column:12},end:{line:48,column:44}},17:{start:{line:51,column:20},end:{line:51,column:103}},18:{start:{line:53,column:8},end:{line:56,column:9}},19:{start:{line:55,column:12},end:{line:55,column:50}},20:{start:{line:59,column:8},end:{line:61,column:9}},21:{start:{line:60,column:12},end:{line:60,column:46}},22:{start:{line:66,column:8},end:{line:72,column:9}},23:{start:{line:67,column:12},end:{line:67,column:79}},24:{start:{line:68,column:12},end:{line:68,column:95}},25:{start:{line:70,column:12},end:{line:70,column:79}},26:{start:{line:71,column:12},end:{line:71,column:46}},27:{start:{line:77,column:8},end:{line:82,column:9}},28:{start:{line:78,column:12},end:{line:78,column:97}},29:{start:{line:80,column:12},end:{line:80,column:79}},30:{start:{line:81,column:12},end:{line:81,column:46}},31:{start:{line:87,column:29},end:{line:87,column:31}},32:{start:{line:88,column:25},end:{line:88,column:38}},33:{start:{line:89,column:8},end:{line:113,column:9}},34:{start:{line:90,column:24},end:{line:90,column:58}},35:{start:{line:91,column:12},end:{line:101,column:13}},36:{start:{line:92,column:16},end:{line:98,column:17}},37:{start:{line:93,column:20},end:{line:93,column:136}},38:{start:{line:94,column:20},end:{line:94,column:42}},39:{start:{line:97,column:20},end:{line:97,column:29}},40:{start:{line:100,column:16},end:{line:100,column:34}},41:{start:{line:106,column:12},end:{line:112,column:13}},42:{start:{line:107,column:16},end:{line:107,column:79}},43:{start:{line:108,column:16},end:{line:108,column:50}},44:{start:{line:111,column:16},end:{line:111,column:44}},45:{start:{line:115,column:8},end:{line:117,column:9}},46:{start:{line:116,column:12},end:{line:116,column:41}},47:{start:{line:120,column:8},end:{line:120,column:56}},48:{start:{line:121,column:8},end:{line:121,column:56}},49:{start:{line:122,column:8},end:{line:122,column:102}},50:{start:{line:124,column:28},end:{line:124,column:103}},51:{start:{line:125,column:8},end:{line:125,column:44}},52:{start:{line:126,column:8},end:{line:126,column:80}},53:{start:{line:129,column:8},end:{line:129,column:52}},54:{start:{line:131,column:8},end:{line:131,column:43}},55:{start:{line:139,column:28},end:{line:139,column:64}},56:{start:{line:142,column:20},end:{line:142,column:72}},57:{start:{line:143,column:8},end:{line:143,column:32}},58:{start:{line:146,column:28},end:{line:146,column:86}},59:{start:{line:147,column:8},end:{line:155,column:9}},60:{start:{line:148,column:12},end:{line:152,column:13}},61:{start:{line:149,column:16},end:{line:149,column:78}},62:{start:{line:151,column:16},end:{line:151,column:55}},63:{start:{line:154,column:12},end:{line:154,column:91}},64:{start:{line:157,column:8},end:{line:157,column:60}},65:{start:{line:166,column:8},end:{line:166,column:60}},66:{start:{line:169,column:8},end:{line:169,column:59}},67:{start:{line:172,column:28},end:{line:172,column:86}},68:{start:{line:173,column:8},end:{line:181,column:9}},69:{start:{line:174,column:12},end:{line:178,column:13}},70:{start:{line:175,column:16},end:{line:175,column:78}},71:{start:{line:177,column:16},end:{line:177,column:55}},72:{start:{line:180,column:12},end:{line:180,column:91}},73:{start:{line:189,column:8},end:{line:189,column:50}},74:{start:{line:198,column:19},end:{line:198,column:20}},75:{start:{line:199,column:8},end:{line:206,column:9}},76:{start:{line:200,column:27},end:{line:200,column:44}},77:{start:{line:201,column:12},end:{line:201,column:51}},78:{start:{line:201,column:42},end:{line:201,column:51}},79:{start:{line:202,column:12},end:{line:202,column:53}},80:{start:{line:202,column:47},end:{line:202,column:53}},81:{start:{line:204,column:12},end:{line:204,column:21}},82:{start:{line:205,column:12},end:{line:205,column:27}},83:{start:{line:215,column:8},end:{line:215,column:77}},84:{start:{line:223,column:29},end:{line:223,column:58}},85:{start:{line:224,column:31},end:{line:224,column:154}},86:{start:{line:225,column:35},end:{line:225,column:99}},87:{start:{line:225,column:71},end:{line:225,column:95}},88:{start:{line:227,column:19},end:{line:227,column:100}},89:{start:{line:227,column:73},end:{line:227,column:96}},90:{start:{line:228,column:8},end:{line:230,column:9}},91:{start:{line:229,column:12},end:{line:229,column:54}},92:{start:{line:232,column:8},end:{line:232,column:60}},93:{start:{line:232,column:36},end:{line:232,column:58}},94:{start:{line:233,column:8},end:{line:233,column:28}},95:{start:{line:241,column:8},end:{line:241,column:53}},96:{start:{line:250,column:20},end:{line:250,column:61}},97:{start:{line:251,column:8},end:{line:251,column:43}},98:{start:{line:260,column:20},end:{line:260,column:64}},99:{start:{line:261,column:8},end:{line:263,column:9}},100:{start:{line:262,column:12},end:{line:262,column:22}},101:{start:{line:266,column:29},end:{line:266,column:31}},102:{start:{line:267,column:8},end:{line:271,column:9}},103:{start:{line:268,column:23},end:{line:268,column:57}},104:{start:{line:269,column:12},end:{line:269,column:30}},105:{start:{line:270,column:12},end:{line:270,column:34}},106:{start:{line:272,column:8},end:{line:272,column:28}},107:{start:{line:281,column:29},end:{line:281,column:31}},108:{start:{line:282,column:8},end:{line:298,column:9}},109:{start:{line:285,column:29},end:{line:285,column:66}},110:{start:{line:286,column:12},end:{line:289,column:13}},111:{start:{line:287,column:16},end:{line:287,column:80}},112:{start:{line:287,column:60},end:{line:287,column:80}},113:{start:{line:288,column:16},end:{line:288,column:38}},114:{start:{line:293,column:32},end:{line:293,column:72}},115:{start:{line:294,column:12},end:{line:297,column:13}},116:{start:{line:295,column:16},end:{line:295,column:80}},117:{start:{line:295,column:60},end:{line:295,column:80}},118:{start:{line:296,column:16},end:{line:296,column:38}},119:{start:{line:299,column:8},end:{line:299,column:28}},120:{start:{line:307,column:26},end:{line:307,column:67}},121:{start:{line:308,column:8},end:{line:329,column:9}},122:{start:{line:309,column:12},end:{line:309,column:49}},123:{start:{line:311,column:12},end:{line:311,column:64}},124:{start:{line:314,column:29},end:{line:314,column:81}},125:{start:{line:315,column:12},end:{line:319,column:13}},126:{start:{line:316,column:16},end:{line:316,column:72}},127:{start:{line:318,column:16},end:{line:318,column:45}},128:{start:{line:321,column:32},end:{line:321,column:90}},129:{start:{line:322,column:12},end:{line:326,column:13}},130:{start:{line:323,column:16},end:{line:323,column:78}},131:{start:{line:325,column:16},end:{line:325,column:55}},132:{start:{line:328,column:12},end:{line:328,column:68}},133:{start:{line:338,column:8},end:{line:342,column:11}},134:{start:{line:339,column:12},end:{line:341,column:13}},135:{start:{line:340,column:16},end:{line:340,column:48}},136:{start:{line:351,column:8},end:{line:351,column:73}},137:{start:{line:351,column:45},end:{line:351,column:71}},138:{start:{line:363,column:8},end:{line:401,column:9}},139:{start:{line:365,column:24},end:{line:365,column:64}},140:{start:{line:367,column:12},end:{line:400,column:13}},141:{start:{line:368,column:38},end:{line:368,column:90}},142:{start:{line:373,column:37},end:{line:373,column:39}},143:{start:{line:374,column:30},end:{line:374,column:43}},144:{start:{line:375,column:16},end:{line:388,column:17}},145:{start:{line:376,column:20},end:{line:387,column:21}},146:{start:{line:377,column:43},end:{line:377,column:142}},147:{start:{line:379,column:49},end:{line:379,column:87}},148:{start:{line:380,column:24},end:{line:380,column:98}},149:{start:{line:382,column:24},end:{line:382,column:46}},150:{start:{line:383,column:24},end:{line:383,column:45}},151:{start:{line:386,column:24},end:{line:386,column:52}},152:{start:{line:389,column:16},end:{line:393,column:17}},153:{start:{line:390,column:20},end:{line:390,column:64}},154:{start:{line:392,column:20},end:{line:392,column:102}},155:{start:{line:396,column:16},end:{line:398,column:17}},156:{start:{line:397,column:20},end:{line:397,column:48}},157:{start:{line:399,column:16},end:{line:399,column:60}},158:{start:{line:407,column:8},end:{line:407,column:40}},159:{start:{line:412,column:8},end:{line:412,column:47}},160:{start:{line:420,column:0},end:{line:420,column:38}},161:{start:{line:425,column:0},end:{line:425,column:42}},162:{start:{line:430,column:0},end:{line:430,column:46}},163:{start:{line:435,column:0},end:{line:435,column:26}},164:{start:{line:438,column:0},end:{line:444,column:2}},165:{start:{line:446,column:0},end:{line:446,column:24}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:38},end:{line:28,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:26,column:38},end:{line:26,column:39}},loc:{start:{line:26,column:44},end:{line:26,column:69}},line:26},2:{name:"(anonymous_2)",decl:{start:{line:27,column:40},end:{line:27,column:41}},loc:{start:{line:27,column:51},end:{line:27,column:83}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:35,column:4},end:{line:35,column:5}},loc:{start:{line:35,column:33},end:{line:37,column:5}},line:35},4:{name:"(anonymous_4)",decl:{start:{line:36,column:39},end:{line:36,column:40}},loc:{start:{line:36,column:45},end:{line:36,column:79}},line:36},5:{name:"(anonymous_5)",decl:{start:{line:44,column:4},end:{line:44,column:5}},loc:{start:{line:44,column:40},end:{line:132,column:5}},line:44},6:{name:"(anonymous_6)",decl:{start:{line:137,column:4},end:{line:137,column:5}},loc:{start:{line:137,column:28},end:{line:158,column:5}},line:137},7:{name:"(anonymous_7)",decl:{start:{line:165,column:4},end:{line:165,column:5}},loc:{start:{line:165,column:36},end:{line:182,column:5}},line:165},8:{name:"(anonymous_8)",decl:{start:{line:188,column:4},end:{line:188,column:5}},loc:{start:{line:188,column:25},end:{line:190,column:5}},line:188},9:{name:"(anonymous_9)",decl:{start:{line:197,column:4},end:{line:197,column:5}},loc:{start:{line:197,column:65},end:{line:207,column:5}},line:197},10:{name:"(anonymous_10)",decl:{start:{line:214,column:4},end:{line:214,column:5}},loc:{start:{line:214,column:59},end:{line:216,column:5}},line:214},11:{name:"(anonymous_11)",decl:{start:{line:222,column:4},end:{line:222,column:5}},loc:{start:{line:222,column:43},end:{line:234,column:5}},line:222},12:{name:"(anonymous_12)",decl:{start:{line:225,column:57},end:{line:225,column:58}},loc:{start:{line:225,column:71},end:{line:225,column:95}},line:225},13:{name:"(anonymous_13)",decl:{start:{line:227,column:60},end:{line:227,column:61}},loc:{start:{line:227,column:73},end:{line:227,column:96}},line:227},14:{name:"(anonymous_14)",decl:{start:{line:232,column:26},end:{line:232,column:27}},loc:{start:{line:232,column:36},end:{line:232,column:58}},line:232},15:{name:"(anonymous_15)",decl:{start:{line:240,column:4},end:{line:240,column:5}},loc:{start:{line:240,column:36},end:{line:242,column:5}},line:240},16:{name:"(anonymous_16)",decl:{start:{line:248,column:4},end:{line:248,column:5}},loc:{start:{line:248,column:37},end:{line:252,column:5}},line:248},17:{name:"(anonymous_17)",decl:{start:{line:258,column:4},end:{line:258,column:5}},loc:{start:{line:258,column:40},end:{line:273,column:5}},line:258},18:{name:"(anonymous_18)",decl:{start:{line:280,column:4},end:{line:280,column:5}},loc:{start:{line:280,column:70},end:{line:300,column:5}},line:280},19:{name:"(anonymous_19)",decl:{start:{line:305,column:4},end:{line:305,column:5}},loc:{start:{line:305,column:43},end:{line:330,column:5}},line:305},20:{name:"(anonymous_20)",decl:{start:{line:337,column:4},end:{line:337,column:5}},loc:{start:{line:337,column:32},end:{line:343,column:5}},line:337},21:{name:"(anonymous_21)",decl:{start:{line:338,column:39},end:{line:338,column:40}},loc:{start:{line:338,column:51},end:{line:342,column:9}},line:338},22:{name:"(anonymous_22)",decl:{start:{line:350,column:4},end:{line:350,column:5}},loc:{start:{line:350,column:25},end:{line:352,column:5}},line:350},23:{name:"(anonymous_23)",decl:{start:{line:351,column:39},end:{line:351,column:40}},loc:{start:{line:351,column:45},end:{line:351,column:71}},line:351},24:{name:"(anonymous_24)",decl:{start:{line:359,column:4},end:{line:359,column:5}},loc:{start:{line:359,column:32},end:{line:408,column:5}},line:359},25:{name:"(anonymous_25)",decl:{start:{line:411,column:4},end:{line:411,column:5}},loc:{start:{line:411,column:17},end:{line:413,column:5}},line:411}},branchMap:{0:{loc:{start:{line:47,column:8},end:{line:49,column:9}},type:"if",locations:[{start:{line:47,column:8},end:{line:49,column:9}},{start:{line:47,column:8},end:{line:49,column:9}}],line:47},1:{loc:{start:{line:51,column:20},end:{line:51,column:103}},type:"binary-expr",locations:[{start:{line:51,column:20},end:{line:51,column:72}},{start:{line:51,column:76},end:{line:51,column:103}}],line:51},2:{loc:{start:{line:53,column:8},end:{line:56,column:9}},type:"if",locations:[{start:{line:53,column:8},end:{line:56,column:9}},{start:{line:53,column:8},end:{line:56,column:9}}],line:53},3:{loc:{start:{line:53,column:12},end:{line:54,column:116}},type:"binary-expr",locations:[{start:{line:53,column:12},end:{line:53,column:92}},{start:{line:54,column:15},end:{line:54,column:116}}],line:53},4:{loc:{start:{line:59,column:8},end:{line:61,column:9}},type:"if",locations:[{start:{line:59,column:8},end:{line:61,column:9}},{start:{line:59,column:8},end:{line:61,column:9}}],line:59},5:{loc:{start:{line:92,column:16},end:{line:98,column:17}},type:"if",locations:[{start:{line:92,column:16},end:{line:98,column:17}},{start:{line:92,column:16},end:{line:98,column:17}}],line:92},6:{loc:{start:{line:106,column:12},end:{line:112,column:13}},type:"if",locations:[{start:{line:106,column:12},end:{line:112,column:13}},{start:{line:106,column:12},end:{line:112,column:13}}],line:106},7:{loc:{start:{line:115,column:8},end:{line:117,column:9}},type:"if",locations:[{start:{line:115,column:8},end:{line:117,column:9}},{start:{line:115,column:8},end:{line:117,column:9}}],line:115},8:{loc:{start:{line:124,column:28},end:{line:124,column:103}},type:"binary-expr",locations:[{start:{line:124,column:28},end:{line:124,column:86}},{start:{line:124,column:90},end:{line:124,column:103}}],line:124},9:{loc:{start:{line:147,column:8},end:{line:155,column:9}},type:"if",locations:[{start:{line:147,column:8},end:{line:155,column:9}},{start:{line:147,column:8},end:{line:155,column:9}}],line:147},10:{loc:{start:{line:148,column:12},end:{line:152,column:13}},type:"if",locations:[{start:{line:148,column:12},end:{line:152,column:13}},{start:{line:148,column:12},end:{line:152,column:13}}],line:148},11:{loc:{start:{line:173,column:8},end:{line:181,column:9}},type:"if",locations:[{start:{line:173,column:8},end:{line:181,column:9}},{start:{line:173,column:8},end:{line:181,column:9}}],line:173},12:{loc:{start:{line:174,column:12},end:{line:178,column:13}},type:"if",locations:[{start:{line:174,column:12},end:{line:178,column:13}},{start:{line:174,column:12},end:{line:178,column:13}}],line:174},13:{loc:{start:{line:197,column:26},end:{line:197,column:44}},type:"default-arg",locations:[{start:{line:197,column:36},end:{line:197,column:44}}],line:197},14:{loc:{start:{line:197,column:46},end:{line:197,column:63}},type:"default-arg",locations:[{start:{line:197,column:62},end:{line:197,column:63}}],line:197},15:{loc:{start:{line:201,column:12},end:{line:201,column:51}},type:"if",locations:[{start:{line:201,column:12},end:{line:201,column:51}},{start:{line:201,column:12},end:{line:201,column:51}}],line:201},16:{loc:{start:{line:202,column:12},end:{line:202,column:53}},type:"if",locations:[{start:{line:202,column:12},end:{line:202,column:53}},{start:{line:202,column:12},end:{line:202,column:53}}],line:202},17:{loc:{start:{line:214,column:20},end:{line:214,column:38}},type:"default-arg",locations:[{start:{line:214,column:30},end:{line:214,column:38}}],line:214},18:{loc:{start:{line:214,column:40},end:{line:214,column:57}},type:"default-arg",locations:[{start:{line:214,column:56},end:{line:214,column:57}}],line:214},19:{loc:{start:{line:251,column:15},end:{line:251,column:42}},type:"cond-expr",locations:[{start:{line:251,column:21},end:{line:251,column:37}},{start:{line:251,column:40},end:{line:251,column:42}}],line:251},20:{loc:{start:{line:261,column:8},end:{line:263,column:9}},type:"if",locations:[{start:{line:261,column:8},end:{line:263,column:9}},{start:{line:261,column:8},end:{line:263,column:9}}],line:261},21:{loc:{start:{line:280,column:42},end:{line:280,column:68}},type:"default-arg",locations:[{start:{line:280,column:60},end:{line:280,column:68}}],line:280},22:{loc:{start:{line:287,column:16},end:{line:287,column:80}},type:"if",locations:[{start:{line:287,column:16},end:{line:287,column:80}},{start:{line:287,column:16},end:{line:287,column:80}}],line:287},23:{loc:{start:{line:295,column:16},end:{line:295,column:80}},type:"if",locations:[{start:{line:295,column:16},end:{line:295,column:80}},{start:{line:295,column:16},end:{line:295,column:80}}],line:295},24:{loc:{start:{line:308,column:15},end:{line:308,column:68}},type:"binary-expr",locations:[{start:{line:308,column:15},end:{line:308,column:26}},{start:{line:308,column:30},end:{line:308,column:68}}],line:308},25:{loc:{start:{line:315,column:12},end:{line:319,column:13}},type:"if",locations:[{start:{line:315,column:12},end:{line:319,column:13}},{start:{line:315,column:12},end:{line:319,column:13}}],line:315},26:{loc:{start:{line:322,column:12},end:{line:326,column:13}},type:"if",locations:[{start:{line:322,column:12},end:{line:326,column:13}},{start:{line:322,column:12},end:{line:326,column:13}}],line:322},27:{loc:{start:{line:389,column:16},end:{line:393,column:17}},type:"if",locations:[{start:{line:389,column:16},end:{line:393,column:17}},{start:{line:389,column:16},end:{line:393,column:17}}],line:389}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0],14:[0],15:[0,0],16:[0,0],17:[0],18:[0],19:[0,0],20:[0,0],21:[0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Mempool extends Observable{constructor(n,e){Dn.f[0]++;Dn.s[0]++;super();Dn.s[1]++;this._blockchain=n;Dn.s[2]++;this._accounts=e;Dn.s[3]++;this._transactionsByFeePerByte=new SortedList;Dn.s[4]++;this._transactionsByHash=new HashMap;Dn.s[5]++;this._transactionSetBySender=new HashMap;Dn.s[6]++;this._transactionSetByRecipient=new HashMap;Dn.s[7]++;this._synchronizer=new Synchronizer;Dn.s[8]++;n.on("head-changed",()=>{Dn.f[1]++;Dn.s[9]++;return this._evictTransactions()});Dn.s[10]++;n.on("block-reverted",n=>{Dn.f[2]++;Dn.s[11]++;return this._restoreTransactions(n)})}pushTransaction(n){Dn.f[3]++;Dn.s[12]++;return this._synchronizer.push(()=>{Dn.f[4]++;Dn.s[13]++;return this._pushTransaction(n)})}async _pushTransaction(n){Dn.f[5]++;const e=(Dn.s[14]++,n.hash());Dn.s[15]++;if(this._transactionsByHash.contains(e)){Dn.b[0][0]++;Dn.s[16]++;return Mempool.ReturnCode.KNOWN}Dn.b[0][1]++;const l=(Dn.s[17]++,(Dn.b[1][0]++,this._transactionSetBySender.get(n.sender))||(Dn.b[1][1]++,new MempoolTransactionSet));Dn.s[18]++;if((Dn.b[3][0]++,n.fee/n.serializedSize<Mempool.TRANSACTION_RELAY_FEE_MIN)&&(Dn.b[3][1]++,l.numBelowFeePerByte(Mempool.TRANSACTION_RELAY_FEE_MIN)>=Mempool.FREE_TRANSACTIONS_PER_SENDER_MAX)){Dn.b[2][0]++;Dn.s[19]++;return Mempool.ReturnCode.FEE_TOO_LOW}Dn.b[2][1]++;Dn.s[20]++;if(!n.verify()){Dn.b[4][0]++;Dn.s[21]++;return Mempool.ReturnCode.INVALID}Dn.b[4][1]++;let t,o;Dn.s[22]++;try{Dn.s[23]++;t=await this._accounts.get(n.recipient);Dn.s[24]++;t.withIncomingTransaction(n,this._blockchain.height+1)}catch(u){Dn.s[25]++;Log.w(Mempool,`Rejected transaction - ${u.message}`,n);Dn.s[26]++;return Mempool.ReturnCode.INVALID}Dn.s[27]++;try{Dn.s[28]++;o=await this._accounts.get(n.sender,n.senderType)}catch(u){Dn.s[29]++;Log.w(Mempool,`Rejected transaction - ${u.message}`,n);Dn.s[30]++;return Mempool.ReturnCode.INVALID}const i=(Dn.s[31]++,[]);let c=(Dn.s[32]++,o);Dn.s[33]++;for(const m of l.copyAndAdd(n).transactions){let e=(Dn.s[34]++,"transactions per sender exceeded");Dn.s[35]++;try{Dn.s[36]++;if(i.length<Mempool.TRANSACTIONS_PER_SENDER_MAX){Dn.b[5][0]++;Dn.s[37]++;c=c.withOutgoingTransaction(m,this._blockchain.height+1,this._blockchain.transactionCache);Dn.s[38]++;i.push(m);Dn.s[39]++;continue}Dn.b[5][1]++}catch(u){Dn.s[40]++;e=u.message}Dn.s[41]++;if(m.equals(n)){Dn.b[6][0]++;Dn.s[42]++;Log.w(Mempool,`Rejected transaction - ${e}`,n);Dn.s[43]++;return Mempool.ReturnCode.INVALID}Dn.b[6][1]++;Dn.s[44]++;this._removeTransaction(m)}Dn.s[45]++;if(this._transactionsByFeePerByte.length>=Mempool.SIZE_MAX){Dn.b[7][0]++;Dn.s[46]++;this._popLowFeeTransaction()}else Dn.b[7][1]++;Dn.s[47]++;this._transactionsByFeePerByte.add(n);Dn.s[48]++;this._transactionsByHash.put(e,n);Dn.s[49]++;this._transactionSetBySender.put(n.sender,new MempoolTransactionSet(i));const s=(Dn.s[50]++,(Dn.b[8][0]++,this._transactionSetByRecipient.get(n.recipient))||(Dn.b[8][1]++,new HashSet));Dn.s[51]++;s.add(n.hash());Dn.s[52]++;this._transactionSetByRecipient.put(n.recipient,s);Dn.s[53]++;this.fire("transaction-added",n);Dn.s[54]++;return Mempool.ReturnCode.ACCEPTED}_popLowFeeTransaction(){Dn.f[6]++;const n=(Dn.s[55]++,this._transactionsByFeePerByte.pop()),e=(Dn.s[56]++,this._transactionSetBySender.get(n.sender));Dn.s[57]++;e.remove(n);const l=(Dn.s[58]++,this._transactionSetByRecipient.get(n.recipient));Dn.s[59]++;if(l){Dn.b[9][0]++;Dn.s[60]++;if(1===l.length){Dn.b[10][0]++;Dn.s[61]++;this._transactionSetByRecipient.remove(n.recipient)}else{Dn.b[10][1]++;Dn.s[62]++;l.remove(n.hash())}}else{Dn.b[9][1]++;Dn.s[63]++;Log.e(Mempool,`Invalid state: no transactionsByRecipient for ${n}`)}Dn.s[64]++;this._transactionsByHash.remove(n.hash())}_removeTransaction(n){Dn.f[7]++;Dn.s[65]++;this._transactionsByHash.remove(n.hash());Dn.s[66]++;this._transactionsByFeePerByte.remove(n);const e=(Dn.s[67]++,this._transactionSetByRecipient.get(n.recipient));Dn.s[68]++;if(e){Dn.b[11][0]++;Dn.s[69]++;if(1===e.length){Dn.b[12][0]++;Dn.s[70]++;this._transactionSetByRecipient.remove(n.recipient)}else{Dn.b[12][1]++;Dn.s[71]++;e.remove(n.hash())}}else{Dn.b[11][1]++;Dn.s[72]++;Log.e(Mempool,`Invalid state: no transactionsByRecipient for ${n}`)}}getTransaction(n){Dn.f[8]++;Dn.s[73]++;return this._transactionsByHash.get(n)}*transactionGenerator(n=(Dn.b[13][0]++,Infinity),e=(Dn.b[14][0]++,0)){Dn.f[9]++;let l=(Dn.s[74]++,0);Dn.s[75]++;for(const t of this._transactionsByFeePerByte){const o=(Dn.s[76]++,t.serializedSize);Dn.s[77]++;if(l+o>=n){Dn.b[15][0]++;Dn.s[78]++}else{Dn.b[15][1]++;Dn.s[79]++;if(t.feePerByte<e){Dn.b[16][0]++;Dn.s[80]++;break}Dn.b[16][1]++;Dn.s[81]++;yield t;Dn.s[82]++;l+=o}}}getTransactions(n=(Dn.b[17][0]++,Infinity),e=(Dn.b[18][0]++,0)){Dn.f[10]++;Dn.s[83]++;return Array.from(this.transactionGenerator(n,e))}async getTransactionsForBlock(n){Dn.f[11]++;const e=(Dn.s[84]++,this.getTransactions(n)),l=(Dn.s[85]++,await this._accounts.gatherToBePrunedAccounts(e,this._blockchain.height+1,this._blockchain.transactionCache)),t=(Dn.s[86]++,l.reduce((n,e)=>{Dn.f[12]++;Dn.s[87]++;return n+e.serializedSize},0));let o=(Dn.s[88]++,t+e.reduce((n,e)=>{Dn.f[13]++;Dn.s[89]++;return n+e.serializedSize},0));Dn.s[90]++;for(;o>n;){Dn.s[91]++;o-=e.pop().serializedSize}Dn.s[92]++;e.sort((n,e)=>{Dn.f[14]++;Dn.s[93]++;return n.compareBlockOrder(e)});Dn.s[94]++;return e}getPendingTransactions(n){Dn.f[15]++;Dn.s[95]++;return this.getTransactionsBySender(n)}getTransactionsBySender(n){Dn.f[16]++;const e=(Dn.s[96]++,this._transactionSetBySender.get(n));Dn.s[97]++;return e?(Dn.b[19][0]++,e.transactions):(Dn.b[19][1]++,[])}getTransactionsByRecipient(n){Dn.f[17]++;const e=(Dn.s[98]++,this._transactionSetByRecipient.get(n));Dn.s[99]++;if(!e){Dn.b[20][0]++;Dn.s[100]++;return[]}Dn.b[20][1]++;const l=(Dn.s[101]++,[]);Dn.s[102]++;for(const t of e.valueIterator()){const n=(Dn.s[103]++,this._transactionsByHash.get(t));Dn.s[104]++;Assert.that(!!n);Dn.s[105]++;l.push(n)}Dn.s[106]++;return l}getTransactionsByAddresses(n,e=(Dn.b[21][0]++,Infinity)){Dn.f[18]++;const l=(Dn.s[107]++,[]);Dn.s[108]++;for(const t of n){const n=(Dn.s[109]++,this.getTransactionsBySender(t));Dn.s[110]++;for(const t of n){Dn.s[111]++;if(l.length>=e){Dn.b[22][0]++;Dn.s[112]++;return l}Dn.b[22][1]++;Dn.s[113]++;l.push(t)}const o=(Dn.s[114]++,this.getTransactionsByRecipient(t));Dn.s[115]++;for(const t of o){Dn.s[116]++;if(l.length>=e){Dn.b[23][0]++;Dn.s[117]++;return l}Dn.b[23][1]++;Dn.s[118]++;l.push(t)}}Dn.s[119]++;return l}evictBelowMinFeePerByte(n){Dn.f[19]++;let e=(Dn.s[120]++,this._transactionsByFeePerByte.peekLast());Dn.s[121]++;for(;(Dn.b[24][0]++,e)&&(Dn.b[24][1]++,e.feePerByte<n);){Dn.s[122]++;this._transactionsByFeePerByte.pop();Dn.s[123]++;this._transactionsByHash.remove(e.hash());const n=(Dn.s[124]++,this._transactionSetBySender.get(e.sender));Dn.s[125]++;if(1===n.length){Dn.b[25][0]++;Dn.s[126]++;this._transactionSetBySender.remove(e.sender)}else{Dn.b[25][1]++;Dn.s[127]++;n.remove(e)}const l=(Dn.s[128]++,this._transactionSetByRecipient.get(e.recipient));Dn.s[129]++;if(1===l.length){Dn.b[26][0]++;Dn.s[130]++;this._transactionSetByRecipient.remove(e.recipient)}else{Dn.b[26][1]++;Dn.s[131]++;l.remove(e.hash())}Dn.s[132]++;e=this._transactionsByFeePerByte.peekLast()}}_restoreTransactions(n){Dn.f[20]++;Dn.s[133]++;return this._synchronizer.push(async()=>{Dn.f[21]++;Dn.s[134]++;for(const e of n.transactions){Dn.s[135]++;await this._pushTransaction(e)}})}_evictTransactions(){Dn.f[22]++;Dn.s[136]++;return this._synchronizer.push(()=>{Dn.f[23]++;Dn.s[137]++;return this.__evictTransactions()})}async __evictTransactions(){Dn.f[24]++;Dn.s[138]++;for(const e of this._transactionSetBySender.keys()){const l=(Dn.s[139]++,this._transactionSetBySender.get(e));Dn.s[140]++;try{const t=(Dn.s[141]++,await this._accounts.get(l.sender,l.senderType)),o=(Dn.s[142]++,[]);let i=(Dn.s[143]++,t);Dn.s[144]++;for(const e of l.transactions){Dn.s[145]++;try{const l=(Dn.s[146]++,i.withOutgoingTransaction(e,this._blockchain.height+1,this._blockchain.transactionCache)),t=(Dn.s[147]++,await this._accounts.get(e.recipient));Dn.s[148]++;t.withIncomingTransaction(e,this._blockchain.height+1);Dn.s[149]++;o.push(e);Dn.s[150]++;i=l}catch(n){Dn.s[151]++;this._removeTransaction(e)}}Dn.s[152]++;if(0===o.length){Dn.b[27][0]++;Dn.s[153]++;this._transactionSetBySender.remove(e)}else{Dn.b[27][1]++;Dn.s[154]++;this._transactionSetBySender.put(e,new MempoolTransactionSet(o))}}catch(n){Dn.s[155]++;for(const e of l.transactions){Dn.s[156]++;this._removeTransaction(e)}Dn.s[157]++;this._transactionSetBySender.remove(e)}}Dn.s[158]++;this.fire("transactions-ready")}get length(){Dn.f[25]++;Dn.s[159]++;return this._transactionsByHash.length}}Dn.s[160]++;Mempool.TRANSACTION_RELAY_FEE_MIN=1;Dn.s[161]++;Mempool.TRANSACTIONS_PER_SENDER_MAX=500;Dn.s[162]++;Mempool.FREE_TRANSACTIONS_PER_SENDER_MAX=10;Dn.s[163]++;Mempool.SIZE_MAX=1e5;Dn.s[164]++;Mempool.ReturnCode={FEE_TOO_LOW:-2,INVALID:-1,ACCEPTED:1,KNOWN:2};Dn.s[165]++;Class.register(Mempool);var zn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/BaseConsensusAgent.js",e="130b21cefc488f987327f89709d0ca469674063f",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/BaseConsensusAgent.js",statementMap:{0:{start:{line:11,column:8},end:{line:11,column:16}},1:{start:{line:13,column:8},end:{line:13,column:26}},2:{start:{line:15,column:8},end:{line:15,column:26}},3:{start:{line:19,column:8},end:{line:19,column:29}},4:{start:{line:23,column:8},end:{line:23,column:43}},5:{start:{line:24,column:8},end:{line:24,column:83}},6:{start:{line:29,column:8},end:{line:29,column:50}},7:{start:{line:31,column:8},end:{line:34,column:71}},8:{start:{line:38,column:8},end:{line:38,column:46}},9:{start:{line:42,column:8},end:{line:42,column:46}},10:{start:{line:46,column:8},end:{line:46,column:48}},11:{start:{line:51,column:8},end:{line:51,column:53}},12:{start:{line:54,column:8},end:{line:54,column:52}},13:{start:{line:55,column:8},end:{line:55,column:44}},14:{start:{line:57,column:8},end:{line:57,column:74}},15:{start:{line:61,column:8},end:{line:61,column:36}},16:{start:{line:65,column:8},end:{line:68,column:71}},17:{start:{line:69,column:8},end:{line:69,column:131}},18:{start:{line:69,column:53},end:{line:69,column:82}},19:{start:{line:73,column:8},end:{line:76,column:71}},20:{start:{line:77,column:8},end:{line:77,column:144}},21:{start:{line:77,column:57},end:{line:77,column:90}},22:{start:{line:80,column:8},end:{line:80,column:39}},23:{start:{line:83,column:8},end:{line:83,column:46}},24:{start:{line:86,column:8},end:{line:86,column:48}},25:{start:{line:89,column:8},end:{line:89,column:53}},26:{start:{line:92,column:8},end:{line:92,column:56}},27:{start:{line:92,column:38},end:{line:92,column:54}},28:{start:{line:93,column:8},end:{line:93,column:60}},29:{start:{line:93,column:40},end:{line:93,column:58}},30:{start:{line:94,column:8},end:{line:94,column:62}},31:{start:{line:94,column:41},end:{line:94,column:60}},32:{start:{line:95,column:8},end:{line:95,column:54}},33:{start:{line:95,column:37},end:{line:95,column:52}},34:{start:{line:96,column:8},end:{line:96,column:67}},35:{start:{line:96,column:44},end:{line:96,column:65}},36:{start:{line:98,column:8},end:{line:98,column:68}},37:{start:{line:98,column:44},end:{line:98,column:66}},38:{start:{line:99,column:8},end:{line:99,column:65}},39:{start:{line:99,column:43},end:{line:99,column:63}},40:{start:{line:100,column:8},end:{line:100,column:69}},41:{start:{line:100,column:45},end:{line:100,column:67}},42:{start:{line:102,column:8},end:{line:102,column:71}},43:{start:{line:102,column:46},end:{line:102,column:69}},44:{start:{line:103,column:8},end:{line:103,column:85}},45:{start:{line:103,column:53},end:{line:103,column:83}},46:{start:{line:104,column:8},end:{line:104,column:89}},47:{start:{line:104,column:55},end:{line:104,column:87}},48:{start:{line:106,column:8},end:{line:106,column:65}},49:{start:{line:106,column:43},end:{line:106,column:63}},50:{start:{line:107,column:8},end:{line:107,column:58}},51:{start:{line:107,column:39},end:{line:107,column:56}},52:{start:{line:110,column:8},end:{line:110,column:56}},53:{start:{line:110,column:39},end:{line:110,column:54}},54:{start:{line:112,column:8},end:{line:112,column:28}},55:{start:{line:116,column:8},end:{line:116,column:37}},56:{start:{line:120,column:8},end:{line:120,column:120}},57:{start:{line:120,column:57},end:{line:120,column:76}},58:{start:{line:128,column:8},end:{line:128,column:62}},59:{start:{line:135,column:8},end:{line:135,column:37}},60:{start:{line:136,column:8},end:{line:136,column:29}},61:{start:{line:143,column:8},end:{line:143,column:48}},62:{start:{line:144,column:8},end:{line:144,column:38}},63:{start:{line:148,column:8},end:{line:148,column:50}},64:{start:{line:155,column:8},end:{line:155,column:47}},65:{start:{line:156,column:8},end:{line:156,column:50}},66:{start:{line:157,column:8},end:{line:157,column:62}},67:{start:{line:166,column:8},end:{line:168,column:9}},68:{start:{line:167,column:12},end:{line:167,column:25}},69:{start:{line:171,column:8},end:{line:173,column:9}},70:{start:{line:172,column:12},end:{line:172,column:25}},71:{start:{line:176,column:23},end:{line:176,column:49}},72:{start:{line:179,column:8},end:{line:181,column:9}},73:{start:{line:180,column:12},end:{line:180,column:25}},74:{start:{line:184,column:8},end:{line:184,column:126}},75:{start:{line:187,column:8},end:{line:187,column:39}},76:{start:{line:189,column:8},end:{line:189,column:20}},77:{start:{line:193,column:27},end:{line:193,column:103}},78:{start:{line:194,column:8},end:{line:197,column:9}},79:{start:{line:195,column:12},end:{line:195,column:47}},80:{start:{line:196,column:12},end:{line:196,column:116}},81:{start:{line:196,column:44},end:{line:196,column:114}},82:{start:{line:201,column:27},end:{line:201,column:29}},83:{start:{line:202,column:19},end:{line:202,column:20}},84:{start:{line:203,column:8},end:{line:208,column:9}},85:{start:{line:205,column:45},end:{line:205,column:82}},86:{start:{line:206,column:12},end:{line:206,column:36}},87:{start:{line:207,column:12},end:{line:207,column:35}},88:{start:{line:209,column:8},end:{line:212,column:9}},89:{start:{line:210,column:12},end:{line:210,column:47}},90:{start:{line:211,column:12},end:{line:211,column:116}},91:{start:{line:211,column:44},end:{line:211,column:114}},92:{start:{line:221,column:8},end:{line:223,column:9}},93:{start:{line:222,column:12},end:{line:222,column:25}},94:{start:{line:226,column:23},end:{line:226,column:61}},95:{start:{line:229,column:8},end:{line:231,column:9}},96:{start:{line:230,column:12},end:{line:230,column:25}},97:{start:{line:234,column:31},end:{line:234,column:57}},98:{start:{line:235,column:8},end:{line:239,column:9}},99:{start:{line:236,column:12},end:{line:236,column:74}},100:{start:{line:238,column:12},end:{line:238,column:52}},101:{start:{line:242,column:8},end:{line:242,column:39}},102:{start:{line:244,column:8},end:{line:244,column:20}},103:{start:{line:252,column:23},end:{line:252,column:69}},104:{start:{line:253,column:8},end:{line:253,column:51}},105:{start:{line:261,column:8},end:{line:261,column:95}},106:{start:{line:262,column:8},end:{line:262,column:52}},107:{start:{line:272,column:8},end:{line:276,column:9}},108:{start:{line:273,column:12},end:{line:273,column:43}},109:{start:{line:274,column:12},end:{line:274,column:51}},110:{start:{line:275,column:12},end:{line:275,column:55}},111:{start:{line:280,column:30},end:{line:280,column:32}},112:{start:{line:281,column:27},end:{line:281,column:29}},113:{start:{line:282,column:8},end:{line:317,column:9}},114:{start:{line:284,column:12},end:{line:286,column:13}},115:{start:{line:285,column:16},end:{line:285,column:25}},116:{start:{line:289,column:12},end:{line:291,column:13}},117:{start:{line:290,column:16},end:{line:290,column:25}},118:{start:{line:293,column:12},end:{line:316,column:13}},119:{start:{line:295,column:34},end:{line:295,column:90}},120:{start:{line:296,column:20},end:{line:301,column:21}},121:{start:{line:297,column:24},end:{line:297,column:51}},122:{start:{line:298,column:24},end:{line:298,column:63}},123:{start:{line:300,column:24},end:{line:300,column:72}},124:{start:{line:302,column:20},end:{line:302,column:26}},125:{start:{line:305,column:40},end:{line:305,column:79}},126:{start:{line:306,column:20},end:{line:311,column:21}},127:{start:{line:307,column:24},end:{line:307,column:48}},128:{start:{line:308,column:24},end:{line:308,column:69}},129:{start:{line:310,column:24},end:{line:310,column:84}},130:{start:{line:312,column:20},end:{line:312,column:26}},131:{start:{line:315,column:20},end:{line:315,column:67}},132:{start:{line:319,column:8},end:{line:319,column:186}},133:{start:{line:319,column:40},end:{line:319,column:184}},134:{start:{line:321,column:8},end:{line:339,column:9}},135:{start:{line:323,column:12},end:{line:323,column:63}},136:{start:{line:324,column:12},end:{line:324,column:57}},137:{start:{line:327,column:12},end:{line:327,column:45}},138:{start:{line:330,column:12},end:{line:336,column:13}},139:{start:{line:331,column:16},end:{line:331,column:36}},140:{start:{line:335,column:16},end:{line:335,column:111}},141:{start:{line:335,column:53},end:{line:335,column:72}},142:{start:{line:338,column:12},end:{line:338,column:39}},143:{start:{line:348,column:8},end:{line:348,column:20}},144:{start:{line:361,column:8},end:{line:361,column:43}},145:{start:{line:371,column:8},end:{line:371,column:43}},146:{start:{line:411,column:8},end:{line:411,column:53}},147:{start:{line:411,column:46},end:{line:411,column:53}},148:{start:{line:414,column:8},end:{line:414,column:89}},149:{start:{line:414,column:82},end:{line:414,column:89}},150:{start:{line:417,column:32},end:{line:417,column:70}},151:{start:{line:419,column:22},end:{line:419,column:73}},152:{start:{line:420,column:8},end:{line:422,column:9}},153:{start:{line:421,column:12},end:{line:421,column:104}},154:{start:{line:425,column:8},end:{line:425,column:46}},155:{start:{line:428,column:8},end:{line:428,column:37}},156:{start:{line:431,column:8},end:{line:431,column:105}},157:{start:{line:431,column:49},end:{line:431,column:67}},158:{start:{line:440,column:8},end:{line:440,column:44}},159:{start:{line:449,column:21},end:{line:449,column:37}},160:{start:{line:452,column:23},end:{line:452,column:64}},161:{start:{line:453,column:8},end:{line:456,column:9}},162:{start:{line:454,column:12},end:{line:454,column:119}},163:{start:{line:455,column:12},end:{line:455,column:19}},164:{start:{line:459,column:29},end:{line:459,column:82}},165:{start:{line:460,column:36},end:{line:460,column:89}},166:{start:{line:460,column:58},end:{line:460,column:88}},167:{start:{line:461,column:8},end:{line:466,column:9}},168:{start:{line:462,column:32},end:{line:462,column:60}},169:{start:{line:463,column:12},end:{line:465,column:13}},170:{start:{line:464,column:16},end:{line:464,column:46}},171:{start:{line:468,column:8},end:{line:471,column:9}},172:{start:{line:469,column:12},end:{line:469,column:47}},173:{start:{line:470,column:12},end:{line:470,column:33}},174:{start:{line:474,column:8},end:{line:474,column:39}},175:{start:{line:477,column:8},end:{line:477,column:44}},176:{start:{line:478,column:8},end:{line:478,column:50}},177:{start:{line:481,column:8},end:{line:481,column:40}},178:{start:{line:499,column:21},end:{line:499,column:38}},179:{start:{line:502,column:23},end:{line:502,column:64}},180:{start:{line:503,column:8},end:{line:506,column:9}},181:{start:{line:504,column:12},end:{line:504,column:120}},182:{start:{line:505,column:12},end:{line:505,column:19}},183:{start:{line:508,column:8},end:{line:511,column:9}},184:{start:{line:509,column:12},end:{line:509,column:41}},185:{start:{line:510,column:12},end:{line:510,column:33}},186:{start:{line:514,column:8},end:{line:514,column:39}},187:{start:{line:517,column:8},end:{line:517,column:44}},188:{start:{line:518,column:8},end:{line:518,column:52}},189:{start:{line:521,column:8},end:{line:521,column:40}},190:{start:{line:539,column:21},end:{line:539,column:43}},191:{start:{line:543,column:23},end:{line:543,column:70}},192:{start:{line:544,column:8},end:{line:547,column:9}},193:{start:{line:545,column:12},end:{line:545,column:125}},194:{start:{line:546,column:12},end:{line:546,column:19}},195:{start:{line:550,column:8},end:{line:550,column:39}},196:{start:{line:553,column:8},end:{line:553,column:44}},197:{start:{line:556,column:8},end:{line:560,column:9}},198:{start:{line:557,column:12},end:{line:557,column:66}},199:{start:{line:558,column:15},end:{line:560,column:9}},200:{start:{line:559,column:12},end:{line:559,column:153}},201:{start:{line:563,column:8},end:{line:563,column:40}},202:{start:{line:581,column:8},end:{line:581,column:126}},203:{start:{line:584,column:8},end:{line:591,column:9}},204:{start:{line:585,column:12},end:{line:587,column:13}},205:{start:{line:586,column:16},end:{line:586,column:25}},206:{start:{line:590,column:12},end:{line:590,column:43}},207:{start:{line:600,column:8},end:{line:600,column:52}},208:{start:{line:600,column:45},end:{line:600,column:52}},209:{start:{line:603,column:8},end:{line:603,column:45}},210:{start:{line:606,column:8},end:{line:610,column:9}},211:{start:{line:607,column:12},end:{line:607,column:111}},212:{start:{line:607,column:55},end:{line:607,column:73}},213:{start:{line:609,column:12},end:{line:609,column:31}},214:{start:{line:619,column:8},end:{line:619,column:45}},215:{start:{line:622,column:8},end:{line:622,column:69}},216:{start:{line:623,column:8},end:{line:623,column:38}},217:{start:{line:626,column:8},end:{line:630,column:9}},218:{start:{line:627,column:12},end:{line:627,column:32}},219:{start:{line:629,column:12},end:{line:629,column:41}},220:{start:{line:654,column:8},end:{line:654,column:47}},221:{start:{line:656,column:8},end:{line:658,column:9}},222:{start:{line:657,column:12},end:{line:657,column:42}},223:{start:{line:675,column:8},end:{line:677,column:9}},224:{start:{line:676,column:12},end:{line:676,column:43}},225:{start:{line:682,column:31},end:{line:682,column:33}},226:{start:{line:683,column:8},end:{line:710,column:9}},227:{start:{line:684,column:12},end:{line:709,column:13}},228:{start:{line:686,column:34},end:{line:686,column:113}},229:{start:{line:687,column:20},end:{line:693,column:21}},230:{start:{line:689,column:24},end:{line:689,column:56}},231:{start:{line:692,column:24},end:{line:692,column:52}},232:{start:{line:694,column:20},end:{line:694,column:26}},233:{start:{line:697,column:31},end:{line:697,column:70}},234:{start:{line:698,column:20},end:{line:704,column:21}},235:{start:{line:700,column:24},end:{line:700,column:50}},236:{start:{line:703,column:24},end:{line:703,column:52}},237:{start:{line:705,column:20},end:{line:705,column:26}},238:{start:{line:708,column:20},end:{line:708,column:67}},239:{start:{line:713,column:8},end:{line:715,column:9}},240:{start:{line:714,column:12},end:{line:714,column:56}},241:{start:{line:725,column:8},end:{line:727,column:9}},242:{start:{line:726,column:12},end:{line:726,column:43}},243:{start:{line:732,column:31},end:{line:732,column:33}},244:{start:{line:733,column:8},end:{line:750,column:9}},245:{start:{line:734,column:12},end:{line:749,column:13}},246:{start:{line:736,column:34},end:{line:736,column:67}},247:{start:{line:737,column:20},end:{line:743,column:21}},248:{start:{line:739,column:24},end:{line:739,column:64}},249:{start:{line:742,column:24},end:{line:742,column:52}},250:{start:{line:744,column:20},end:{line:744,column:26}},251:{start:{line:748,column:20},end:{line:748,column:67}},252:{start:{line:753,column:8},end:{line:755,column:9}},253:{start:{line:754,column:12},end:{line:754,column:56}},254:{start:{line:764,column:8},end:{line:765,column:74}},255:{start:{line:775,column:8},end:{line:775,column:54}},256:{start:{line:777,column:8},end:{line:777,column:120}},257:{start:{line:777,column:40},end:{line:777,column:118}},258:{start:{line:779,column:8},end:{line:793,column:11}},259:{start:{line:780,column:12},end:{line:785,column:14}},260:{start:{line:788,column:12},end:{line:788,column:82}},261:{start:{line:790,column:12},end:{line:792,column:63}},262:{start:{line:791,column:16},end:{line:791,column:45}},263:{start:{line:802,column:8},end:{line:802,column:147}},264:{start:{line:802,column:40},end:{line:802,column:145}},265:{start:{line:805,column:8},end:{line:809,column:9}},266:{start:{line:806,column:12},end:{line:806,column:106}},267:{start:{line:808,column:12},end:{line:808,column:19}},268:{start:{line:811,column:87},end:{line:811,column:110}},269:{start:{line:812,column:8},end:{line:812,column:39}},270:{start:{line:814,column:8},end:{line:817,column:9}},271:{start:{line:815,column:12},end:{line:815,column:66}},272:{start:{line:816,column:12},end:{line:816,column:19}},273:{start:{line:820,column:22},end:{line:820,column:31}},274:{start:{line:821,column:8},end:{line:825,column:9}},275:{start:{line:822,column:12},end:{line:822,column:116}},276:{start:{line:823,column:12},end:{line:823,column:52}},277:{start:{line:824,column:12},end:{line:824,column:19}},278:{start:{line:828,column:8},end:{line:832,column:9}},279:{start:{line:829,column:12},end:{line:829,column:116}},280:{start:{line:830,column:12},end:{line:830,column:52}},281:{start:{line:831,column:12},end:{line:831,column:19}},282:{start:{line:835,column:8},end:{line:841,column:9}},283:{start:{line:836,column:12},end:{line:836,column:100}},284:{start:{line:838,column:12},end:{line:838,column:90}},285:{start:{line:839,column:12},end:{line:839,column:52}},286:{start:{line:840,column:12},end:{line:840,column:19}},287:{start:{line:844,column:36},end:{line:844,column:106}},288:{start:{line:844,column:80},end:{line:844,column:104}},289:{start:{line:845,column:8},end:{line:851,column:9}},290:{start:{line:845,column:49},end:{line:845,column:55}},291:{start:{line:846,column:12},end:{line:846,column:100}},292:{start:{line:848,column:12},end:{line:848,column:90}},293:{start:{line:849,column:12},end:{line:849,column:52}},294:{start:{line:850,column:12},end:{line:850,column:19}},295:{start:{line:854,column:8},end:{line:854,column:28}},296:{start:{line:863,column:8},end:{line:864,column:69}},297:{start:{line:874,column:8},end:{line:874,column:61}},298:{start:{line:876,column:8},end:{line:876,column:136}},299:{start:{line:876,column:40},end:{line:876,column:134}},300:{start:{line:878,column:8},end:{line:894,column:11}},301:{start:{line:879,column:12},end:{line:884,column:14}},302:{start:{line:887,column:12},end:{line:887,column:77}},303:{start:{line:890,column:12},end:{line:893,column:70}},304:{start:{line:891,column:16},end:{line:891,column:115}},305:{start:{line:892,column:16},end:{line:892,column:45}},306:{start:{line:903,column:8},end:{line:903,column:182}},307:{start:{line:903,column:40},end:{line:903,column:180}},308:{start:{line:906,column:8},end:{line:910,column:9}},309:{start:{line:907,column:12},end:{line:907,column:112}},310:{start:{line:909,column:12},end:{line:909,column:19}},311:{start:{line:912,column:62},end:{line:912,column:92}},312:{start:{line:913,column:8},end:{line:913,column:46}},313:{start:{line:915,column:8},end:{line:919,column:9}},314:{start:{line:916,column:12},end:{line:916,column:109}},315:{start:{line:917,column:12},end:{line:917,column:72}},316:{start:{line:918,column:12},end:{line:918,column:19}},317:{start:{line:922,column:8},end:{line:926,column:9}},318:{start:{line:923,column:12},end:{line:923,column:127}},319:{start:{line:924,column:12},end:{line:924,column:57}},320:{start:{line:925,column:12},end:{line:925,column:19}},321:{start:{line:929,column:22},end:{line:929,column:31}},322:{start:{line:930,column:8},end:{line:935,column:9}},323:{start:{line:931,column:12},end:{line:931,column:107}},324:{start:{line:932,column:12},end:{line:932,column:103}},325:{start:{line:933,column:12},end:{line:933,column:59}},326:{start:{line:934,column:12},end:{line:934,column:19}},327:{start:{line:940,column:8},end:{line:940,column:36}},328:{start:{line:948,column:8},end:{line:949,column:62}},329:{start:{line:958,column:8},end:{line:958,column:63}},330:{start:{line:960,column:8},end:{line:973,column:11}},331:{start:{line:961,column:12},end:{line:965,column:14}},332:{start:{line:967,column:12},end:{line:967,column:63}},333:{start:{line:969,column:12},end:{line:972,column:72}},334:{start:{line:970,column:16},end:{line:970,column:119}},335:{start:{line:971,column:16},end:{line:971,column:45}},336:{start:{line:982,column:8},end:{line:982,column:141}},337:{start:{line:982,column:40},end:{line:982,column:139}},338:{start:{line:985,column:8},end:{line:989,column:9}},339:{start:{line:986,column:12},end:{line:986,column:114}},340:{start:{line:988,column:12},end:{line:988,column:19}},341:{start:{line:991,column:26},end:{line:991,column:58}},342:{start:{line:992,column:8},end:{line:992,column:48}},343:{start:{line:996,column:8},end:{line:996,column:41}},344:{start:{line:1004,column:8},end:{line:1004,column:35}},345:{start:{line:1007,column:8},end:{line:1007,column:32}},346:{start:{line:1008,column:8},end:{line:1008,column:34}},347:{start:{line:1009,column:8},end:{line:1009,column:39}},348:{start:{line:1010,column:8},end:{line:1010,column:43}},349:{start:{line:1013,column:8},end:{line:1013,column:33}},350:{start:{line:1018,column:8},end:{line:1018,column:26}},351:{start:{line:1023,column:8},end:{line:1023,column:28}},352:{start:{line:1030,column:0},end:{line:1030,column:42}},353:{start:{line:1035,column:0},end:{line:1035,column:42}},354:{start:{line:1040,column:0},end:{line:1040,column:47}},355:{start:{line:1041,column:0},end:{line:1041,column:59}},356:{start:{line:1042,column:0},end:{line:1042,column:53}},357:{start:{line:1047,column:0},end:{line:1047,column:59}},358:{start:{line:1052,column:0},end:{line:1052,column:66}},359:{start:{line:1057,column:0},end:{line:1057,column:68}},360:{start:{line:1062,column:0},end:{line:1062,column:53}},361:{start:{line:1063,column:0},end:{line:1063,column:46}},362:{start:{line:1064,column:0},end:{line:1064,column:48}},363:{start:{line:1069,column:0},end:{line:1069,column:58}},364:{start:{line:1070,column:0},end:{line:1070,column:50}},365:{start:{line:1071,column:0},end:{line:1071,column:52}},366:{start:{line:1076,column:0},end:{line:1076,column:62}},367:{start:{line:1081,column:0},end:{line:1081,column:49}},368:{start:{line:1086,column:0},end:{line:1086,column:63}},369:{start:{line:1087,column:0},end:{line:1087,column:54}},370:{start:{line:1088,column:0},end:{line:1088,column:35}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:4},end:{line:10,column:5}},loc:{start:{line:10,column:48},end:{line:113,column:5}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:69,column:47},end:{line:69,column:48}},loc:{start:{line:69,column:53},end:{line:69,column:82}},line:69},2:{name:"(anonymous_2)",decl:{start:{line:77,column:51},end:{line:77,column:52}},loc:{start:{line:77,column:57},end:{line:77,column:90}},line:77},3:{name:"(anonymous_3)",decl:{start:{line:92,column:31},end:{line:92,column:32}},loc:{start:{line:92,column:38},end:{line:92,column:54}},line:92},4:{name:"(anonymous_4)",decl:{start:{line:93,column:33},end:{line:93,column:34}},loc:{start:{line:93,column:40},end:{line:93,column:58}},line:93},5:{name:"(anonymous_5)",decl:{start:{line:94,column:34},end:{line:94,column:35}},loc:{start:{line:94,column:41},end:{line:94,column:60}},line:94},6:{name:"(anonymous_6)",decl:{start:{line:95,column:30},end:{line:95,column:31}},loc:{start:{line:95,column:37},end:{line:95,column:52}},line:95},7:{name:"(anonymous_7)",decl:{start:{line:96,column:37},end:{line:96,column:38}},loc:{start:{line:96,column:44},end:{line:96,column:65}},line:96},8:{name:"(anonymous_8)",decl:{start:{line:98,column:37},end:{line:98,column:38}},loc:{start:{line:98,column:44},end:{line:98,column:66}},line:98},9:{name:"(anonymous_9)",decl:{start:{line:99,column:36},end:{line:99,column:37}},loc:{start:{line:99,column:43},end:{line:99,column:63}},line:99},10:{name:"(anonymous_10)",decl:{start:{line:100,column:38},end:{line:100,column:39}},loc:{start:{line:100,column:45},end:{line:100,column:67}},line:100},11:{name:"(anonymous_11)",decl:{start:{line:102,column:39},end:{line:102,column:40}},loc:{start:{line:102,column:46},end:{line:102,column:69}},line:102},12:{name:"(anonymous_12)",decl:{start:{line:103,column:46},end:{line:103,column:47}},loc:{start:{line:103,column:53},end:{line:103,column:83}},line:103},13:{name:"(anonymous_13)",decl:{start:{line:104,column:48},end:{line:104,column:49}},loc:{start:{line:104,column:55},end:{line:104,column:87}},line:104},14:{name:"(anonymous_14)",decl:{start:{line:106,column:36},end:{line:106,column:37}},loc:{start:{line:106,column:43},end:{line:106,column:63}},line:106},15:{name:"(anonymous_15)",decl:{start:{line:107,column:32},end:{line:107,column:33}},loc:{start:{line:107,column:39},end:{line:107,column:56}},line:107},16:{name:"(anonymous_16)",decl:{start:{line:110,column:33},end:{line:110,column:34}},loc:{start:{line:110,column:39},end:{line:110,column:54}},line:110},17:{name:"(anonymous_17)",decl:{start:{line:115,column:4},end:{line:115,column:5}},loc:{start:{line:115,column:19},end:{line:117,column:5}},line:115},18:{name:"(anonymous_18)",decl:{start:{line:119,column:4},end:{line:119,column:5}},loc:{start:{line:119,column:20},end:{line:121,column:5}},line:119},19:{name:"(anonymous_19)",decl:{start:{line:120,column:51},end:{line:120,column:52}},loc:{start:{line:120,column:57},end:{line:120,column:76}},line:120},20:{name:"(anonymous_20)",decl:{start:{line:127,column:4},end:{line:127,column:5}},loc:{start:{line:127,column:20},end:{line:129,column:5}},line:127},21:{name:"(anonymous_21)",decl:{start:{line:134,column:4},end:{line:134,column:5}},loc:{start:{line:134,column:17},end:{line:137,column:5}},line:134},22:{name:"(anonymous_22)",decl:{start:{line:142,column:4},end:{line:142,column:5}},loc:{start:{line:142,column:28},end:{line:145,column:5}},line:142},23:{name:"(anonymous_23)",decl:{start:{line:147,column:4},end:{line:147,column:5}},loc:{start:{line:147,column:23},end:{line:149,column:5}},line:147},24:{name:"(anonymous_24)",decl:{start:{line:154,column:4},end:{line:154,column:5}},loc:{start:{line:154,column:29},end:{line:158,column:5}},line:154},25:{name:"(anonymous_25)",decl:{start:{line:164,column:4},end:{line:164,column:5}},loc:{start:{line:164,column:22},end:{line:190,column:5}},line:164},26:{name:"(anonymous_26)",decl:{start:{line:192,column:4},end:{line:192,column:5}},loc:{start:{line:192,column:29},end:{line:198,column:5}},line:192},27:{name:"(anonymous_27)",decl:{start:{line:196,column:38},end:{line:196,column:39}},loc:{start:{line:196,column:44},end:{line:196,column:114}},line:196},28:{name:"(anonymous_28)",decl:{start:{line:200,column:4},end:{line:200,column:5}},loc:{start:{line:200,column:33},end:{line:213,column:5}},line:200},29:{name:"(anonymous_29)",decl:{start:{line:211,column:38},end:{line:211,column:39}},loc:{start:{line:211,column:44},end:{line:211,column:114}},line:211},30:{name:"(anonymous_30)",decl:{start:{line:219,column:4},end:{line:219,column:5}},loc:{start:{line:219,column:34},end:{line:245,column:5}},line:219},31:{name:"(anonymous_31)",decl:{start:{line:251,column:4},end:{line:251,column:5}},loc:{start:{line:251,column:26},end:{line:254,column:5}},line:251},32:{name:"(anonymous_32)",decl:{start:{line:260,column:4},end:{line:260,column:5}},loc:{start:{line:260,column:22},end:{line:263,column:5}},line:260},33:{name:"(anonymous_33)",decl:{start:{line:270,column:4},end:{line:270,column:5}},loc:{start:{line:270,column:22},end:{line:340,column:5}},line:270},34:{name:"(anonymous_34)",decl:{start:{line:319,column:34},end:{line:319,column:35}},loc:{start:{line:319,column:40},end:{line:319,column:184}},line:319},35:{name:"(anonymous_35)",decl:{start:{line:335,column:47},end:{line:335,column:48}},loc:{start:{line:335,column:53},end:{line:335,column:72}},line:335},36:{name:"(anonymous_36)",decl:{start:{line:347,column:4},end:{line:347,column:5}},loc:{start:{line:347,column:31},end:{line:349,column:5}},line:347},37:{name:"(anonymous_37)",decl:{start:{line:359,column:4},end:{line:359,column:5}},loc:{start:{line:359,column:63},end:{line:362,column:5}},line:359},38:{name:"(anonymous_38)",decl:{start:{line:369,column:4},end:{line:369,column:5}},loc:{start:{line:369,column:26},end:{line:372,column:5}},line:369},39:{name:"(anonymous_39)",decl:{start:{line:379,column:4},end:{line:379,column:5}},loc:{start:{line:379,column:31},end:{line:380,column:5}},line:379},40:{name:"(anonymous_40)",decl:{start:{line:387,column:4},end:{line:387,column:5}},loc:{start:{line:387,column:40},end:{line:388,column:5}},line:387},41:{name:"(anonymous_41)",decl:{start:{line:394,column:4},end:{line:394,column:5}},loc:{start:{line:394,column:37},end:{line:395,column:5}},line:394},42:{name:"(anonymous_42)",decl:{start:{line:402,column:4},end:{line:402,column:5}},loc:{start:{line:402,column:52},end:{line:403,column:5}},line:402},43:{name:"(anonymous_43)",decl:{start:{line:409,column:4},end:{line:409,column:5}},loc:{start:{line:409,column:19},end:{line:432,column:5}},line:409},44:{name:"(anonymous_44)",decl:{start:{line:431,column:43},end:{line:431,column:44}},loc:{start:{line:431,column:49},end:{line:431,column:67}},line:431},45:{name:"(anonymous_45)",decl:{start:{line:439,column:4},end:{line:439,column:5}},loc:{start:{line:439,column:28},end:{line:441,column:5}},line:439},46:{name:"(anonymous_46)",decl:{start:{line:448,column:4},end:{line:448,column:5}},loc:{start:{line:448,column:24},end:{line:482,column:5}},line:448},47:{name:"(anonymous_47)",decl:{start:{line:460,column:53},end:{line:460,column:54}},loc:{start:{line:460,column:58},end:{line:460,column:88}},line:460},48:{name:"(anonymous_48)",decl:{start:{line:490,column:4},end:{line:490,column:5}},loc:{start:{line:490,column:37},end:{line:491,column:5}},line:490},49:{name:"(anonymous_49)",decl:{start:{line:498,column:4},end:{line:498,column:5}},loc:{start:{line:498,column:25},end:{line:522,column:5}},line:498},50:{name:"(anonymous_50)",decl:{start:{line:530,column:4},end:{line:530,column:5}},loc:{start:{line:530,column:39},end:{line:531,column:5}},line:530},51:{name:"(anonymous_51)",decl:{start:{line:538,column:4},end:{line:538,column:5}},loc:{start:{line:538,column:21},end:{line:564,column:5}},line:538},52:{name:"(anonymous_52)",decl:{start:{line:572,column:4},end:{line:572,column:5}},loc:{start:{line:572,column:49},end:{line:573,column:5}},line:572},53:{name:"(anonymous_53)",decl:{start:{line:580,column:4},end:{line:580,column:5}},loc:{start:{line:580,column:21},end:{line:592,column:5}},line:580},54:{name:"(anonymous_54)",decl:{start:{line:599,column:4},end:{line:599,column:5}},loc:{start:{line:599,column:30},end:{line:611,column:5}},line:599},55:{name:"(anonymous_55)",decl:{start:{line:607,column:49},end:{line:607,column:50}},loc:{start:{line:607,column:55},end:{line:607,column:73}},line:607},56:{name:"(anonymous_56)",decl:{start:{line:617,column:4},end:{line:617,column:5}},loc:{start:{line:617,column:18},end:{line:631,column:5}},line:617},57:{name:"(anonymous_57)",decl:{start:{line:637,column:4},end:{line:637,column:5}},loc:{start:{line:637,column:26},end:{line:638,column:5}},line:637},58:{name:"(anonymous_58)",decl:{start:{line:644,column:4},end:{line:644,column:5}},loc:{start:{line:644,column:28},end:{line:645,column:5}},line:644},59:{name:"(anonymous_59)",decl:{start:{line:652,column:4},end:{line:652,column:5}},loc:{start:{line:652,column:31},end:{line:659,column:5}},line:652},60:{name:"(anonymous_60)",decl:{start:{line:665,column:4},end:{line:665,column:5}},loc:{start:{line:665,column:29},end:{line:666,column:5}},line:665},61:{name:"(anonymous_61)",decl:{start:{line:673,column:4},end:{line:673,column:5}},loc:{start:{line:673,column:26},end:{line:716,column:5}},line:673},62:{name:"(anonymous_62)",decl:{start:{line:723,column:4},end:{line:723,column:5}},loc:{start:{line:723,column:28},end:{line:756,column:5}},line:723},63:{name:"(anonymous_63)",decl:{start:{line:763,column:4},end:{line:763,column:5}},loc:{start:{line:763,column:48},end:{line:766,column:5}},line:763},64:{name:"(anonymous_64)",decl:{start:{line:774,column:4},end:{line:774,column:5}},loc:{start:{line:774,column:49},end:{line:794,column:5}},line:774},65:{name:"(anonymous_65)",decl:{start:{line:777,column:34},end:{line:777,column:35}},loc:{start:{line:777,column:40},end:{line:777,column:118}},line:777},66:{name:"(anonymous_66)",decl:{start:{line:779,column:27},end:{line:779,column:28}},loc:{start:{line:779,column:48},end:{line:793,column:9}},line:779},67:{name:"(anonymous_67)",decl:{start:{line:790,column:71},end:{line:790,column:72}},loc:{start:{line:790,column:77},end:{line:792,column:13}},line:790},68:{name:"(anonymous_68)",decl:{start:{line:801,column:4},end:{line:801,column:5}},loc:{start:{line:801,column:29},end:{line:855,column:5}},line:801},69:{name:"(anonymous_69)",decl:{start:{line:802,column:34},end:{line:802,column:35}},loc:{start:{line:802,column:40},end:{line:802,column:145}},line:802},70:{name:"(anonymous_70)",decl:{start:{line:844,column:71},end:{line:844,column:72}},loc:{start:{line:844,column:80},end:{line:844,column:104}},line:844},71:{name:"(anonymous_71)",decl:{start:{line:845,column:39},end:{line:845,column:40}},loc:{start:{line:845,column:49},end:{line:845,column:55}},line:845},72:{name:"(anonymous_72)",decl:{start:{line:862,column:4},end:{line:862,column:5}},loc:{start:{line:862,column:43},end:{line:865,column:5}},line:862},73:{name:"(anonymous_73)",decl:{start:{line:873,column:4},end:{line:873,column:5}},loc:{start:{line:873,column:44},end:{line:895,column:5}},line:873},74:{name:"(anonymous_74)",decl:{start:{line:876,column:34},end:{line:876,column:35}},loc:{start:{line:876,column:40},end:{line:876,column:134}},line:876},75:{name:"(anonymous_75)",decl:{start:{line:878,column:27},end:{line:878,column:28}},loc:{start:{line:878,column:48},end:{line:894,column:9}},line:878},76:{name:"(anonymous_76)",decl:{start:{line:890,column:78},end:{line:890,column:79}},loc:{start:{line:890,column:84},end:{line:893,column:13}},line:890},77:{name:"(anonymous_77)",decl:{start:{line:902,column:4},end:{line:902,column:5}},loc:{start:{line:902,column:30},end:{line:941,column:5}},line:902},78:{name:"(anonymous_78)",decl:{start:{line:903,column:34},end:{line:903,column:35}},loc:{start:{line:903,column:40},end:{line:903,column:180}},line:903},79:{name:"(anonymous_79)",decl:{start:{line:947,column:4},end:{line:947,column:5}},loc:{start:{line:947,column:36},end:{line:950,column:5}},line:947},80:{name:"(anonymous_80)",decl:{start:{line:957,column:4},end:{line:957,column:5}},loc:{start:{line:957,column:37},end:{line:974,column:5}},line:957},81:{name:"(anonymous_81)",decl:{start:{line:960,column:27},end:{line:960,column:28}},loc:{start:{line:960,column:48},end:{line:973,column:9}},line:960},82:{name:"(anonymous_82)",decl:{start:{line:969,column:80},end:{line:969,column:81}},loc:{start:{line:969,column:86},end:{line:972,column:13}},line:969},83:{name:"(anonymous_83)",decl:{start:{line:981,column:4},end:{line:981,column:5}},loc:{start:{line:981,column:32},end:{line:997,column:5}},line:981},84:{name:"(anonymous_84)",decl:{start:{line:982,column:34},end:{line:982,column:35}},loc:{start:{line:982,column:40},end:{line:982,column:139}},line:982},85:{name:"(anonymous_85)",decl:{start:{line:1003,column:4},end:{line:1003,column:5}},loc:{start:{line:1003,column:15},end:{line:1014,column:5}},line:1003},86:{name:"(anonymous_86)",decl:{start:{line:1017,column:4},end:{line:1017,column:5}},loc:{start:{line:1017,column:15},end:{line:1019,column:5}},line:1017},87:{name:"(anonymous_87)",decl:{start:{line:1022,column:4},end:{line:1022,column:5}},loc:{start:{line:1022,column:17},end:{line:1024,column:5}},line:1022}},branchMap:{0:{loc:{start:{line:57,column:35},end:{line:57,column:73}},type:"binary-expr",locations:[{start:{line:57,column:35},end:{line:57,column:53}},{start:{line:57,column:57},end:{line:57,column:73}}],line:57},1:{loc:{start:{line:166,column:8},end:{line:168,column:9}},type:"if",locations:[{start:{line:166,column:8},end:{line:168,column:9}},{start:{line:166,column:8},end:{line:168,column:9}}],line:166},2:{loc:{start:{line:171,column:8},end:{line:173,column:9}},type:"if",locations:[{start:{line:171,column:8},end:{line:173,column:9}},{start:{line:171,column:8},end:{line:173,column:9}}],line:171},3:{loc:{start:{line:179,column:8},end:{line:181,column:9}},type:"if",locations:[{start:{line:179,column:8},end:{line:181,column:9}},{start:{line:179,column:8},end:{line:181,column:9}}],line:179},4:{loc:{start:{line:194,column:8},end:{line:197,column:9}},type:"if",locations:[{start:{line:194,column:8},end:{line:197,column:9}},{start:{line:194,column:8},end:{line:197,column:9}}],line:194},5:{loc:{start:{line:203,column:15},end:{line:204,column:75}},type:"binary-expr",locations:[{start:{line:203,column:15},end:{line:203,column:74}},{start:{line:203,column:78},end:{line:203,column:116}},{start:{line:204,column:15},end:{line:204,column:75}}],line:203},6:{loc:{start:{line:209,column:8},end:{line:212,column:9}},type:"if",locations:[{start:{line:209,column:8},end:{line:212,column:9}},{start:{line:209,column:8},end:{line:212,column:9}}],line:209},7:{loc:{start:{line:221,column:8},end:{line:223,column:9}},type:"if",locations:[{start:{line:221,column:8},end:{line:223,column:9}},{start:{line:221,column:8},end:{line:223,column:9}}],line:221},8:{loc:{start:{line:229,column:8},end:{line:231,column:9}},type:"if",locations:[{start:{line:229,column:8},end:{line:231,column:9}},{start:{line:229,column:8},end:{line:231,column:9}}],line:229},9:{loc:{start:{line:235,column:8},end:{line:239,column:9}},type:"if",locations:[{start:{line:235,column:8},end:{line:239,column:9}},{start:{line:235,column:8},end:{line:239,column:9}}],line:235},10:{loc:{start:{line:284,column:12},end:{line:286,column:13}},type:"if",locations:[{start:{line:284,column:12},end:{line:286,column:13}},{start:{line:284,column:12},end:{line:286,column:13}}],line:284},11:{loc:{start:{line:284,column:16},end:{line:284,column:98}},type:"binary-expr",locations:[{start:{line:284,column:16},end:{line:284,column:54}},{start:{line:284,column:58},end:{line:284,column:98}}],line:284},12:{loc:{start:{line:289,column:12},end:{line:291,column:13}},type:"if",locations:[{start:{line:289,column:12},end:{line:291,column:13}},{start:{line:289,column:12},end:{line:291,column:13}}],line:289},13:{loc:{start:{line:293,column:12},end:{line:316,column:13}},type:"switch",locations:[{start:{line:294,column:16},end:{line:303,column:17}},{start:{line:304,column:16},end:{line:313,column:17}},{start:{line:314,column:16},end:{line:315,column:67}}],line:293},14:{loc:{start:{line:296,column:20},end:{line:301,column:21}},type:"if",locations:[{start:{line:296,column:20},end:{line:301,column:21}},{start:{line:296,column:20},end:{line:301,column:21}}],line:296},15:{loc:{start:{line:306,column:20},end:{line:311,column:21}},type:"if",locations:[{start:{line:306,column:20},end:{line:311,column:21}},{start:{line:306,column:20},end:{line:311,column:21}}],line:306},16:{loc:{start:{line:321,column:8},end:{line:339,column:9}},type:"if",locations:[{start:{line:321,column:8},end:{line:339,column:9}},{start:{line:321,column:8},end:{line:339,column:9}}],line:321},17:{loc:{start:{line:321,column:12},end:{line:321,column:61}},type:"binary-expr",locations:[{start:{line:321,column:12},end:{line:321,column:36}},{start:{line:321,column:40},end:{line:321,column:61}}],line:321},18:{loc:{start:{line:330,column:12},end:{line:336,column:13}},type:"if",locations:[{start:{line:330,column:12},end:{line:336,column:13}},{start:{line:330,column:12},end:{line:336,column:13}}],line:330},19:{loc:{start:{line:359,column:20},end:{line:359,column:40}},type:"default-arg",locations:[{start:{line:359,column:35},end:{line:359,column:40}}],line:359},20:{loc:{start:{line:359,column:42},end:{line:359,column:61}},type:"default-arg",locations:[{start:{line:359,column:56},end:{line:359,column:61}}],line:359},21:{loc:{start:{line:411,column:8},end:{line:411,column:53}},type:"if",locations:[{start:{line:411,column:8},end:{line:411,column:53}},{start:{line:411,column:8},end:{line:411,column:53}}],line:411},22:{loc:{start:{line:414,column:8},end:{line:414,column:89}},type:"if",locations:[{start:{line:414,column:8},end:{line:414,column:89}},{start:{line:414,column:8},end:{line:414,column:89}}],line:414},23:{loc:{start:{line:414,column:12},end:{line:414,column:80}},type:"binary-expr",locations:[{start:{line:414,column:12},end:{line:414,column:43}},{start:{line:414,column:47},end:{line:414,column:80}}],line:414},24:{loc:{start:{line:420,column:8},end:{line:422,column:9}},type:"if",locations:[{start:{line:420,column:8},end:{line:422,column:9}},{start:{line:420,column:8},end:{line:422,column:9}}],line:420},25:{loc:{start:{line:453,column:8},end:{line:456,column:9}},type:"if",locations:[{start:{line:453,column:8},end:{line:456,column:9}},{start:{line:453,column:8},end:{line:456,column:9}}],line:453},26:{loc:{start:{line:453,column:12},end:{line:453,column:94}},type:"binary-expr",locations:[{start:{line:453,column:12},end:{line:453,column:51}},{start:{line:453,column:55},end:{line:453,column:94}}],line:453},27:{loc:{start:{line:459,column:29},end:{line:459,column:82}},type:"cond-expr",locations:[{start:{line:459,column:50},end:{line:459,column:77}},{start:{line:459,column:80},end:{line:459,column:82}}],line:459},28:{loc:{start:{line:463,column:12},end:{line:465,column:13}},type:"if",locations:[{start:{line:463,column:12},end:{line:465,column:13}},{start:{line:463,column:12},end:{line:465,column:13}}],line:463},29:{loc:{start:{line:468,column:8},end:{line:471,column:9}},type:"if",locations:[{start:{line:468,column:8},end:{line:471,column:9}},{start:{line:468,column:8},end:{line:471,column:9}}],line:468},30:{loc:{start:{line:468,column:12},end:{line:468,column:132}},type:"binary-expr",locations:[{start:{line:468,column:13},end:{line:468,column:29}},{start:{line:468,column:33},end:{line:468,column:65}},{start:{line:468,column:71},end:{line:468,column:86}},{start:{line:468,column:90},end:{line:468,column:131}}],line:468},31:{loc:{start:{line:503,column:8},end:{line:506,column:9}},type:"if",locations:[{start:{line:503,column:8},end:{line:506,column:9}},{start:{line:503,column:8},end:{line:506,column:9}}],line:503},32:{loc:{start:{line:503,column:12},end:{line:503,column:94}},type:"binary-expr",locations:[{start:{line:503,column:12},end:{line:503,column:51}},{start:{line:503,column:55},end:{line:503,column:94}}],line:503},33:{loc:{start:{line:508,column:8},end:{line:511,column:9}},type:"if",locations:[{start:{line:508,column:8},end:{line:511,column:9}},{start:{line:508,column:8},end:{line:511,column:9}}],line:508},34:{loc:{start:{line:508,column:12},end:{line:508,column:133}},type:"binary-expr",locations:[{start:{line:508,column:13},end:{line:508,column:29}},{start:{line:508,column:33},end:{line:508,column:65}},{start:{line:508,column:71},end:{line:508,column:86}},{start:{line:508,column:90},end:{line:508,column:132}}],line:508},35:{loc:{start:{line:544,column:8},end:{line:547,column:9}},type:"if",locations:[{start:{line:544,column:8},end:{line:547,column:9}},{start:{line:544,column:8},end:{line:547,column:9}}],line:544},36:{loc:{start:{line:544,column:12},end:{line:544,column:94}},type:"binary-expr",locations:[{start:{line:544,column:12},end:{line:544,column:51}},{start:{line:544,column:55},end:{line:544,column:94}}],line:544},37:{loc:{start:{line:556,column:8},end:{line:560,column:9}},type:"if",locations:[{start:{line:556,column:8},end:{line:560,column:9}},{start:{line:556,column:8},end:{line:560,column:9}}],line:556},38:{loc:{start:{line:558,column:15},end:{line:560,column:9}},type:"if",locations:[{start:{line:558,column:15},end:{line:560,column:9}},{start:{line:558,column:15},end:{line:560,column:9}}],line:558},39:{loc:{start:{line:585,column:12},end:{line:587,column:13}},type:"if",locations:[{start:{line:585,column:12},end:{line:587,column:13}},{start:{line:585,column:12},end:{line:587,column:13}}],line:585},40:{loc:{start:{line:600,column:8},end:{line:600,column:52}},type:"if",locations:[{start:{line:600,column:8},end:{line:600,column:52}},{start:{line:600,column:8},end:{line:600,column:52}}],line:600},41:{loc:{start:{line:606,column:8},end:{line:610,column:9}},type:"if",locations:[{start:{line:606,column:8},end:{line:610,column:9}},{start:{line:606,column:8},end:{line:610,column:9}}],line:606},42:{loc:{start:{line:626,column:8},end:{line:630,column:9}},type:"if",locations:[{start:{line:626,column:8},end:{line:630,column:9}},{start:{line:626,column:8},end:{line:630,column:9}}],line:626},43:{loc:{start:{line:626,column:12},end:{line:626,column:80}},type:"binary-expr",locations:[{start:{line:626,column:12},end:{line:626,column:44}},{start:{line:626,column:48},end:{line:626,column:80}}],line:626},44:{loc:{start:{line:656,column:8},end:{line:658,column:9}},type:"if",locations:[{start:{line:656,column:8},end:{line:658,column:9}},{start:{line:656,column:8},end:{line:658,column:9}}],line:656},45:{loc:{start:{line:684,column:12},end:{line:709,column:13}},type:"switch",locations:[{start:{line:685,column:16},end:{line:695,column:17}},{start:{line:696,column:16},end:{line:706,column:17}},{start:{line:707,column:16},end:{line:708,column:67}}],line:684},46:{loc:{start:{line:687,column:20},end:{line:693,column:21}},type:"if",locations:[{start:{line:687,column:20},end:{line:693,column:21}},{start:{line:687,column:20},end:{line:693,column:21}}],line:687},47:{loc:{start:{line:687,column:24},end:{line:687,column:47}},type:"binary-expr",locations:[{start:{line:687,column:24},end:{line:687,column:29}},{start:{line:687,column:33},end:{line:687,column:47}}],line:687},48:{loc:{start:{line:698,column:20},end:{line:704,column:21}},type:"if",locations:[{start:{line:698,column:20},end:{line:704,column:21}},{start:{line:698,column:20},end:{line:704,column:21}}],line:698},49:{loc:{start:{line:713,column:8},end:{line:715,column:9}},type:"if",locations:[{start:{line:713,column:8},end:{line:715,column:9}},{start:{line:713,column:8},end:{line:715,column:9}}],line:713},50:{loc:{start:{line:734,column:12},end:{line:749,column:13}},type:"switch",locations:[{start:{line:735,column:16},end:{line:745,column:17}},{start:{line:746,column:16},end:{line:746,column:48}},{start:{line:747,column:16},end:{line:748,column:67}}],line:734},51:{loc:{start:{line:737,column:20},end:{line:743,column:21}},type:"if",locations:[{start:{line:737,column:20},end:{line:743,column:21}},{start:{line:737,column:20},end:{line:743,column:21}}],line:737},52:{loc:{start:{line:753,column:8},end:{line:755,column:9}},type:"if",locations:[{start:{line:753,column:8},end:{line:755,column:9}},{start:{line:753,column:8},end:{line:755,column:9}}],line:753},53:{loc:{start:{line:805,column:8},end:{line:809,column:9}},type:"if",locations:[{start:{line:805,column:8},end:{line:809,column:9}},{start:{line:805,column:8},end:{line:809,column:9}}],line:805},54:{loc:{start:{line:814,column:8},end:{line:817,column:9}},type:"if",locations:[{start:{line:814,column:8},end:{line:817,column:9}},{start:{line:814,column:8},end:{line:817,column:9}}],line:814},55:{loc:{start:{line:814,column:12},end:{line:814,column:53}},type:"binary-expr",locations:[{start:{line:814,column:12},end:{line:814,column:27}},{start:{line:814,column:31},end:{line:814,column:53}}],line:814},56:{loc:{start:{line:821,column:8},end:{line:825,column:9}},type:"if",locations:[{start:{line:821,column:8},end:{line:825,column:9}},{start:{line:821,column:8},end:{line:825,column:9}}],line:821},57:{loc:{start:{line:828,column:8},end:{line:832,column:9}},type:"if",locations:[{start:{line:828,column:8},end:{line:832,column:9}},{start:{line:828,column:8},end:{line:832,column:9}}],line:828},58:{loc:{start:{line:835,column:8},end:{line:841,column:9}},type:"if",locations:[{start:{line:835,column:8},end:{line:841,column:9}},{start:{line:835,column:8},end:{line:841,column:9}}],line:835},59:{loc:{start:{line:845,column:8},end:{line:851,column:9}},type:"if",locations:[{start:{line:845,column:8},end:{line:851,column:9}},{start:{line:845,column:8},end:{line:851,column:9}}],line:845},60:{loc:{start:{line:906,column:8},end:{line:910,column:9}},type:"if",locations:[{start:{line:906,column:8},end:{line:910,column:9}},{start:{line:906,column:8},end:{line:910,column:9}}],line:906},61:{loc:{start:{line:915,column:8},end:{line:919,column:9}},type:"if",locations:[{start:{line:915,column:8},end:{line:919,column:9}},{start:{line:915,column:8},end:{line:919,column:9}}],line:915},62:{loc:{start:{line:922,column:8},end:{line:926,column:9}},type:"if",locations:[{start:{line:922,column:8},end:{line:926,column:9}},{start:{line:922,column:8},end:{line:926,column:9}}],line:922},63:{loc:{start:{line:930,column:8},end:{line:935,column:9}},type:"if",locations:[{start:{line:930,column:8},end:{line:935,column:9}},{start:{line:930,column:8},end:{line:935,column:9}}],line:930},64:{loc:{start:{line:985,column:8},end:{line:989,column:9}},type:"if",locations:[{start:{line:985,column:8},end:{line:989,column:9}},{start:{line:985,column:8},end:{line:989,column:9}}],line:985}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,227:0,228:0,229:0,230:0,231:0,232:0,233:0,234:0,235:0,236:0,237:0,238:0,239:0,240:0,241:0,242:0,243:0,244:0,245:0,246:0,247:0,248:0,249:0,250:0,251:0,252:0,253:0,254:0,255:0,256:0,257:0,258:0,259:0,260:0,261:0,262:0,263:0,264:0,265:0,266:0,267:0,268:0,269:0,270:0,271:0,272:0,273:0,274:0,275:0,276:0,277:0,278:0,279:0,280:0,281:0,282:0,283:0,284:0,285:0,286:0,287:0,288:0,289:0,290:0,291:0,292:0,293:0,294:0,295:0,296:0,297:0,298:0,299:0,300:0,301:0,302:0,303:0,304:0,305:0,306:0,307:0,308:0,309:0,310:0,311:0,312:0,313:0,314:0,315:0,316:0,317:0,318:0,319:0,320:0,321:0,322:0,323:0,324:0,325:0,326:0,327:0,328:0,329:0,330:0,331:0,332:0,333:0,334:0,335:0,336:0,337:0,338:0,339:0,340:0,341:0,342:0,343:0,344:0,345:0,346:0,347:0,348:0,349:0,350:0,351:0,352:0,353:0,354:0,355:0,356:0,357:0,358:0,359:0,360:0,361:0,362:0,363:0,364:0,365:0,366:0,367:0,368:0,369:0,370:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0],20:[0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0,0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0,0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0,0],46:[0,0],47:[0,0],48:[0,0],49:[0,0],50:[0,0,0],51:[0,0],52:[0,0],53:[0,0],54:[0,0],55:[0,0],56:[0,0],57:[0,0],58:[0,0],59:[0,0],60:[0,0],61:[0,0],62:[0,0],63:[0,0],64:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class BaseConsensusAgent extends Observable{constructor(n,e,l){zn.f[0]++;zn.s[0]++;super();zn.s[1]++;this._time=n;zn.s[2]++;this._peer=e;zn.s[3]++;this._synced=!1;zn.s[4]++;this._knownObjects=new HashSet;zn.s[5]++;this._knownObjects.add(new InvVector(InvVector.Type.BLOCK,e.headHash));zn.s[6]++;this._blocksToRequest=new UniqueQueue;zn.s[7]++;this._txsToRequest=new ThrottledQueue(BaseConsensusAgent.TRANSACTIONS_AT_ONCE+BaseConsensusAgent.FREE_TRANSACTIONS_AT_ONCE,BaseConsensusAgent.TRANSACTIONS_PER_SECOND+BaseConsensusAgent.FREE_TRANSACTIONS_PER_SECOND,1e3,BaseConsensusAgent.REQUEST_TRANSACTIONS_WAITING_MAX);zn.s[8]++;this._objectsInFlight=new HashSet;zn.s[9]++;this._objectsThatFlew=new HashSet;zn.s[10]++;this._objectsProcessing=new HashSet;zn.s[11]++;this._remoteSubscription=Subscription.NONE;zn.s[12]++;this._localSubscription=Subscription.NONE;zn.s[13]++;this._lastSubscriptionChange=null;zn.s[14]++;this._targetSubscription=(zn.b[0][0]++,l)||(zn.b[0][1]++,Subscription.ANY);zn.s[15]++;this._timers=new Timers;zn.s[16]++;this._waitingInvVectors=new ThrottledQueue(BaseConsensusAgent.TRANSACTIONS_AT_ONCE,BaseConsensusAgent.TRANSACTIONS_PER_SECOND,1e3,BaseConsensusAgent.REQUEST_TRANSACTIONS_WAITING_MAX);zn.s[17]++;this._timers.setInterval("invVectors",()=>{zn.f[1]++;zn.s[18]++;return this._sendWaitingInvVectors()},BaseConsensusAgent.TRANSACTION_RELAY_INTERVAL);zn.s[19]++;this._waitingFreeInvVectors=new ThrottledQueue(BaseConsensusAgent.FREE_TRANSACTIONS_AT_ONCE,BaseConsensusAgent.FREE_TRANSACTIONS_PER_SECOND,1e3,BaseConsensusAgent.REQUEST_TRANSACTIONS_WAITING_MAX);zn.s[20]++;this._timers.setInterval("freeInvVectors",()=>{zn.f[2]++;zn.s[21]++;return this._sendFreeWaitingInvVectors()},BaseConsensusAgent.FREE_TRANSACTION_RELAY_INTERVAL);zn.s[22]++;this._blockProofRequest=null;zn.s[23]++;this._transactionsProofRequest=null;zn.s[24]++;this._transactionReceiptsRequest=null;zn.s[25]++;this._synchronizer=new MultiSynchronizer;zn.s[26]++;e.channel.on("inv",n=>{zn.f[3]++;zn.s[27]++;return this._onInv(n)});zn.s[28]++;e.channel.on("block",n=>{zn.f[4]++;zn.s[29]++;return this._onBlock(n)});zn.s[30]++;e.channel.on("header",n=>{zn.f[5]++;zn.s[31]++;return this._onHeader(n)});zn.s[32]++;e.channel.on("tx",n=>{zn.f[6]++;zn.s[33]++;return this._onTx(n)});zn.s[34]++;e.channel.on("not-found",n=>{zn.f[7]++;zn.s[35]++;return this._onNotFound(n)});zn.s[36]++;e.channel.on("subscribe",n=>{zn.f[8]++;zn.s[37]++;return this._onSubscribe(n)});zn.s[38]++;e.channel.on("get-data",n=>{zn.f[9]++;zn.s[39]++;return this._onGetData(n)});zn.s[40]++;e.channel.on("get-header",n=>{zn.f[10]++;zn.s[41]++;return this._onGetHeader(n)});zn.s[42]++;e.channel.on("block-proof",n=>{zn.f[11]++;zn.s[43]++;return this._onBlockProof(n)});zn.s[44]++;e.channel.on("transactions-proof",n=>{zn.f[12]++;zn.s[45]++;return this._onTransactionsProof(n)});zn.s[46]++;e.channel.on("transaction-receipts",n=>{zn.f[13]++;zn.s[47]++;return this._onTransactionReceipts(n)});zn.s[48]++;e.channel.on("get-head",n=>{zn.f[14]++;zn.s[49]++;return this._onGetHead(n)});zn.s[50]++;e.channel.on("head",n=>{zn.f[15]++;zn.s[51]++;return this._onHead(n)});zn.s[52]++;e.channel.on("close",()=>{zn.f[16]++;zn.s[53]++;return this._onClose()});zn.s[54]++;this._requestHead()}_requestHead(){zn.f[17]++;zn.s[55]++;this._peer.channel.getHead()}onHeadUpdated(){zn.f[18]++;zn.s[56]++;this._timers.resetTimeout("get-next-head",()=>{zn.f[19]++;zn.s[57]++;return this._requestHead()},BaseConsensusAgent.HEAD_REQUEST_INTERVAL)}_onGetHead(n){zn.f[20]++;zn.s[58]++;this._peer.channel.head(this._blockchain.head.header)}_onHead(n){zn.f[21]++;zn.s[59]++;this._peer.head=n.header;zn.s[60]++;this.onHeadUpdated()}subscribe(n){zn.f[22]++;zn.s[61]++;this._targetSubscription=n;zn.s[62]++;this._subscribe(n)}_subscribeTarget(){zn.f[23]++;zn.s[63]++;this._subscribe(this._targetSubscription)}_subscribe(n){zn.f[24]++;zn.s[64]++;this._localSubscription=n;zn.s[65]++;this._lastSubscriptionChange=Date.now();zn.s[66]++;this._peer.channel.subscribe(this._localSubscription)}relayBlock(n){zn.f[25]++;zn.s[67]++;if(!this._synced){zn.b[1][0]++;zn.s[68]++;return!1}zn.b[1][1]++;zn.s[69]++;if(!this._remoteSubscription.matchesBlock(n)){zn.b[2][0]++;zn.s[70]++;return!1}zn.b[2][1]++;const e=(zn.s[71]++,InvVector.fromBlock(n));zn.s[72]++;if(this._knownObjects.contains(e)){zn.b[3][0]++;zn.s[73]++;return!1}zn.b[3][1]++;zn.s[74]++;this._peer.channel.inv([e,...this._waitingInvVectors.dequeueMulti(BaseInventoryMessage.VECTORS_MAX_COUNT-1)]);zn.s[75]++;this._knownObjects.add(e);zn.s[76]++;return!0}_sendWaitingInvVectors(){zn.f[26]++;const n=(zn.s[77]++,this._waitingInvVectors.dequeueMulti(BaseInventoryMessage.VECTORS_MAX_COUNT));zn.s[78]++;if(n.length>0){zn.b[4][0]++;zn.s[79]++;this._peer.channel.inv(n);zn.s[80]++;Log.v(BaseConsensusAgent,()=>{zn.f[27]++;zn.s[81]++;return`[INV] Sent ${n.length} vectors to ${this._peer.peerAddress}`})}else zn.b[4][1]++}_sendFreeWaitingInvVectors(){zn.f[28]++;const n=(zn.s[82]++,[]);let e=(zn.s[83]++,0);zn.s[84]++;for(;(zn.b[5][0]++,n.length<=BaseInventoryMessage.VECTORS_MAX_COUNT)&&(zn.b[5][1]++,this._waitingFreeInvVectors.length>0)&&(zn.b[5][2]++,e<BaseConsensusAgent.FREE_TRANSACTION_SIZE_PER_INTERVAL);){const{serializedSize:l,vector:t}=(zn.s[85]++,this._waitingFreeInvVectors.dequeue());zn.s[86]++;n.push(t);zn.s[87]++;e+=l}zn.s[88]++;if(n.length>0){zn.b[6][0]++;zn.s[89]++;this._peer.channel.inv(n);zn.s[90]++;Log.v(BaseConsensusAgent,()=>{zn.f[29]++;zn.s[91]++;return`[INV] Sent ${n.length} vectors to ${this._peer.peerAddress}`})}else zn.b[6][1]++}relayTransaction(n){zn.f[30]++;zn.s[92]++;if(!this._remoteSubscription.matchesTransaction(n)){zn.b[7][0]++;zn.s[93]++;return!1}zn.b[7][1]++;const e=(zn.s[94]++,InvVector.fromTransaction(n));zn.s[95]++;if(this._knownObjects.contains(e)){zn.b[8][0]++;zn.s[96]++;return!1}zn.b[8][1]++;const l=(zn.s[97]++,n.serializedSize);zn.s[98]++;if(n.fee/l<BaseConsensusAgent.TRANSACTION_RELAY_FEE_MIN){zn.b[9][0]++;zn.s[99]++;this._waitingFreeInvVectors.enqueue({serializedSize:l,vector:e})}else{zn.b[9][1]++;zn.s[100]++;this._waitingInvVectors.enqueue(e)}zn.s[101]++;this._knownObjects.add(e);zn.s[102]++;return!0}knowsBlock(n){zn.f[31]++;const e=(zn.s[103]++,new InvVector(InvVector.Type.BLOCK,n));zn.s[104]++;return this._knownObjects.contains(e)}_onSubscribe(n){zn.f[32]++;zn.s[105]++;Log.d(BaseConsensusAgent,`[SUBSCRIBE] ${this._peer.peerAddress} ${n.subscription}`);zn.s[106]++;this._remoteSubscription=n.subscription}async _onInv(n){zn.f[33]++;zn.s[107]++;for(const t of n.vectors){zn.s[108]++;this._knownObjects.add(t);zn.s[109]++;this._waitingInvVectors.remove(t);zn.s[110]++;this._waitingFreeInvVectors.remove(t)}const e=(zn.s[111]++,[]),l=(zn.s[112]++,[]);zn.s[113]++;for(const t of n.vectors){zn.s[114]++;if((zn.b[11][0]++,this._objectsInFlight.contains(t))||(zn.b[11][1]++,this._objectsProcessing.contains(t))){zn.b[10][0]++;zn.s[115]++}else{zn.b[10][1]++;zn.s[116]++;if(this._shouldRequestData(t)){zn.b[12][1]++;zn.s[118]++;switch(t.type){case InvVector.Type.BLOCK:zn.b[13][0]++;{const n=(zn.s[119]++,await this._getBlock(t.hash,!0));zn.s[120]++;if(n){zn.b[14][1]++;zn.s[123]++;this._onKnownBlockAnnounced(t.hash,n)}else{zn.b[14][0]++;zn.s[121]++;e.push(t);zn.s[122]++;this._onNewBlockAnnounced(t.hash)}zn.s[124]++;break}case InvVector.Type.TRANSACTION:zn.b[13][1]++;{const n=(zn.s[125]++,await this._getTransaction(t.hash));zn.s[126]++;if(n){zn.b[15][1]++;zn.s[129]++;this._onKnownTransactionAnnounced(t.hash,n)}else{zn.b[15][0]++;zn.s[127]++;l.push(t);zn.s[128]++;this._onNewTransactionAnnounced(t.hash)}zn.s[130]++;break}default:zn.b[13][2]++;zn.s[131]++;throw`Invalid inventory type: ${t.type}`}}else{zn.b[12][0]++;zn.s[117]++}}}zn.s[132]++;Log.v(BaseConsensusAgent,()=>{zn.f[34]++;zn.s[133]++;return`[INV] ${n.vectors.length} vectors (${e.length} new blocks, ${l.length} new txs) received from ${this._peer.peerAddress}`});zn.s[134]++;if((zn.b[17][0]++,e.length>0)||(zn.b[17][1]++,l.length>0)){zn.b[16][0]++;zn.s[135]++;this._blocksToRequest.enqueueAllNew(e);zn.s[136]++;this._txsToRequest.enqueueAllNew(l);zn.s[137]++;this._timers.clearTimeout("inv");zn.s[138]++;if(this._blocksToRequest.length+this._txsToRequest.available>=BaseConsensusAgent.REQUEST_THRESHOLD){zn.b[18][0]++;zn.s[139]++;this._requestData()}else{zn.b[18][1]++;zn.s[140]++;this._timers.setTimeout("inv",()=>{zn.f[35]++;zn.s[141]++;return this._requestData()},BaseConsensusAgent.REQUEST_THROTTLE)}}else{zn.b[16][1]++;zn.s[142]++;this._onNoUnknownObjects()}}_shouldRequestData(n){zn.f[36]++;zn.s[143]++;return!0}_getBlock(n,e=(zn.b[19][0]++,!1),l=(zn.b[20][0]++,!1)){zn.f[37]++;zn.s[144]++;throw new Error("not implemented")}_getTransaction(n){zn.f[38]++;zn.s[145]++;throw new Error("not implemented")}_onNewBlockAnnounced(n){zn.f[39]++}_onKnownBlockAnnounced(n,e){zn.f[40]++}_onNewTransactionAnnounced(n){zn.f[41]++}_onKnownTransactionAnnounced(n,e){zn.f[42]++}_requestData(){zn.f[43]++;zn.s[146]++;if(!this._objectsInFlight.isEmpty()){zn.b[21][0]++;zn.s[147]++;return}zn.b[21][1]++;zn.s[148]++;if((zn.b[23][0]++,this._blocksToRequest.isEmpty())&&(zn.b[23][1]++,!this._txsToRequest.isAvailable())){zn.b[22][0]++;zn.s[149]++;return}zn.b[22][1]++;const n=(zn.s[150]++,BaseInventoryMessage.VECTORS_MAX_COUNT);let e=(zn.s[151]++,this._blocksToRequest.dequeueMulti(n));zn.s[152]++;if(e.length<n){zn.b[24][0]++;zn.s[153]++;e=e.concat(this._txsToRequest.dequeueMulti(n-e.length))}else zn.b[24][1]++;zn.s[154]++;this._objectsInFlight.addAll(e);zn.s[155]++;this._doRequestData(e);zn.s[156]++;this._timers.setTimeout("getData",()=>{zn.f[44]++;zn.s[157]++;return this._noMoreData()},BaseConsensusAgent.REQUEST_TIMEOUT)}_doRequestData(n){zn.f[45]++;zn.s[158]++;this._peer.channel.getData(n)}async _onBlock(n){zn.f[46]++;const e=(zn.s[159]++,n.block.hash()),l=(zn.s[160]++,new InvVector(InvVector.Type.BLOCK,e));zn.s[161]++;if((zn.b[26][0]++,!this._objectsInFlight.contains(l))&&(zn.b[26][1]++,!this._objectsThatFlew.contains(l))){zn.b[25][0]++;zn.s[162]++;Log.w(BaseConsensusAgent,`Unsolicited block ${e} received from ${this._peer.peerAddress}, discarding`);zn.s[163]++;return}zn.b[25][1]++;const t=(zn.s[164]++,n.block.isFull()?(zn.b[27][0]++,n.block.body.transactions):(zn.b[27][1]++,[])),o=(zn.s[165]++,t.map(n=>{zn.f[47]++;zn.s[166]++;return this._getTransaction(n.hash())}));zn.s[167]++;for(let i=0;i<t.length;i++){const n=(zn.s[168]++,await o[i]);zn.s[169]++;if(n){zn.b[28][0]++;zn.s[170]++;t[i]=n}else zn.b[28][1]++}zn.s[171]++;if((zn.b[30][0]++,!this._peer.head)&&(zn.b[30][1]++,this._peer.headHash.equals(e))||(zn.b[30][2]++,this._peer.head)&&(zn.b[30][3]++,this._peer.head.height<n.block.height)){zn.b[29][0]++;zn.s[172]++;this._peer.head=n.block.header;zn.s[173]++;this.onHeadUpdated()}else zn.b[29][1]++;zn.s[174]++;this._onObjectReceived(l);zn.s[175]++;this._objectsProcessing.add(l);zn.s[176]++;await this._processBlock(e,n.block);zn.s[177]++;this._onObjectProcessed(l)}async _processBlock(n,e){zn.f[48]++}async _onHeader(n){zn.f[49]++;const e=(zn.s[178]++,n.header.hash()),l=(zn.s[179]++,new InvVector(InvVector.Type.BLOCK,e));zn.s[180]++;if((zn.b[32][0]++,this._objectsInFlight.contains(l))||(zn.b[32][1]++,this._objectsThatFlew.contains(l))){zn.b[31][1]++;zn.s[183]++;if((zn.b[34][0]++,!this._peer.head)&&(zn.b[34][1]++,this._peer.headHash.equals(e))||(zn.b[34][2]++,this._peer.head)&&(zn.b[34][3]++,this._peer.head.height<n.header.height)){zn.b[33][0]++;zn.s[184]++;this._peer.head=n.header;zn.s[185]++;this.onHeadUpdated()}else zn.b[33][1]++;zn.s[186]++;this._onObjectReceived(l);zn.s[187]++;this._objectsProcessing.add(l);zn.s[188]++;await this._processHeader(e,n.header);zn.s[189]++;this._onObjectProcessed(l)}else{zn.b[31][0]++;zn.s[181]++;Log.w(BaseConsensusAgent,`Unsolicited header ${e} received from ${this._peer.peerAddress}, discarding`);zn.s[182]++}}async _processHeader(n,e){zn.f[50]++}async _onTx(n){zn.f[51]++;const e=(zn.s[190]++,n.transaction.hash()),l=(zn.s[191]++,new InvVector(InvVector.Type.TRANSACTION,e));zn.s[192]++;if((zn.b[36][0]++,this._objectsInFlight.contains(l))||(zn.b[36][1]++,this._objectsThatFlew.contains(l))){zn.b[35][1]++;zn.s[195]++;this._onObjectReceived(l);zn.s[196]++;this._objectsProcessing.add(l);zn.s[197]++;if(this._localSubscription.matchesTransaction(n.transaction)){zn.b[37][0]++;zn.s[198]++;await this._processTransaction(e,n.transaction)}else{zn.b[37][1]++;zn.s[199]++;if(this._lastSubscriptionChange+BaseConsensusAgent.SUBSCRIPTION_CHANGE_GRACE_PERIOD>Date.now()){zn.b[38][0]++;zn.s[200]++;this._peer.channel.close(CloseType.RECEIVED_TRANSACTION_NOT_MATCHING_OUR_SUBSCRIPTION,"received transaction not matching our subscription")}else zn.b[38][1]++}zn.s[201]++;this._onObjectProcessed(l)}else{zn.b[35][0]++;zn.s[193]++;Log.w(BaseConsensusAgent,`Unsolicited transaction ${e} received from ${this._peer.peerAddress}, discarding`);zn.s[194]++}}async _processTransaction(n,e){zn.f[52]++}_onNotFound(n){zn.f[53]++;zn.s[202]++;Log.d(BaseConsensusAgent,`[NOTFOUND] ${n.vectors.length} unknown objects received from ${this._peer.peerAddress}`);zn.s[203]++;for(const e of n.vectors){zn.s[204]++;if(this._objectsInFlight.contains(e)){zn.b[39][1]++;zn.s[206]++;this._onObjectReceived(e)}else{zn.b[39][0]++;zn.s[205]++}}}_onObjectReceived(n){zn.f[54]++;zn.s[207]++;if(this._objectsInFlight.isEmpty()){zn.b[40][0]++;zn.s[208]++}else{zn.b[40][1]++;zn.s[209]++;this._objectsInFlight.remove(n);zn.s[210]++;if(this._objectsInFlight.isEmpty()){zn.b[41][1]++;zn.s[213]++;this._noMoreData()}else{zn.b[41][0]++;zn.s[211]++;this._timers.resetTimeout("getData",()=>{zn.f[55]++;zn.s[212]++;return this._noMoreData()},BaseConsensusAgent.REQUEST_TIMEOUT)}}}_noMoreData(){zn.f[56]++;zn.s[214]++;this._timers.clearTimeout("getData");zn.s[215]++;this._objectsThatFlew.addAll(this._objectsInFlight.values());zn.s[216]++;this._objectsInFlight.clear();zn.s[217]++;if((zn.b[43][0]++,!this._blocksToRequest.isEmpty())||(zn.b[43][1]++,this._txsToRequest.isAvailable())){zn.b[42][0]++;zn.s[218]++;this._requestData()}else{zn.b[42][1]++;zn.s[219]++;this._onAllObjectsReceived()}}_onNoUnknownObjects(){zn.f[57]++}_onAllObjectsReceived(){zn.f[58]++}_onObjectProcessed(n){zn.f[59]++;zn.s[220]++;this._objectsProcessing.remove(n);zn.s[221]++;if(this._objectsProcessing.isEmpty()){zn.b[44][0]++;zn.s[222]++;this._onAllObjectsProcessed()}else zn.b[44][1]++}_onAllObjectsProcessed(){zn.f[60]++}async _onGetData(n){zn.f[61]++;zn.s[223]++;for(const l of n.vectors){zn.s[224]++;this._knownObjects.add(l)}const e=(zn.s[225]++,[]);zn.s[226]++;for(const l of n.vectors){zn.s[227]++;switch(l.type){case InvVector.Type.BLOCK:zn.b[45][0]++;{const n=(zn.s[228]++,await this._getBlock(l.hash,!1,!0));zn.s[229]++;if((zn.b[47][0]++,n)&&(zn.b[47][1]++,n.isFull())){zn.b[46][0]++;zn.s[230]++;this._peer.channel.block(n)}else{zn.b[46][1]++;zn.s[231]++;e.push(l)}zn.s[232]++;break}case InvVector.Type.TRANSACTION:zn.b[45][1]++;{const n=(zn.s[233]++,await this._getTransaction(l.hash));zn.s[234]++;if(n){zn.b[48][0]++;zn.s[235]++;this._peer.channel.tx(n)}else{zn.b[48][1]++;zn.s[236]++;e.push(l)}zn.s[237]++;break}default:zn.b[45][2]++;zn.s[238]++;throw`Invalid inventory type: ${l.type}`}}zn.s[239]++;if(e.length){zn.b[49][0]++;zn.s[240]++;this._peer.channel.notFound(e)}else zn.b[49][1]++}async _onGetHeader(n){zn.f[62]++;zn.s[241]++;for(const l of n.vectors){zn.s[242]++;this._knownObjects.add(l)}const e=(zn.s[243]++,[]);zn.s[244]++;for(const l of n.vectors){zn.s[245]++;switch(l.type){case InvVector.Type.BLOCK:zn.b[50][0]++;{const n=(zn.s[246]++,await this._getBlock(l.hash));zn.s[247]++;if(n){zn.b[51][0]++;zn.s[248]++;this._peer.channel.header(n.header)}else{zn.b[51][1]++;zn.s[249]++;e.push(l)}zn.s[250]++;break}case InvVector.Type.TRANSACTION:zn.b[50][1]++;default:zn.b[50][2]++;zn.s[251]++;throw`Invalid inventory type: ${l.type}`}}zn.s[252]++;if(e.length){zn.b[52][0]++;zn.s[253]++;this._peer.channel.notFound(e)}else zn.b[52][1]++}getBlockProof(n,e){zn.f[63]++;zn.s[254]++;return this._synchronizer.push("getBlockProof",this._getBlockProof.bind(this,n,e))}_getBlockProof(n,e){zn.f[64]++;zn.s[255]++;Assert.that(null===this._blockProofRequest);zn.s[256]++;Log.d(BaseConsensusAgent,()=>{zn.f[65]++;zn.s[257]++;return`Requesting BlockProof for ${n} from ${this._peer.peerAddress}`});zn.s[258]++;return new Promise((l,t)=>{zn.f[66]++;zn.s[259]++;this._blockProofRequest={blockHashToProve:n,knownBlock:e,resolve:l,reject:t};zn.s[260]++;this._peer.channel.getBlockProof(n,e.hash());zn.s[261]++;this._peer.channel.expectMessage(Message.Type.BLOCK_PROOF,()=>{zn.f[67]++;zn.s[262]++;t(new Error("timeout"))},BaseConsensusAgent.BLOCK_PROOF_REQUEST_TIMEOUT)})}async _onBlockProof(n){zn.f[68]++;zn.s[263]++;Log.d(BaseConsensusAgent,()=>{zn.f[69]++;zn.s[264]++;return`[BLOCK-PROOF] Received from ${this._peer.peerAddress}: proof=${n.proof} (${n.serializedSize} bytes)`});zn.s[265]++;if(!this._blockProofRequest){zn.b[53][0]++;zn.s[266]++;Log.w(BaseConsensusAgent,`Unsolicited header proof received from ${this._peer.peerAddress}`);zn.s[267]++;return}zn.b[53][1]++;const{blockHashToProve:e,knownBlock:l,resolve:t,reject:o}=(zn.s[268]++,this._blockProofRequest);zn.s[269]++;this._blockProofRequest=null;zn.s[270]++;if((zn.b[55][0]++,!n.hasProof())||(zn.b[55][1]++,0===n.proof.length)){zn.b[54][0]++;zn.s[271]++;o(new Error("Block proof request was rejected"));zn.s[272]++;return}zn.b[54][1]++;const i=(zn.s[273]++,n.proof);zn.s[274]++;if(!e.equals(i.tail.hash())){zn.b[56][0]++;zn.s[275]++;Log.w(BaseConsensusAgent,`Received BlockProof with invalid tail block from ${this._peer.peerAddress}`);zn.s[276]++;o(new Error("Invalid tail block"));zn.s[277]++;return}zn.b[56][1]++;zn.s[278]++;if(!(await l.isInterlinkSuccessorOf(i.head))){zn.b[57][0]++;zn.s[279]++;Log.w(BaseConsensusAgent,`Received BlockProof with invalid head block from ${this._peer.peerAddress}`);zn.s[280]++;o(new Error("Invalid head block"));zn.s[281]++;return}zn.b[57][1]++;zn.s[282]++;if(!(await i.verify())){zn.b[58][0]++;zn.s[283]++;Log.w(BaseConsensusAgent,`Invalid BlockProof received from ${this._peer.peerAddress}`);zn.s[284]++;this._peer.channel.close(CloseType.INVALID_BLOCK_PROOF,"Invalid BlockProof");zn.s[285]++;o(new Error("Invalid BlockProof"));zn.s[286]++;return}zn.b[58][1]++;const c=(zn.s[287]++,await Promise.all(i.blocks.map(n=>{zn.f[70]++;zn.s[288]++;return n.verify(this._time)})));zn.s[289]++;if(c.every(n=>{zn.f[71]++;zn.s[290]++;return n})){zn.b[59][1]++;zn.s[295]++;t(i.tail)}else{zn.b[59][0]++;zn.s[291]++;Log.w(BaseConsensusAgent,`Invalid BlockProof received from ${this._peer.peerAddress}`);zn.s[292]++;this._peer.channel.close(CloseType.INVALID_BLOCK_PROOF,"Invalid BlockProof");zn.s[293]++;o(new Error("Invalid BlockProof"));zn.s[294]++}}getTransactionsProof(n,e){zn.f[72]++;zn.s[296]++;return this._synchronizer.push("getTransactionsProof",this._getTransactionsProof.bind(this,n,e))}_getTransactionsProof(n,e){zn.f[73]++;zn.s[297]++;Assert.that(null===this._transactionsProofRequest);zn.s[298]++;Log.d(BaseConsensusAgent,()=>{zn.f[74]++;zn.s[299]++;return`Requesting TransactionsProof for ${e}@${n.height} from ${this._peer.peerAddress}`});zn.s[300]++;return new Promise((l,t)=>{zn.f[75]++;zn.s[301]++;this._transactionsProofRequest={addresses:e,block:n,resolve:l,reject:t};zn.s[302]++;this._peer.channel.getTransactionsProof(n.hash(),e);zn.s[303]++;this._peer.channel.expectMessage(Message.Type.TRANSACTIONS_PROOF,()=>{zn.f[76]++;zn.s[304]++;this._peer.channel.close(CloseType.GET_TRANSACTIONS_PROOF_TIMEOUT,"getTransactionsProof timeout");zn.s[305]++;t(new Error("timeout"))},BaseConsensusAgent.TRANSACTIONS_PROOF_REQUEST_TIMEOUT)})}_onTransactionsProof(n){zn.f[77]++;zn.s[306]++;Log.d(BaseConsensusAgent,()=>{zn.f[78]++;zn.s[307]++;return`[TRANSACTIONS-PROOF] Received from ${this._peer.peerAddress}: blockHash=${n.blockHash}, proof=${n.proof} (${n.serializedSize} bytes)`});zn.s[308]++;if(!this._transactionsProofRequest){zn.b[60][0]++;zn.s[309]++;Log.w(BaseConsensusAgent,`Unsolicited transactions proof received from ${this._peer.peerAddress}`);zn.s[310]++;return}zn.b[60][1]++;const{block:e,resolve:l,reject:t}=(zn.s[311]++,this._transactionsProofRequest);zn.s[312]++;this._transactionsProofRequest=null;zn.s[313]++;if(!n.hasProof()){zn.b[61][0]++;zn.s[314]++;Log.w(BaseConsensusAgent,`TransactionsProof request was rejected by ${this._peer.peerAddress}`);zn.s[315]++;t(new Error("TransactionsProof request was rejected"));zn.s[316]++;return}zn.b[61][1]++;zn.s[317]++;if(!e.hash().equals(n.blockHash)){zn.b[62][0]++;zn.s[318]++;Log.w(BaseConsensusAgent,`Received TransactionsProof for invalid reference block from ${this._peer.peerAddress}`);zn.s[319]++;t(new Error("Invalid reference block"));zn.s[320]++;return}zn.b[62][1]++;const o=(zn.s[321]++,n.proof);zn.s[322]++;if(e.bodyHash.equals(o.root())){zn.b[63][1]++;zn.s[327]++;l(o.transactions)}else{zn.b[63][0]++;zn.s[323]++;Log.w(BaseConsensusAgent,`Invalid TransactionsProof received from ${this._peer.peerAddress}`);zn.s[324]++;this._peer.channel.close(CloseType.INVALID_TRANSACTION_PROOF,"Invalid TransactionsProof");zn.s[325]++;t(new Error("Invalid TransactionsProof"));zn.s[326]++}}getTransactionReceipts(n){zn.f[79]++;zn.s[328]++;return this._synchronizer.push("getTransactionReceipts",this._getTransactionReceipts.bind(this,n))}_getTransactionReceipts(n){zn.f[80]++;zn.s[329]++;Assert.that(null===this._transactionReceiptsRequest);zn.s[330]++;return new Promise((e,l)=>{zn.f[81]++;zn.s[331]++;this._transactionReceiptsRequest={address:n,resolve:e,reject:l};zn.s[332]++;this._peer.channel.getTransactionReceipts(n);zn.s[333]++;this._peer.channel.expectMessage(Message.Type.TRANSACTION_RECEIPTS,()=>{zn.f[82]++;zn.s[334]++;this._peer.channel.close(CloseType.GET_TRANSACTION_RECEIPTS_TIMEOUT,"getTransactionReceipts timeout");zn.s[335]++;l(new Error("timeout"))},BaseConsensusAgent.TRANSACTION_RECEIPTS_REQUEST_TIMEOUT)})}_onTransactionReceipts(n){zn.f[83]++;zn.s[336]++;Log.d(BaseConsensusAgent,()=>{zn.f[84]++;zn.s[337]++;return`[TRANSACTION-RECEIPTS] Received from ${this._peer.peerAddress}: ${n.transactionReceipts.length}`});zn.s[338]++;if(!this._transactionReceiptsRequest){zn.b[64][0]++;zn.s[339]++;Log.w(BaseConsensusAgent,`Unsolicited transaction receipts received from ${this._peer.peerAddress}`);zn.s[340]++;return}zn.b[64][1]++;const{resolve:e}=(zn.s[341]++,this._transactionReceiptsRequest);zn.s[342]++;this._transactionReceiptsRequest=null;zn.s[343]++;e(n.transactionReceipts)}_onClose(){zn.f[85]++;zn.s[344]++;this._synchronizer.clear();zn.s[345]++;this._timers.clearAll();zn.s[346]++;this._txsToRequest.stop();zn.s[347]++;this._waitingInvVectors.stop();zn.s[348]++;this._waitingFreeInvVectors.stop();zn.s[349]++;this.fire("close",this)}get peer(){zn.f[86]++;zn.s[350]++;return this._peer}get synced(){zn.f[87]++;zn.s[351]++;return this._synced}}zn.s[352]++;BaseConsensusAgent.REQUEST_THRESHOLD=50;zn.s[353]++;BaseConsensusAgent.REQUEST_THROTTLE=500;zn.s[354]++;BaseConsensusAgent.REQUEST_TIMEOUT=1e4;zn.s[355]++;BaseConsensusAgent.REQUEST_TRANSACTIONS_WAITING_MAX=5e3;zn.s[356]++;BaseConsensusAgent.REQUEST_BLOCKS_WAITING_MAX=5e3;zn.s[357]++;BaseConsensusAgent.BLOCK_PROOF_REQUEST_TIMEOUT=1e4;zn.s[358]++;BaseConsensusAgent.TRANSACTIONS_PROOF_REQUEST_TIMEOUT=1e4;zn.s[359]++;BaseConsensusAgent.TRANSACTION_RECEIPTS_REQUEST_TIMEOUT=15e3;zn.s[360]++;BaseConsensusAgent.TRANSACTION_RELAY_INTERVAL=5e3;zn.s[361]++;BaseConsensusAgent.TRANSACTIONS_AT_ONCE=100;zn.s[362]++;BaseConsensusAgent.TRANSACTIONS_PER_SECOND=10;zn.s[363]++;BaseConsensusAgent.FREE_TRANSACTION_RELAY_INTERVAL=6e3;zn.s[364]++;BaseConsensusAgent.FREE_TRANSACTIONS_AT_ONCE=10;zn.s[365]++;BaseConsensusAgent.FREE_TRANSACTIONS_PER_SECOND=1;zn.s[366]++;BaseConsensusAgent.FREE_TRANSACTION_SIZE_PER_INTERVAL=15e3;zn.s[367]++;BaseConsensusAgent.TRANSACTION_RELAY_FEE_MIN=1;zn.s[368]++;BaseConsensusAgent.SUBSCRIPTION_CHANGE_GRACE_PERIOD=2e3;zn.s[369]++;BaseConsensusAgent.HEAD_REQUEST_INTERVAL=1e5;zn.s[370]++;Class.register(BaseConsensusAgent);var Hn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/BaseConsensus.js",e="f45b33743a0a4c22af997e98ee5faa610d54a2e4",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/BaseConsensus.js",statementMap:{0:{start:{line:11,column:8},end:{line:11,column:16}},1:{start:{line:13,column:8},end:{line:13,column:38}},2:{start:{line:15,column:8},end:{line:15,column:32}},3:{start:{line:18,column:8},end:{line:18,column:37}},4:{start:{line:21,column:8},end:{line:21,column:36}},5:{start:{line:24,column:8},end:{line:24,column:34}},6:{start:{line:27,column:8},end:{line:27,column:30}},7:{start:{line:30,column:8},end:{line:30,column:46}},8:{start:{line:32,column:8},end:{line:32,column:68}},9:{start:{line:32,column:42},end:{line:32,column:66}},10:{start:{line:33,column:8},end:{line:33,column:64}},11:{start:{line:33,column:40},end:{line:33,column:62}},12:{start:{line:36,column:8},end:{line:36,column:73}},13:{start:{line:36,column:46},end:{line:36,column:71}},14:{start:{line:39,column:8},end:{line:39,column:76}},15:{start:{line:39,column:46},end:{line:39,column:74}},16:{start:{line:46,column:8},end:{line:46,column:42}},17:{start:{line:47,column:8},end:{line:49,column:9}},18:{start:{line:48,column:12},end:{line:48,column:42}},19:{start:{line:58,column:8},end:{line:58,column:43}},20:{start:{line:68,column:22},end:{line:68,column:51}},21:{start:{line:69,column:8},end:{line:69,column:41}},22:{start:{line:72,column:8},end:{line:72,column:62}},23:{start:{line:72,column:32},end:{line:72,column:60}},24:{start:{line:73,column:8},end:{line:73,column:63}},25:{start:{line:73,column:31},end:{line:73,column:61}},26:{start:{line:74,column:8},end:{line:74,column:73}},27:{start:{line:74,column:38},end:{line:74,column:71}},28:{start:{line:77,column:8},end:{line:77,column:104}},29:{start:{line:79,column:8},end:{line:79,column:21}},30:{start:{line:88,column:8},end:{line:92,column:9}},31:{start:{line:89,column:12},end:{line:89,column:78}},32:{start:{line:90,column:12},end:{line:90,column:34}},33:{start:{line:91,column:12},end:{line:91,column:55}},34:{start:{line:94,column:8},end:{line:94,column:37}},35:{start:{line:95,column:8},end:{line:95,column:31}},36:{start:{line:102,column:27},end:{line:102,column:29}},37:{start:{line:103,column:33},end:{line:103,column:34}},38:{start:{line:104,column:8},end:{line:110,column:9}},39:{start:{line:105,column:12},end:{line:109,column:13}},40:{start:{line:106,column:16},end:{line:106,column:39}},41:{start:{line:107,column:19},end:{line:109,column:13}},42:{start:{line:108,column:16},end:{line:108,column:37}},43:{start:{line:113,column:8},end:{line:116,column:9}},44:{start:{line:114,column:12},end:{line:114,column:38}},45:{start:{line:115,column:12},end:{line:115,column:30}},46:{start:{line:119,column:8},end:{line:121,column:9}},47:{start:{line:120,column:12},end:{line:120,column:19}},48:{start:{line:124,column:22},end:{line:124,column:58}},49:{start:{line:125,column:8},end:{line:148,column:9}},50:{start:{line:129,column:12},end:{line:145,column:13}},51:{start:{line:130,column:16},end:{line:140,column:17}},52:{start:{line:131,column:20},end:{line:131,column:125}},53:{start:{line:132,column:20},end:{line:132,column:129}},54:{start:{line:135,column:20},end:{line:135,column:45}},55:{start:{line:136,column:20},end:{line:136,column:45}},56:{start:{line:139,column:20},end:{line:139,column:65}},57:{start:{line:144,column:16},end:{line:144,column:37}},58:{start:{line:147,column:12},end:{line:147,column:19}},59:{start:{line:150,column:8},end:{line:150,column:36}},60:{start:{line:153,column:8},end:{line:155,column:9}},61:{start:{line:154,column:12},end:{line:154,column:33}},62:{start:{line:157,column:8},end:{line:157,column:87}},63:{start:{line:158,column:8},end:{line:158,column:68}},64:{start:{line:167,column:8},end:{line:170,column:9}},65:{start:{line:168,column:12},end:{line:168,column:80}},66:{start:{line:169,column:12},end:{line:169,column:34}},67:{start:{line:171,column:8},end:{line:171,column:31}},68:{start:{line:179,column:8},end:{line:179,column:80}},69:{start:{line:180,column:8},end:{line:180,column:31}},70:{start:{line:189,column:8},end:{line:189,column:39}},71:{start:{line:189,column:32},end:{line:189,column:39}},72:{start:{line:191,column:8},end:{line:193,column:9}},73:{start:{line:192,column:12},end:{line:192,column:35}},74:{start:{line:202,column:8},end:{line:202,column:39}},75:{start:{line:202,column:32},end:{line:202,column:39}},76:{start:{line:204,column:8},end:{line:206,column:9}},77:{start:{line:205,column:12},end:{line:205,column:39}},78:{start:{line:217,column:27},end:{line:217,column:104}},79:{start:{line:218,column:8},end:{line:220,column:9}},80:{start:{line:219,column:12},end:{line:219,column:80}},81:{start:{line:222,column:8},end:{line:224,column:9}},82:{start:{line:223,column:12},end:{line:223,column:30}},83:{start:{line:226,column:23},end:{line:229,column:9}},84:{start:{line:227,column:12},end:{line:228,column:67}},85:{start:{line:232,column:31},end:{line:232,column:48}},86:{start:{line:233,column:8},end:{line:233,column:91}},87:{start:{line:233,column:30},end:{line:233,column:89}},88:{start:{line:235,column:8},end:{line:242,column:9}},89:{start:{line:236,column:12},end:{line:241,column:13}},90:{start:{line:237,column:16},end:{line:237,column:79}},91:{start:{line:239,column:16},end:{line:239,column:167}},92:{start:{line:245,column:8},end:{line:245,column:82}},93:{start:{line:255,column:8},end:{line:257,column:9}},94:{start:{line:256,column:12},end:{line:256,column:22}},95:{start:{line:259,column:23},end:{line:262,column:9}},96:{start:{line:260,column:12},end:{line:261,column:68}},97:{start:{line:265,column:26},end:{line:265,column:38}},98:{start:{line:266,column:8},end:{line:266,column:81}},99:{start:{line:266,column:30},end:{line:266,column:79}},100:{start:{line:268,column:8},end:{line:275,column:9}},101:{start:{line:269,column:12},end:{line:274,column:13}},102:{start:{line:270,column:16},end:{line:270,column:74}},103:{start:{line:272,column:16},end:{line:272,column:145}},104:{start:{line:278,column:8},end:{line:278,column:82}},105:{start:{line:287,column:23},end:{line:290,column:9}},106:{start:{line:288,column:12},end:{line:289,column:67}},107:{start:{line:292,column:8},end:{line:299,column:9}},108:{start:{line:293,column:12},end:{line:298,column:13}},109:{start:{line:294,column:16},end:{line:294,column:67}},110:{start:{line:296,column:16},end:{line:296,column:145}},111:{start:{line:302,column:8},end:{line:302,column:82}},112:{start:{line:312,column:25},end:{line:312,column:72}},113:{start:{line:316,column:30},end:{line:316,column:32}},114:{start:{line:317,column:28},end:{line:317,column:32}},115:{start:{line:318,column:8},end:{line:333,column:9}},116:{start:{line:319,column:12},end:{line:332,column:13}},117:{start:{line:321,column:30},end:{line:321,column:80}},118:{start:{line:322,column:16},end:{line:329,column:17}},119:{start:{line:323,column:20},end:{line:323,column:63}},120:{start:{line:325,column:36},end:{line:327,column:94}},121:{start:{line:326,column:36},end:{line:327,column:93}},122:{start:{line:328,column:20},end:{line:328,column:48}},123:{start:{line:331,column:16},end:{line:331,column:50}},124:{start:{line:334,column:23},end:{line:334,column:55}},125:{start:{line:337,column:36},end:{line:337,column:38}},126:{start:{line:338,column:8},end:{line:346,column:9}},127:{start:{line:339,column:12},end:{line:339,column:33}},128:{start:{line:339,column:24},end:{line:339,column:33}},129:{start:{line:341,column:28},end:{line:344,column:86}},130:{start:{line:342,column:29},end:{line:342,column:87}},131:{start:{line:342,column:44},end:{line:342,column:85}},132:{start:{line:343,column:28},end:{line:344,column:85}},133:{start:{line:345,column:12},end:{line:345,column:46}},134:{start:{line:348,column:29},end:{line:348,column:67}},135:{start:{line:349,column:8},end:{line:351,column:63}},136:{start:{line:350,column:34},end:{line:350,column:61}},137:{start:{line:351,column:28},end:{line:351,column:61}},138:{start:{line:356,column:8},end:{line:356,column:33}},139:{start:{line:361,column:8},end:{line:361,column:29}},140:{start:{line:364,column:0},end:{line:364,column:35}},141:{start:{line:365,column:0},end:{line:365,column:33}},142:{start:{line:366,column:0},end:{line:366,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:4},end:{line:10,column:5}},loc:{start:{line:10,column:46},end:{line:40,column:5}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:32,column:34},end:{line:32,column:35}},loc:{start:{line:32,column:42},end:{line:32,column:66}},line:32},2:{name:"(anonymous_2)",decl:{start:{line:33,column:32},end:{line:33,column:33}},loc:{start:{line:33,column:40},end:{line:33,column:62}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:36,column:38},end:{line:36,column:39}},loc:{start:{line:36,column:46},end:{line:36,column:71}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:39,column:40},end:{line:39,column:41}},loc:{start:{line:39,column:46},end:{line:39,column:74}},line:39},5:{name:"(anonymous_5)",decl:{start:{line:45,column:4},end:{line:45,column:5}},loc:{start:{line:45,column:28},end:{line:50,column:5}},line:45},6:{name:"(anonymous_6)",decl:{start:{line:57,column:4},end:{line:57,column:5}},loc:{start:{line:57,column:29},end:{line:59,column:5}},line:57},7:{name:"(anonymous_7)",decl:{start:{line:66,column:4},end:{line:66,column:5}},loc:{start:{line:66,column:24},end:{line:80,column:5}},line:66},8:{name:"(anonymous_8)",decl:{start:{line:72,column:26},end:{line:72,column:27}},loc:{start:{line:72,column:32},end:{line:72,column:60}},line:72},9:{name:"(anonymous_9)",decl:{start:{line:73,column:25},end:{line:73,column:26}},loc:{start:{line:73,column:31},end:{line:73,column:61}},line:73},10:{name:"(anonymous_10)",decl:{start:{line:74,column:32},end:{line:74,column:33}},loc:{start:{line:74,column:38},end:{line:74,column:71}},line:74},11:{name:"(anonymous_11)",decl:{start:{line:86,column:4},end:{line:86,column:5}},loc:{start:{line:86,column:22},end:{line:96,column:5}},line:86},12:{name:"(anonymous_12)",decl:{start:{line:101,column:4},end:{line:101,column:5}},loc:{start:{line:101,column:22},end:{line:159,column:5}},line:101},13:{name:"(anonymous_13)",decl:{start:{line:165,column:4},end:{line:165,column:5}},loc:{start:{line:165,column:24},end:{line:172,column:5}},line:165},14:{name:"(anonymous_14)",decl:{start:{line:178,column:4},end:{line:178,column:5}},loc:{start:{line:178,column:27},end:{line:181,column:5}},line:178},15:{name:"(anonymous_15)",decl:{start:{line:187,column:4},end:{line:187,column:5}},loc:{start:{line:187,column:25},end:{line:194,column:5}},line:187},16:{name:"(anonymous_16)",decl:{start:{line:200,column:4},end:{line:200,column:5}},loc:{start:{line:200,column:28},end:{line:207,column:5}},line:200},17:{name:"(anonymous_17)",decl:{start:{line:215,column:4},end:{line:215,column:5}},loc:{start:{line:215,column:67},end:{line:246,column:5}},line:215},18:{name:"(anonymous_18)",decl:{start:{line:226,column:52},end:{line:226,column:53}},loc:{start:{line:227,column:12},end:{line:228,column:67}},line:227},19:{name:"(anonymous_19)",decl:{start:{line:233,column:20},end:{line:233,column:21}},loc:{start:{line:233,column:30},end:{line:233,column:89}},line:233},20:{name:"(anonymous_20)",decl:{start:{line:254,column:4},end:{line:254,column:5}},loc:{start:{line:254,column:78},end:{line:279,column:5}},line:254},21:{name:"(anonymous_21)",decl:{start:{line:259,column:52},end:{line:259,column:53}},loc:{start:{line:260,column:12},end:{line:261,column:68}},line:260},22:{name:"(anonymous_22)",decl:{start:{line:266,column:20},end:{line:266,column:21}},loc:{start:{line:266,column:30},end:{line:266,column:79}},line:266},23:{name:"(anonymous_23)",decl:{start:{line:286,column:4},end:{line:286,column:5}},loc:{start:{line:286,column:47},end:{line:303,column:5}},line:286},24:{name:"(anonymous_24)",decl:{start:{line:287,column:52},end:{line:287,column:53}},loc:{start:{line:288,column:12},end:{line:289,column:67}},line:288},25:{name:"(anonymous_25)",decl:{start:{line:310,column:4},end:{line:310,column:5}},loc:{start:{line:310,column:46},end:{line:352,column:5}},line:310},26:{name:"(anonymous_26)",decl:{start:{line:326,column:31},end:{line:326,column:32}},loc:{start:{line:326,column:36},end:{line:327,column:93}},line:326},27:{name:"(anonymous_27)",decl:{start:{line:342,column:22},end:{line:342,column:23}},loc:{start:{line:342,column:29},end:{line:342,column:87}},line:342},28:{name:"(anonymous_28)",decl:{start:{line:342,column:37},end:{line:342,column:38}},loc:{start:{line:342,column:44},end:{line:342,column:85}},line:342},29:{name:"(anonymous_29)",decl:{start:{line:343,column:23},end:{line:343,column:24}},loc:{start:{line:343,column:28},end:{line:344,column:85}},line:343},30:{name:"(anonymous_30)",decl:{start:{line:350,column:20},end:{line:350,column:21}},loc:{start:{line:350,column:34},end:{line:350,column:61}},line:350},31:{name:"(anonymous_31)",decl:{start:{line:351,column:18},end:{line:351,column:19}},loc:{start:{line:351,column:28},end:{line:351,column:61}},line:351},32:{name:"(anonymous_32)",decl:{start:{line:355,column:4},end:{line:355,column:5}},loc:{start:{line:355,column:22},end:{line:357,column:5}},line:355},33:{name:"(anonymous_33)",decl:{start:{line:360,column:4},end:{line:360,column:5}},loc:{start:{line:360,column:18},end:{line:362,column:5}},line:360}},branchMap:{0:{loc:{start:{line:88,column:8},end:{line:92,column:9}},type:"if",locations:[{start:{line:88,column:8},end:{line:92,column:9}},{start:{line:88,column:8},end:{line:92,column:9}}],line:88},1:{loc:{start:{line:105,column:12},end:{line:109,column:13}},type:"if",locations:[{start:{line:105,column:12},end:{line:109,column:13}},{start:{line:105,column:12},end:{line:109,column:13}}],line:105},2:{loc:{start:{line:107,column:19},end:{line:109,column:13}},type:"if",locations:[{start:{line:107,column:19},end:{line:109,column:13}},{start:{line:107,column:19},end:{line:109,column:13}}],line:107},3:{loc:{start:{line:113,column:8},end:{line:116,column:9}},type:"if",locations:[{start:{line:113,column:8},end:{line:116,column:9}},{start:{line:113,column:8},end:{line:116,column:9}}],line:113},4:{loc:{start:{line:113,column:12},end:{line:113,column:113}},type:"binary-expr",locations:[{start:{line:113,column:12},end:{line:113,column:29}},{start:{line:113,column:34},end:{line:113,column:83}},{start:{line:113,column:87},end:{line:113,column:112}}],line:113},5:{loc:{start:{line:119,column:8},end:{line:121,column:9}},type:"if",locations:[{start:{line:119,column:8},end:{line:121,column:9}},{start:{line:119,column:8},end:{line:121,column:9}}],line:119},6:{loc:{start:{line:125,column:8},end:{line:148,column:9}},type:"if",locations:[{start:{line:125,column:8},end:{line:148,column:9}},{start:{line:125,column:8},end:{line:148,column:9}}],line:125},7:{loc:{start:{line:129,column:12},end:{line:145,column:13}},type:"if",locations:[{start:{line:129,column:12},end:{line:145,column:13}},{start:{line:129,column:12},end:{line:145,column:13}}],line:129},8:{loc:{start:{line:130,column:16},end:{line:140,column:17}},type:"if",locations:[{start:{line:130,column:16},end:{line:140,column:17}},{start:{line:130,column:16},end:{line:140,column:17}}],line:130},9:{loc:{start:{line:153,column:8},end:{line:155,column:9}},type:"if",locations:[{start:{line:153,column:8},end:{line:155,column:9}},{start:{line:153,column:8},end:{line:155,column:9}}],line:153},10:{loc:{start:{line:167,column:8},end:{line:170,column:9}},type:"if",locations:[{start:{line:167,column:8},end:{line:170,column:9}},{start:{line:167,column:8},end:{line:170,column:9}}],line:167},11:{loc:{start:{line:189,column:8},end:{line:189,column:39}},type:"if",locations:[{start:{line:189,column:8},end:{line:189,column:39}},{start:{line:189,column:8},end:{line:189,column:39}}],line:189},12:{loc:{start:{line:202,column:8},end:{line:202,column:39}},type:"if",locations:[{start:{line:202,column:8},end:{line:202,column:39}},{start:{line:202,column:8},end:{line:202,column:39}}],line:202},13:{loc:{start:{line:218,column:8},end:{line:220,column:9}},type:"if",locations:[{start:{line:218,column:8},end:{line:220,column:9}},{start:{line:218,column:8},end:{line:220,column:9}}],line:218},14:{loc:{start:{line:222,column:8},end:{line:224,column:9}},type:"if",locations:[{start:{line:222,column:8},end:{line:224,column:9}},{start:{line:222,column:8},end:{line:224,column:9}}],line:222},15:{loc:{start:{line:227,column:12},end:{line:228,column:67}},type:"binary-expr",locations:[{start:{line:227,column:12},end:{line:227,column:24}},{start:{line:228,column:15},end:{line:228,column:67}}],line:227},16:{loc:{start:{line:239,column:149},end:{line:239,column:163}},type:"binary-expr",locations:[{start:{line:239,column:149},end:{line:239,column:158}},{start:{line:239,column:162},end:{line:239,column:163}}],line:239},17:{loc:{start:{line:254,column:47},end:{line:254,column:76}},type:"default-arg",locations:[{start:{line:254,column:55},end:{line:254,column:76}}],line:254},18:{loc:{start:{line:255,column:8},end:{line:257,column:9}},type:"if",locations:[{start:{line:255,column:8},end:{line:257,column:9}},{start:{line:255,column:8},end:{line:257,column:9}}],line:255},19:{loc:{start:{line:260,column:12},end:{line:261,column:68}},type:"binary-expr",locations:[{start:{line:260,column:12},end:{line:260,column:24}},{start:{line:261,column:15},end:{line:261,column:68}}],line:260},20:{loc:{start:{line:272,column:127},end:{line:272,column:141}},type:"binary-expr",locations:[{start:{line:272,column:127},end:{line:272,column:136}},{start:{line:272,column:140},end:{line:272,column:141}}],line:272},21:{loc:{start:{line:288,column:12},end:{line:289,column:67}},type:"binary-expr",locations:[{start:{line:288,column:12},end:{line:288,column:24}},{start:{line:289,column:15},end:{line:289,column:67}}],line:288},22:{loc:{start:{line:296,column:127},end:{line:296,column:141}},type:"binary-expr",locations:[{start:{line:296,column:127},end:{line:296,column:136}},{start:{line:296,column:140},end:{line:296,column:141}}],line:296},23:{loc:{start:{line:319,column:12},end:{line:332,column:13}},type:"if",locations:[{start:{line:319,column:12},end:{line:332,column:13}},{start:{line:319,column:12},end:{line:332,column:13}}],line:319},24:{loc:{start:{line:322,column:16},end:{line:329,column:17}},type:"if",locations:[{start:{line:322,column:16},end:{line:329,column:17}},{start:{line:322,column:16},end:{line:329,column:17}}],line:322},25:{loc:{start:{line:327,column:35},end:{line:327,column:49}},type:"binary-expr",locations:[{start:{line:327,column:35},end:{line:327,column:44}},{start:{line:327,column:48},end:{line:327,column:49}}],line:327},26:{loc:{start:{line:339,column:12},end:{line:339,column:33}},type:"if",locations:[{start:{line:339,column:12},end:{line:339,column:33}},{start:{line:339,column:12},end:{line:339,column:33}}],line:339},27:{loc:{start:{line:344,column:27},end:{line:344,column:41}},type:"binary-expr",locations:[{start:{line:344,column:27},end:{line:344,column:36}},{start:{line:344,column:40},end:{line:344,column:41}}],line:344},28:{loc:{start:{line:350,column:34},end:{line:350,column:61}},type:"cond-expr",locations:[{start:{line:350,column:39},end:{line:350,column:54}},{start:{line:350,column:57},end:{line:350,column:61}}],line:350}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class BaseConsensus extends Observable{constructor(n,e,l){Hn.f[0]++;Hn.s[0]++;super();Hn.s[1]++;this._blockchain=n;Hn.s[2]++;this._network=l;Hn.s[3]++;this._agents=new HashMap;Hn.s[4]++;this._timers=new Timers;Hn.s[5]++;this._established=!1;Hn.s[6]++;this._syncPeer=null;Hn.s[7]++;this._subscription=Subscription.ANY;Hn.s[8]++;l.on("peer-joined",n=>{Hn.f[1]++;Hn.s[9]++;return this._onPeerJoined(n)});Hn.s[10]++;l.on("peer-left",n=>{Hn.f[2]++;Hn.s[11]++;return this._onPeerLeft(n)});Hn.s[12]++;n.on("head-changed",n=>{Hn.f[3]++;Hn.s[13]++;return this._onHeadChanged(n)});Hn.s[14]++;e.on("transaction-added",n=>{Hn.f[4]++;Hn.s[15]++;return this._onTransactionAdded(n)})}subscribe(n){Hn.f[5]++;Hn.s[16]++;this._subscription=n;Hn.s[17]++;for(const e of this._agents.values()){Hn.s[18]++;e.subscribe(n)}}_newConsensusAgent(n){Hn.f[6]++;Hn.s[19]++;throw new Error("not implemented")}_onPeerJoined(n){Hn.f[7]++;const e=(Hn.s[20]++,this._newConsensusAgent(n));Hn.s[21]++;this._agents.put(n.id,e);Hn.s[22]++;e.on("close",()=>{Hn.f[8]++;Hn.s[23]++;return this._onPeerLeft(e.peer)});Hn.s[24]++;e.on("sync",()=>{Hn.f[9]++;Hn.s[25]++;return this._onPeerSynced(e.peer)});Hn.s[26]++;e.on("out-of-sync",()=>{Hn.f[10]++;Hn.s[27]++;return this._onPeerOutOfSync(e.peer)});Hn.s[28]++;this._timers.resetTimeout("sync",this._syncBlockchain.bind(this),BaseConsensus.SYNC_THROTTLE);Hn.s[29]++;return e}_onPeerLeft(n){Hn.f[11]++;Hn.s[30]++;if(n.equals(this._syncPeer)){Hn.b[0][0]++;Hn.s[31]++;Log.d(BaseConsensus,`Peer ${n.peerAddress} left during sync`);Hn.s[32]++;this._syncPeer=null;Hn.s[33]++;this.fire("sync-failed",n.peerAddress)}else Hn.b[0][1]++;Hn.s[34]++;this._agents.remove(n.id);Hn.s[35]++;this._syncBlockchain()}_syncBlockchain(){Hn.f[12]++;const n=(Hn.s[36]++,[]);let e=(Hn.s[37]++,0);Hn.s[38]++;for(const t of this._agents.valueIterator()){Hn.s[39]++;if(t.synced){Hn.b[1][1]++;Hn.s[41]++;if(Services.isFullNode(t.peer.peerAddress.services)){Hn.b[2][0]++;Hn.s[42]++;e++}else Hn.b[2][1]++}else{Hn.b[1][0]++;Hn.s[40]++;n.push(t)}}Hn.s[43]++;if((Hn.b[4][0]++,this._established)&&((Hn.b[4][1]++,e<BaseConsensus.MIN_FULL_NODES)||(Hn.b[4][2]++,0===this._agents.length))){Hn.b[3][0]++;Hn.s[44]++;this._established=!1;Hn.s[45]++;this.fire("lost")}else Hn.b[3][1]++;Hn.s[46]++;if(this._syncPeer){Hn.b[5][0]++;Hn.s[47]++;return}Hn.b[5][1]++;const l=(Hn.s[48]++,ArrayUtils.randomElement(n));Hn.s[49]++;if(l){Hn.b[6][1]++;Hn.s[59]++;this._syncPeer=l.peer;Hn.s[60]++;if(this._established)Hn.b[9][1]++;else{Hn.b[9][0]++;Hn.s[61]++;this.fire("syncing")}Hn.s[62]++;Log.v(BaseConsensus,`Syncing blockchain with peer ${l.peer.peerAddress}`);Hn.s[63]++;l.syncBlockchain()["catch"](Log.w.tag(BaseConsensusAgent))}else{Hn.b[6][0]++;Hn.s[50]++;if(e>=BaseConsensus.MIN_FULL_NODES){Hn.b[7][0]++;Hn.s[51]++;if(this._established)Hn.b[8][1]++;else{Hn.b[8][0]++;Hn.s[52]++;Log.i(BaseConsensus,`Synced with all connected peers (${this._agents.length}), consensus established.`);Hn.s[53]++;Log.d(BaseConsensus,`Blockchain: height=${this._blockchain.height}, headHash=${this._blockchain.headHash}`);Hn.s[54]++;this._established=!0;Hn.s[55]++;this.fire("established");Hn.s[56]++;this._network.allowInboundConnections=!0}}else{Hn.b[7][1]++;Hn.s[57]++;this.fire("waiting")}Hn.s[58]++}}_onPeerSynced(n){Hn.f[13]++;Hn.s[64]++;if(n.equals(this._syncPeer)){Hn.b[10][0]++;Hn.s[65]++;Log.v(BaseConsensus,`Finished sync with peer ${n.peerAddress}`);Hn.s[66]++;this._syncPeer=null}else Hn.b[10][1]++;Hn.s[67]++;this._syncBlockchain()}_onPeerOutOfSync(n){Hn.f[14]++;Hn.s[68]++;Log.w(BaseConsensus,`Peer ${n.peerAddress} out of sync, resyncing`);Hn.s[69]++;this._syncBlockchain()}_onHeadChanged(n){Hn.f[15]++;Hn.s[70]++;if(this._established){Hn.b[11][1]++;Hn.s[72]++;for(const e of this._agents.values()){Hn.s[73]++;e.relayBlock(n)}}else{Hn.b[11][0]++;Hn.s[71]++}}_onTransactionAdded(n){Hn.f[16]++;Hn.s[74]++;if(this._established){Hn.b[12][1]++;Hn.s[76]++;for(const e of this._agents.values()){Hn.s[77]++;e.relayTransaction(n)}}else{Hn.b[12][0]++;Hn.s[75]++}}async _requestBlockProof(n,e){Hn.f[17]++;const l=(Hn.s[78]++,await this._blockchain.getNearestBlockAt(e,!1));Hn.s[79]++;if(!l){Hn.b[13][0]++;Hn.s[80]++;throw new Error("No suitable reference block found for BlockProof")}Hn.b[13][1]++;Hn.s[81]++;if(n.equals(l.hash())){Hn.b[14][0]++;Hn.s[82]++;return l}Hn.b[14][1]++;const t=(Hn.s[83]++,this._agents.values().filter(n=>{Hn.f[18]++;Hn.s[84]++;return(Hn.b[15][0]++,n.synced)&&(Hn.b[15][1]++,Services.isFullNode(n.peer.peerAddress.services))})),o=(Hn.s[85]++,l.hash());Hn.s[86]++;t.sort((n,e)=>{Hn.f[19]++;Hn.s[87]++;return e.knowsBlock(o)-n.knowsBlock(o)});Hn.s[88]++;for(const c of t){Hn.s[89]++;try{Hn.s[90]++;return await c.getBlockProof(n,l)}catch(i){Hn.s[91]++;Log.w(BaseConsensus,`Failed to retrieve block proof for ${n}@${e} from ${c.peer.peerAddress}: ${(Hn.b[16][0]++,i.message)||(Hn.b[16][1]++,i)}`)}}Hn.s[92]++;throw new Error(`Failed to retrieve block proof for ${n}`)}async _requestTransactionsProof(n,e=(Hn.b[17][0]++,this._blockchain.head)){Hn.f[20]++;Hn.s[93]++;if(0===n.length){Hn.b[18][0]++;Hn.s[94]++;return[]}Hn.b[18][1]++;const l=(Hn.s[95]++,this._agents.values().filter(n=>{Hn.f[21]++;Hn.s[96]++;return(Hn.b[19][0]++,n.synced)&&(Hn.b[19][1]++,!Services.isNanoNode(n.peer.peerAddress.services))})),t=(Hn.s[97]++,e.hash());Hn.s[98]++;l.sort((n,e)=>{Hn.f[22]++;Hn.s[99]++;return e.knowsBlock(t)-n.knowsBlock(t)});Hn.s[100]++;for(const i of l){Hn.s[101]++;try{Hn.s[102]++;return await i.getTransactionsProof(e,n)}catch(o){Hn.s[103]++;Log.w(BaseConsensus,`Failed to retrieve transactions proof for ${n} from ${i.peer.peerAddress}: ${(Hn.b[20][0]++,o.message)||(Hn.b[20][1]++,o)}`)}}Hn.s[104]++;throw new Error(`Failed to retrieve transactions proof for ${n}`)}async _requestTransactionReceipts(n){Hn.f[23]++;const e=(Hn.s[105]++,this._agents.values().filter(n=>{Hn.f[24]++;Hn.s[106]++;return(Hn.b[21][0]++,n.synced)&&(Hn.b[21][1]++,Services.isFullNode(n.peer.peerAddress.services))}));Hn.s[107]++;for(const t of e){Hn.s[108]++;try{Hn.s[109]++;return await t.getTransactionReceipts(n)}catch(l){Hn.s[110]++;Log.w(BaseConsensus,`Failed to retrieve transaction receipts for ${n} from ${t.peer.peerAddress}: ${(Hn.b[22][0]++,l.message)||(Hn.b[22][1]++,l)}`)}}Hn.s[111]++;throw new Error(`Failed to retrieve transaction receipts for ${n}`)}async _requestTransactionHistory(n){Hn.f[25]++;const e=(Hn.s[112]++,await this._requestTransactionReceipts(n)),l=(Hn.s[113]++,[]);let t=(Hn.s[114]++,null);Hn.s[115]++;for(const s of e){Hn.s[116]++;if(s.blockHash.equals(t))Hn.b[23][1]++;else{Hn.b[23][0]++;const n=(Hn.s[117]++,await this._blockchain.getBlock(s.blockHash));Hn.s[118]++;if(n){Hn.b[24][0]++;Hn.s[119]++;l.push(Promise.resolve(n))}else{Hn.b[24][1]++;const n=(Hn.s[120]++,this._requestBlockProof(s.blockHash,s.blockHeight)["catch"](n=>{Hn.f[26]++;Hn.s[121]++;return Log.e(BaseConsensus,`Failed to retrieve proof for block ${s.blockHash}`+` (${(Hn.b[25][0]++,n.message)||(Hn.b[25][1]++,n)}) - transaction history may be incomplete`)}));Hn.s[122]++;l.push(n)}Hn.s[123]++;t=s.blockHash}}const o=(Hn.s[124]++,await Promise.all(l)),i=(Hn.s[125]++,[]);Hn.s[126]++;for(const s of o){Hn.s[127]++;if(!s){Hn.b[26][0]++;Hn.s[128]++;continue}Hn.b[26][1]++;const e=(Hn.s[129]++,this._requestTransactionsProof([n],s).then(n=>{Hn.f[27]++;Hn.s[130]++;return n.map(n=>{Hn.f[28]++;Hn.s[131]++;return{transaction:n,header:s.header}})})["catch"](n=>{Hn.f[29]++;Hn.s[132]++;return Log.e(BaseConsensus,`Failed to retrieve transactions for block ${s.hash}`+` (${(Hn.b[27][0]++,n.message)||(Hn.b[27][1]++,n)}) - transaction history may be incomplete`)}));Hn.s[133]++;i.push(e)}const c=(Hn.s[134]++,await Promise.all(i));Hn.s[135]++;return c.reduce((n,e)=>{Hn.f[30]++;Hn.s[136]++;return e?(Hn.b[28][0]++,n.concat(e)):(Hn.b[28][1]++,n)},[]).sort((n,e)=>{Hn.f[31]++;Hn.s[137]++;return n.header.height-e.header.height})}get established(){Hn.f[32]++;Hn.s[138]++;return this._established}get network(){Hn.f[33]++;Hn.s[139]++;return this._network}}Hn.s[140]++;BaseConsensus.SYNC_THROTTLE=1500;Hn.s[141]++;BaseConsensus.MIN_FULL_NODES=1;Hn.s[142]++;Class.register(BaseConsensus);var qn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/full/FullChain.js",e="1465f7f5d9195f901135a7845067a63445cf92f1",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/full/FullChain.js",statementMap:{0:{start:{line:13,column:22},end:{line:13,column:55}},1:{start:{line:14,column:22},end:{line:14,column:76}},2:{start:{line:15,column:8},end:{line:15,column:29}},3:{start:{line:25,column:22},end:{line:25,column:53}},4:{start:{line:26,column:22},end:{line:26,column:76}},5:{start:{line:27,column:8},end:{line:27,column:29}},6:{start:{line:38,column:8},end:{line:38,column:21}},7:{start:{line:39,column:8},end:{line:39,column:34}},8:{start:{line:40,column:8},end:{line:40,column:26}},9:{start:{line:43,column:8},end:{line:43,column:40}},10:{start:{line:45,column:8},end:{line:45,column:33}},11:{start:{line:48,column:8},end:{line:48,column:31}},12:{start:{line:51,column:8},end:{line:51,column:27}},13:{start:{line:54,column:8},end:{line:54,column:56}},14:{start:{line:57,column:8},end:{line:57,column:50}},15:{start:{line:60,column:8},end:{line:60,column:57}},16:{start:{line:63,column:8},end:{line:63,column:166}},17:{start:{line:71,column:8},end:{line:71,column:53}},18:{start:{line:72,column:8},end:{line:102,column:9}},19:{start:{line:74,column:28},end:{line:74,column:86}},20:{start:{line:75,column:12},end:{line:77,column:13}},21:{start:{line:76,column:16},end:{line:76,column:96}},22:{start:{line:80,column:12},end:{line:80,column:99}},23:{start:{line:81,column:12},end:{line:81,column:85}},24:{start:{line:84,column:12},end:{line:86,column:13}},25:{start:{line:85,column:16},end:{line:85,column:86}},26:{start:{line:89,column:27},end:{line:89,column:141}},27:{start:{line:90,column:12},end:{line:90,column:94}},28:{start:{line:93,column:12},end:{line:93,column:83}},29:{start:{line:94,column:12},end:{line:94,column:56}},30:{start:{line:96,column:23},end:{line:96,column:59}},31:{start:{line:97,column:12},end:{line:97,column:77}},32:{start:{line:98,column:12},end:{line:98,column:55}},33:{start:{line:99,column:12},end:{line:99,column:30}},34:{start:{line:101,column:12},end:{line:101,column:105}},35:{start:{line:104,column:8},end:{line:104,column:20}},36:{start:{line:112,column:8},end:{line:113,column:47}},37:{start:{line:123,column:21},end:{line:123,column:33}},38:{start:{line:124,column:27},end:{line:124,column:59}},39:{start:{line:125,column:8},end:{line:128,column:9}},40:{start:{line:126,column:12},end:{line:126,column:36}},41:{start:{line:127,column:12},end:{line:127,column:38}},42:{start:{line:131,column:8},end:{line:135,column:9}},43:{start:{line:132,column:12},end:{line:132,column:63}},44:{start:{line:133,column:12},end:{line:133,column:38}},45:{start:{line:134,column:12},end:{line:134,column:41}},46:{start:{line:138,column:8},end:{line:141,column:9}},47:{start:{line:139,column:12},end:{line:139,column:38}},48:{start:{line:140,column:12},end:{line:140,column:41}},49:{start:{line:151,column:25},end:{line:151,column:71}},50:{start:{line:152,column:8},end:{line:156,column:9}},51:{start:{line:153,column:12},end:{line:153,column:70}},52:{start:{line:154,column:12},end:{line:154,column:37}},53:{start:{line:155,column:12},end:{line:155,column:40}},54:{start:{line:159,column:28},end:{line:159,column:41}},55:{start:{line:160,column:8},end:{line:164,column:9}},56:{start:{line:161,column:12},end:{line:161,column:82}},57:{start:{line:162,column:12},end:{line:162,column:38}},58:{start:{line:163,column:12},end:{line:163,column:41}},59:{start:{line:167,column:27},end:{line:167,column:64}},60:{start:{line:168,column:8},end:{line:168,column:104}},61:{start:{line:169,column:8},end:{line:173,column:9}},62:{start:{line:170,column:12},end:{line:170,column:70}},63:{start:{line:171,column:12},end:{line:171,column:38}},64:{start:{line:172,column:12},end:{line:172,column:41}},65:{start:{line:176,column:26},end:{line:176,column:61}},66:{start:{line:179,column:8},end:{line:187,column:9}},67:{start:{line:181,column:12},end:{line:184,column:13}},68:{start:{line:182,column:16},end:{line:182,column:42}},69:{start:{line:183,column:16},end:{line:183,column:45}},70:{start:{line:185,column:12},end:{line:185,column:39}},71:{start:{line:186,column:12},end:{line:186,column:41}},72:{start:{line:190,column:8},end:{line:198,column:9}},73:{start:{line:192,column:12},end:{line:195,column:13}},74:{start:{line:193,column:16},end:{line:193,column:42}},75:{start:{line:194,column:16},end:{line:194,column:45}},76:{start:{line:196,column:12},end:{line:196,column:41}},77:{start:{line:197,column:12},end:{line:197,column:43}},78:{start:{line:201,column:8},end:{line:201,column:175}},79:{start:{line:202,column:8},end:{line:202,column:56}},80:{start:{line:204,column:8},end:{line:204,column:33}},81:{start:{line:205,column:8},end:{line:205,column:35}},82:{start:{line:215,column:8},end:{line:220,column:9}},83:{start:{line:216,column:32},end:{line:216,column:85}},84:{start:{line:217,column:12},end:{line:219,column:13}},85:{start:{line:218,column:16},end:{line:218,column:29}},86:{start:{line:221,column:8},end:{line:221,column:20}},87:{start:{line:233,column:27},end:{line:233,column:61}},88:{start:{line:234,column:8},end:{line:242,column:9}},89:{start:{line:235,column:12},end:{line:235,column:81}},90:{start:{line:239,column:12},end:{line:239,column:102}},91:{start:{line:240,column:12},end:{line:240,column:59}},92:{start:{line:241,column:12},end:{line:241,column:25}},93:{start:{line:244,column:8},end:{line:244,column:37}},94:{start:{line:245,column:8},end:{line:245,column:48}},95:{start:{line:247,column:24},end:{line:247,column:66}},96:{start:{line:248,column:8},end:{line:248,column:55}},97:{start:{line:249,column:8},end:{line:249,column:91}},98:{start:{line:250,column:8},end:{line:250,column:39}},99:{start:{line:252,column:8},end:{line:258,column:9}},100:{start:{line:253,column:39},end:{line:253,column:75}},101:{start:{line:254,column:12},end:{line:254,column:57}},102:{start:{line:255,column:12},end:{line:255,column:100}},103:{start:{line:257,column:12},end:{line:257,column:77}},104:{start:{line:261,column:8},end:{line:261,column:44}},105:{start:{line:264,column:8},end:{line:264,column:57}},106:{start:{line:266,column:8},end:{line:272,column:9}},107:{start:{line:268,column:12},end:{line:268,column:91}},108:{start:{line:271,column:12},end:{line:271,column:31}},109:{start:{line:275,column:8},end:{line:275,column:36}},110:{start:{line:276,column:8},end:{line:276,column:35}},111:{start:{line:279,column:8},end:{line:279,column:68}},112:{start:{line:281,column:8},end:{line:281,column:20}},113:{start:{line:289,column:8},end:{line:289,column:21}},114:{start:{line:299,column:8},end:{line:299,column:174}},115:{start:{line:302,column:8},end:{line:305,column:9}},116:{start:{line:303,column:29},end:{line:303,column:54}},117:{start:{line:304,column:12},end:{line:304,column:29}},118:{start:{line:306,column:8},end:{line:306,column:32}},119:{start:{line:307,column:8},end:{line:307,column:33}},120:{start:{line:313,column:26},end:{line:313,column:28}},121:{start:{line:315,column:27},end:{line:315,column:29}},122:{start:{line:318,column:22},end:{line:318,column:31}},123:{start:{line:320,column:22},end:{line:320,column:31}},124:{start:{line:321,column:8},end:{line:329,column:9}},125:{start:{line:322,column:12},end:{line:322,column:36}},126:{start:{line:323,column:12},end:{line:323,column:37}},127:{start:{line:325,column:12},end:{line:325,column:44}},128:{start:{line:327,column:12},end:{line:327,column:84}},129:{start:{line:328,column:12},end:{line:328,column:105}},130:{start:{line:331,column:8},end:{line:331,column:108}},131:{start:{line:331,column:31},end:{line:331,column:106}},132:{start:{line:334,column:29},end:{line:334,column:36}},133:{start:{line:336,column:29},end:{line:336,column:36}},134:{start:{line:339,column:27},end:{line:339,column:66}},135:{start:{line:340,column:35},end:{line:340,column:65}},136:{start:{line:342,column:35},end:{line:342,column:103}},137:{start:{line:345,column:28},end:{line:345,column:30}},138:{start:{line:347,column:23},end:{line:347,column:37}},139:{start:{line:349,column:23},end:{line:349,column:38}},140:{start:{line:350,column:8},end:{line:374,column:9}},141:{start:{line:351,column:12},end:{line:368,column:13}},142:{start:{line:353,column:16},end:{line:353,column:80}},143:{start:{line:354,column:16},end:{line:354,column:62}},144:{start:{line:357,column:16},end:{line:359,column:17}},145:{start:{line:358,column:20},end:{line:358,column:67}},146:{start:{line:360,column:16},end:{line:360,column:43}},147:{start:{line:362,column:16},end:{line:362,column:85}},148:{start:{line:363,column:16},end:{line:363,column:63}},149:{start:{line:364,column:16},end:{line:366,column:17}},150:{start:{line:365,column:20},end:{line:365,column:75}},151:{start:{line:367,column:16},end:{line:367,column:29}},152:{start:{line:370,column:12},end:{line:370,column:46}},153:{start:{line:371,column:12},end:{line:371,column:86}},154:{start:{line:372,column:12},end:{line:372,column:112}},155:{start:{line:373,column:12},end:{line:373,column:136}},156:{start:{line:378,column:33},end:{line:378,column:65}},157:{start:{line:379,column:23},end:{line:379,column:108}},158:{start:{line:380,column:8},end:{line:380,column:59}},159:{start:{line:383,column:8},end:{line:402,column:9}},160:{start:{line:384,column:12},end:{line:401,column:13}},161:{start:{line:385,column:16},end:{line:385,column:84}},162:{start:{line:386,column:16},end:{line:386,column:64}},163:{start:{line:389,column:16},end:{line:391,column:17}},164:{start:{line:390,column:20},end:{line:390,column:68}},165:{start:{line:395,column:16},end:{line:395,column:84}},166:{start:{line:396,column:16},end:{line:396,column:63}},167:{start:{line:397,column:16},end:{line:399,column:17}},168:{start:{line:398,column:20},end:{line:398,column:75}},169:{start:{line:400,column:16},end:{line:400,column:29}},170:{start:{line:407,column:24},end:{line:407,column:65}},171:{start:{line:408,column:8},end:{line:412,column:9}},172:{start:{line:409,column:12},end:{line:409,column:45}},173:{start:{line:410,column:12},end:{line:410,column:51}},174:{start:{line:411,column:12},end:{line:411,column:100}},175:{start:{line:415,column:8},end:{line:415,column:76}},176:{start:{line:416,column:8},end:{line:416,column:84}},177:{start:{line:419,column:8},end:{line:425,column:9}},178:{start:{line:420,column:29},end:{line:420,column:41}},179:{start:{line:421,column:12},end:{line:421,column:40}},180:{start:{line:422,column:12},end:{line:422,column:75}},181:{start:{line:424,column:12},end:{line:424,column:87}},182:{start:{line:428,column:8},end:{line:428,column:39}},183:{start:{line:429,column:8},end:{line:433,column:9}},184:{start:{line:430,column:12},end:{line:430,column:100}},185:{start:{line:432,column:12},end:{line:432,column:77}},186:{start:{line:434,column:8},end:{line:434,column:52}},187:{start:{line:438,column:8},end:{line:438,column:27}},188:{start:{line:441,column:8},end:{line:443,column:9}},189:{start:{line:442,column:12},end:{line:442,column:59}},190:{start:{line:446,column:8},end:{line:450,column:9}},191:{start:{line:447,column:12},end:{line:447,column:43}},192:{start:{line:448,column:12},end:{line:448,column:43}},193:{start:{line:449,column:12},end:{line:449,column:72}},194:{start:{line:452,column:8},end:{line:452,column:20}},195:{start:{line:463,column:8},end:{line:463,column:69}},196:{start:{line:471,column:8},end:{line:476,column:11}},197:{start:{line:472,column:12},end:{line:474,column:13}},198:{start:{line:473,column:16},end:{line:473,column:58}},199:{start:{line:475,column:12},end:{line:475,column:31}},200:{start:{line:485,column:8},end:{line:486,column:70}},201:{start:{line:495,column:25},end:{line:495,column:59}},202:{start:{line:496,column:8},end:{line:496,column:76}},203:{start:{line:505,column:25},end:{line:505,column:59}},204:{start:{line:506,column:8},end:{line:506,column:70}},205:{start:{line:515,column:22},end:{line:515,column:98}},206:{start:{line:516,column:8},end:{line:518,column:9}},207:{start:{line:517,column:12},end:{line:517,column:24}},208:{start:{line:520,column:24},end:{line:520,column:26}},209:{start:{line:521,column:29},end:{line:521,column:42}},210:{start:{line:522,column:8},end:{line:522,column:39}},211:{start:{line:523,column:8},end:{line:527,column:9}},212:{start:{line:524,column:12},end:{line:526,column:13}},213:{start:{line:525,column:16},end:{line:525,column:42}},214:{start:{line:529,column:22},end:{line:529,column:79}},215:{start:{line:530,column:8},end:{line:530,column:53}},216:{start:{line:538,column:8},end:{line:540,column:9}},217:{start:{line:539,column:12},end:{line:539,column:47}},218:{start:{line:542,column:36},end:{line:542,column:38}},219:{start:{line:544,column:32},end:{line:544,column:81}},220:{start:{line:545,column:35},end:{line:545,column:87}},221:{start:{line:547,column:8},end:{line:549,column:11}},222:{start:{line:548,column:12},end:{line:548,column:120}},223:{start:{line:551,column:8},end:{line:553,column:11}},224:{start:{line:552,column:12},end:{line:552,column:120}},225:{start:{line:555,column:8},end:{line:555,column:35}},226:{start:{line:563,column:8},end:{line:565,column:9}},227:{start:{line:564,column:12},end:{line:564,column:47}},228:{start:{line:567,column:29},end:{line:567,column:78}},229:{start:{line:568,column:8},end:{line:570,column:9}},230:{start:{line:569,column:12},end:{line:569,column:24}},231:{start:{line:572,column:8},end:{line:572,column:28}},232:{start:{line:581,column:8},end:{line:616,column:11}},233:{start:{line:582,column:26},end:{line:582,column:56}},234:{start:{line:584,column:12},end:{line:586,column:13}},235:{start:{line:585,column:16},end:{line:585,column:28}},236:{start:{line:589,column:27},end:{line:589,column:31}},237:{start:{line:590,column:12},end:{line:611,column:13}},238:{start:{line:591,column:27},end:{line:591,column:61}},239:{start:{line:592,column:39},end:{line:592,column:69}},240:{start:{line:593,column:34},end:{line:593,column:48}},241:{start:{line:595,column:16},end:{line:607,column:17}},242:{start:{line:596,column:41},end:{line:596,column:119}},243:{start:{line:598,column:20},end:{line:602,column:21}},244:{start:{line:599,column:24},end:{line:599,column:69}},245:{start:{line:600,column:24},end:{line:600,column:67}},246:{start:{line:601,column:24},end:{line:601,column:65}},247:{start:{line:604,column:20},end:{line:604,column:71}},248:{start:{line:605,column:20},end:{line:605,column:61}},249:{start:{line:606,column:20},end:{line:606,column:56}},250:{start:{line:608,column:16},end:{line:608,column:33}},251:{start:{line:610,column:16},end:{line:610,column:58}},252:{start:{line:613,column:12},end:{line:613,column:134}},253:{start:{line:615,column:12},end:{line:615,column:28}},254:{start:{line:627,column:8},end:{line:642,column:9}},255:{start:{line:628,column:31},end:{line:628,column:58}},256:{start:{line:630,column:35},end:{line:630,column:66}},257:{start:{line:631,column:12},end:{line:635,column:13}},258:{start:{line:632,column:16},end:{line:632,column:45}},259:{start:{line:634,column:16},end:{line:634,column:97}},260:{start:{line:634,column:39},end:{line:634,column:95}},261:{start:{line:636,column:12},end:{line:636,column:47}},262:{start:{line:639,column:29},end:{line:639,column:60}},263:{start:{line:640,column:12},end:{line:640,column:53}},264:{start:{line:641,column:12},end:{line:641,column:48}},265:{start:{line:647,column:8},end:{line:647,column:36}},266:{start:{line:652,column:8},end:{line:652,column:30}},267:{start:{line:656,column:8},end:{line:656,column:43}},268:{start:{line:661,column:8},end:{line:661,column:47}},269:{start:{line:666,column:8},end:{line:666,column:41}},270:{start:{line:672,column:8},end:{line:672,column:30}},271:{start:{line:677,column:8},end:{line:677,column:38}},272:{start:{line:682,column:8},end:{line:682,column:38}},273:{start:{line:687,column:8},end:{line:687,column:42}},274:{start:{line:692,column:8},end:{line:692,column:40}},275:{start:{line:697,column:8},end:{line:697,column:38}},276:{start:{line:702,column:8},end:{line:702,column:39}},277:{start:{line:707,column:8},end:{line:707,column:37}},278:{start:{line:715,column:8},end:{line:715,column:37}},279:{start:{line:719,column:0},end:{line:719,column:26}},280:{start:{line:720,column:0},end:{line:720,column:27}},281:{start:{line:721,column:0},end:{line:721,column:23}},282:{start:{line:722,column:0},end:{line:722,column:26}},283:{start:{line:723,column:0},end:{line:723,column:28}},284:{start:{line:724,column:0},end:{line:724,column:24}},285:{start:{line:725,column:0},end:{line:725,column:26}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:4},end:{line:12,column:5}},loc:{start:{line:12,column:64},end:{line:16,column:5}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:24,column:4},end:{line:24,column:5}},loc:{start:{line:24,column:60},end:{line:28,column:5}},line:24},2:{name:"(anonymous_2)",decl:{start:{line:37,column:4},end:{line:37,column:5}},loc:{start:{line:37,column:57},end:{line:64,column:5}},line:37},3:{name:"(anonymous_3)",decl:{start:{line:70,column:4},end:{line:70,column:5}},loc:{start:{line:70,column:18},end:{line:105,column:5}},line:70},4:{name:"(anonymous_4)",decl:{start:{line:111,column:4},end:{line:111,column:5}},loc:{start:{line:111,column:21},end:{line:114,column:5}},line:111},5:{name:"(anonymous_5)",decl:{start:{line:121,column:4},end:{line:121,column:5}},loc:{start:{line:121,column:28},end:{line:206,column:5}},line:121},6:{name:"(anonymous_6)",decl:{start:{line:213,column:4},end:{line:213,column:5}},loc:{start:{line:213,column:34},end:{line:222,column:5}},line:213},7:{name:"(anonymous_7)",decl:{start:{line:232,column:4},end:{line:232,column:5}},loc:{start:{line:232,column:50},end:{line:282,column:5}},line:232},8:{name:"(anonymous_8)",decl:{start:{line:288,column:4},end:{line:288,column:5}},loc:{start:{line:288,column:30},end:{line:290,column:5}},line:288},9:{name:"(anonymous_9)",decl:{start:{line:298,column:4},end:{line:298,column:5}},loc:{start:{line:298,column:42},end:{line:453,column:5}},line:298},10:{name:"(anonymous_10)",decl:{start:{line:331,column:25},end:{line:331,column:26}},loc:{start:{line:331,column:31},end:{line:331,column:106}},line:331},11:{name:"(anonymous_11)",decl:{start:{line:462,column:4},end:{line:462,column:5}},loc:{start:{line:462,column:59},end:{line:464,column:5}},line:462},12:{name:"(anonymous_12)",decl:{start:{line:470,column:4},end:{line:470,column:5}},loc:{start:{line:470,column:20},end:{line:477,column:5}},line:470},13:{name:"(anonymous_13)",decl:{start:{line:471,column:55},end:{line:471,column:56}},loc:{start:{line:471,column:67},end:{line:476,column:9}},line:471},14:{name:"(anonymous_14)",decl:{start:{line:484,column:4},end:{line:484,column:5}},loc:{start:{line:484,column:44},end:{line:487,column:5}},line:484},15:{name:"(anonymous_15)",decl:{start:{line:494,column:4},end:{line:494,column:5}},loc:{start:{line:494,column:55},end:{line:497,column:5}},line:494},16:{name:"(anonymous_16)",decl:{start:{line:504,column:4},end:{line:504,column:5}},loc:{start:{line:504,column:49},end:{line:507,column:5}},line:504},17:{name:"(anonymous_17)",decl:{start:{line:514,column:4},end:{line:514,column:5}},loc:{start:{line:514,column:53},end:{line:531,column:5}},line:514},18:{name:"(anonymous_18)",decl:{start:{line:537,column:4},end:{line:537,column:5}},loc:{start:{line:537,column:51},end:{line:556,column:5}},line:537},19:{name:"(anonymous_19)",decl:{start:{line:547,column:32},end:{line:547,column:33}},loc:{start:{line:547,column:41},end:{line:549,column:9}},line:547},20:{name:"(anonymous_20)",decl:{start:{line:551,column:35},end:{line:551,column:36}},loc:{start:{line:551,column:44},end:{line:553,column:9}},line:551},21:{name:"(anonymous_21)",decl:{start:{line:562,column:4},end:{line:562,column:5}},loc:{start:{line:562,column:52},end:{line:573,column:5}},line:562},22:{name:"(anonymous_22)",decl:{start:{line:579,column:4},end:{line:579,column:5}},loc:{start:{line:579,column:28},end:{line:617,column:5}},line:579},23:{name:"(anonymous_23)",decl:{start:{line:581,column:55},end:{line:581,column:56}},loc:{start:{line:581,column:67},end:{line:616,column:9}},line:581},24:{name:"(anonymous_24)",decl:{start:{line:624,column:4},end:{line:624,column:5}},loc:{start:{line:624,column:35},end:{line:643,column:5}},line:624},25:{name:"(anonymous_25)",decl:{start:{line:634,column:33},end:{line:634,column:34}},loc:{start:{line:634,column:39},end:{line:634,column:95}},line:634},26:{name:"(anonymous_26)",decl:{start:{line:646,column:4},end:{line:646,column:5}},loc:{start:{line:646,column:15},end:{line:648,column:5}},line:646},27:{name:"(anonymous_27)",decl:{start:{line:651,column:4},end:{line:651,column:5}},loc:{start:{line:651,column:19},end:{line:653,column:5}},line:651},28:{name:"(anonymous_28)",decl:{start:{line:655,column:4},end:{line:655,column:5}},loc:{start:{line:655,column:17},end:{line:657,column:5}},line:655},29:{name:"(anonymous_29)",decl:{start:{line:660,column:4},end:{line:660,column:5}},loc:{start:{line:660,column:26},end:{line:662,column:5}},line:660},30:{name:"(anonymous_30)",decl:{start:{line:665,column:4},end:{line:665,column:5}},loc:{start:{line:665,column:20},end:{line:667,column:5}},line:665},31:{name:"(anonymous_31)",decl:{start:{line:671,column:4},end:{line:671,column:5}},loc:{start:{line:671,column:19},end:{line:673,column:5}},line:671},32:{name:"(anonymous_32)",decl:{start:{line:676,column:4},end:{line:676,column:5}},loc:{start:{line:676,column:27},end:{line:678,column:5}},line:676},33:{name:"(anonymous_33)",decl:{start:{line:681,column:4},end:{line:681,column:5}},loc:{start:{line:681,column:27},end:{line:683,column:5}},line:681},34:{name:"(anonymous_34)",decl:{start:{line:686,column:4},end:{line:686,column:5}},loc:{start:{line:686,column:31},end:{line:688,column:5}},line:686},35:{name:"(anonymous_35)",decl:{start:{line:691,column:4},end:{line:691,column:5}},loc:{start:{line:691,column:29},end:{line:693,column:5}},line:691},36:{name:"(anonymous_36)",decl:{start:{line:696,column:4},end:{line:696,column:5}},loc:{start:{line:696,column:27},end:{line:698,column:5}},line:696},37:{name:"(anonymous_37)",decl:{start:{line:701,column:4},end:{line:701,column:5}},loc:{start:{line:701,column:28},end:{line:703,column:5}},line:701},38:{name:"(anonymous_38)",decl:{start:{line:706,column:4},end:{line:706,column:5}},loc:{start:{line:706,column:26},end:{line:708,column:5}},line:706},39:{name:"(anonymous_39)",decl:{start:{line:714,column:4},end:{line:714,column:5}},loc:{start:{line:714,column:19},end:{line:716,column:5}},line:714}},branchMap:{0:{loc:{start:{line:72,column:8},end:{line:102,column:9}},type:"if",locations:[{start:{line:72,column:8},end:{line:102,column:9}},{start:{line:72,column:8},end:{line:102,column:9}}],line:72},1:{loc:{start:{line:75,column:12},end:{line:77,column:13}},type:"if",locations:[{start:{line:75,column:12},end:{line:77,column:13}},{start:{line:75,column:12},end:{line:77,column:13}}],line:75},2:{loc:{start:{line:75,column:16},end:{line:75,column:48}},type:"binary-expr",locations:[{start:{line:75,column:16},end:{line:75,column:24}},{start:{line:75,column:28},end:{line:75,column:48}}],line:75},3:{loc:{start:{line:84,column:12},end:{line:86,column:13}},type:"if",locations:[{start:{line:84,column:12},end:{line:86,column:13}},{start:{line:84,column:12},end:{line:86,column:13}}],line:84},4:{loc:{start:{line:125,column:8},end:{line:128,column:9}},type:"if",locations:[{start:{line:125,column:8},end:{line:128,column:9}},{start:{line:125,column:8},end:{line:128,column:9}}],line:125},5:{loc:{start:{line:131,column:8},end:{line:135,column:9}},type:"if",locations:[{start:{line:131,column:8},end:{line:135,column:9}},{start:{line:131,column:8},end:{line:135,column:9}}],line:131},6:{loc:{start:{line:138,column:8},end:{line:141,column:9}},type:"if",locations:[{start:{line:138,column:8},end:{line:141,column:9}},{start:{line:138,column:8},end:{line:141,column:9}}],line:138},7:{loc:{start:{line:152,column:8},end:{line:156,column:9}},type:"if",locations:[{start:{line:152,column:8},end:{line:156,column:9}},{start:{line:152,column:8},end:{line:156,column:9}}],line:152},8:{loc:{start:{line:160,column:8},end:{line:164,column:9}},type:"if",locations:[{start:{line:160,column:8},end:{line:164,column:9}},{start:{line:160,column:8},end:{line:164,column:9}}],line:160},9:{loc:{start:{line:169,column:8},end:{line:173,column:9}},type:"if",locations:[{start:{line:169,column:8},end:{line:173,column:9}},{start:{line:169,column:8},end:{line:173,column:9}}],line:169},10:{loc:{start:{line:179,column:8},end:{line:187,column:9}},type:"if",locations:[{start:{line:179,column:8},end:{line:187,column:9}},{start:{line:179,column:8},end:{line:187,column:9}}],line:179},11:{loc:{start:{line:181,column:12},end:{line:184,column:13}},type:"if",locations:[{start:{line:181,column:12},end:{line:184,column:13}},{start:{line:181,column:12},end:{line:184,column:13}}],line:181},12:{loc:{start:{line:190,column:8},end:{line:198,column:9}},type:"if",locations:[{start:{line:190,column:8},end:{line:198,column:9}},{start:{line:190,column:8},end:{line:198,column:9}}],line:190},13:{loc:{start:{line:192,column:12},end:{line:195,column:13}},type:"if",locations:[{start:{line:192,column:12},end:{line:195,column:13}},{start:{line:192,column:12},end:{line:195,column:13}}],line:192},14:{loc:{start:{line:217,column:12},end:{line:219,column:13}},type:"if",locations:[{start:{line:217,column:12},end:{line:219,column:13}},{start:{line:217,column:12},end:{line:219,column:13}}],line:217},15:{loc:{start:{line:217,column:16},end:{line:217,column:82}},type:"binary-expr",locations:[{start:{line:217,column:16},end:{line:217,column:28}},{start:{line:217,column:32},end:{line:217,column:82}}],line:217},16:{loc:{start:{line:239,column:84},end:{line:239,column:98}},type:"binary-expr",locations:[{start:{line:239,column:84},end:{line:239,column:93}},{start:{line:239,column:97},end:{line:239,column:98}}],line:239},17:{loc:{start:{line:252,column:8},end:{line:258,column:9}},type:"if",locations:[{start:{line:252,column:8},end:{line:258,column:9}},{start:{line:252,column:8},end:{line:258,column:9}}],line:252},18:{loc:{start:{line:266,column:8},end:{line:272,column:9}},type:"if",locations:[{start:{line:266,column:8},end:{line:272,column:9}},{start:{line:266,column:8},end:{line:272,column:9}}],line:266},19:{loc:{start:{line:266,column:12},end:{line:266,column:57}},type:"binary-expr",locations:[{start:{line:266,column:12},end:{line:266,column:42}},{start:{line:266,column:46},end:{line:266,column:57}}],line:266},20:{loc:{start:{line:342,column:35},end:{line:342,column:103}},type:"cond-expr",locations:[{start:{line:342,column:60},end:{line:342,column:96}},{start:{line:342,column:99},end:{line:342,column:103}}],line:342},21:{loc:{start:{line:357,column:16},end:{line:359,column:17}},type:"if",locations:[{start:{line:357,column:16},end:{line:359,column:17}},{start:{line:357,column:16},end:{line:359,column:17}}],line:357},22:{loc:{start:{line:364,column:16},end:{line:366,column:17}},type:"if",locations:[{start:{line:364,column:16},end:{line:366,column:17}},{start:{line:364,column:16},end:{line:366,column:17}}],line:364},23:{loc:{start:{line:389,column:16},end:{line:391,column:17}},type:"if",locations:[{start:{line:389,column:16},end:{line:391,column:17}},{start:{line:389,column:16},end:{line:391,column:17}}],line:389},24:{loc:{start:{line:397,column:16},end:{line:399,column:17}},type:"if",locations:[{start:{line:397,column:16},end:{line:399,column:17}},{start:{line:397,column:16},end:{line:399,column:17}}],line:397},25:{loc:{start:{line:422,column:42},end:{line:422,column:74}},type:"cond-expr",locations:[{start:{line:422,column:50},end:{line:422,column:67}},{start:{line:422,column:70},end:{line:422,column:74}}],line:422},26:{loc:{start:{line:429,column:8},end:{line:433,column:9}},type:"if",locations:[{start:{line:429,column:8},end:{line:433,column:9}},{start:{line:429,column:8},end:{line:433,column:9}}],line:429},27:{loc:{start:{line:462,column:30},end:{line:462,column:41}},type:"default-arg",locations:[{start:{line:462,column:38},end:{line:462,column:41}}],line:462},28:{loc:{start:{line:462,column:43},end:{line:462,column:57}},type:"default-arg",locations:[{start:{line:462,column:53},end:{line:462,column:57}}],line:462},29:{loc:{start:{line:472,column:12},end:{line:474,column:13}},type:"if",locations:[{start:{line:472,column:12},end:{line:474,column:13}},{start:{line:472,column:12},end:{line:474,column:13}}],line:472},30:{loc:{start:{line:496,column:15},end:{line:496,column:75}},type:"binary-expr",locations:[{start:{line:496,column:15},end:{line:496,column:23}},{start:{line:496,column:27},end:{line:496,column:75}}],line:496},31:{loc:{start:{line:506,column:15},end:{line:506,column:69}},type:"binary-expr",locations:[{start:{line:506,column:15},end:{line:506,column:23}},{start:{line:506,column:27},end:{line:506,column:69}}],line:506},32:{loc:{start:{line:516,column:8},end:{line:518,column:9}},type:"if",locations:[{start:{line:516,column:8},end:{line:518,column:9}},{start:{line:516,column:8},end:{line:518,column:9}}],line:516},33:{loc:{start:{line:516,column:12},end:{line:516,column:37}},type:"binary-expr",locations:[{start:{line:516,column:12},end:{line:516,column:18}},{start:{line:516,column:22},end:{line:516,column:37}}],line:516},34:{loc:{start:{line:524,column:12},end:{line:526,column:13}},type:"if",locations:[{start:{line:524,column:12},end:{line:526,column:13}},{start:{line:524,column:12},end:{line:526,column:13}}],line:524},35:{loc:{start:{line:524,column:16},end:{line:524,column:105}},type:"binary-expr",locations:[{start:{line:524,column:16},end:{line:524,column:57}},{start:{line:524,column:61},end:{line:524,column:105}}],line:524},36:{loc:{start:{line:538,column:8},end:{line:540,column:9}},type:"if",locations:[{start:{line:538,column:8},end:{line:540,column:9}},{start:{line:538,column:8},end:{line:540,column:9}}],line:538},37:{loc:{start:{line:563,column:8},end:{line:565,column:9}},type:"if",locations:[{start:{line:563,column:8},end:{line:565,column:9}},{start:{line:563,column:8},end:{line:565,column:9}}],line:563},38:{loc:{start:{line:568,column:8},end:{line:570,column:9}},type:"if",locations:[{start:{line:568,column:8},end:{line:570,column:9}},{start:{line:568,column:8},end:{line:570,column:9}}],line:568},39:{loc:{start:{line:584,column:12},end:{line:586,column:13}},type:"if",locations:[{start:{line:584,column:12},end:{line:586,column:13}},{start:{line:584,column:12},end:{line:586,column:13}}],line:584},40:{loc:{start:{line:584,column:16},end:{line:584,column:95}},type:"binary-expr",locations:[{start:{line:584,column:16},end:{line:584,column:22}},{start:{line:584,column:26},end:{line:584,column:95}}],line:584},41:{loc:{start:{line:590,column:12},end:{line:611,column:13}},type:"if",locations:[{start:{line:590,column:12},end:{line:611,column:13}},{start:{line:590,column:12},end:{line:611,column:13}}],line:590},42:{loc:{start:{line:598,column:20},end:{line:602,column:21}},type:"if",locations:[{start:{line:598,column:20},end:{line:602,column:21}},{start:{line:598,column:20},end:{line:602,column:21}}],line:598},43:{loc:{start:{line:627,column:8},end:{line:642,column:9}},type:"if",locations:[{start:{line:627,column:8},end:{line:642,column:9}},{start:{line:627,column:8},end:{line:642,column:9}}],line:627},44:{loc:{start:{line:631,column:12},end:{line:635,column:13}},type:"if",locations:[{start:{line:631,column:12},end:{line:635,column:13}},{start:{line:631,column:12},end:{line:635,column:13}}],line:631}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,227:0,228:0,229:0,230:0,231:0,232:0,233:0,234:0,235:0,236:0,237:0,238:0,239:0,240:0,241:0,242:0,243:0,244:0,245:0,246:0,247:0,248:0,249:0,250:0,251:0,252:0,253:0,254:0,255:0,256:0,257:0,258:0,259:0,260:0,261:0,262:0,263:0,264:0,265:0,266:0,267:0,268:0,269:0,270:0,271:0,272:0,273:0,274:0,275:0,276:0,277:0,278:0,279:0,280:0,281:0,282:0,283:0,284:0,285:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0],28:[0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class FullChain extends BaseChain{static getPersistent(n,e,l,t){qn.f[0]++;const o=(qn.s[0]++,ChainDataStore.getPersistent(n)),i=(qn.s[1]++,new FullChain(o,e,l,t));qn.s[2]++;return i._init()}static createVolatile(n,e,l){qn.f[1]++;const t=(qn.s[3]++,ChainDataStore.createVolatile()),o=(qn.s[4]++,new FullChain(t,n,e,l));qn.s[5]++;return o._init()}constructor(n,e,l,t){qn.f[2]++;qn.s[6]++;super(n);qn.s[7]++;this._accounts=e;qn.s[8]++;this._time=l;qn.s[9]++;this._snapshots=new HashMap;qn.s[10]++;this._snapshotOrder=[];qn.s[11]++;this._mainChain=null;qn.s[12]++;this._proof=null;qn.s[13]++;this._transactionCache=new TransactionCache;qn.s[14]++;this._transactionStore=t;qn.s[15]++;this._synchronizer=new PrioritySynchronizer(2);qn.s[16]++;this._blockKnownCount=this._blockInvalidCount=this._blockOrphanCount=this._blockExtendedCount=this._blockRebranchedCount=this._blockForkedCount=0}async _init(){qn.f[3]++;qn.s[17]++;this._headHash=await this._store.getHead();qn.s[18]++;if(this._headHash){qn.b[0][0]++;const n=(qn.s[19]++,await this._store.getChainData(GenesisConfig.GENESIS_HASH));qn.s[20]++;if((qn.b[2][0]++,!n)||(qn.b[2][1]++,!n.onMainChain)){qn.b[1][0]++;qn.s[21]++;throw new Error("Invalid genesis block stored. Reset your consensus database.")}qn.b[1][1]++;qn.s[22]++;this._mainChain=await this._store.getChainData(this._headHash,!0);qn.s[23]++;Assert.that(!!this._mainChain,"Failed to load main chain from storage");qn.s[24]++;if(!this._mainChain.head.accountsHash.equals(await this._accounts.hash())){qn.b[3][0]++;qn.s[25]++;throw new Error("Corrupted store: Inconsistent chain/accounts state")}qn.b[3][1]++;const e=(qn.s[26]++,await this._store.getBlocksBackward(this.headHash,this._transactionCache.missingBlocks-1,!0));qn.s[27]++;this._transactionCache.prependBlocks([...e.reverse(),this._mainChain.head])}else{qn.b[0][1]++;qn.s[28]++;this._mainChain=await ChainData.initial(GenesisConfig.GENESIS_BLOCK);qn.s[29]++;this._headHash=GenesisConfig.GENESIS_HASH;const n=(qn.s[30]++,this._store.synchronousTransaction());qn.s[31]++;n.putChainDataSync(GenesisConfig.GENESIS_HASH,this._mainChain);qn.s[32]++;n.setHeadSync(GenesisConfig.GENESIS_HASH);qn.s[33]++;await n.commit();qn.s[34]++;await this._accounts.initialize(GenesisConfig.GENESIS_BLOCK,GenesisConfig.GENESIS_ACCOUNTS)}qn.s[35]++;return this}pushBlock(n){qn.f[4]++;qn.s[36]++;return this._synchronizer.push(0,this._pushBlock.bind(this,n))}async _pushBlock(n){qn.f[5]++;const e=(qn.s[37]++,n.hash()),l=(qn.s[38]++,await this._store.getBlock(e));qn.s[39]++;if(l){qn.b[4][0]++;qn.s[40]++;this._blockKnownCount++;qn.s[41]++;return FullChain.OK_KNOWN}qn.b[4][1]++;qn.s[42]++;if(!n.isFull()){qn.b[5][0]++;qn.s[43]++;Log.w(FullChain,"Rejecting block - body missing");qn.s[44]++;this._blockInvalidCount++;qn.s[45]++;return FullChain.ERR_INVALID}qn.b[5][1]++;qn.s[46]++;if(!(await n.verify(this._time))){qn.b[6][0]++;qn.s[47]++;this._blockInvalidCount++;qn.s[48]++;return FullChain.ERR_INVALID}qn.b[6][1]++;const t=(qn.s[49]++,await this._store.getChainData(n.prevHash));qn.s[50]++;if(!t){qn.b[7][0]++;qn.s[51]++;Log.w(FullChain,"Rejecting block - unknown predecessor");qn.s[52]++;this._blockOrphanCount++;qn.s[53]++;return FullChain.ERR_ORPHAN}qn.b[7][1]++;const o=(qn.s[54]++,t.head);qn.s[55]++;if(!(await n.isImmediateSuccessorOf(o))){qn.b[8][0]++;qn.s[56]++;Log.w(FullChain,"Rejecting block - not a valid immediate successor");qn.s[57]++;this._blockInvalidCount++;qn.s[58]++;return FullChain.ERR_INVALID}qn.b[8][1]++;const i=(qn.s[59]++,await this.getNextTarget(o));qn.s[60]++;Assert.that(BlockUtils.isValidTarget(i),"Failed to compute next target in FullChain");qn.s[61]++;if(n.nBits!==BlockUtils.targetToCompact(i)){qn.b[9][0]++;qn.s[62]++;Log.w(FullChain,"Rejecting block - difficulty mismatch");qn.s[63]++;this._blockInvalidCount++;qn.s[64]++;return FullChain.ERR_INVALID}qn.b[9][1]++;const c=(qn.s[65]++,await t.nextChainData(n));qn.s[66]++;if(n.prevHash.equals(this.headHash)){qn.b[10][0]++;qn.s[67]++;if(!(await this._extend(e,c,t))){qn.b[11][0]++;qn.s[68]++;this._blockInvalidCount++;qn.s[69]++;return FullChain.ERR_INVALID}qn.b[11][1]++;qn.s[70]++;this._blockExtendedCount++;qn.s[71]++;return FullChain.OK_EXTENDED}qn.b[10][1]++;qn.s[72]++;if(c.totalDifficulty>this.totalDifficulty){qn.b[12][0]++;qn.s[73]++;if(!(await this._rebranch(e,c))){qn.b[13][0]++;qn.s[74]++;this._blockInvalidCount++;qn.s[75]++;return FullChain.ERR_INVALID}qn.b[13][1]++;qn.s[76]++;this._blockRebranchedCount++;qn.s[77]++;return FullChain.OK_REBRANCHED}qn.b[12][1]++;qn.s[78]++;Log.v(FullChain,`Creating/extending fork with block ${e}, height=${n.height}, totalDifficulty=${c.totalDifficulty}, totalWork=${c.totalWork}`);qn.s[79]++;await this._store.putChainData(e,c);qn.s[80]++;this._blockForkedCount++;qn.s[81]++;return FullChain.OK_FORKED}async _verifyInterlink(n){qn.f[6]++;qn.s[82]++;for(let e=0;e<n.interlink.length;e++){const l=(qn.s[83]++,await this._store.getBlock(n.interlink.hashes[e]));qn.s[84]++;if((qn.b[15][0]++,!l)||(qn.b[15][1]++,!(await n.isInterlinkSuccessorOf(l)))){qn.b[14][0]++;qn.s[85]++;return!1}qn.b[14][1]++}qn.s[86]++;return!0}async _extend(n,e,l){qn.f[7]++;const t=(qn.s[87]++,await this._accounts.transaction());qn.s[88]++;try{qn.s[89]++;await t.commitBlock(e.head,this._transactionCache)}catch(i){qn.s[90]++;Log.w(FullChain,`Rejecting block - failed to commit to AccountsTree: ${(qn.b[16][0]++,i.message)||(qn.b[16][1]++,i)}`);qn.s[91]++;t.abort()["catch"](Log.w.tag(FullChain));qn.s[92]++;return!1}qn.s[93]++;e.onMainChain=!0;qn.s[94]++;l.mainChainSuccessor=n;const o=(qn.s[95]++,await this._store.synchronousTransaction());qn.s[96]++;o.putChainDataSync(n,e);qn.s[97]++;o.putChainDataSync(e.head.prevHash,l,!1);qn.s[98]++;o.setHeadSync(n);qn.s[99]++;if(this._transactionStore){qn.b[17][0]++;const n=(qn.s[100]++,this._transactionStore.transaction());qn.s[101]++;await n.put(e.head);qn.s[102]++;await JDB.JungleDB.commitCombined(...o.txs,t.tx,n.tx)}else{qn.b[17][1]++;qn.s[103]++;await JDB.JungleDB.commitCombined(...o.txs,t.tx)}qn.s[104]++;await this._saveSnapshot(n);qn.s[105]++;this._transactionCache.pushBlock(e.head);qn.s[106]++;if((qn.b[19][0]++,this._shouldExtendChainProof())&&(qn.b[19][1]++,this._proof)){qn.b[18][0]++;qn.s[107]++;this._proof=await this._extendChainProof(this._proof,e.head.header)}else{qn.b[18][1]++;qn.s[108]++;this._proof=null}qn.s[109]++;this._mainChain=e;qn.s[110]++;this._headHash=n;qn.s[111]++;this.fire("head-changed",this.head,!1);qn.s[112]++;return!0}_shouldExtendChainProof(){qn.f[8]++;qn.s[113]++;return!1}async _rebranch(n,e){qn.f[9]++;qn.s[114]++;Log.v(FullChain,`Rebranching to fork ${n}, height=${e.head.height}, totalDifficulty=${e.totalDifficulty}, totalWork=${e.totalWork}`);qn.s[115]++;for(const p of this._snapshotOrder){const n=(qn.s[116]++,this._snapshots.get(p));qn.s[117]++;n.abort()}qn.s[118]++;this._snapshots.clear();qn.s[119]++;this._snapshotOrder=[];const l=(qn.s[120]++,[]),t=(qn.s[121]++,[]);let o=(qn.s[122]++,e),i=(qn.s[123]++,n);qn.s[124]++;for(;!o.onMainChain;){qn.s[125]++;l.push(o);qn.s[126]++;t.push(i);qn.s[127]++;i=o.head.prevHash;qn.s[128]++;o=await this._store.getChainData(i,!0);qn.s[129]++;Assert.that(!!o,"Corrupted store: Failed to find fork predecessor while rebranching")}qn.s[130]++;Log.v(FullChain,()=>{qn.f[10]++;qn.s[131]++;return`Found common ancestor ${i.toBase64()} ${l.length} blocks up`});const c=(qn.s[132]++,o),s=(qn.s[133]++,i),u=(qn.s[134]++,await this._accounts.transaction(!1)),m=(qn.s[135]++,this._transactionCache.clone()),r=(qn.s[136]++,this._transactionStore?(qn.b[20][0]++,this._transactionStore.transaction()):(qn.b[20][1]++,null)),a=(qn.s[137]++,[]);let d=(qn.s[138]++,this._headHash),h=(qn.s[139]++,this._mainChain);qn.s[140]++;for(;!d.equals(s);){qn.s[141]++;try{qn.s[142]++;await u.revertBlock(h.head,m);qn.s[143]++;m.revertBlock(h.head);qn.s[144]++;if(this._transactionStore){qn.b[21][0]++;qn.s[145]++;await r.remove(h.head)}else qn.b[21][1]++;qn.s[146]++;a.push(h)}catch(b){qn.s[147]++;Log.e(FullChain,"Failed to revert main chain while rebranching",b);qn.s[148]++;u.abort()["catch"](Log.w.tag(FullChain));qn.s[149]++;if(this._transactionStore){qn.b[22][0]++;qn.s[150]++;r.abort()["catch"](Log.w.tag(FullChain))}else qn.b[22][1]++;qn.s[151]++;return!1}qn.s[152]++;d=h.head.prevHash;qn.s[153]++;h=await this._store.getChainData(d,!0);qn.s[154]++;Assert.that(!!h,"Corrupted store: Failed to find main chain predecessor while rebranching");qn.s[155]++;Assert.that(h.head.accountsHash.equals(await u.hash()),"Failed to revert main chain - inconsistent state")}const f=(qn.s[156]++,m.missingBlocks),_=(qn.s[157]++,await this._store.getBlocksBackward(d,f,!0));qn.s[158]++;m.prependBlocks(_.reverse());qn.s[159]++;for(let p=l.length-1;p>=0;p--){qn.s[160]++;try{qn.s[161]++;await u.commitBlock(l[p].head,m);qn.s[162]++;m.pushBlock(l[p].head);qn.s[163]++;if(this._transactionStore){qn.b[23][0]++;qn.s[164]++;await r.put(l[p].head)}else qn.b[23][1]++}catch(b){qn.s[165]++;Log.e(FullChain,"Failed to apply fork block while rebranching",b);qn.s[166]++;u.abort()["catch"](Log.w.tag(FullChain));qn.s[167]++;if(this._transactionStore){qn.b[24][0]++;qn.s[168]++;r.abort()["catch"](Log.w.tag(FullChain))}else qn.b[24][1]++;qn.s[169]++;return!1}}const y=(qn.s[170]++,this._store.synchronousTransaction(!1));qn.s[171]++;for(const p of a){qn.s[172]++;p.onMainChain=!1;qn.s[173]++;p.mainChainSuccessor=null;qn.s[174]++;y.putChainDataSync(p.head.hash(),p,!1)}qn.s[175]++;c.mainChainSuccessor=t[t.length-1];qn.s[176]++;y.putChainDataSync(s,c,!1);qn.s[177]++;for(let p=l.length-1;p>=0;p--){const n=(qn.s[178]++,l[p]);qn.s[179]++;n.onMainChain=!0;qn.s[180]++;n.mainChainSuccessor=p>0?(qn.b[25][0]++,t[p-1]):(qn.b[25][1]++,null);qn.s[181]++;y.putChainDataSync(t[p],n,0===p)}qn.s[182]++;y.setHeadSync(n);qn.s[183]++;if(this._transactionStore){qn.b[26][0]++;qn.s[184]++;await JDB.JungleDB.commitCombined(...y.txs,u.tx,r.tx)}else{qn.b[26][1]++;qn.s[185]++;await JDB.JungleDB.commitCombined(...y.txs,u.tx)}qn.s[186]++;this._transactionCache=m;qn.s[187]++;this._proof=null;qn.s[188]++;for(const p of a){qn.s[189]++;this.fire("block-reverted",p.head)}qn.s[190]++;for(let p=l.length-1;p>=0;p--){qn.s[191]++;this._mainChain=l[p];qn.s[192]++;this._headHash=t[p];qn.s[193]++;this.fire("head-changed",this.head,p>0)}qn.s[194]++;return!0}getBlocks(n,e=(qn.b[27][0]++,500),l=(qn.b[28][0]++,!0)){qn.f[11]++;qn.s[195]++;return this._store.getBlocks(n,e,l)}getChainProof(){qn.f[12]++;qn.s[196]++;return this._synchronizer.push(1,async()=>{qn.f[13]++;qn.s[197]++;if(this._proof)qn.b[29][1]++;else{qn.b[29][0]++;qn.s[198]++;this._proof=await this._getChainProof()}qn.s[199]++;return this._proof})}getBlockProof(n,e){qn.f[14]++;qn.s[200]++;return this._synchronizer.push(1,this._getBlockProof.bind(this,n,e))}async getAccountsTreeChunk(n,e){qn.f[15]++;const l=(qn.s[201]++,await this._getSnapshot(n));qn.s[202]++;return(qn.b[30][0]++,l)&&(qn.b[30][1]++,await l.getAccountsTreeChunk(e))}async getAccountsProof(n,e){qn.f[16]++;const l=(qn.s[203]++,await this._getSnapshot(n));qn.s[204]++;return(qn.b[31][0]++,l)&&(qn.b[31][1]++,await l.getAccountsProof(e))}async getTransactionsProof(n,e){qn.f[17]++;const l=(qn.s[205]++,await this.getBlock(n,!1,!0));qn.s[206]++;if((qn.b[33][0]++,!l)||(qn.b[33][1]++,!l.isFull())){qn.b[32][0]++;qn.s[207]++;return null}qn.b[32][1]++;const t=(qn.s[208]++,[]),o=(qn.s[209]++,new HashSet);qn.s[210]++;o.addAll(e);qn.s[211]++;for(const c of l.transactions){qn.s[212]++;if((qn.b[35][0]++,o.contains(c.sender))||(qn.b[35][1]++,o.contains(c.recipient))){qn.b[34][0]++;qn.s[213]++;t.push(c)}else qn.b[34][1]++}const i=(qn.s[214]++,MerkleProof.compute(l.body.getMerkleLeafs(),t));qn.s[215]++;return new TransactionsProof(t,i)}async getTransactionReceiptsByAddress(n){qn.f[18]++;qn.s[216]++;if(!this._transactionStore){qn.b[36][0]++;qn.s[217]++;throw new Error("Invalid request")}qn.b[36][1]++;const e=(qn.s[218]++,[]),l=(qn.s[219]++,await this._transactionStore.getBySender(n)),t=(qn.s[220]++,await this._transactionStore.getByRecipient(n));qn.s[221]++;l.forEach(n=>{qn.f[19]++;qn.s[222]++;e.push(new TransactionReceipt(n.transactionHash,n.blockHash,n.blockHeight))});qn.s[223]++;t.forEach(n=>{qn.f[20]++;qn.s[224]++;e.push(new TransactionReceipt(n.transactionHash,n.blockHash,n.blockHeight))});qn.s[225]++;return e}async getTransactionInfoByHash(n){qn.f[21]++;qn.s[226]++;if(!this._transactionStore){qn.b[37][0]++;qn.s[227]++;throw new Error("Invalid request")}qn.b[37][1]++;const e=(qn.s[228]++,await this._transactionStore.get(n));qn.s[229]++;if(!e){qn.b[38][0]++;qn.s[230]++;return null}qn.b[38][1]++;qn.s[231]++;return e}_getSnapshot(n){qn.f[22]++;qn.s[232]++;return this._synchronizer.push(1,async()=>{qn.f[23]++;const e=(qn.s[233]++,await this.getBlock(n));qn.s[234]++;if((qn.b[40][0]++,!e)||(qn.b[40][1]++,this._mainChain.head.height-e.height>Policy.NUM_SNAPSHOTS_MAX)){qn.b[39][0]++;qn.s[235]++;return null}qn.b[39][1]++;let l=(qn.s[236]++,null);qn.s[237]++;if(this._snapshots.contains(n)){qn.b[41][1]++;qn.s[251]++;l=this._snapshots.get(n)}else{qn.b[41][0]++;const n=(qn.s[238]++,await this._accounts.transaction()),t=(qn.s[239]++,this._transactionCache.clone());let o=(qn.s[240]++,this._headHash);qn.s[241]++;for(;!e.prevHash.equals(o);){const e=(qn.s[242]++,await this.getBlock(o,!1,!0));qn.s[243]++;if(this._snapshots.contains(o))qn.b[42][1]++;else{qn.b[42][0]++;qn.s[244]++;l=await this._accounts.snapshot(n);qn.s[245]++;this._snapshots.put(o,l);qn.s[246]++;this._snapshotOrder.unshift(o)}qn.s[247]++;await n.revertBlock(e,t);qn.s[248]++;t.revertBlock(e);qn.s[249]++;o=e.prevHash}qn.s[250]++;await n.abort()}qn.s[252]++;Assert.that(e.accountsHash.equals(await l.hash()),"AccountsHash mismatch for snapshot of block ${blockHash}");qn.s[253]++;return l})}async _saveSnapshot(n){qn.f[24]++;qn.s[254]++;if(this._snapshotOrder.length>0){qn.b[43][0]++;const e=(qn.s[255]++,this._snapshotOrder.shift()),l=(qn.s[256]++,this._snapshots.get(e));qn.s[257]++;if(l){qn.b[44][0]++;qn.s[258]++;await l.abort()}else{qn.b[44][1]++;qn.s[259]++;Log.e(FullChain,()=>{qn.f[25]++;qn.s[260]++;return`Snapshot with hash ${e.toBase64()} not found.`})}qn.s[261]++;this._snapshots.remove(e);const t=(qn.s[262]++,await this._accounts.snapshot());qn.s[263]++;this._snapshots.put(n,t);qn.s[264]++;this._snapshotOrder.push(n)}else qn.b[43][1]++}get head(){qn.f[26]++;qn.s[265]++;return this._mainChain.head}get headHash(){qn.f[27]++;qn.s[266]++;return this._headHash}get height(){qn.f[28]++;qn.s[267]++;return this._mainChain.head.height}get totalDifficulty(){qn.f[29]++;qn.s[268]++;return this._mainChain.totalDifficulty}get totalWork(){qn.f[30]++;qn.s[269]++;return this._mainChain.totalWork}get accounts(){qn.f[31]++;qn.s[270]++;return this._accounts}get transactionCache(){qn.f[32]++;qn.s[271]++;return this._transactionCache}get blockForkedCount(){qn.f[33]++;qn.s[272]++;return this._blockForkedCount}get blockRebranchedCount(){qn.f[34]++;qn.s[273]++;return this._blockRebranchedCount}get blockExtendedCount(){qn.f[35]++;qn.s[274]++;return this._blockExtendedCount}get blockOrphanCount(){qn.f[36]++;qn.s[275]++;return this._blockOrphanCount}get blockInvalidCount(){qn.f[37]++;qn.s[276]++;return this._blockInvalidCount}get blockKnownCount(){qn.f[38]++;qn.s[277]++;return this._blockKnownCount}accountsHash(){qn.f[39]++;qn.s[278]++;return this._accounts.hash()}}qn.s[279]++;FullChain.ERR_ORPHAN=-2;qn.s[280]++;FullChain.ERR_INVALID=-1;qn.s[281]++;FullChain.OK_KNOWN=0;qn.s[282]++;FullChain.OK_EXTENDED=1;qn.s[283]++;FullChain.OK_REBRANCHED=2;qn.s[284]++;FullChain.OK_FORKED=3;qn.s[285]++;Class.register(FullChain);var Kn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/full/FullConsensusAgent.js",e="e1994feefbb8cb384e175138b07e5370c40edd15",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/full/FullConsensusAgent.js",statementMap:{0:{start:{line:10,column:8},end:{line:10,column:46}},1:{start:{line:12,column:8},end:{line:12,column:38}},2:{start:{line:14,column:8},end:{line:14,column:32}},3:{start:{line:18,column:8},end:{line:18,column:30}},4:{start:{line:22,column:8},end:{line:22,column:38}},5:{start:{line:25,column:8},end:{line:25,column:36}},6:{start:{line:28,column:8},end:{line:28,column:30}},7:{start:{line:32,column:8},end:{line:32,column:30}},8:{start:{line:36,column:8},end:{line:36,column:41}},9:{start:{line:39,column:8},end:{line:39,column:89}},10:{start:{line:41,column:8},end:{line:41,column:95}},11:{start:{line:43,column:8},end:{line:43,column:104}},12:{start:{line:45,column:8},end:{line:45,column:102}},13:{start:{line:47,column:8},end:{line:47,column:107}},14:{start:{line:50,column:8},end:{line:50,column:69}},15:{start:{line:50,column:45},end:{line:50,column:67}},16:{start:{line:51,column:8},end:{line:51,column:78}},17:{start:{line:51,column:50},end:{line:51,column:76}},18:{start:{line:52,column:8},end:{line:52,column:84}},19:{start:{line:52,column:53},end:{line:52,column:82}},20:{start:{line:53,column:8},end:{line:53,column:93}},21:{start:{line:53,column:58},end:{line:53,column:91}},22:{start:{line:54,column:8},end:{line:54,column:92}},23:{start:{line:54,column:57},end:{line:54,column:90}},24:{start:{line:55,column:8},end:{line:55,column:89}},25:{start:{line:55,column:59},end:{line:55,column:87}},26:{start:{line:56,column:8},end:{line:56,column:78}},27:{start:{line:56,column:50},end:{line:56,column:76}},28:{start:{line:57,column:8},end:{line:57,column:64}},29:{start:{line:57,column:42},end:{line:57,column:62}},30:{start:{line:61,column:8},end:{line:61,column:29}},31:{start:{line:64,column:8},end:{line:67,column:9}},32:{start:{line:65,column:12},end:{line:65,column:33}},33:{start:{line:66,column:12},end:{line:66,column:19}},34:{start:{line:70,column:8},end:{line:73,column:9}},35:{start:{line:71,column:12},end:{line:71,column:107}},36:{start:{line:72,column:12},end:{line:72,column:19}},37:{start:{line:76,column:8},end:{line:79,column:9}},38:{start:{line:77,column:12},end:{line:77,column:115}},39:{start:{line:78,column:12},end:{line:78,column:19}},40:{start:{line:82,column:21},end:{line:82,column:93}},41:{start:{line:83,column:8},end:{line:86,column:9}},42:{start:{line:84,column:12},end:{line:84,column:33}},43:{start:{line:85,column:12},end:{line:85,column:19}},44:{start:{line:91,column:8},end:{line:94,column:9}},45:{start:{line:92,column:12},end:{line:92,column:97}},46:{start:{line:93,column:12},end:{line:93,column:19}},47:{start:{line:97,column:8},end:{line:97,column:67}},48:{start:{line:102,column:8},end:{line:102,column:32}},49:{start:{line:106,column:22},end:{line:107,column:107}},50:{start:{line:108,column:8},end:{line:108,column:62}},51:{start:{line:108,column:25},end:{line:108,column:53}},52:{start:{line:110,column:8},end:{line:110,column:30}},53:{start:{line:111,column:8},end:{line:111,column:28}},54:{start:{line:113,column:8},end:{line:113,column:37}},55:{start:{line:114,column:8},end:{line:114,column:35}},56:{start:{line:115,column:8},end:{line:115,column:30}},57:{start:{line:116,column:8},end:{line:116,column:30}},58:{start:{line:118,column:8},end:{line:118,column:26}},59:{start:{line:123,column:8},end:{line:125,column:9}},60:{start:{line:124,column:12},end:{line:124,column:19}},61:{start:{line:129,column:8},end:{line:131,column:47}},62:{start:{line:130,column:12},end:{line:130,column:88}},63:{start:{line:134,column:23},end:{line:134,column:101}},64:{start:{line:138,column:8},end:{line:143,column:9}},65:{start:{line:140,column:12},end:{line:140,column:47}},66:{start:{line:142,column:12},end:{line:142,column:65}},67:{start:{line:146,column:8},end:{line:146,column:37}},68:{start:{line:147,column:8},end:{line:147,column:35}},69:{start:{line:150,column:8},end:{line:150,column:59}},70:{start:{line:160,column:8},end:{line:160,column:33}},71:{start:{line:171,column:8},end:{line:171,column:111}},72:{start:{line:183,column:8},end:{line:183,column:74}},73:{start:{line:193,column:8},end:{line:193,column:67}},74:{start:{line:204,column:8},end:{line:204,column:35}},75:{start:{line:204,column:28},end:{line:204,column:35}},76:{start:{line:206,column:8},end:{line:206,column:33}},77:{start:{line:207,column:8},end:{line:207,column:31}},78:{start:{line:217,column:8},end:{line:219,column:9}},79:{start:{line:218,column:12},end:{line:218,column:71}},80:{start:{line:228,column:8},end:{line:230,column:9}},81:{start:{line:229,column:12},end:{line:229,column:71}},82:{start:{line:241,column:8},end:{line:241,column:116}},83:{start:{line:253,column:23},end:{line:253,column:62}},84:{start:{line:254,column:8},end:{line:278,column:9}},85:{start:{line:256,column:16},end:{line:256,column:101}},86:{start:{line:257,column:16},end:{line:257,column:22}},87:{start:{line:261,column:16},end:{line:261,column:62}},88:{start:{line:261,column:35},end:{line:261,column:62}},89:{start:{line:262,column:16},end:{line:262,column:22}},90:{start:{line:265,column:16},end:{line:268,column:17}},91:{start:{line:266,column:20},end:{line:266,column:45}},92:{start:{line:267,column:20},end:{line:267,column:43}},93:{start:{line:269,column:16},end:{line:269,column:22}},94:{start:{line:272,column:16},end:{line:272,column:49}},95:{start:{line:273,column:16},end:{line:273,column:22}},96:{start:{line:276,column:16},end:{line:276,column:158}},97:{start:{line:277,column:16},end:{line:277,column:22}},98:{start:{line:288,column:8},end:{line:291,column:9}},99:{start:{line:289,column:12},end:{line:289,column:138}},100:{start:{line:290,column:12},end:{line:290,column:19}},101:{start:{line:294,column:8},end:{line:294,column:151}},102:{start:{line:297,column:8},end:{line:299,column:9}},103:{start:{line:298,column:12},end:{line:298,column:47}},104:{start:{line:302,column:8},end:{line:302,column:32}},105:{start:{line:307,column:8},end:{line:307,column:108}},106:{start:{line:307,column:53},end:{line:307,column:70}},107:{start:{line:314,column:8},end:{line:314,column:47}},108:{start:{line:316,column:8},end:{line:316,column:29}},109:{start:{line:318,column:8},end:{line:318,column:33}},110:{start:{line:329,column:23},end:{line:329,column:71}},111:{start:{line:330,column:8},end:{line:345,column:9}},112:{start:{line:332,column:16},end:{line:332,column:28}},113:{start:{line:334,column:16},end:{line:334,column:29}},114:{start:{line:336,column:16},end:{line:337,column:93}},115:{start:{line:338,column:16},end:{line:338,column:29}},116:{start:{line:340,column:16},end:{line:341,column:52}},117:{start:{line:342,column:16},end:{line:342,column:29}},118:{start:{line:344,column:16},end:{line:344,column:29}},119:{start:{line:354,column:8},end:{line:356,column:9}},120:{start:{line:355,column:12},end:{line:355,column:71}},121:{start:{line:368,column:8},end:{line:368,column:156}},122:{start:{line:375,column:25},end:{line:375,column:52}},123:{start:{line:376,column:8},end:{line:383,column:9}},124:{start:{line:377,column:26},end:{line:377,column:66}},125:{start:{line:378,column:12},end:{line:382,column:13}},126:{start:{line:380,column:16},end:{line:380,column:35}},127:{start:{line:381,column:16},end:{line:381,column:22}},128:{start:{line:387,column:23},end:{line:389,column:65}},129:{start:{line:390,column:24},end:{line:390,column:26}},130:{start:{line:391,column:8},end:{line:393,column:9}},131:{start:{line:392,column:12},end:{line:392,column:53}},132:{start:{line:396,column:8},end:{line:396,column:40}},133:{start:{line:404,column:8},end:{line:408,column:9}},134:{start:{line:405,column:12},end:{line:405,column:95}},135:{start:{line:406,column:12},end:{line:406,column:91}},136:{start:{line:407,column:12},end:{line:407,column:19}},137:{start:{line:409,column:22},end:{line:409,column:60}},138:{start:{line:410,column:8},end:{line:410,column:45}},139:{start:{line:418,column:29},end:{line:418,column:82}},140:{start:{line:419,column:27},end:{line:419,column:78}},141:{start:{line:420,column:8},end:{line:423,column:9}},142:{start:{line:421,column:12},end:{line:421,column:44}},143:{start:{line:422,column:12},end:{line:422,column:19}},144:{start:{line:425,column:22},end:{line:425,column:84}},145:{start:{line:426,column:8},end:{line:426,column:45}},146:{start:{line:434,column:8},end:{line:438,column:9}},147:{start:{line:435,column:12},end:{line:435,column:98}},148:{start:{line:436,column:12},end:{line:436,column:91}},149:{start:{line:437,column:12},end:{line:437,column:19}},150:{start:{line:439,column:22},end:{line:439,column:91}},151:{start:{line:440,column:8},end:{line:440,column:63}},152:{start:{line:448,column:8},end:{line:452,column:9}},153:{start:{line:449,column:12},end:{line:449,column:102}},154:{start:{line:450,column:12},end:{line:450,column:91}},155:{start:{line:451,column:12},end:{line:451,column:19}},156:{start:{line:453,column:22},end:{line:453,column:95}},157:{start:{line:454,column:8},end:{line:454,column:67}},158:{start:{line:462,column:8},end:{line:466,column:9}},159:{start:{line:463,column:12},end:{line:463,column:102}},160:{start:{line:464,column:12},end:{line:464,column:91}},161:{start:{line:465,column:12},end:{line:465,column:19}},162:{start:{line:467,column:22},end:{line:467,column:97}},163:{start:{line:468,column:8},end:{line:468,column:67}},164:{start:{line:476,column:8},end:{line:480,column:9}},165:{start:{line:477,column:12},end:{line:477,column:104}},166:{start:{line:478,column:12},end:{line:478,column:91}},167:{start:{line:479,column:12},end:{line:479,column:19}},168:{start:{line:481,column:36},end:{line:481,column:103}},169:{start:{line:483,column:16},end:{line:483,column:17}},170:{start:{line:484,column:8},end:{line:488,column:9}},171:{start:{line:485,column:29},end:{line:485,column:108}},172:{start:{line:486,column:12},end:{line:486,column:61}},173:{start:{line:487,column:12},end:{line:487,column:63}},174:{start:{line:498,column:27},end:{line:498,column:29}},175:{start:{line:499,column:8},end:{line:509,column:9}},176:{start:{line:501,column:16},end:{line:501,column:148}},177:{start:{line:502,column:16},end:{line:502,column:22}},178:{start:{line:504,column:16},end:{line:504,column:188}},179:{start:{line:505,column:16},end:{line:505,column:22}},180:{start:{line:507,column:16},end:{line:507,column:127}},181:{start:{line:508,column:16},end:{line:508,column:22}},182:{start:{line:513,column:22},end:{line:513,column:24}},183:{start:{line:514,column:8},end:{line:522,column:9}},184:{start:{line:515,column:12},end:{line:515,column:56}},185:{start:{line:517,column:12},end:{line:521,column:13}},186:{start:{line:518,column:16},end:{line:518,column:48}},187:{start:{line:519,column:16},end:{line:519,column:29}},188:{start:{line:520,column:16},end:{line:520,column:105}},189:{start:{line:520,column:47},end:{line:520,column:103}},190:{start:{line:524,column:8},end:{line:526,column:9}},191:{start:{line:525,column:12},end:{line:525,column:44}},192:{start:{line:536,column:0},end:{line:536,column:42}},193:{start:{line:541,column:0},end:{line:541,column:47}},194:{start:{line:546,column:0},end:{line:546,column:46}},195:{start:{line:551,column:0},end:{line:551,column:48}},196:{start:{line:556,column:0},end:{line:556,column:49}},197:{start:{line:561,column:0},end:{line:561,column:43}},198:{start:{line:566,column:0},end:{line:566,column:47}},199:{start:{line:567,column:0},end:{line:567,column:46}},200:{start:{line:568,column:0},end:{line:568,column:50}},201:{start:{line:569,column:0},end:{line:569,column:56}},202:{start:{line:570,column:0},end:{line:570,column:54}},203:{start:{line:571,column:0},end:{line:571,column:56}},204:{start:{line:572,column:0},end:{line:572,column:35}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:4},end:{line:9,column:5}},loc:{start:{line:9,column:69},end:{line:58,column:5}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:50,column:38},end:{line:50,column:39}},loc:{start:{line:50,column:45},end:{line:50,column:67}},line:50},2:{name:"(anonymous_2)",decl:{start:{line:51,column:43},end:{line:51,column:44}},loc:{start:{line:51,column:50},end:{line:51,column:76}},line:51},3:{name:"(anonymous_3)",decl:{start:{line:52,column:46},end:{line:52,column:47}},loc:{start:{line:52,column:53},end:{line:52,column:82}},line:52},4:{name:"(anonymous_4)",decl:{start:{line:53,column:51},end:{line:53,column:52}},loc:{start:{line:53,column:58},end:{line:53,column:91}},line:53},5:{name:"(anonymous_5)",decl:{start:{line:54,column:50},end:{line:54,column:51}},loc:{start:{line:54,column:57},end:{line:54,column:90}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:55,column:52},end:{line:55,column:53}},loc:{start:{line:55,column:59},end:{line:55,column:87}},line:55},7:{name:"(anonymous_7)",decl:{start:{line:56,column:43},end:{line:56,column:44}},loc:{start:{line:56,column:50},end:{line:56,column:76}},line:56},8:{name:"(anonymous_8)",decl:{start:{line:57,column:35},end:{line:57,column:36}},loc:{start:{line:57,column:42},end:{line:57,column:62}},line:57},9:{name:"(anonymous_9)",decl:{start:{line:60,column:4},end:{line:60,column:5}},loc:{start:{line:60,column:27},end:{line:98,column:5}},line:60},10:{name:"(anonymous_10)",decl:{start:{line:100,column:4},end:{line:100,column:5}},loc:{start:{line:100,column:20},end:{line:119,column:5}},line:100},11:{name:"(anonymous_11)",decl:{start:{line:108,column:19},end:{line:108,column:20}},loc:{start:{line:108,column:25},end:{line:108,column:53}},line:108},12:{name:"(anonymous_12)",decl:{start:{line:121,column:4},end:{line:121,column:5}},loc:{start:{line:121,column:37},end:{line:151,column:5}},line:121},13:{name:"(anonymous_13)",decl:{start:{line:129,column:59},end:{line:129,column:60}},loc:{start:{line:129,column:65},end:{line:131,column:9}},line:129},14:{name:"(anonymous_14)",decl:{start:{line:159,column:4},end:{line:159,column:5}},loc:{start:{line:159,column:16},end:{line:161,column:5}},line:159},15:{name:"(anonymous_15)",decl:{start:{line:169,column:4},end:{line:169,column:5}},loc:{start:{line:169,column:31},end:{line:172,column:5}},line:169},16:{name:"(anonymous_16)",decl:{start:{line:182,column:4},end:{line:182,column:5}},loc:{start:{line:182,column:63},end:{line:184,column:5}},line:182},17:{name:"(anonymous_17)",decl:{start:{line:192,column:4},end:{line:192,column:5}},loc:{start:{line:192,column:26},end:{line:194,column:5}},line:192},18:{name:"(anonymous_18)",decl:{start:{line:203,column:4},end:{line:203,column:5}},loc:{start:{line:203,column:46},end:{line:208,column:5}},line:203},19:{name:"(anonymous_19)",decl:{start:{line:215,column:4},end:{line:215,column:5}},loc:{start:{line:215,column:26},end:{line:220,column:5}},line:215},20:{name:"(anonymous_20)",decl:{start:{line:226,column:4},end:{line:226,column:5}},loc:{start:{line:226,column:28},end:{line:231,column:5}},line:226},21:{name:"(anonymous_21)",decl:{start:{line:239,column:4},end:{line:239,column:5}},loc:{start:{line:239,column:19},end:{line:242,column:5}},line:239},22:{name:"(anonymous_22)",decl:{start:{line:251,column:4},end:{line:251,column:5}},loc:{start:{line:251,column:37},end:{line:279,column:5}},line:251},23:{name:"(anonymous_23)",decl:{start:{line:286,column:4},end:{line:286,column:5}},loc:{start:{line:286,column:32},end:{line:308,column:5}},line:286},24:{name:"(anonymous_24)",decl:{start:{line:307,column:47},end:{line:307,column:48}},loc:{start:{line:307,column:53},end:{line:307,column:70}},line:307},25:{name:"(anonymous_25)",decl:{start:{line:313,column:4},end:{line:313,column:5}},loc:{start:{line:313,column:17},end:{line:319,column:5}},line:313},26:{name:"(anonymous_26)",decl:{start:{line:328,column:4},end:{line:328,column:5}},loc:{start:{line:328,column:49},end:{line:346,column:5}},line:328},27:{name:"(anonymous_27)",decl:{start:{line:352,column:4},end:{line:352,column:5}},loc:{start:{line:352,column:29},end:{line:357,column:5}},line:352},28:{name:"(anonymous_28)",decl:{start:{line:367,column:4},end:{line:367,column:5}},loc:{start:{line:367,column:28},end:{line:397,column:5}},line:367},29:{name:"(anonymous_29)",decl:{start:{line:403,column:4},end:{line:403,column:5}},loc:{start:{line:403,column:32},end:{line:411,column:5}},line:403},30:{name:"(anonymous_30)",decl:{start:{line:417,column:4},end:{line:417,column:5}},loc:{start:{line:417,column:32},end:{line:427,column:5}},line:417},31:{name:"(anonymous_31)",decl:{start:{line:433,column:4},end:{line:433,column:5}},loc:{start:{line:433,column:35},end:{line:441,column:5}},line:433},32:{name:"(anonymous_32)",decl:{start:{line:447,column:4},end:{line:447,column:5}},loc:{start:{line:447,column:39},end:{line:455,column:5}},line:447},33:{name:"(anonymous_33)",decl:{start:{line:461,column:4},end:{line:461,column:5}},loc:{start:{line:461,column:39},end:{line:469,column:5}},line:461},34:{name:"(anonymous_34)",decl:{start:{line:475,column:4},end:{line:475,column:5}},loc:{start:{line:475,column:34},end:{line:489,column:5}},line:475},35:{name:"(anonymous_35)",decl:{start:{line:496,column:4},end:{line:496,column:5}},loc:{start:{line:496,column:26},end:{line:527,column:5}},line:496},36:{name:"(anonymous_36)",decl:{start:{line:520,column:34},end:{line:520,column:35}},loc:{start:{line:520,column:47},end:{line:520,column:103}},line:520}},branchMap:{0:{loc:{start:{line:64,column:8},end:{line:67,column:9}},type:"if",locations:[{start:{line:64,column:8},end:{line:67,column:9}},{start:{line:64,column:8},end:{line:67,column:9}}],line:64},1:{loc:{start:{line:70,column:8},end:{line:73,column:9}},type:"if",locations:[{start:{line:70,column:8},end:{line:73,column:9}},{start:{line:70,column:8},end:{line:73,column:9}}],line:70},2:{loc:{start:{line:76,column:8},end:{line:79,column:9}},type:"if",locations:[{start:{line:76,column:8},end:{line:79,column:9}},{start:{line:76,column:8},end:{line:79,column:9}}],line:76},3:{loc:{start:{line:83,column:8},end:{line:86,column:9}},type:"if",locations:[{start:{line:83,column:8},end:{line:86,column:9}},{start:{line:83,column:8},end:{line:86,column:9}}],line:83},4:{loc:{start:{line:91,column:8},end:{line:94,column:9}},type:"if",locations:[{start:{line:91,column:8},end:{line:94,column:9}},{start:{line:91,column:8},end:{line:94,column:9}}],line:91},5:{loc:{start:{line:91,column:12},end:{line:91,column:105}},type:"binary-expr",locations:[{start:{line:91,column:12},end:{line:91,column:42}},{start:{line:91,column:46},end:{line:91,column:105}}],line:91},6:{loc:{start:{line:123,column:8},end:{line:125,column:9}},type:"if",locations:[{start:{line:123,column:8},end:{line:125,column:9}},{start:{line:123,column:8},end:{line:125,column:9}}],line:123},7:{loc:{start:{line:134,column:23},end:{line:134,column:101}},type:"binary-expr",locations:[{start:{line:134,column:23},end:{line:134,column:37}},{start:{line:134,column:41},end:{line:134,column:71}},{start:{line:134,column:75},end:{line:134,column:101}}],line:134},8:{loc:{start:{line:138,column:8},end:{line:143,column:9}},type:"if",locations:[{start:{line:138,column:8},end:{line:143,column:9}},{start:{line:138,column:8},end:{line:143,column:9}}],line:138},9:{loc:{start:{line:171,column:17},end:{line:171,column:109}},type:"binary-expr",locations:[{start:{line:171,column:17},end:{line:171,column:69}},{start:{line:171,column:73},end:{line:171,column:109}}],line:171},10:{loc:{start:{line:182,column:20},end:{line:182,column:40}},type:"default-arg",locations:[{start:{line:182,column:35},end:{line:182,column:40}}],line:182},11:{loc:{start:{line:182,column:42},end:{line:182,column:61}},type:"default-arg",locations:[{start:{line:182,column:56},end:{line:182,column:61}}],line:182},12:{loc:{start:{line:204,column:8},end:{line:204,column:35}},type:"if",locations:[{start:{line:204,column:8},end:{line:204,column:35}},{start:{line:204,column:8},end:{line:204,column:35}}],line:204},13:{loc:{start:{line:217,column:8},end:{line:219,column:9}},type:"if",locations:[{start:{line:217,column:8},end:{line:219,column:9}},{start:{line:217,column:8},end:{line:219,column:9}}],line:217},14:{loc:{start:{line:228,column:8},end:{line:230,column:9}},type:"if",locations:[{start:{line:228,column:8},end:{line:230,column:9}},{start:{line:228,column:8},end:{line:230,column:9}}],line:228},15:{loc:{start:{line:254,column:8},end:{line:278,column:9}},type:"switch",locations:[{start:{line:255,column:12},end:{line:257,column:22}},{start:{line:259,column:12},end:{line:259,column:39}},{start:{line:260,column:12},end:{line:262,column:22}},{start:{line:264,column:12},end:{line:269,column:22}},{start:{line:271,column:12},end:{line:273,column:22}},{start:{line:275,column:12},end:{line:277,column:22}}],line:254},16:{loc:{start:{line:261,column:16},end:{line:261,column:62}},type:"if",locations:[{start:{line:261,column:16},end:{line:261,column:62}},{start:{line:261,column:16},end:{line:261,column:62}}],line:261},17:{loc:{start:{line:265,column:16},end:{line:268,column:17}},type:"if",locations:[{start:{line:265,column:16},end:{line:268,column:17}},{start:{line:265,column:16},end:{line:268,column:17}}],line:265},18:{loc:{start:{line:288,column:8},end:{line:291,column:9}},type:"if",locations:[{start:{line:288,column:8},end:{line:291,column:9}},{start:{line:288,column:8},end:{line:291,column:9}}],line:288},19:{loc:{start:{line:297,column:8},end:{line:299,column:9}},type:"if",locations:[{start:{line:297,column:8},end:{line:299,column:9}},{start:{line:297,column:8},end:{line:299,column:9}}],line:297},20:{loc:{start:{line:330,column:8},end:{line:345,column:9}},type:"switch",locations:[{start:{line:331,column:12},end:{line:332,column:28}},{start:{line:333,column:12},end:{line:334,column:29}},{start:{line:335,column:12},end:{line:338,column:29}},{start:{line:339,column:12},end:{line:342,column:29}},{start:{line:343,column:12},end:{line:344,column:29}}],line:330},21:{loc:{start:{line:354,column:8},end:{line:356,column:9}},type:"if",locations:[{start:{line:354,column:8},end:{line:356,column:9}},{start:{line:354,column:8},end:{line:356,column:9}}],line:354},22:{loc:{start:{line:378,column:12},end:{line:382,column:13}},type:"if",locations:[{start:{line:378,column:12},end:{line:382,column:13}},{start:{line:378,column:12},end:{line:382,column:13}}],line:378},23:{loc:{start:{line:404,column:8},end:{line:408,column:9}},type:"if",locations:[{start:{line:404,column:8},end:{line:408,column:9}},{start:{line:404,column:8},end:{line:408,column:9}}],line:404},24:{loc:{start:{line:420,column:8},end:{line:423,column:9}},type:"if",locations:[{start:{line:420,column:8},end:{line:423,column:9}},{start:{line:420,column:8},end:{line:423,column:9}}],line:420},25:{loc:{start:{line:420,column:12},end:{line:420,column:40}},type:"binary-expr",locations:[{start:{line:420,column:12},end:{line:420,column:25}},{start:{line:420,column:29},end:{line:420,column:40}}],line:420},26:{loc:{start:{line:434,column:8},end:{line:438,column:9}},type:"if",locations:[{start:{line:434,column:8},end:{line:438,column:9}},{start:{line:434,column:8},end:{line:438,column:9}}],line:434},27:{loc:{start:{line:448,column:8},end:{line:452,column:9}},type:"if",locations:[{start:{line:448,column:8},end:{line:452,column:9}},{start:{line:448,column:8},end:{line:452,column:9}}],line:448},28:{loc:{start:{line:462,column:8},end:{line:466,column:9}},type:"if",locations:[{start:{line:462,column:8},end:{line:466,column:9}},{start:{line:462,column:8},end:{line:466,column:9}}],line:462},29:{loc:{start:{line:476,column:8},end:{line:480,column:9}},type:"if",locations:[{start:{line:476,column:8},end:{line:480,column:9}},{start:{line:476,column:8},end:{line:480,column:9}}],line:476},30:{loc:{start:{line:499,column:8},end:{line:509,column:9}},type:"switch",locations:[{start:{line:500,column:12},end:{line:502,column:22}},{start:{line:503,column:12},end:{line:505,column:22}},{start:{line:506,column:12},end:{line:508,column:22}}],line:499},31:{loc:{start:{line:517,column:12},end:{line:521,column:13}},type:"if",locations:[{start:{line:517,column:12},end:{line:521,column:13}},{start:{line:517,column:12},end:{line:521,column:13}}],line:517},32:{loc:{start:{line:524,column:8},end:{line:526,column:9}},type:"if",locations:[{start:{line:524,column:8},end:{line:526,column:9}},{start:{line:524,column:8},end:{line:526,column:9}}],line:524}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0,0],8:[0,0],9:[0,0],10:[0],11:[0],12:[0,0],13:[0,0],14:[0,0],15:[0,0,0,0,0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0,0,0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0,0],31:[0,0],32:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class FullConsensusAgent extends BaseConsensusAgent{constructor(n,e,l,t,o){Kn.f[0]++;Kn.s[0]++;super(l,t,o);Kn.s[1]++;this._blockchain=n;Kn.s[2]++;this._mempool=e;Kn.s[3]++;this._syncing=!1;Kn.s[4]++;this._numBlocksExtending=-1;Kn.s[5]++;this._numBlocksForking=-1;Kn.s[6]++;this._forkHead=null;Kn.s[7]++;this._failedSyncs=0;Kn.s[8]++;this._syncTarget=t.headHash;Kn.s[9]++;this._chainProofLimit=new RateLimit(FullConsensusAgent.CHAIN_PROOF_RATE_LIMIT);Kn.s[10]++;this._accountsProofLimit=new RateLimit(FullConsensusAgent.ACCOUNTS_PROOF_RATE_LIMIT);Kn.s[11]++;this._accountsTreeChunkLimit=new RateLimit(FullConsensusAgent.ACCOUNTS_TREE_CHUNK_RATE_LIMIT);Kn.s[12]++;this._transactionsProofLimit=new RateLimit(FullConsensusAgent.TRANSACTION_PROOF_RATE_LIMIT);Kn.s[13]++;this._transactionReceiptsLimit=new RateLimit(FullConsensusAgent.TRANSACTION_RECEIPTS_RATE_LIMIT);Kn.s[14]++;t.channel.on("get-blocks",n=>{Kn.f[1]++;Kn.s[15]++;return this._onGetBlocks(n)});Kn.s[16]++;t.channel.on("get-chain-proof",n=>{Kn.f[2]++;Kn.s[17]++;return this._onGetChainProof(n)});Kn.s[18]++;t.channel.on("get-accounts-proof",n=>{Kn.f[3]++;Kn.s[19]++;return this._onGetAccountsProof(n)});Kn.s[20]++;t.channel.on("get-accounts-tree-chunk",n=>{Kn.f[4]++;Kn.s[21]++;return this._onGetAccountsTreeChunk(n)});Kn.s[22]++;t.channel.on("get-transactions-proof",n=>{Kn.f[5]++;Kn.s[23]++;return this._onGetTransactionsProof(n)});Kn.s[24]++;t.channel.on("get-transaction-receipts",n=>{Kn.f[6]++;Kn.s[25]++;return this._onGetTransactions(n)});Kn.s[26]++;t.channel.on("get-block-proof",n=>{Kn.f[7]++;Kn.s[27]++;return this._onGetBlockProof(n)});Kn.s[28]++;t.channel.on("mempool",n=>{Kn.f[8]++;Kn.s[29]++;return this._onMempool(n)})}async syncBlockchain(){Kn.f[9]++;Kn.s[30]++;this._syncing=!0;Kn.s[31]++;if(!Services.isFullNode(this._peer.peerAddress.services)){Kn.b[0][0]++;Kn.s[32]++;this._syncFinished();Kn.s[33]++;return}Kn.b[0][1]++;Kn.s[34]++;if(!this._objectsInFlight.isEmpty()){Kn.b[1][0]++;Kn.s[35]++;Log.v(FullConsensusAgent,`Waiting for ${this._objectsInFlight.length} objects to arrive ...`);Kn.s[36]++;return}Kn.b[1][1]++;Kn.s[37]++;if(!this._objectsProcessing.isEmpty()){Kn.b[2][0]++;Kn.s[38]++;Log.v(FullConsensusAgent,`Waiting for ${this._objectsProcessing.length} objects to be processed ...`);Kn.s[39]++;return}Kn.b[2][1]++;const n=(Kn.s[40]++,await this._blockchain.getBlock(this._syncTarget,!0));Kn.s[41]++;if(n){Kn.b[3][0]++;Kn.s[42]++;this._syncFinished();Kn.s[43]++}else{Kn.b[3][1]++;Kn.s[44]++;if((Kn.b[5][0]++,0===this._numBlocksExtending)&&(Kn.b[5][1]++,++this._failedSyncs>=FullConsensusAgent.SYNC_ATTEMPTS_MAX)){Kn.b[4][0]++;Kn.s[45]++;this._peer.channel.close(CloseType.BLOCKCHAIN_SYNC_FAILED,"blockchain sync failed");Kn.s[46]++}else{Kn.b[4][1]++;Kn.s[47]++;this._requestBlocks()["catch"](Log.w.tag(FullConsensusAgent))}}}_syncFinished(){Kn.f[10]++;Kn.s[48]++;this._subscribeTarget();const n=(Kn.s[49]++,FullConsensusAgent.MEMPOOL_DELAY_MIN+Math.random()*(FullConsensusAgent.MEMPOOL_DELAY_MAX-FullConsensusAgent.MEMPOOL_DELAY_MIN));Kn.s[50]++;setTimeout(()=>{Kn.f[11]++;Kn.s[51]++;return this._peer.channel.mempool()},n);Kn.s[52]++;this._syncing=!1;Kn.s[53]++;this._synced=!0;Kn.s[54]++;this._numBlocksExtending=0;Kn.s[55]++;this._numBlocksForking=0;Kn.s[56]++;this._forkHead=null;Kn.s[57]++;this._failedSyncs=0;Kn.s[58]++;this.fire("sync")}async _requestBlocks(n){Kn.f[12]++;Kn.s[59]++;if(this._peer.channel.isExpectingMessage(Message.Type.INV)){Kn.b[6][0]++;Kn.s[60]++;return}Kn.b[6][1]++;Kn.s[61]++;this._peer.channel.expectMessage(Message.Type.INV,()=>{Kn.f[13]++;Kn.s[62]++;this._peer.channel.close(CloseType.GET_BLOCKS_TIMEOUT,"getBlocks timeout")},BaseConsensusAgent.REQUEST_TIMEOUT);const e=(Kn.s[63]++,(Kn.b[7][0]++,this._forkHead)&&(Kn.b[7][1]++,0===this._numBlocksExtending)&&(Kn.b[7][2]++,this._numBlocksForking>0));let l;Kn.s[64]++;if(e){Kn.b[8][0]++;Kn.s[65]++;l=[this._forkHead.hash()]}else{Kn.b[8][1]++;Kn.s[66]++;l=await this._blockchain.getBlockLocators()}Kn.s[67]++;this._numBlocksExtending=0;Kn.s[68]++;this._numBlocksForking=0;Kn.s[69]++;this._peer.channel.getBlocks(l,n)}_onInv(n){Kn.f[14]++;Kn.s[70]++;return super._onInv(n)}_shouldRequestData(n){Kn.f[15]++;Kn.s[71]++;return!((Kn.b[9][0]++,Services.isNanoNode(this._peer.peerAddress.services))&&(Kn.b[9][1]++,n.type===InvVector.Type.BLOCK))}_getBlock(n,e=(Kn.b[10][0]++,!1),l=(Kn.b[11][0]++,!1)){Kn.f[16]++;Kn.s[72]++;return this._blockchain.getBlock(n,e,l)}_getTransaction(n){Kn.f[17]++;Kn.s[73]++;return Promise.resolve(this._mempool.getTransaction(n))}async _onKnownBlockAnnounced(n,e){Kn.f[18]++;Kn.s[74]++;if(this._syncing){Kn.b[12][1]++;Kn.s[76]++;this._numBlocksForking++;Kn.s[77]++;this._forkHead=e}else{Kn.b[12][0]++;Kn.s[75]++}}_onNoUnknownObjects(){Kn.f[19]++;Kn.s[78]++;if(this._syncing){Kn.b[13][0]++;Kn.s[79]++;this.syncBlockchain()["catch"](Log.w.tag(FullConsensusAgent))}else Kn.b[13][1]++}_onAllObjectsReceived(){Kn.f[20]++;Kn.s[80]++;if(this._syncing){Kn.b[14][0]++;Kn.s[81]++;this.syncBlockchain()["catch"](Log.w.tag(FullConsensusAgent))}else Kn.b[14][1]++}_onHeader(n){Kn.f[21]++;Kn.s[82]++;Log.w(FullConsensusAgent,`Unsolicited header message received from ${this._peer.peerAddress}, discarding`)}async _processBlock(n,e){Kn.f[22]++;const l=(Kn.s[83]++,await this._blockchain.pushBlock(e));Kn.s[84]++;switch(l){case FullChain.ERR_INVALID:Kn.b[15][0]++;Kn.s[85]++;this._peer.channel.close(CloseType.RECEIVED_INVALID_BLOCK,"received invalid block");Kn.s[86]++;break;case FullChain.OK_EXTENDED:Kn.b[15][1]++;case FullChain.OK_REBRANCHED:Kn.b[15][2]++;Kn.s[87]++;if(this._syncing){Kn.b[16][0]++;Kn.s[88]++;this._numBlocksExtending++}else Kn.b[16][1]++;Kn.s[89]++;break;case FullChain.OK_FORKED:Kn.b[15][3]++;Kn.s[90]++;if(this._syncing){Kn.b[17][0]++;Kn.s[91]++;this._numBlocksForking++;Kn.s[92]++;this._forkHead=e}else Kn.b[17][1]++;Kn.s[93]++;break;case FullChain.ERR_ORPHAN:Kn.b[15][4]++;Kn.s[94]++;this._onOrphanBlock(n,e);Kn.s[95]++;break;case FullChain.OK_KNOWN:Kn.b[15][5]++;Kn.s[96]++;Log.v(FullConsensusAgent,`Received known block ${n} (height=${e.height}, prevHash=${e.prevHash}) from ${this._peer.peerAddress}`);Kn.s[97]++}}_onOrphanBlock(n,e){Kn.f[23]++;Kn.s[98]++;if(this._synced){Kn.b[18][1]++;Kn.s[101]++;Log.d(FullConsensusAgent,`Received orphan block ${n} (height=${e.height}, prevHash=${e.prevHash}) from ${this._peer.peerAddress}`);Kn.s[102]++;if(this._timers.timeoutExists("outOfSync"))Kn.b[19][1]++;else{Kn.b[19][0]++;Kn.s[103]++;this._subscribe(Subscription.NONE)}Kn.s[104]++;this._syncTarget=n;Kn.s[105]++;this._timers.resetTimeout("outOfSync",()=>{Kn.f[24]++;Kn.s[106]++;return this._outOfSync()},FullConsensusAgent.RESYNC_THROTTLE)}else{Kn.b[18][0]++;Kn.s[99]++;Log.w(FullConsensusAgent,`Received orphan block ${n} (height=${e.height}, prevHash=${e.prevHash}) while syncing`);Kn.s[100]++}}_outOfSync(){Kn.f[25]++;Kn.s[107]++;this._timers.clearTimeout("outOfSync");Kn.s[108]++;this._synced=!1;Kn.s[109]++;this.fire("out-of-sync")}async _processTransaction(n,e){Kn.f[26]++;const l=(Kn.s[110]++,await this._mempool.pushTransaction(e));Kn.s[111]++;switch(l){case Mempool.ReturnCode.ACCEPTED:Kn.b[20][0]++;Kn.s[112]++;return!0;case Mempool.ReturnCode.KNOWN:Kn.b[20][1]++;Kn.s[113]++;return!1;case Mempool.ReturnCode.FEE_TOO_LOW:Kn.b[20][2]++;Kn.s[114]++;this.peer.channel.reject(Message.Type.TX,RejectMessage.Code.REJECT_INSUFFICIENT_FEE,"Sender has too many free transactions",e.hash().serialize());Kn.s[115]++;return!1;case Mempool.ReturnCode.INVALID:Kn.b[20][3]++;Kn.s[116]++;this.peer.channel.reject(Message.Type.TX,RejectMessage.Code.REJECT_INVALID,"Invalid transaction",e.hash().serialize());Kn.s[117]++;return!1;default:Kn.b[20][4]++;Kn.s[118]++;return!1}}_onAllObjectsProcessed(){Kn.f[27]++;Kn.s[119]++;if(this._syncing){Kn.b[21][0]++;Kn.s[120]++;this.syncBlockchain()["catch"](Log.w.tag(FullConsensusAgent))}else Kn.b[21][1]++}async _onGetBlocks(n){Kn.f[28]++;Kn.s[121]++;Log.v(FullConsensusAgent,`[GETBLOCKS] ${n.locators.length} block locators maxInvSize ${n.maxInvSize} received from ${this._peer.peerAddress}`);let e=(Kn.s[122]++,GenesisConfig.GENESIS_BLOCK);Kn.s[123]++;for(const o of n.locators){const n=(Kn.s[124]++,await this._blockchain.getBlock(o));Kn.s[125]++;if(n){Kn.b[22][0]++;Kn.s[126]++;e=n;Kn.s[127]++;break}Kn.b[22][1]++}const l=(Kn.s[128]++,await this._blockchain.getBlocks(e.hash(),Math.min(n.maxInvSize,FullConsensusAgent.GETBLOCKS_VECTORS_MAX),n.direction===GetBlocksMessage.Direction.FORWARD)),t=(Kn.s[129]++,[]);Kn.s[130]++;for(const o of l){Kn.s[131]++;t.push(InvVector.fromBlock(o))}Kn.s[132]++;this._peer.channel.inv(t)}async _onGetChainProof(n){Kn.f[29]++;Kn.s[133]++;if(!this._chainProofLimit.note()){Kn.b[23][0]++;Kn.s[134]++;Log.w(FullConsensusAgent,"Rejecting GetChainProof message - rate-limit exceeded");Kn.s[135]++;this._peer.channel.close(CloseType.RATE_LIMIT_EXCEEDED,"rate-limit exceeded");Kn.s[136]++;return}Kn.b[23][1]++;const e=(Kn.s[137]++,await this._blockchain.getChainProof());Kn.s[138]++;this._peer.channel.chainProof(e)}async _onGetBlockProof(n){Kn.f[30]++;const e=(Kn.s[139]++,await this._blockchain.getBlock(n.blockHashToProve)),l=(Kn.s[140]++,await this._blockchain.getBlock(n.knownBlockHash));Kn.s[141]++;if((Kn.b[25][0]++,!e)||(Kn.b[25][1]++,!l)){Kn.b[24][0]++;Kn.s[142]++;this._peer.channel.blockProof();Kn.s[143]++;return}Kn.b[24][1]++;const t=(Kn.s[144]++,await this._blockchain.getBlockProof(e,l));Kn.s[145]++;this._peer.channel.blockProof(t)}async _onGetAccountsProof(n){Kn.f[31]++;Kn.s[146]++;if(!this._accountsProofLimit.note()){Kn.b[26][0]++;Kn.s[147]++;Log.w(FullConsensusAgent,"Rejecting GetAccountsProof message - rate-limit exceeded");Kn.s[148]++;this._peer.channel.close(CloseType.RATE_LIMIT_EXCEEDED,"rate-limit exceeded");Kn.s[149]++;return}Kn.b[26][1]++;const e=(Kn.s[150]++,await this._blockchain.getAccountsProof(n.blockHash,n.addresses));Kn.s[151]++;this._peer.channel.accountsProof(n.blockHash,e)}async _onGetTransactionsProof(n){Kn.f[32]++;Kn.s[152]++;if(!this._transactionsProofLimit.note()){Kn.b[27][0]++;Kn.s[153]++;Log.w(FullConsensusAgent,"Rejecting GetTransactionsProof message - rate-limit exceeded");Kn.s[154]++;this._peer.channel.close(CloseType.RATE_LIMIT_EXCEEDED,"rate-limit exceeded");Kn.s[155]++;return}Kn.b[27][1]++;const e=(Kn.s[156]++,await this._blockchain.getTransactionsProof(n.blockHash,n.addresses));Kn.s[157]++;this._peer.channel.transactionsProof(n.blockHash,e)}async _onGetAccountsTreeChunk(n){Kn.f[33]++;Kn.s[158]++;if(!this._accountsTreeChunkLimit.note()){Kn.b[28][0]++;Kn.s[159]++;Log.w(FullConsensusAgent,"Rejecting GetAccountsTreeChunk message - rate-limit exceeded");Kn.s[160]++;this._peer.channel.close(CloseType.RATE_LIMIT_EXCEEDED,"rate-limit exceeded");Kn.s[161]++;return}Kn.b[28][1]++;const e=(Kn.s[162]++,await this._blockchain.getAccountsTreeChunk(n.blockHash,n.startPrefix));Kn.s[163]++;this._peer.channel.accountsTreeChunk(n.blockHash,e)}async _onGetTransactions(n){Kn.f[34]++;Kn.s[164]++;if(!this._transactionReceiptsLimit.note()){Kn.b[29][0]++;Kn.s[165]++;Log.w(FullConsensusAgent,"Rejecting GetTransactionReceipts message - rate-limit exceeded");Kn.s[166]++;this._peer.channel.close(CloseType.RATE_LIMIT_EXCEEDED,"rate-limit exceeded");Kn.s[167]++;return}Kn.b[29][1]++;const e=(Kn.s[168]++,await this._blockchain.getTransactionReceiptsByAddress(n.address));let l=(Kn.s[169]++,0);Kn.s[170]++;for(;l<TransactionReceiptsMessage.RECEIPTS_MAX_COUNT;){const n=(Kn.s[171]++,e.slice(l,l+TransactionReceiptsMessage.RECEIPTS_MAX_COUNT));Kn.s[172]++;this._peer.channel.transactionReceipts(n);Kn.s[173]++;l+=TransactionReceiptsMessage.RECEIPTS_MAX_COUNT}}async _onMempool(n){Kn.f[35]++;let e=(Kn.s[174]++,[]);Kn.s[175]++;switch(this._remoteSubscription.type){case Subscription.Type.ADDRESSES:Kn.b[30][0]++;Kn.s[176]++;e=this._mempool.getTransactionsByAddresses(this._remoteSubscription.addresses,FullConsensusAgent.MEMPOOL_ENTRIES_MAX);Kn.s[177]++;break;case Subscription.Type.MIN_FEE:Kn.b[30][1]++;Kn.s[178]++;e=new LimitIterable(this._mempool.transactionGenerator(undefined,this._remoteSubscription.minFeePerByte),FullConsensusAgent.MEMPOOL_ENTRIES_MAX);Kn.s[179]++;break;case Subscription.Type.ANY:Kn.b[30][2]++;Kn.s[180]++;e=new LimitIterable(this._mempool.transactionGenerator(),FullConsensusAgent.MEMPOOL_ENTRIES_MAX);Kn.s[181]++}let l=(Kn.s[182]++,[]);Kn.s[183]++;for(const t of e){Kn.s[184]++;l.push(InvVector.fromTransaction(t));Kn.s[185]++;if(l.length>=BaseInventoryMessage.VECTORS_MAX_COUNT){Kn.b[31][0]++;Kn.s[186]++;this._peer.channel.inv(l);Kn.s[187]++;l=[];Kn.s[188]++;await new Promise(n=>{Kn.f[36]++;Kn.s[189]++;return setTimeout(n,FullConsensusAgent.MEMPOOL_THROTTLE)})}else Kn.b[31][1]++}Kn.s[190]++;if(l.length>0){Kn.b[32][0]++;Kn.s[191]++;this._peer.channel.inv(l)}else Kn.b[32][1]++}}Kn.s[192]++;FullConsensusAgent.SYNC_ATTEMPTS_MAX=25;Kn.s[193]++;FullConsensusAgent.GETBLOCKS_VECTORS_MAX=500;Kn.s[194]++;FullConsensusAgent.RESYNC_THROTTLE=3e3;Kn.s[195]++;FullConsensusAgent.MEMPOOL_DELAY_MIN=2e3;Kn.s[196]++;FullConsensusAgent.MEMPOOL_DELAY_MAX=2e4;Kn.s[197]++;FullConsensusAgent.MEMPOOL_THROTTLE=1e3;Kn.s[198]++;FullConsensusAgent.MEMPOOL_ENTRIES_MAX=1e4;Kn.s[199]++;FullConsensusAgent.CHAIN_PROOF_RATE_LIMIT=3;Kn.s[200]++;FullConsensusAgent.ACCOUNTS_PROOF_RATE_LIMIT=60;Kn.s[201]++;FullConsensusAgent.ACCOUNTS_TREE_CHUNK_RATE_LIMIT=120;Kn.s[202]++;FullConsensusAgent.TRANSACTION_PROOF_RATE_LIMIT=120;Kn.s[203]++;FullConsensusAgent.TRANSACTION_RECEIPTS_RATE_LIMIT=60;Kn.s[204]++;Class.register(FullConsensusAgent);var Fn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/full/FullConsensus.js",e="4c162c72f2f4fb0e824529193ab0cd5f24cfec37",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/full/FullConsensus.js",statementMap:{0:{start:{line:8,column:8},end:{line:8,column:44}},1:{start:{line:10,column:8},end:{line:10,column:38}},2:{start:{line:12,column:8},end:{line:12,column:32}},3:{start:{line:19,column:8},end:{line:19,column:70}},4:{start:{line:20,column:8},end:{line:20,column:60}},5:{start:{line:27,column:8},end:{line:27,column:108}},6:{start:{line:36,column:8},end:{line:36,column:117}},7:{start:{line:41,column:8},end:{line:41,column:32}},8:{start:{line:46,column:8},end:{line:46,column:29}},9:{start:{line:49,column:0},end:{line:49,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:46},end:{line:13,column:5}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:18,column:4},end:{line:18,column:5}},loc:{start:{line:18,column:42},end:{line:21,column:5}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:26,column:4},end:{line:26,column:5}},loc:{start:{line:26,column:24},end:{line:28,column:5}},line:26},3:{name:"(anonymous_3)",decl:{start:{line:35,column:4},end:{line:35,column:5}},loc:{start:{line:35,column:29},end:{line:37,column:5}},line:35},4:{name:"(anonymous_4)",decl:{start:{line:40,column:4},end:{line:40,column:5}},loc:{start:{line:40,column:21},end:{line:42,column:5}},line:40},5:{name:"(anonymous_5)",decl:{start:{line:45,column:4},end:{line:45,column:5}},loc:{start:{line:45,column:18},end:{line:47,column:5}},line:45}},branchMap:{0:{loc:{start:{line:27,column:15},end:{line:27,column:107}},type:"cond-expr",locations:[{start:{line:27,column:71},end:{line:27,column:103}},{start:{line:27,column:106},end:{line:27,column:107}}],line:27}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class FullConsensus extends BaseConsensus{constructor(n,e,l){Fn.f[0]++;Fn.s[0]++;super(n,e,l);Fn.s[1]++;this._blockchain=n;Fn.s[2]++;this._mempool=e}subscribeMinFeePerByte(n){Fn.f[1]++;Fn.s[3]++;this.subscribe(Subscription.fromMinFeePerByte(n));Fn.s[4]++;this.mempool.evictBelowMinFeePerByte(n)}get minFeePerByte(){Fn.f[2]++;Fn.s[5]++;return this._subscription.type===Subscription.Type.MIN_FEE?(Fn.b[0][0]++,this._subscription.minFeePerByte):(Fn.b[0][1]++,0)}_newConsensusAgent(n){Fn.f[3]++;Fn.s[6]++;return new FullConsensusAgent(this._blockchain,this._mempool,this._network.time,n,this._subscription)}get blockchain(){Fn.f[4]++;Fn.s[7]++;return this._blockchain}get mempool(){Fn.f[5]++;Fn.s[8]++;return this._mempool}}Fn.s[9]++;Class.register(FullConsensus);var jn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/light/LightChain.js",e="bd4523f8428ababc1c83a336ac21d18068c94998",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/light/LightChain.js",statementMap:{0:{start:{line:14,column:22},end:{line:14,column:55}},1:{start:{line:15,column:22},end:{line:15,column:59}},2:{start:{line:16,column:8},end:{line:16,column:29}},3:{start:{line:25,column:22},end:{line:25,column:53}},4:{start:{line:26,column:22},end:{line:26,column:59}},5:{start:{line:27,column:8},end:{line:27,column:29}},6:{start:{line:37,column:8},end:{line:37,column:37}},7:{start:{line:46,column:8},end:{line:46,column:51}},8:{start:{line:47,column:8},end:{line:49,column:9}},9:{start:{line:48,column:12},end:{line:48,column:54}},10:{start:{line:50,column:8},end:{line:50,column:20}},11:{start:{line:57,column:22},end:{line:57,column:48}},12:{start:{line:58,column:29},end:{line:58,column:98}},13:{start:{line:59,column:8},end:{line:64,column:11}},14:{start:{line:60,column:12},end:{line:60,column:32}},15:{start:{line:61,column:12},end:{line:61,column:38}},16:{start:{line:62,column:12},end:{line:62,column:40}},17:{start:{line:63,column:12},end:{line:63,column:49}},18:{start:{line:65,column:8},end:{line:65,column:35}},19:{start:{line:66,column:8},end:{line:66,column:28}},20:{start:{line:75,column:8},end:{line:75,column:20}},21:{start:{line:78,column:0},end:{line:78,column:27}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:4},end:{line:13,column:5}},loc:{start:{line:13,column:46},end:{line:17,column:5}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:24,column:4},end:{line:24,column:5}},loc:{start:{line:24,column:42},end:{line:28,column:5}},line:24},2:{name:"(anonymous_2)",decl:{start:{line:36,column:4},end:{line:36,column:5}},loc:{start:{line:36,column:39},end:{line:38,column:5}},line:36},3:{name:"(anonymous_3)",decl:{start:{line:44,column:4},end:{line:44,column:5}},loc:{start:{line:44,column:18},end:{line:51,column:5}},line:44},4:{name:"(anonymous_4)",decl:{start:{line:56,column:4},end:{line:56,column:5}},loc:{start:{line:56,column:25},end:{line:67,column:5}},line:56},5:{name:"(anonymous_5)",decl:{start:{line:59,column:37},end:{line:59,column:38}},loc:{start:{line:59,column:69},end:{line:64,column:9}},line:59},6:{name:"(anonymous_6)",decl:{start:{line:74,column:4},end:{line:74,column:5}},loc:{start:{line:74,column:30},end:{line:76,column:5}},line:74}},branchMap:{0:{loc:{start:{line:47,column:8},end:{line:49,column:9}},type:"if",locations:[{start:{line:47,column:8},end:{line:49,column:9}},{start:{line:47,column:8},end:{line:49,column:9}}],line:47}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class LightChain extends FullChain{static getPersistent(n,e,l){jn.f[0]++;const t=(jn.s[0]++,ChainDataStore.getPersistent(n)),o=(jn.s[1]++,new LightChain(t,e,l));jn.s[2]++;return o._init()}static createVolatile(n,e){jn.f[1]++;const l=(jn.s[3]++,ChainDataStore.createVolatile()),t=(jn.s[4]++,new LightChain(l,n,e));jn.s[5]++;return t._init()}constructor(n,e,l){jn.f[2]++;jn.s[6]++;super(n,e,l)}async _init(){jn.f[3]++;jn.s[7]++;await FullChain.prototype._init.call(this);jn.s[8]++;if(this._proof)jn.b[0][1]++;else{jn.b[0][0]++;jn.s[9]++;this._proof=await this._getChainProof()}jn.s[10]++;return this}async partialChain(){jn.f[4]++;const n=(jn.s[11]++,await this.getChainProof()),e=(jn.s[12]++,new PartialLightChain(this._store,this._accounts,this._time,n));jn.s[13]++;e.on("committed",(n,e,l)=>{jn.f[5]++;jn.s[14]++;this._proof=n;jn.s[15]++;this._headHash=e;jn.s[16]++;this._mainChain=l;jn.s[17]++;this.fire("head-changed",this.head)});jn.s[18]++;await e._init();jn.s[19]++;return e}_shouldExtendChainProof(){jn.f[6]++;jn.s[20]++;return!0}}jn.s[21]++;Class.register(LightChain);var Gn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/light/LightConsensusAgent.js",e="cbdd02f8f0ddd4589a7aade60babe418929e8a57",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/light/LightConsensusAgent.js",statementMap:{0:{start:{line:10,column:8},end:{line:10,column:67}},1:{start:{line:12,column:8},end:{line:12,column:38}},2:{start:{line:14,column:8},end:{line:14,column:34}},3:{start:{line:17,column:8},end:{line:17,column:30}},4:{start:{line:21,column:8},end:{line:21,column:30}},5:{start:{line:25,column:8},end:{line:25,column:34}},6:{start:{line:28,column:8},end:{line:28,column:34}},7:{start:{line:31,column:8},end:{line:31,column:27}},8:{start:{line:34,column:8},end:{line:34,column:37}},9:{start:{line:37,column:8},end:{line:37,column:42}},10:{start:{line:40,column:8},end:{line:40,column:32}},11:{start:{line:43,column:8},end:{line:43,column:71}},12:{start:{line:43,column:46},end:{line:43,column:69}},13:{start:{line:44,column:8},end:{line:44,column:86}},14:{start:{line:44,column:54},end:{line:44,column:84}},15:{start:{line:53,column:8},end:{line:56,column:9}},16:{start:{line:54,column:12},end:{line:54,column:33}},17:{start:{line:55,column:12},end:{line:55,column:19}},18:{start:{line:59,column:8},end:{line:62,column:9}},19:{start:{line:60,column:12},end:{line:60,column:108}},20:{start:{line:61,column:12},end:{line:61,column:19}},21:{start:{line:65,column:8},end:{line:68,column:9}},22:{start:{line:66,column:12},end:{line:66,column:116}},23:{start:{line:67,column:12},end:{line:67,column:19}},24:{start:{line:71,column:8},end:{line:78,column:9}},25:{start:{line:72,column:12},end:{line:72,column:97}},26:{start:{line:73,column:12},end:{line:76,column:13}},27:{start:{line:74,column:16},end:{line:74,column:49}},28:{start:{line:75,column:16},end:{line:75,column:42}},29:{start:{line:77,column:12},end:{line:77,column:19}},30:{start:{line:81,column:22},end:{line:81,column:94}},31:{start:{line:94,column:8},end:{line:97,column:9}},32:{start:{line:95,column:12},end:{line:95,column:33}},33:{start:{line:96,column:12},end:{line:96,column:19}},34:{start:{line:100,column:8},end:{line:116,column:9}},35:{start:{line:101,column:12},end:{line:101,column:33}},36:{start:{line:102,column:12},end:{line:102,column:38}},37:{start:{line:105,column:12},end:{line:110,column:13}},38:{start:{line:106,column:16},end:{line:106,column:64}},39:{start:{line:108,column:16},end:{line:108,column:113}},40:{start:{line:109,column:16},end:{line:109,column:23}},41:{start:{line:113,column:12},end:{line:114,column:93}},42:{start:{line:115,column:12},end:{line:115,column:88}},43:{start:{line:119,column:8},end:{line:163,column:9}},44:{start:{line:120,column:12},end:{line:162,column:13}},45:{start:{line:121,column:16},end:{line:121,column:77}},46:{start:{line:124,column:16},end:{line:126,column:17}},47:{start:{line:125,column:20},end:{line:125,column:53}},48:{start:{line:128,column:16},end:{line:161,column:17}},49:{start:{line:130,column:24},end:{line:130,column:50}},50:{start:{line:131,column:24},end:{line:131,column:78}},51:{start:{line:132,column:24},end:{line:132,column:30}},52:{start:{line:134,column:24},end:{line:134,column:52}},53:{start:{line:135,column:24},end:{line:135,column:80}},54:{start:{line:136,column:24},end:{line:136,column:30}},55:{start:{line:138,column:24},end:{line:138,column:51}},56:{start:{line:139,column:24},end:{line:139,column:82}},57:{start:{line:140,column:24},end:{line:140,column:30}},58:{start:{line:143,column:24},end:{line:143,column:75}},59:{start:{line:144,column:24},end:{line:144,column:42}},60:{start:{line:145,column:24},end:{line:145,column:58}},61:{start:{line:146,column:24},end:{line:146,column:58}},62:{start:{line:147,column:24},end:{line:147,column:45}},63:{start:{line:148,column:24},end:{line:148,column:30}},64:{start:{line:150,column:24},end:{line:150,column:89}},65:{start:{line:151,column:24},end:{line:151,column:30}},66:{start:{line:153,column:24},end:{line:153,column:112}},67:{start:{line:154,column:24},end:{line:154,column:46}},68:{start:{line:155,column:24},end:{line:159,column:25}},69:{start:{line:156,column:28},end:{line:156,column:111}},70:{start:{line:158,column:28},end:{line:158,column:49}},71:{start:{line:160,column:24},end:{line:160,column:30}},72:{start:{line:172,column:8},end:{line:172,column:32}},73:{start:{line:174,column:8},end:{line:174,column:29}},74:{start:{line:175,column:8},end:{line:175,column:29}},75:{start:{line:176,column:8},end:{line:176,column:30}},76:{start:{line:177,column:8},end:{line:177,column:33}},77:{start:{line:179,column:8},end:{line:181,column:9}},78:{start:{line:180,column:12},end:{line:180,column:45}},79:{start:{line:183,column:8},end:{line:183,column:67}},80:{start:{line:191,column:8},end:{line:193,column:9}},81:{start:{line:192,column:12},end:{line:192,column:38}},82:{start:{line:195,column:8},end:{line:195,column:27}},83:{start:{line:196,column:8},end:{line:196,column:30}},84:{start:{line:204,column:8},end:{line:210,column:9}},85:{start:{line:205,column:27},end:{line:205,column:66}},86:{start:{line:206,column:12},end:{line:209,column:13}},87:{start:{line:207,column:16},end:{line:207,column:101}},88:{start:{line:208,column:16},end:{line:208,column:22}},89:{start:{line:211,column:8},end:{line:211,column:34}},90:{start:{line:221,column:8},end:{line:221,column:108}},91:{start:{line:222,column:8},end:{line:222,column:48}},92:{start:{line:223,column:8},end:{line:223,column:26}},93:{start:{line:226,column:8},end:{line:226,column:43}},94:{start:{line:227,column:8},end:{line:227,column:41}},95:{start:{line:231,column:8},end:{line:233,column:105}},96:{start:{line:232,column:12},end:{line:232,column:97}},97:{start:{line:242,column:8},end:{line:242,column:108}},98:{start:{line:243,column:8},end:{line:243,column:106}},99:{start:{line:246,column:8},end:{line:250,column:9}},100:{start:{line:247,column:12},end:{line:247,column:106}},101:{start:{line:249,column:12},end:{line:249,column:19}},102:{start:{line:251,column:8},end:{line:251,column:42}},103:{start:{line:253,column:8},end:{line:255,column:9}},104:{start:{line:254,column:12},end:{line:254,column:68}},105:{start:{line:258,column:8},end:{line:263,column:9}},106:{start:{line:259,column:12},end:{line:259,column:124}},107:{start:{line:261,column:12},end:{line:261,column:91}},108:{start:{line:262,column:12},end:{line:262,column:19}},109:{start:{line:266,column:8},end:{line:266,column:27}},110:{start:{line:267,column:8},end:{line:267,column:68}},111:{start:{line:275,column:8},end:{line:275,column:116}},112:{start:{line:276,column:8},end:{line:276,column:44}},113:{start:{line:277,column:8},end:{line:277,column:26}},114:{start:{line:279,column:28},end:{line:279,column:73}},115:{start:{line:280,column:25},end:{line:280,column:52}},116:{start:{line:281,column:8},end:{line:281,column:125}},117:{start:{line:283,column:8},end:{line:286,column:10}},118:{start:{line:289,column:8},end:{line:289,column:71}},119:{start:{line:292,column:8},end:{line:294,column:68}},120:{start:{line:293,column:12},end:{line:293,column:112}},121:{start:{line:303,column:8},end:{line:303,column:148}},122:{start:{line:306,column:8},end:{line:310,column:9}},123:{start:{line:307,column:12},end:{line:307,column:114}},124:{start:{line:309,column:12},end:{line:309,column:19}},125:{start:{line:312,column:8},end:{line:312,column:116}},126:{start:{line:314,column:28},end:{line:314,column:61}},127:{start:{line:315,column:26},end:{line:315,column:57}},128:{start:{line:318,column:8},end:{line:318,column:37}},129:{start:{line:320,column:8},end:{line:327,column:9}},130:{start:{line:322,column:12},end:{line:322,column:45}},131:{start:{line:323,column:12},end:{line:323,column:38}},132:{start:{line:324,column:12},end:{line:324,column:31}},133:{start:{line:325,column:12},end:{line:325,column:32}},134:{start:{line:326,column:12},end:{line:326,column:19}},135:{start:{line:330,column:8},end:{line:334,column:9}},136:{start:{line:331,column:12},end:{line:331,column:140}},137:{start:{line:332,column:12},end:{line:332,column:105}},138:{start:{line:333,column:12},end:{line:333,column:19}},139:{start:{line:337,column:22},end:{line:337,column:31}},140:{start:{line:338,column:8},end:{line:343,column:9}},141:{start:{line:339,column:12},end:{line:339,column:108}},142:{start:{line:341,column:12},end:{line:341,column:105}},143:{start:{line:342,column:12},end:{line:342,column:19}},144:{start:{line:346,column:25},end:{line:346,column:37}},145:{start:{line:347,column:22},end:{line:347,column:66}},146:{start:{line:348,column:8},end:{line:353,column:9}},147:{start:{line:349,column:12},end:{line:349,column:120}},148:{start:{line:351,column:12},end:{line:351,column:128}},149:{start:{line:352,column:12},end:{line:352,column:19}},150:{start:{line:356,column:23},end:{line:356,column:76}},151:{start:{line:359,column:8},end:{line:363,column:9}},152:{start:{line:361,column:12},end:{line:361,column:103}},153:{start:{line:362,column:12},end:{line:362,column:128}},154:{start:{line:365,column:8},end:{line:365,column:27}},155:{start:{line:366,column:8},end:{line:366,column:68}},156:{start:{line:374,column:8},end:{line:374,column:109}},157:{start:{line:377,column:8},end:{line:379,column:9}},158:{start:{line:378,column:12},end:{line:378,column:32}},159:{start:{line:380,column:8},end:{line:380,column:67}},160:{start:{line:383,column:8},end:{line:386,column:9}},161:{start:{line:384,column:12},end:{line:384,column:74}},162:{start:{line:385,column:12},end:{line:385,column:19}},163:{start:{line:389,column:8},end:{line:391,column:47}},164:{start:{line:390,column:12},end:{line:390,column:88}},165:{start:{line:394,column:8},end:{line:394,column:121}},166:{start:{line:404,column:8},end:{line:406,column:9}},167:{start:{line:405,column:12},end:{line:405,column:43}},168:{start:{line:407,column:8},end:{line:407,column:38}},169:{start:{line:419,column:8},end:{line:427,column:9}},170:{start:{line:421,column:12},end:{line:421,column:38}},171:{start:{line:422,column:12},end:{line:422,column:45}},172:{start:{line:423,column:12},end:{line:423,column:72}},173:{start:{line:424,column:12},end:{line:424,column:19}},174:{start:{line:426,column:12},end:{line:426,column:37}},175:{start:{line:430,column:23},end:{line:430,column:57}},176:{start:{line:432,column:8},end:{line:452,column:9}},177:{start:{line:434,column:16},end:{line:434,column:101}},178:{start:{line:435,column:16},end:{line:435,column:22}},179:{start:{line:439,column:16},end:{line:439,column:62}},180:{start:{line:439,column:35},end:{line:439,column:62}},181:{start:{line:440,column:16},end:{line:440,column:22}},182:{start:{line:443,column:16},end:{line:446,column:17}},183:{start:{line:444,column:20},end:{line:444,column:45}},184:{start:{line:445,column:20},end:{line:445,column:43}},185:{start:{line:447,column:16},end:{line:447,column:22}},186:{start:{line:450,column:16},end:{line:450,column:49}},187:{start:{line:451,column:16},end:{line:451,column:22}},188:{start:{line:463,column:8},end:{line:476,column:9}},189:{start:{line:465,column:12},end:{line:473,column:13}},190:{start:{line:467,column:16},end:{line:467,column:42}},191:{start:{line:468,column:16},end:{line:468,column:49}},192:{start:{line:469,column:16},end:{line:469,column:80}},193:{start:{line:469,column:49},end:{line:469,column:78}},194:{start:{line:470,column:16},end:{line:470,column:23}},195:{start:{line:472,column:16},end:{line:472,column:41}},196:{start:{line:475,column:12},end:{line:475,column:88}},197:{start:{line:486,column:8},end:{line:490,column:9}},198:{start:{line:487,column:12},end:{line:487,column:45}},199:{start:{line:489,column:12},end:{line:489,column:46}},200:{start:{line:499,column:8},end:{line:499,column:42}},201:{start:{line:501,column:8},end:{line:517,column:11}},202:{start:{line:502,column:27},end:{line:502,column:68}},203:{start:{line:503,column:12},end:{line:507,column:14}},204:{start:{line:509,column:12},end:{line:509,column:51}},205:{start:{line:512,column:12},end:{line:516,column:51}},206:{start:{line:513,column:16},end:{line:513,column:43}},207:{start:{line:514,column:16},end:{line:514,column:92}},208:{start:{line:515,column:16},end:{line:515,column:45}},209:{start:{line:527,column:23},end:{line:527,column:33}},210:{start:{line:528,column:21},end:{line:528,column:34}},211:{start:{line:531,column:8},end:{line:535,column:9}},212:{start:{line:532,column:12},end:{line:532,column:120}},213:{start:{line:534,column:12},end:{line:534,column:19}},214:{start:{line:537,column:30},end:{line:537,column:54}},215:{start:{line:538,column:24},end:{line:538,column:51}},216:{start:{line:539,column:23},end:{line:539,column:49}},217:{start:{line:542,column:8},end:{line:542,column:35}},218:{start:{line:545,column:8},end:{line:550,column:9}},219:{start:{line:546,column:12},end:{line:546,column:95}},220:{start:{line:547,column:12},end:{line:547,column:95}},221:{start:{line:548,column:12},end:{line:548,column:55}},222:{start:{line:549,column:12},end:{line:549,column:19}},223:{start:{line:552,column:8},end:{line:552,column:24}},224:{start:{line:561,column:8},end:{line:563,column:9}},225:{start:{line:562,column:12},end:{line:562,column:77}},226:{start:{line:565,column:8},end:{line:565,column:25}},227:{start:{line:570,column:8},end:{line:572,column:9}},228:{start:{line:571,column:12},end:{line:571,column:38}},229:{start:{line:573,column:8},end:{line:573,column:32}},230:{start:{line:580,column:0},end:{line:580,column:59}},231:{start:{line:585,column:0},end:{line:585,column:57}},232:{start:{line:590,column:0},end:{line:590,column:67}},233:{start:{line:595,column:0},end:{line:595,column:42}},234:{start:{line:600,column:0},end:{line:600,column:48}},235:{start:{line:605,column:0},end:{line:605,column:40}},236:{start:{line:607,column:0},end:{line:607,column:36}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:4},end:{line:9,column:5}},loc:{start:{line:9,column:69},end:{line:45,column:5}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:43,column:39},end:{line:43,column:40}},loc:{start:{line:43,column:46},end:{line:43,column:69}},line:43},2:{name:"(anonymous_2)",decl:{start:{line:44,column:47},end:{line:44,column:48}},loc:{start:{line:44,column:54},end:{line:44,column:84}},line:44},3:{name:"(anonymous_3)",decl:{start:{line:51,column:4},end:{line:51,column:5}},loc:{start:{line:51,column:27},end:{line:164,column:5}},line:51},4:{name:"(anonymous_4)",decl:{start:{line:170,column:4},end:{line:170,column:5}},loc:{start:{line:170,column:32},end:{line:184,column:5}},line:170},5:{name:"(anonymous_5)",decl:{start:{line:190,column:4},end:{line:190,column:5}},loc:{start:{line:190,column:20},end:{line:197,column:5}},line:190},6:{name:"(anonymous_6)",decl:{start:{line:203,column:4},end:{line:203,column:5}},loc:{start:{line:203,column:33},end:{line:212,column:5}},line:203},7:{name:"(anonymous_7)",decl:{start:{line:220,column:4},end:{line:220,column:5}},loc:{start:{line:220,column:25},end:{line:234,column:5}},line:220},8:{name:"(anonymous_8)",decl:{start:{line:231,column:67},end:{line:231,column:68}},loc:{start:{line:231,column:73},end:{line:233,column:9}},line:231},9:{name:"(anonymous_9)",decl:{start:{line:241,column:4},end:{line:241,column:5}},loc:{start:{line:241,column:29},end:{line:268,column:5}},line:241},10:{name:"(anonymous_10)",decl:{start:{line:274,column:4},end:{line:274,column:5}},loc:{start:{line:274,column:27},end:{line:295,column:5}},line:274},11:{name:"(anonymous_11)",decl:{start:{line:292,column:75},end:{line:292,column:76}},loc:{start:{line:292,column:81},end:{line:294,column:9}},line:292},12:{name:"(anonymous_12)",decl:{start:{line:302,column:4},end:{line:302,column:5}},loc:{start:{line:302,column:36},end:{line:367,column:5}},line:302},13:{name:"(anonymous_13)",decl:{start:{line:373,column:4},end:{line:373,column:5}},loc:{start:{line:373,column:26},end:{line:395,column:5}},line:373},14:{name:"(anonymous_14)",decl:{start:{line:389,column:59},end:{line:389,column:60}},loc:{start:{line:389,column:65},end:{line:391,column:9}},line:389},15:{name:"(anonymous_15)",decl:{start:{line:402,column:4},end:{line:402,column:5}},loc:{start:{line:402,column:21},end:{line:408,column:5}},line:402},16:{name:"(anonymous_16)",decl:{start:{line:417,column:4},end:{line:417,column:5}},loc:{start:{line:417,column:37},end:{line:453,column:5}},line:417},17:{name:"(anonymous_17)",decl:{start:{line:462,column:4},end:{line:462,column:5}},loc:{start:{line:462,column:46},end:{line:477,column:5}},line:462},18:{name:"(anonymous_18)",decl:{start:{line:469,column:44},end:{line:469,column:45}},loc:{start:{line:469,column:49},end:{line:469,column:78}},line:469},19:{name:"(anonymous_19)",decl:{start:{line:485,column:4},end:{line:485,column:5}},loc:{start:{line:485,column:32},end:{line:491,column:5}},line:485},20:{name:"(anonymous_20)",decl:{start:{line:498,column:4},end:{line:498,column:5}},loc:{start:{line:498,column:20},end:{line:518,column:5}},line:498},21:{name:"(anonymous_21)",decl:{start:{line:501,column:27},end:{line:501,column:28}},loc:{start:{line:501,column:48},end:{line:517,column:9}},line:501},22:{name:"(anonymous_22)",decl:{start:{line:512,column:66},end:{line:512,column:67}},loc:{start:{line:512,column:72},end:{line:516,column:13}},line:512},23:{name:"(anonymous_23)",decl:{start:{line:526,column:4},end:{line:526,column:5}},loc:{start:{line:526,column:19},end:{line:553,column:5}},line:526},24:{name:"(anonymous_24)",decl:{start:{line:560,column:4},end:{line:560,column:5}},loc:{start:{line:560,column:15},end:{line:566,column:5}},line:560},25:{name:"(anonymous_25)",decl:{start:{line:569,column:4},end:{line:569,column:5}},loc:{start:{line:569,column:17},end:{line:574,column:5}},line:569}},branchMap:{0:{loc:{start:{line:53,column:8},end:{line:56,column:9}},type:"if",locations:[{start:{line:53,column:8},end:{line:56,column:9}},{start:{line:53,column:8},end:{line:56,column:9}}],line:53},1:{loc:{start:{line:59,column:8},end:{line:62,column:9}},type:"if",locations:[{start:{line:59,column:8},end:{line:62,column:9}},{start:{line:59,column:8},end:{line:62,column:9}}],line:59},2:{loc:{start:{line:65,column:8},end:{line:68,column:9}},type:"if",locations:[{start:{line:65,column:8},end:{line:68,column:9}},{start:{line:65,column:8},end:{line:68,column:9}}],line:65},3:{loc:{start:{line:71,column:8},end:{line:78,column:9}},type:"if",locations:[{start:{line:71,column:8},end:{line:78,column:9}},{start:{line:71,column:8},end:{line:78,column:9}}],line:71},4:{loc:{start:{line:73,column:12},end:{line:76,column:13}},type:"if",locations:[{start:{line:73,column:12},end:{line:76,column:13}},{start:{line:73,column:12},end:{line:76,column:13}}],line:73},5:{loc:{start:{line:94,column:8},end:{line:97,column:9}},type:"if",locations:[{start:{line:94,column:8},end:{line:97,column:9}},{start:{line:94,column:8},end:{line:97,column:9}}],line:94},6:{loc:{start:{line:94,column:12},end:{line:94,column:35}},type:"binary-expr",locations:[{start:{line:94,column:12},end:{line:94,column:17}},{start:{line:94,column:21},end:{line:94,column:35}}],line:94},7:{loc:{start:{line:100,column:8},end:{line:116,column:9}},type:"if",locations:[{start:{line:100,column:8},end:{line:116,column:9}},{start:{line:100,column:8},end:{line:116,column:9}}],line:100},8:{loc:{start:{line:100,column:12},end:{line:100,column:36}},type:"binary-expr",locations:[{start:{line:100,column:12},end:{line:100,column:18}},{start:{line:100,column:22},end:{line:100,column:36}}],line:100},9:{loc:{start:{line:113,column:28},end:{line:114,column:92}},type:"binary-expr",locations:[{start:{line:113,column:28},end:{line:113,column:68}},{start:{line:114,column:19},end:{line:114,column:92}}],line:113},10:{loc:{start:{line:119,column:8},end:{line:163,column:9}},type:"if",locations:[{start:{line:119,column:8},end:{line:163,column:9}},{start:{line:119,column:8},end:{line:163,column:9}}],line:119},11:{loc:{start:{line:119,column:12},end:{line:119,column:40}},type:"binary-expr",locations:[{start:{line:119,column:12},end:{line:119,column:25}},{start:{line:119,column:29},end:{line:119,column:40}}],line:119},12:{loc:{start:{line:120,column:12},end:{line:162,column:13}},type:"if",locations:[{start:{line:120,column:12},end:{line:162,column:13}},{start:{line:120,column:12},end:{line:162,column:13}}],line:120},13:{loc:{start:{line:124,column:16},end:{line:126,column:17}},type:"if",locations:[{start:{line:124,column:16},end:{line:126,column:17}},{start:{line:124,column:16},end:{line:126,column:17}}],line:124},14:{loc:{start:{line:128,column:16},end:{line:161,column:17}},type:"switch",locations:[{start:{line:129,column:20},end:{line:132,column:30}},{start:{line:133,column:20},end:{line:136,column:30}},{start:{line:137,column:20},end:{line:140,column:30}},{start:{line:141,column:20},end:{line:148,column:30}},{start:{line:149,column:20},end:{line:151,column:30}},{start:{line:152,column:20},end:{line:160,column:30}}],line:128},15:{loc:{start:{line:155,column:24},end:{line:159,column:25}},type:"if",locations:[{start:{line:155,column:24},end:{line:159,column:25}},{start:{line:155,column:24},end:{line:159,column:25}}],line:155},16:{loc:{start:{line:179,column:8},end:{line:181,column:9}},type:"if",locations:[{start:{line:179,column:8},end:{line:181,column:9}},{start:{line:179,column:8},end:{line:181,column:9}}],line:179},17:{loc:{start:{line:191,column:8},end:{line:193,column:9}},type:"if",locations:[{start:{line:191,column:8},end:{line:193,column:9}},{start:{line:191,column:8},end:{line:193,column:9}}],line:191},18:{loc:{start:{line:206,column:12},end:{line:209,column:13}},type:"if",locations:[{start:{line:206,column:12},end:{line:209,column:13}},{start:{line:206,column:12},end:{line:209,column:13}}],line:206},19:{loc:{start:{line:221,column:20},end:{line:221,column:106}},type:"binary-expr",locations:[{start:{line:221,column:20},end:{line:221,column:38}},{start:{line:221,column:42},end:{line:221,column:106}}],line:221},20:{loc:{start:{line:242,column:20},end:{line:242,column:106}},type:"binary-expr",locations:[{start:{line:242,column:20},end:{line:242,column:38}},{start:{line:242,column:42},end:{line:242,column:106}}],line:242},21:{loc:{start:{line:246,column:8},end:{line:250,column:9}},type:"if",locations:[{start:{line:246,column:8},end:{line:250,column:9}},{start:{line:246,column:8},end:{line:250,column:9}}],line:246},22:{loc:{start:{line:253,column:8},end:{line:255,column:9}},type:"if",locations:[{start:{line:253,column:8},end:{line:255,column:9}},{start:{line:253,column:8},end:{line:255,column:9}}],line:253},23:{loc:{start:{line:258,column:8},end:{line:263,column:9}},type:"if",locations:[{start:{line:258,column:8},end:{line:263,column:9}},{start:{line:258,column:8},end:{line:263,column:9}}],line:258},24:{loc:{start:{line:275,column:20},end:{line:275,column:114}},type:"binary-expr",locations:[{start:{line:275,column:20},end:{line:275,column:38}},{start:{line:275,column:42},end:{line:275,column:114}}],line:275},25:{loc:{start:{line:306,column:8},end:{line:310,column:9}},type:"if",locations:[{start:{line:306,column:8},end:{line:310,column:9}},{start:{line:306,column:8},end:{line:310,column:9}}],line:306},26:{loc:{start:{line:312,column:20},end:{line:312,column:114}},type:"binary-expr",locations:[{start:{line:312,column:20},end:{line:312,column:38}},{start:{line:312,column:42},end:{line:312,column:114}}],line:312},27:{loc:{start:{line:320,column:8},end:{line:327,column:9}},type:"if",locations:[{start:{line:320,column:8},end:{line:327,column:9}},{start:{line:320,column:8},end:{line:327,column:9}}],line:320},28:{loc:{start:{line:330,column:8},end:{line:334,column:9}},type:"if",locations:[{start:{line:330,column:8},end:{line:334,column:9}},{start:{line:330,column:8},end:{line:334,column:9}}],line:330},29:{loc:{start:{line:330,column:12},end:{line:330,column:84}},type:"binary-expr",locations:[{start:{line:330,column:12},end:{line:330,column:44}},{start:{line:330,column:48},end:{line:330,column:84}}],line:330},30:{loc:{start:{line:338,column:8},end:{line:343,column:9}},type:"if",locations:[{start:{line:338,column:8},end:{line:343,column:9}},{start:{line:338,column:8},end:{line:343,column:9}}],line:338},31:{loc:{start:{line:348,column:8},end:{line:353,column:9}},type:"if",locations:[{start:{line:348,column:8},end:{line:353,column:9}},{start:{line:348,column:8},end:{line:353,column:9}}],line:348},32:{loc:{start:{line:359,column:8},end:{line:363,column:9}},type:"if",locations:[{start:{line:359,column:8},end:{line:363,column:9}},{start:{line:359,column:8},end:{line:363,column:9}}],line:359},33:{loc:{start:{line:374,column:20},end:{line:374,column:107}},type:"binary-expr",locations:[{start:{line:374,column:20},end:{line:374,column:38}},{start:{line:374,column:42},end:{line:374,column:107}}],line:374},34:{loc:{start:{line:377,column:8},end:{line:379,column:9}},type:"if",locations:[{start:{line:377,column:8},end:{line:379,column:9}},{start:{line:377,column:8},end:{line:379,column:9}}],line:377},35:{loc:{start:{line:383,column:8},end:{line:386,column:9}},type:"if",locations:[{start:{line:383,column:8},end:{line:386,column:9}},{start:{line:383,column:8},end:{line:386,column:9}}],line:383},36:{loc:{start:{line:404,column:8},end:{line:406,column:9}},type:"if",locations:[{start:{line:404,column:8},end:{line:406,column:9}},{start:{line:404,column:8},end:{line:406,column:9}}],line:404},37:{loc:{start:{line:404,column:12},end:{line:404,column:47}},type:"binary-expr",locations:[{start:{line:404,column:12},end:{line:404,column:25}},{start:{line:404,column:29},end:{line:404,column:47}}],line:404},38:{loc:{start:{line:419,column:8},end:{line:427,column:9}},type:"if",locations:[{start:{line:419,column:8},end:{line:427,column:9}},{start:{line:419,column:8},end:{line:427,column:9}}],line:419},39:{loc:{start:{line:419,column:12},end:{line:420,column:105}},type:"binary-expr",locations:[{start:{line:419,column:12},end:{line:419,column:78}},{start:{line:420,column:16},end:{line:420,column:35}},{start:{line:420,column:39},end:{line:420,column:104}}],line:419},40:{loc:{start:{line:432,column:8},end:{line:452,column:9}},type:"switch",locations:[{start:{line:433,column:12},end:{line:435,column:22}},{start:{line:437,column:12},end:{line:437,column:39}},{start:{line:438,column:12},end:{line:440,column:22}},{start:{line:442,column:12},end:{line:447,column:22}},{start:{line:449,column:12},end:{line:451,column:22}}],line:432},41:{loc:{start:{line:439,column:16},end:{line:439,column:62}},type:"if",locations:[{start:{line:439,column:16},end:{line:439,column:62}},{start:{line:439,column:16},end:{line:439,column:62}}],line:439},42:{loc:{start:{line:443,column:16},end:{line:446,column:17}},type:"if",locations:[{start:{line:443,column:16},end:{line:446,column:17}},{start:{line:443,column:16},end:{line:446,column:17}}],line:443},43:{loc:{start:{line:463,column:8},end:{line:476,column:9}},type:"if",locations:[{start:{line:463,column:8},end:{line:476,column:9}},{start:{line:463,column:8},end:{line:476,column:9}}],line:463},44:{loc:{start:{line:463,column:12},end:{line:463,column:42}},type:"binary-expr",locations:[{start:{line:463,column:12},end:{line:463,column:25}},{start:{line:463,column:29},end:{line:463,column:42}}],line:463},45:{loc:{start:{line:465,column:12},end:{line:473,column:13}},type:"if",locations:[{start:{line:465,column:12},end:{line:473,column:13}},{start:{line:465,column:12},end:{line:473,column:13}}],line:465},46:{loc:{start:{line:465,column:16},end:{line:466,column:109}},type:"binary-expr",locations:[{start:{line:465,column:16},end:{line:465,column:82}},{start:{line:466,column:20},end:{line:466,column:39}},{start:{line:466,column:43},end:{line:466,column:108}}],line:465},47:{loc:{start:{line:486,column:8},end:{line:490,column:9}},type:"if",locations:[{start:{line:486,column:8},end:{line:490,column:9}},{start:{line:486,column:8},end:{line:490,column:9}}],line:486},48:{loc:{start:{line:486,column:12},end:{line:486,column:43}},type:"binary-expr",locations:[{start:{line:486,column:12},end:{line:486,column:25}},{start:{line:486,column:29},end:{line:486,column:43}}],line:486},49:{loc:{start:{line:531,column:8},end:{line:535,column:9}},type:"if",locations:[{start:{line:531,column:8},end:{line:535,column:9}},{start:{line:531,column:8},end:{line:535,column:9}}],line:531},50:{loc:{start:{line:545,column:8},end:{line:550,column:9}},type:"if",locations:[{start:{line:545,column:8},end:{line:550,column:9}},{start:{line:545,column:8},end:{line:550,column:9}}],line:545},51:{loc:{start:{line:561,column:8},end:{line:563,column:9}},type:"if",locations:[{start:{line:561,column:8},end:{line:563,column:9}},{start:{line:561,column:8},end:{line:563,column:9}}],line:561},52:{loc:{start:{line:570,column:8},end:{line:572,column:9}},type:"if",locations:[{start:{line:570,column:8},end:{line:572,column:9}},{start:{line:570,column:8},end:{line:572,column:9}}],line:570},53:{loc:{start:{line:570,column:12},end:{line:570,column:65}},type:"binary-expr",locations:[{start:{line:570,column:12},end:{line:570,column:25}},{start:{line:570,column:29},end:{line:570,column:43}},{start:{line:570,column:47},end:{line:570,column:65}}],line:570}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,227:0,228:0,229:0,230:0,231:0,232:0,233:0,234:0,235:0,236:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0,0,0,0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0,0],40:[0,0,0,0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0],46:[0,0,0],47:[0,0],48:[0,0],49:[0,0],50:[0,0],51:[0,0],52:[0,0],53:[0,0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class LightConsensusAgent extends FullConsensusAgent{constructor(n,e,l,t,o){Gn.f[0]++;Gn.s[0]++;super(n,e,l,t,o);Gn.s[1]++;this._blockchain=n;Gn.s[2]++;this._partialChain=null;Gn.s[3]++;this._syncing=!1;Gn.s[4]++;this._catchup=!1;Gn.s[5]++;this._onMainChain=!1;Gn.s[6]++;this._orphanedBlocks=[];Gn.s[7]++;this._busy=!1;Gn.s[8]++;this._accountsRequest=null;Gn.s[9]++;this._requestedChainProof=!1;Gn.s[10]++;this._numWeakProofs=0;Gn.s[11]++;t.channel.on("chain-proof",n=>{Gn.f[1]++;Gn.s[12]++;return this._onChainProof(n)});Gn.s[13]++;t.channel.on("accounts-tree-chunk",n=>{Gn.f[2]++;Gn.s[14]++;return this._onAccountsTreeChunk(n)})}async syncBlockchain(){Gn.f[3]++;Gn.s[15]++;if(Services.isNanoNode(this._peer.peerAddress.services)){Gn.b[0][0]++;Gn.s[16]++;this._syncFinished();Gn.s[17]++;return}Gn.b[0][1]++;Gn.s[18]++;if(!this._objectsInFlight.isEmpty()){Gn.b[1][0]++;Gn.s[19]++;Log.v(LightConsensusAgent,`Waiting for ${this._objectsInFlight.length} objects to arrive ...`);Gn.s[20]++;return}Gn.b[1][1]++;Gn.s[21]++;if(!this._objectsProcessing.isEmpty()){Gn.b[2][0]++;Gn.s[22]++;Log.v(LightConsensusAgent,`Waiting for ${this._objectsProcessing.length} objects to be processed ...`);Gn.s[23]++;return}Gn.b[2][1]++;Gn.s[24]++;if(this._failedSyncs>=LightConsensusAgent.SYNC_ATTEMPTS_MAX){Gn.b[3][0]++;Gn.s[25]++;this._peer.channel.close(CloseType.BLOCKCHAIN_SYNC_FAILED,"blockchain sync failed");Gn.s[26]++;if(this._partialChain){Gn.b[4][0]++;Gn.s[27]++;await this._partialChain.abort();Gn.s[28]++;this._partialChain=null}else Gn.b[4][1]++;Gn.s[29]++;return}Gn.b[3][1]++;const n=(Gn.s[30]++,await this._blockchain.getBlock(this._syncTarget,!0));Gn.s[31]++;if((Gn.b[6][0]++,!n)||(Gn.b[6][1]++,this._syncing)){Gn.b[5][1]++;Gn.s[34]++;if((Gn.b[8][0]++,n)||(Gn.b[8][1]++,this._syncing))Gn.b[7][1]++;else{Gn.b[7][0]++;Gn.s[35]++;this._syncing=!0;Gn.s[36]++;this._onMainChain=!1;let n;Gn.s[37]++;try{Gn.s[38]++;n=await this.getHeader(this._syncTarget)}catch(e){Gn.s[39]++;this._peer.channel.close(CloseType.DID_NOT_GET_REQUESTED_HEADER,"Did not get requested header");Gn.s[40]++;return}Gn.s[41]++;this._catchup=(Gn.b[9][0]++,n.height>=this._blockchain.height)&&(Gn.b[9][1]++,n.height-this._blockchain.height<=Policy.NUM_BLOCKS_VERIFICATION);Gn.s[42]++;Log.d(LightConsensusAgent,`Start syncing, catchup mode: ${this._catchup}`)}Gn.s[43]++;if((Gn.b[11][0]++,this._syncing)&&(Gn.b[11][1]++,!this._busy)){Gn.b[10][0]++;Gn.s[44]++;if(this._catchup){Gn.b[12][0]++;Gn.s[45]++;await FullConsensusAgent.prototype.syncBlockchain.call(this)}else{Gn.b[12][1]++;Gn.s[46]++;if(this._partialChain)Gn.b[13][1]++;else{Gn.b[13][0]++;Gn.s[47]++;await this._initChainProofSync()}Gn.s[48]++;switch(this._partialChain.state){case PartialLightChain.State.PROVE_CHAIN:Gn.b[14][0]++;Gn.s[49]++;this._requestChainProof();Gn.s[50]++;this.fire("sync-chain-proof",this._peer.peerAddress);Gn.s[51]++;break;case PartialLightChain.State.PROVE_ACCOUNTS_TREE:Gn.b[14][1]++;Gn.s[52]++;this._requestAccountsTree();Gn.s[53]++;this.fire("sync-accounts-tree",this._peer.peerAddress);Gn.s[54]++;break;case PartialLightChain.State.PROVE_BLOCKS:Gn.b[14][2]++;Gn.s[55]++;this._requestProofBlocks();Gn.s[56]++;this.fire("verify-accounts-tree",this._peer.peerAddress);Gn.s[57]++;break;case PartialLightChain.State.COMPLETE:Gn.b[14][3]++;Gn.s[58]++;this.fire("sync-finalize",this._peer.peerAddress);Gn.s[59]++;this._busy=!0;Gn.s[60]++;await this._partialChain.commit();Gn.s[61]++;await this._applyOrphanedBlocks();Gn.s[62]++;this._syncFinished();Gn.s[63]++;break;case PartialLightChain.State.ABORTED:Gn.b[14][4]++;Gn.s[64]++;this._peer.channel.close(CloseType.ABORTED_SYNC,"aborted sync");Gn.s[65]++;break;case PartialLightChain.State.WEAK_PROOF:Gn.b[14][5]++;Gn.s[66]++;Log.d(LightConsensusAgent,`Not syncing with ${this._peer.peerAddress} - weaker proof`);Gn.s[67]++;this._numWeakProofs++;Gn.s[68]++;if(this._numWeakProofs>=LightConsensusAgent.WEAK_PROOFS_MAX){Gn.b[15][0]++;Gn.s[69]++;this._peer.channel.close(CloseType.BLOCKCHAIN_SYNC_FAILED,"too many weak proofs")}else{Gn.b[15][1]++;Gn.s[70]++;this._syncFinished()}Gn.s[71]++}}}else Gn.b[10][1]++}else{Gn.b[5][0]++;Gn.s[32]++;this._syncFinished();Gn.s[33]++}}async _initChainProofSync(){Gn.f[4]++;Gn.s[72]++;this._subscribeTarget();Gn.s[73]++;this._syncing=!0;Gn.s[74]++;this._synced=!1;Gn.s[75]++;this._catchup=!1;Gn.s[76]++;this._onMainChain=!0;Gn.s[77]++;if(this._partialChain){Gn.b[16][0]++;Gn.s[78]++;await this._partialChain.abort()}else Gn.b[16][1]++;Gn.s[79]++;this._partialChain=await this._blockchain.partialChain()}_syncFinished(){Gn.f[5]++;Gn.s[80]++;if(this._partialChain){Gn.b[17][0]++;Gn.s[81]++;this._partialChain=null}else Gn.b[17][1]++;Gn.s[82]++;this._busy=!1;Gn.s[83]++;super._syncFinished()}async _applyOrphanedBlocks(){Gn.f[6]++;Gn.s[84]++;for(const n of this._orphanedBlocks){const e=(Gn.s[85]++,await this._blockchain.pushBlock(n));Gn.s[86]++;if(e===LightChain.ERR_INVALID){Gn.b[18][0]++;Gn.s[87]++;this._peer.channel.close(CloseType.RECEIVED_INVALID_BLOCK,"received invalid block");Gn.s[88]++;break}Gn.b[18][1]++}Gn.s[89]++;this._orphanedBlocks=[]}_requestChainProof(){Gn.f[7]++;Gn.s[90]++;Assert.that((Gn.b[19][0]++,this._partialChain)&&(Gn.b[19][1]++,this._partialChain.state===PartialLightChain.State.PROVE_CHAIN));Gn.s[91]++;Assert.that(!this._requestedChainProof);Gn.s[92]++;this._busy=!0;Gn.s[93]++;this._peer.channel.getChainProof();Gn.s[94]++;this._requestedChainProof=!0;Gn.s[95]++;this._peer.channel.expectMessage(Message.Type.CHAIN_PROOF,()=>{Gn.f[8]++;Gn.s[96]++;this._peer.channel.close(CloseType.GET_CHAIN_PROOF_TIMEOUT,"getChainProof timeout")},LightConsensusAgent.CHAINPROOF_REQUEST_TIMEOUT,LightConsensusAgent.CHAINPROOF_CHUNK_TIMEOUT)}async _onChainProof(n){Gn.f[9]++;Gn.s[97]++;Assert.that((Gn.b[20][0]++,this._partialChain)&&(Gn.b[20][1]++,this._partialChain.state===PartialLightChain.State.PROVE_CHAIN));Gn.s[98]++;Log.d(LightConsensusAgent,`[CHAIN-PROOF] Received from ${this._peer.peerAddress}: ${n.proof}`);Gn.s[99]++;if(this._requestedChainProof){Gn.b[21][1]++;Gn.s[102]++;this._requestedChainProof=!1;Gn.s[103]++;if(this._syncing){Gn.b[22][0]++;Gn.s[104]++;this.fire("verify-chain-proof",this._peer.peerAddress)}else Gn.b[22][1]++;Gn.s[105]++;if(await this._partialChain.pushProof(n.proof)){Gn.b[23][1]++;Gn.s[109]++;this._busy=!1;Gn.s[110]++;this.syncBlockchain()["catch"](Log.w.tag(LightConsensusAgent))}else{Gn.b[23][0]++;Gn.s[106]++;Log.w(LightConsensusAgent,`Invalid chain proof received from ${this._peer.peerAddress} - verification failed`);Gn.s[107]++;this._peer.channel.close(CloseType.INVALID_CHAIN_PROOF,"invalid chain proof");Gn.s[108]++}}else{Gn.b[21][0]++;Gn.s[100]++;Log.w(LightConsensusAgent,`Unsolicited chain proof received from ${this._peer.peerAddress}`);Gn.s[101]++}}_requestAccountsTree(){Gn.f[10]++;Gn.s[111]++;Assert.that((Gn.b[24][0]++,this._partialChain)&&(Gn.b[24][1]++,this._partialChain.state===PartialLightChain.State.PROVE_ACCOUNTS_TREE));Gn.s[112]++;Assert.that(!this._accountsRequest);Gn.s[113]++;this._busy=!0;const n=(Gn.s[114]++,this._partialChain.getMissingAccountsPrefix()),e=(Gn.s[115]++,this._partialChain.headHash);Gn.s[116]++;Log.d(LightConsensusAgent,`Requesting AccountsTreeChunk starting at ${n} from ${this._peer.peerAddress}`);Gn.s[117]++;this._accountsRequest={startPrefix:n,blockHash:e};Gn.s[118]++;this._peer.channel.getAccountsTreeChunk(e,n);Gn.s[119]++;this._peer.channel.expectMessage(Message.Type.ACCOUNTS_TREE_CHUNK,()=>{Gn.f[11]++;Gn.s[120]++;this._peer.channel.close(CloseType.GET_ACCOUNTS_TREE_CHUNK_TIMEOUT,"getAccountsTreeChunk timeout")},LightConsensusAgent.ACCOUNTS_TREE_CHUNK_REQUEST_TIMEOUT)}async _onAccountsTreeChunk(n){Gn.f[12]++;Gn.s[121]++;Log.d(LightConsensusAgent,`[ACCOUNTS-TREE-CHUNK] Received from ${this._peer.peerAddress}: blockHash=${n.blockHash}, proof=${n.chunk}`);Gn.s[122]++;if(!this._accountsRequest){Gn.b[25][0]++;Gn.s[123]++;Log.w(LightConsensusAgent,`Unsolicited accounts tree chunk received from ${this._peer.peerAddress}`);Gn.s[124]++;return}Gn.b[25][1]++;Gn.s[125]++;Assert.that((Gn.b[26][0]++,this._partialChain)&&(Gn.b[26][1]++,this._partialChain.state===PartialLightChain.State.PROVE_ACCOUNTS_TREE));const e=(Gn.s[126]++,this._accountsRequest.startPrefix),l=(Gn.s[127]++,this._accountsRequest.blockHash);Gn.s[128]++;this._accountsRequest=null;Gn.s[129]++;if(!n.hasChunk()){Gn.b[27][0]++;Gn.s[130]++;await this._partialChain.abort();Gn.s[131]++;this._partialChain=null;Gn.s[132]++;this._busy=!1;Gn.s[133]++;this._failedSyncs++;Gn.s[134]++;return}Gn.b[27][1]++;Gn.s[135]++;if((Gn.b[29][0]++,!l.equals(n.blockHash))||(Gn.b[29][1]++,n.chunk.head.prefix<=e)){Gn.b[28][0]++;Gn.s[136]++;Log.w(LightConsensusAgent,`Received AccountsTreeChunk for block != head or wrong start prefix from ${this._peer.peerAddress}`);Gn.s[137]++;this._peer.channel.close(CloseType.INVALID_ACCOUNTS_TREE_CHUNK,"Invalid AccountsTreeChunk");Gn.s[138]++;return}Gn.b[28][1]++;const t=(Gn.s[139]++,n.chunk);Gn.s[140]++;if(!t.verify()){Gn.b[30][0]++;Gn.s[141]++;Log.w(LightConsensusAgent,`Invalid AccountsTreeChunk received from ${this._peer.peerAddress}`);Gn.s[142]++;this._peer.channel.close(CloseType.INVALID_ACCOUNTS_TREE_CHUNK,"Invalid AccountsTreeChunk");Gn.s[143]++;return}Gn.b[30][1]++;const o=(Gn.s[144]++,t.root()),i=(Gn.s[145]++,await this._partialChain.getBlock(l));Gn.s[146]++;if(!i.accountsHash.equals(o)){Gn.b[31][0]++;Gn.s[147]++;Log.w(LightConsensusAgent,`Invalid AccountsTreeChunk (root hash) received from ${this._peer.peerAddress}`);Gn.s[148]++;this._peer.channel.close(CloseType.ACCOUNTS_TREE_CHUNCK_ROOT_HASH_MISMATCH,"AccountsTreeChunk root hash mismatch");Gn.s[149]++;return}Gn.b[31][1]++;const c=(Gn.s[150]++,await this._partialChain.pushAccountsTreeChunk(t));Gn.s[151]++;if(c<0){Gn.b[32][0]++;Gn.s[152]++;Log.e(`AccountsTree sync failed with error code ${c} from ${this._peer.peerAddress}`);Gn.s[153]++;this._peer.channel.close(CloseType.ACCOUNTS_TREE_CHUNCK_ROOT_HASH_MISMATCH,"AccountsTreeChunk root hash mismatch")}else Gn.b[32][1]++;Gn.s[154]++;this._busy=!1;Gn.s[155]++;this.syncBlockchain()["catch"](Log.w.tag(LightConsensusAgent))}_requestProofBlocks(){Gn.f[13]++;Gn.s[156]++;Assert.that((Gn.b[33][0]++,this._partialChain)&&(Gn.b[33][1]++,this._partialChain.state===PartialLightChain.State.PROVE_BLOCKS));Gn.s[157]++;if(this._lastChainHeight===this._partialChain.proofHeadHeight){Gn.b[34][0]++;Gn.s[158]++;this._failedSyncs++}else Gn.b[34][1]++;Gn.s[159]++;this._lastChainHeight=this._partialChain.proofHeadHeight;Gn.s[160]++;if(this._peer.channel.isExpectingMessage(Message.Type.INV)){Gn.b[35][0]++;Gn.s[161]++;Log.e(LightConsensusAgent,"Duplicate _requestProofBlocks()");Gn.s[162]++}else{Gn.b[35][1]++;Gn.s[163]++;this._peer.channel.expectMessage(Message.Type.INV,()=>{Gn.f[14]++;Gn.s[164]++;this._peer.channel.close(CloseType.GET_BLOCKS_TIMEOUT,"getBlocks timeout")},BaseConsensusAgent.REQUEST_TIMEOUT);Gn.s[165]++;this._peer.channel.getBlocks(this._partialChain.getBlockLocators(),this._partialChain.numBlocksNeeded(),!1)}}_requestBlocks(){Gn.f[15]++;Gn.s[166]++;if((Gn.b[37][0]++,this._syncing)&&(Gn.b[37][1]++,!this._onMainChain)){Gn.b[36][0]++;Gn.s[167]++;return super._requestBlocks(1)}Gn.b[36][1]++;Gn.s[168]++;return super._requestBlocks()}async _processBlock(n,e){Gn.f[16]++;Gn.s[169]++;if((Gn.b[39][0]++,e.height<this._chain.height-Policy.NUM_BLOCKS_VERIFICATION)&&((Gn.b[39][1]++,!this._partialChain)||(Gn.b[39][2]++,this._partialChain.state!==PartialLightChain.State.PROVE_BLOCKS))){Gn.b[38][0]++;Gn.s[170]++;this._onMainChain=!1;Gn.s[171]++;await this._initChainProofSync();Gn.s[172]++;this.syncBlockchain()["catch"](Log.w.tag(LightConsensusAgent));Gn.s[173]++;return}Gn.b[38][1]++;Gn.s[174]++;this._onMainChain=!0;const l=(Gn.s[175]++,await this._chain.pushBlock(e));Gn.s[176]++;switch(l){case FullChain.ERR_INVALID:Gn.b[40][0]++;Gn.s[177]++;this._peer.channel.close(CloseType.RECEIVED_INVALID_BLOCK,"received invalid block");Gn.s[178]++;break;case FullChain.OK_EXTENDED:Gn.b[40][1]++;case FullChain.OK_REBRANCHED:Gn.b[40][2]++;Gn.s[179]++;if(this._syncing){Gn.b[41][0]++;Gn.s[180]++;this._numBlocksExtending++}else Gn.b[41][1]++;Gn.s[181]++;break;case FullChain.OK_FORKED:Gn.b[40][3]++;Gn.s[182]++;if(this._syncing){Gn.b[42][0]++;Gn.s[183]++;this._numBlocksForking++;Gn.s[184]++;this._forkHead=e}else Gn.b[42][1]++;Gn.s[185]++;break;case LightChain.ERR_ORPHAN:Gn.b[40][4]++;Gn.s[186]++;this._onOrphanBlock(n,e);Gn.s[187]++}}async _onKnownBlockAnnounced(n,e){Gn.f[17]++;Gn.s[188]++;if((Gn.b[44][0]++,this._syncing)&&(Gn.b[44][1]++,this._catchup)){Gn.b[43][0]++;Gn.s[189]++;if((Gn.b[46][0]++,e.height<this._chain.height-Policy.NUM_BLOCKS_VERIFICATION)&&((Gn.b[46][1]++,!this._partialChain)||(Gn.b[46][2]++,this._partialChain.state!==PartialLightChain.State.PROVE_BLOCKS))){Gn.b[45][0]++;Gn.s[190]++;this._onMainChain=!1;Gn.s[191]++;await this._initChainProofSync();Gn.s[192]++;this.syncBlockchain()["catch"](n=>{Gn.f[18]++;Gn.s[193]++;return Log.e(LightConsensusAgent,n)});Gn.s[194]++;return}Gn.b[45][1]++;Gn.s[195]++;this._onMainChain=!0;Gn.s[196]++;FullConsensusAgent.prototype._onKnownBlockAnnounced.call(this,n,e)}else Gn.b[43][1]++}_onOrphanBlock(n,e){Gn.f[19]++;Gn.s[197]++;if((Gn.b[48][0]++,this._syncing)&&(Gn.b[48][1]++,!this._catchup)){Gn.b[47][0]++;Gn.s[198]++;this._orphanedBlocks.push(e)}else{Gn.b[47][1]++;Gn.s[199]++;super._onOrphanBlock(n,e)}}getHeader(n){Gn.f[20]++;Gn.s[200]++;Assert.that(!this._headerRequest);Gn.s[201]++;return new Promise((e,l)=>{Gn.f[21]++;const t=(Gn.s[202]++,new InvVector(InvVector.Type.BLOCK,n));Gn.s[203]++;this._headerRequest={hash:n,resolve:e,reject:l};Gn.s[204]++;this._peer.channel.getHeader([t]);Gn.s[205]++;this._peer.channel.expectMessage(Message.Type.HEADER,()=>{Gn.f[22]++;Gn.s[206]++;this._headerRequest=null;Gn.s[207]++;this._peer.channel.close(CloseType.GET_HEADER_TIMEOUT,"getHeader timeout");Gn.s[208]++;l(new Error("timeout"))},BaseConsensusAgent.REQUEST_TIMEOUT)})}_onHeader(n){Gn.f[23]++;const e=(Gn.s[209]++,n.header),l=(Gn.s[210]++,e.hash());Gn.s[211]++;if(!this._headerRequest){Gn.b[49][0]++;Gn.s[212]++;Log.w(NanoConsensusAgent,`Unsolicited header ${l} received from ${this._peer.peerAddress}, discarding`);Gn.s[213]++;return}Gn.b[49][1]++;const t=(Gn.s[214]++,this._headerRequest.hash),o=(Gn.s[215]++,this._headerRequest.resolve),i=(Gn.s[216]++,this._headerRequest.reject);Gn.s[217]++;this._headerRequest=null;Gn.s[218]++;if(t.equals(l)){Gn.b[50][1]++;Gn.s[223]++;o(e)}else{Gn.b[50][0]++;Gn.s[219]++;Log.w(LightConsensusAgent,`Received wrong header from ${this._peer.peerAddress}`);Gn.s[220]++;this._peer.channel.close(CloseType.RECEIVED_WRONG_HEADER,"Received wrong header");Gn.s[221]++;i(new Error("Received wrong header"));Gn.s[222]++}}_onClose(){Gn.f[24]++;Gn.s[224]++;if(this._partialChain){Gn.b[51][0]++;Gn.s[225]++;this._partialChain.abort()["catch"](Log.w.tag(LightConsensusAgent))}else Gn.b[51][1]++;Gn.s[226]++;super._onClose()}get _chain(){Gn.f[25]++;Gn.s[227]++;if((Gn.b[53][0]++,this._syncing)&&(Gn.b[53][1]++,!this._catchup)&&(Gn.b[53][2]++,this._partialChain)){Gn.b[52][0]++;Gn.s[228]++;return this._partialChain}Gn.b[52][1]++;Gn.s[229]++;return this._blockchain}}Gn.s[230]++;LightConsensusAgent.CHAINPROOF_REQUEST_TIMEOUT=45e3;Gn.s[231]++;LightConsensusAgent.CHAINPROOF_CHUNK_TIMEOUT=1e4;Gn.s[232]++;LightConsensusAgent.ACCOUNTS_TREE_CHUNK_REQUEST_TIMEOUT=8e3;Gn.s[233]++;LightConsensusAgent.SYNC_ATTEMPTS_MAX=5;Gn.s[234]++;LightConsensusAgent.GETBLOCKS_VECTORS_MAX=500;Gn.s[235]++;LightConsensusAgent.WEAK_PROOFS_MAX=3;Gn.s[236]++;Class.register(LightConsensusAgent);var Wn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/light/LightConsensus.js",e="21bc0e96b738aa666bfb2e4c38c8b457c6760926",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/light/LightConsensus.js",statementMap:{0:{start:{line:8,column:8},end:{line:8,column:44}},1:{start:{line:10,column:8},end:{line:10,column:38}},2:{start:{line:12,column:8},end:{line:12,column:32}},3:{start:{line:21,column:8},end:{line:21,column:118}},4:{start:{line:29,column:22},end:{line:29,column:47}},5:{start:{line:32,column:8},end:{line:32,column:132}},6:{start:{line:34,column:8},end:{line:34,column:21}},7:{start:{line:39,column:8},end:{line:39,column:32}},8:{start:{line:44,column:8},end:{line:44,column:29}},9:{start:{line:47,column:0},end:{line:47,column:31}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:46},end:{line:13,column:5}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:20,column:4},end:{line:20,column:5}},loc:{start:{line:20,column:29},end:{line:22,column:5}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:28,column:4},end:{line:28,column:5}},loc:{start:{line:28,column:24},end:{line:35,column:5}},line:28},3:{name:"(anonymous_3)",decl:{start:{line:38,column:4},end:{line:38,column:5}},loc:{start:{line:38,column:21},end:{line:40,column:5}},line:38},4:{name:"(anonymous_4)",decl:{start:{line:43,column:4},end:{line:43,column:5}},loc:{start:{line:43,column:18},end:{line:45,column:5}},line:43}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},f:{0:0,1:0,2:0,3:0,4:0},b:{},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class LightConsensus extends BaseConsensus{constructor(n,e,l){Wn.f[0]++;Wn.s[0]++;super(n,e,l);Wn.s[1]++;this._blockchain=n;Wn.s[2]++;this._mempool=e}_newConsensusAgent(n){Wn.f[1]++;Wn.s[3]++;return new LightConsensusAgent(this._blockchain,this._mempool,this._network.time,n,this._subscription)}_onPeerJoined(n){Wn.f[2]++;const e=(Wn.s[4]++,super._onPeerJoined(n));Wn.s[5]++;this.bubble(e,"sync-chain-proof","verify-chain-proof","sync-accounts-tree","verify-accounts-tree","sync-finalize");Wn.s[6]++;return e}get blockchain(){Wn.f[3]++;Wn.s[7]++;return this._blockchain}get mempool(){Wn.f[4]++;Wn.s[8]++;return this._mempool}}Wn.s[9]++;Class.register(LightConsensus);var Vn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/light/PartialLightChain.js",e="1d1b48f90e987a2cc8373fffc7876fb3bcd812fd",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/light/PartialLightChain.js",statementMap:{0:{start:{line:10,column:19},end:{line:10,column:43}},1:{start:{line:11,column:8},end:{line:11,column:34}},2:{start:{line:14,column:8},end:{line:14,column:28}},3:{start:{line:17,column:8},end:{line:17,column:58}},4:{start:{line:19,column:8},end:{line:19,column:33}},5:{start:{line:21,column:8},end:{line:21,column:32}},6:{start:{line:23,column:8},end:{line:23,column:31}},7:{start:{line:32,column:8},end:{line:33,column:47}},8:{start:{line:42,column:21},end:{line:42,column:23}},9:{start:{line:43,column:8},end:{line:50,column:9}},10:{start:{line:44,column:26},end:{line:44,column:48}},11:{start:{line:45,column:25},end:{line:45,column:37}},12:{start:{line:46,column:31},end:{line:46,column:63}},13:{start:{line:47,column:12},end:{line:49,column:13}},14:{start:{line:48,column:16},end:{line:48,column:40}},15:{start:{line:51,column:8},end:{line:58,column:9}},16:{start:{line:52,column:27},end:{line:52,column:50}},17:{start:{line:53,column:25},end:{line:53,column:38}},18:{start:{line:54,column:31},end:{line:54,column:63}},19:{start:{line:55,column:12},end:{line:57,column:13}},20:{start:{line:56,column:16},end:{line:56,column:34}},21:{start:{line:59,column:8},end:{line:59,column:38}},22:{start:{line:62,column:8},end:{line:72,column:9}},23:{start:{line:63,column:26},end:{line:63,column:48}},24:{start:{line:64,column:25},end:{line:64,column:37}},25:{start:{line:65,column:31},end:{line:65,column:63}},26:{start:{line:66,column:12},end:{line:71,column:13}},27:{start:{line:67,column:16},end:{line:67,column:62}},28:{start:{line:68,column:19},end:{line:71,column:13}},29:{start:{line:69,column:16},end:{line:69,column:92}},30:{start:{line:70,column:16},end:{line:70,column:29}},31:{start:{line:75,column:8},end:{line:85,column:9}},32:{start:{line:76,column:27},end:{line:76,column:50}},33:{start:{line:77,column:25},end:{line:77,column:38}},34:{start:{line:78,column:31},end:{line:78,column:63}},35:{start:{line:79,column:12},end:{line:84,column:13}},36:{start:{line:80,column:16},end:{line:80,column:60}},37:{start:{line:81,column:19},end:{line:84,column:13}},38:{start:{line:82,column:16},end:{line:82,column:93}},39:{start:{line:83,column:16},end:{line:83,column:29}},40:{start:{line:88,column:8},end:{line:91,column:9}},41:{start:{line:89,column:12},end:{line:89,column:78}},42:{start:{line:90,column:12},end:{line:90,column:25}},43:{start:{line:94,column:8},end:{line:97,column:9}},44:{start:{line:95,column:12},end:{line:95,column:80}},45:{start:{line:96,column:12},end:{line:96,column:25}},46:{start:{line:102,column:28},end:{line:102,column:54}},47:{start:{line:103,column:8},end:{line:106,column:9}},48:{start:{line:104,column:12},end:{line:104,column:73}},49:{start:{line:105,column:12},end:{line:105,column:25}},50:{start:{line:109,column:29},end:{line:109,column:31}},51:{start:{line:110,column:19},end:{line:110,column:36}},52:{start:{line:111,column:8},end:{line:121,column:9}},53:{start:{line:112,column:30},end:{line:112,column:88}},54:{start:{line:113,column:34},end:{line:113,column:50}},55:{start:{line:114,column:12},end:{line:117,column:13}},56:{start:{line:115,column:16},end:{line:115,column:101}},57:{start:{line:116,column:16},end:{line:116,column:29}},58:{start:{line:119,column:12},end:{line:119,column:48}},59:{start:{line:120,column:12},end:{line:120,column:36}},60:{start:{line:124,column:29},end:{line:124,column:71}},61:{start:{line:125,column:8},end:{line:130,column:9}},62:{start:{line:126,column:12},end:{line:126,column:57}},63:{start:{line:128,column:12},end:{line:128,column:31}},64:{start:{line:129,column:12},end:{line:129,column:61}},65:{start:{line:132,column:8},end:{line:132,column:20}},66:{start:{line:144,column:21},end:{line:144,column:38}},67:{start:{line:145,column:25},end:{line:145,column:36}},68:{start:{line:146,column:25},end:{line:146,column:65}},69:{start:{line:147,column:8},end:{line:179,column:9}},70:{start:{line:149,column:12},end:{line:149,column:41}},71:{start:{line:152,column:32},end:{line:152,column:58}},72:{start:{line:156,column:35},end:{line:156,column:57}},73:{start:{line:157,column:12},end:{line:165,column:13}},74:{start:{line:158,column:30},end:{line:158,column:52}},75:{start:{line:159,column:29},end:{line:159,column:41}},76:{start:{line:160,column:30},end:{line:160,column:72}},77:{start:{line:161,column:16},end:{line:161,column:70}},78:{start:{line:163,column:29},end:{line:163,column:115}},79:{start:{line:164,column:16},end:{line:164,column:59}},80:{start:{line:168,column:28},end:{line:168,column:42}},81:{start:{line:169,column:12},end:{line:169,column:44}},82:{start:{line:170,column:12},end:{line:170,column:81}},83:{start:{line:171,column:12},end:{line:171,column:76}},84:{start:{line:174,column:12},end:{line:178,column:13}},85:{start:{line:175,column:30},end:{line:175,column:44}},86:{start:{line:176,column:31},end:{line:176,column:64}},87:{start:{line:177,column:16},end:{line:177,column:41}},88:{start:{line:182,column:8},end:{line:185,column:9}},89:{start:{line:183,column:27},end:{line:183,column:60}},90:{start:{line:184,column:12},end:{line:184,column:37}},91:{start:{line:187,column:8},end:{line:187,column:66}},92:{start:{line:188,column:8},end:{line:188,column:71}},93:{start:{line:189,column:8},end:{line:189,column:42}},94:{start:{line:190,column:8},end:{line:190,column:49}},95:{start:{line:192,column:8},end:{line:192,column:28}},96:{start:{line:202,column:21},end:{line:202,column:33}},97:{start:{line:203,column:27},end:{line:203,column:59}},98:{start:{line:204,column:8},end:{line:206,column:9}},99:{start:{line:205,column:12},end:{line:205,column:38}},100:{start:{line:210,column:25},end:{line:210,column:71}},101:{start:{line:211,column:8},end:{line:213,column:9}},102:{start:{line:212,column:12},end:{line:212,column:40}},103:{start:{line:215,column:8},end:{line:215,column:62}},104:{start:{line:227,column:26},end:{line:227,column:61}},105:{start:{line:230,column:8},end:{line:254,column:9}},106:{start:{line:232,column:12},end:{line:232,column:41}},107:{start:{line:233,column:12},end:{line:233,column:52}},108:{start:{line:235,column:12},end:{line:235,column:65}},109:{start:{line:236,column:12},end:{line:236,column:92}},110:{start:{line:239,column:12},end:{line:239,column:40}},111:{start:{line:240,column:12},end:{line:240,column:39}},112:{start:{line:243,column:12},end:{line:248,column:13}},113:{start:{line:244,column:38},end:{line:244,column:61}},114:{start:{line:245,column:16},end:{line:247,column:17}},115:{start:{line:246,column:20},end:{line:246,column:90}},116:{start:{line:251,column:12},end:{line:251,column:72}},117:{start:{line:253,column:12},end:{line:253,column:41}},118:{start:{line:257,column:8},end:{line:262,column:9}},119:{start:{line:259,column:12},end:{line:259,column:55}},120:{start:{line:261,column:12},end:{line:261,column:43}},121:{start:{line:265,column:8},end:{line:265,column:180}},122:{start:{line:266,column:8},end:{line:266,column:61}},123:{start:{line:268,column:8},end:{line:268,column:35}},124:{start:{line:278,column:8},end:{line:285,column:9}},125:{start:{line:279,column:30},end:{line:279,column:42}},126:{start:{line:280,column:12},end:{line:284,column:13}},127:{start:{line:281,column:16},end:{line:281,column:55}},128:{start:{line:282,column:19},end:{line:284,column:13}},129:{start:{line:283,column:16},end:{line:283,column:50}},130:{start:{line:287,column:8},end:{line:287,column:36}},131:{start:{line:297,column:21},end:{line:297,column:33}},132:{start:{line:300,column:8},end:{line:303,column:9}},133:{start:{line:301,column:12},end:{line:301,column:71}},134:{start:{line:302,column:12},end:{line:302,column:41}},135:{start:{line:306,column:8},end:{line:308,column:9}},136:{start:{line:307,column:12},end:{line:307,column:41}},137:{start:{line:311,column:8},end:{line:314,column:9}},138:{start:{line:312,column:12},end:{line:312,column:88}},139:{start:{line:313,column:12},end:{line:313,column:41}},140:{start:{line:318,column:25},end:{line:318,column:71}},141:{start:{line:319,column:8},end:{line:322,column:9}},142:{start:{line:320,column:12},end:{line:320,column:78}},143:{start:{line:321,column:12},end:{line:321,column:40}},144:{start:{line:325,column:28},end:{line:325,column:41}},145:{start:{line:326,column:8},end:{line:329,column:9}},146:{start:{line:327,column:12},end:{line:327,column:90}},147:{start:{line:328,column:12},end:{line:328,column:41}},148:{start:{line:332,column:27},end:{line:332,column:64}},149:{start:{line:333,column:8},end:{line:340,column:9}},150:{start:{line:334,column:12},end:{line:337,column:13}},151:{start:{line:335,column:16},end:{line:335,column:82}},152:{start:{line:336,column:16},end:{line:336,column:45}},153:{start:{line:339,column:12},end:{line:339,column:103}},154:{start:{line:343,column:26},end:{line:343,column:61}},155:{start:{line:346,column:8},end:{line:348,column:9}},156:{start:{line:347,column:12},end:{line:347,column:41}},157:{start:{line:350,column:8},end:{line:350,column:36}},158:{start:{line:351,column:8},end:{line:351,column:36}},159:{start:{line:352,column:8},end:{line:352,column:30}},160:{start:{line:355,column:8},end:{line:357,column:9}},161:{start:{line:356,column:12},end:{line:356,column:35}},162:{start:{line:359,column:8},end:{line:359,column:37}},163:{start:{line:369,column:21},end:{line:369,column:33}},164:{start:{line:372,column:8},end:{line:375,column:9}},165:{start:{line:373,column:12},end:{line:373,column:71}},166:{start:{line:374,column:12},end:{line:374,column:41}},167:{start:{line:378,column:8},end:{line:380,column:9}},168:{start:{line:379,column:12},end:{line:379,column:41}},169:{start:{line:383,column:8},end:{line:386,column:9}},170:{start:{line:384,column:12},end:{line:384,column:88}},171:{start:{line:385,column:12},end:{line:385,column:41}},172:{start:{line:390,column:8},end:{line:393,column:9}},173:{start:{line:391,column:12},end:{line:391,column:92}},174:{start:{line:392,column:12},end:{line:392,column:41}},175:{start:{line:396,column:27},end:{line:396,column:58}},176:{start:{line:397,column:8},end:{line:404,column:9}},177:{start:{line:398,column:12},end:{line:401,column:13}},178:{start:{line:399,column:16},end:{line:399,column:82}},179:{start:{line:400,column:16},end:{line:400,column:45}},180:{start:{line:403,column:12},end:{line:403,column:95}},181:{start:{line:407,column:26},end:{line:407,column:72}},182:{start:{line:410,column:8},end:{line:412,column:9}},183:{start:{line:411,column:12},end:{line:411,column:41}},184:{start:{line:414,column:8},end:{line:414,column:37}},185:{start:{line:424,column:8},end:{line:432,column:9}},186:{start:{line:425,column:37},end:{line:425,column:59}},187:{start:{line:426,column:12},end:{line:426,column:81}},188:{start:{line:430,column:12},end:{line:430,column:110}},189:{start:{line:431,column:12},end:{line:431,column:25}},190:{start:{line:434,column:8},end:{line:434,column:37}},191:{start:{line:435,column:8},end:{line:435,column:67}},192:{start:{line:436,column:8},end:{line:436,column:61}},193:{start:{line:438,column:8},end:{line:438,column:36}},194:{start:{line:441,column:8},end:{line:443,column:9}},195:{start:{line:442,column:12},end:{line:442,column:35}},196:{start:{line:445,column:8},end:{line:445,column:20}},197:{start:{line:453,column:8},end:{line:455,column:9}},198:{start:{line:454,column:12},end:{line:454,column:66}},199:{start:{line:457,column:23},end:{line:457,column:63}},200:{start:{line:460,column:8},end:{line:463,column:9}},201:{start:{line:461,column:12},end:{line:461,column:63}},202:{start:{line:462,column:12},end:{line:462,column:82}},203:{start:{line:465,column:8},end:{line:465,column:22}},204:{start:{line:473,column:8},end:{line:473,column:55}},205:{start:{line:474,column:8},end:{line:477,column:9}},206:{start:{line:475,column:12},end:{line:475,column:43}},207:{start:{line:476,column:12},end:{line:476,column:36}},208:{start:{line:479,column:29},end:{line:479,column:71}},209:{start:{line:480,column:8},end:{line:480,column:77}},210:{start:{line:487,column:8},end:{line:489,column:9}},211:{start:{line:488,column:12},end:{line:488,column:43}},212:{start:{line:491,column:23},end:{line:491,column:98}},213:{start:{line:492,column:8},end:{line:492,column:33}},214:{start:{line:494,column:29},end:{line:494,column:71}},215:{start:{line:495,column:8},end:{line:495,column:78}},216:{start:{line:497,column:8},end:{line:497,column:22}},217:{start:{line:504,column:8},end:{line:504,column:54}},218:{start:{line:505,column:8},end:{line:507,column:9}},219:{start:{line:506,column:12},end:{line:506,column:43}},220:{start:{line:508,column:8},end:{line:510,column:9}},221:{start:{line:509,column:12},end:{line:509,column:44}},222:{start:{line:511,column:8},end:{line:511,column:34}},223:{start:{line:512,column:8},end:{line:512,column:29}},224:{start:{line:519,column:8},end:{line:521,column:9}},225:{start:{line:520,column:12},end:{line:520,column:51}},226:{start:{line:522,column:8},end:{line:522,column:18}},227:{start:{line:529,column:8},end:{line:529,column:81}},228:{start:{line:536,column:8},end:{line:538,column:9}},229:{start:{line:537,column:12},end:{line:537,column:50}},230:{start:{line:539,column:24},end:{line:539,column:104}},231:{start:{line:541,column:8},end:{line:543,column:9}},232:{start:{line:542,column:12},end:{line:542,column:24}},233:{start:{line:544,column:8},end:{line:544,column:25}},234:{start:{line:551,column:8},end:{line:551,column:42}},235:{start:{line:556,column:8},end:{line:556,column:27}},236:{start:{line:561,column:8},end:{line:561,column:43}},237:{start:{line:567,column:0},end:{line:574,column:2}},238:{start:{line:575,column:0},end:{line:575,column:34}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:4},end:{line:9,column:5}},loc:{start:{line:9,column:46},end:{line:24,column:5}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:30,column:4},end:{line:30,column:5}},loc:{start:{line:30,column:21},end:{line:34,column:5}},line:30},2:{name:"(anonymous_2)",decl:{start:{line:41,column:4},end:{line:41,column:5}},loc:{start:{line:41,column:28},end:{line:133,column:5}},line:41},3:{name:"(anonymous_3)",decl:{start:{line:141,column:4},end:{line:141,column:5}},loc:{start:{line:141,column:38},end:{line:193,column:5}},line:141},4:{name:"(anonymous_4)",decl:{start:{line:200,column:4},end:{line:200,column:5}},loc:{start:{line:200,column:33},end:{line:216,column:5}},line:200},5:{name:"(anonymous_5)",decl:{start:{line:225,column:4},end:{line:225,column:5}},loc:{start:{line:225,column:57},end:{line:269,column:5}},line:225},6:{name:"(anonymous_6)",decl:{start:{line:276,column:4},end:{line:276,column:5}},loc:{start:{line:276,column:22},end:{line:288,column:5}},line:276},7:{name:"(anonymous_7)",decl:{start:{line:295,column:4},end:{line:295,column:5}},loc:{start:{line:295,column:32},end:{line:360,column:5}},line:295},8:{name:"(anonymous_8)",decl:{start:{line:367,column:4},end:{line:367,column:5}},loc:{start:{line:367,column:37},end:{line:415,column:5}},line:367},9:{name:"(anonymous_9)",decl:{start:{line:423,column:4},end:{line:423,column:5}},loc:{start:{line:423,column:41},end:{line:446,column:5}},line:423},10:{name:"(anonymous_10)",decl:{start:{line:452,column:4},end:{line:452,column:5}},loc:{start:{line:452,column:39},end:{line:466,column:5}},line:452},11:{name:"(anonymous_11)",decl:{start:{line:472,column:4},end:{line:472,column:5}},loc:{start:{line:472,column:22},end:{line:481,column:5}},line:472},12:{name:"(anonymous_12)",decl:{start:{line:486,column:4},end:{line:486,column:5}},loc:{start:{line:486,column:19},end:{line:498,column:5}},line:486},13:{name:"(anonymous_13)",decl:{start:{line:503,column:4},end:{line:503,column:5}},loc:{start:{line:503,column:18},end:{line:513,column:5}},line:503},14:{name:"(anonymous_14)",decl:{start:{line:518,column:4},end:{line:518,column:5}},loc:{start:{line:518,column:31},end:{line:523,column:5}},line:518},15:{name:"(anonymous_15)",decl:{start:{line:528,column:4},end:{line:528,column:5}},loc:{start:{line:528,column:23},end:{line:530,column:5}},line:528},16:{name:"(anonymous_16)",decl:{start:{line:535,column:4},end:{line:535,column:5}},loc:{start:{line:535,column:22},end:{line:545,column:5}},line:535},17:{name:"(anonymous_17)",decl:{start:{line:550,column:4},end:{line:550,column:5}},loc:{start:{line:550,column:22},end:{line:552,column:5}},line:550},18:{name:"(anonymous_18)",decl:{start:{line:555,column:4},end:{line:555,column:5}},loc:{start:{line:555,column:16},end:{line:557,column:5}},line:555},19:{name:"(anonymous_19)",decl:{start:{line:560,column:4},end:{line:560,column:5}},loc:{start:{line:560,column:26},end:{line:562,column:5}},line:560}},branchMap:{0:{loc:{start:{line:47,column:12},end:{line:49,column:13}},type:"if",locations:[{start:{line:47,column:12},end:{line:49,column:13}},{start:{line:47,column:12},end:{line:49,column:13}}],line:47},1:{loc:{start:{line:47,column:16},end:{line:47,column:49}},type:"binary-expr",locations:[{start:{line:47,column:16},end:{line:47,column:27}},{start:{line:47,column:31},end:{line:47,column:49}}],line:47},2:{loc:{start:{line:55,column:12},end:{line:57,column:13}},type:"if",locations:[{start:{line:55,column:12},end:{line:57,column:13}},{start:{line:55,column:12},end:{line:57,column:13}}],line:55},3:{loc:{start:{line:55,column:16},end:{line:55,column:43}},type:"binary-expr",locations:[{start:{line:55,column:16},end:{line:55,column:27}},{start:{line:55,column:31},end:{line:55,column:43}}],line:55},4:{loc:{start:{line:66,column:12},end:{line:71,column:13}},type:"if",locations:[{start:{line:66,column:12},end:{line:71,column:13}},{start:{line:66,column:12},end:{line:71,column:13}}],line:66},5:{loc:{start:{line:68,column:19},end:{line:71,column:13}},type:"if",locations:[{start:{line:68,column:19},end:{line:71,column:13}},{start:{line:68,column:19},end:{line:71,column:13}}],line:68},6:{loc:{start:{line:79,column:12},end:{line:84,column:13}},type:"if",locations:[{start:{line:79,column:12},end:{line:84,column:13}},{start:{line:79,column:12},end:{line:84,column:13}}],line:79},7:{loc:{start:{line:81,column:19},end:{line:84,column:13}},type:"if",locations:[{start:{line:81,column:19},end:{line:84,column:13}},{start:{line:81,column:19},end:{line:84,column:13}}],line:81},8:{loc:{start:{line:88,column:8},end:{line:91,column:9}},type:"if",locations:[{start:{line:88,column:8},end:{line:91,column:9}},{start:{line:88,column:8},end:{line:91,column:9}}],line:88},9:{loc:{start:{line:94,column:8},end:{line:97,column:9}},type:"if",locations:[{start:{line:94,column:8},end:{line:97,column:9}},{start:{line:94,column:8},end:{line:97,column:9}}],line:94},10:{loc:{start:{line:94,column:12},end:{line:94,column:93}},type:"binary-expr",locations:[{start:{line:94,column:12},end:{line:94,column:44}},{start:{line:94,column:48},end:{line:94,column:93}}],line:94},11:{loc:{start:{line:103,column:8},end:{line:106,column:9}},type:"if",locations:[{start:{line:103,column:8},end:{line:106,column:9}},{start:{line:103,column:8},end:{line:106,column:9}}],line:103},12:{loc:{start:{line:103,column:12},end:{line:103,column:108}},type:"binary-expr",locations:[{start:{line:103,column:12},end:{line:103,column:41}},{start:{line:103,column:45},end:{line:103,column:68}},{start:{line:103,column:72},end:{line:103,column:108}}],line:103},13:{loc:{start:{line:114,column:12},end:{line:117,column:13}},type:"if",locations:[{start:{line:114,column:12},end:{line:117,column:13}},{start:{line:114,column:12},end:{line:117,column:13}}],line:114},14:{loc:{start:{line:124,column:29},end:{line:124,column:71}},type:"binary-expr",locations:[{start:{line:124,column:29},end:{line:124,column:40}},{start:{line:124,column:44},end:{line:124,column:71}}],line:124},15:{loc:{start:{line:125,column:8},end:{line:130,column:9}},type:"if",locations:[{start:{line:125,column:8},end:{line:130,column:9}},{start:{line:125,column:8},end:{line:130,column:9}}],line:125},16:{loc:{start:{line:147,column:8},end:{line:179,column:9}},type:"if",locations:[{start:{line:147,column:8},end:{line:179,column:9}},{start:{line:147,column:8},end:{line:179,column:9}}],line:147},17:{loc:{start:{line:147,column:12},end:{line:147,column:54}},type:"binary-expr",locations:[{start:{line:147,column:12},end:{line:147,column:21}},{start:{line:147,column:25},end:{line:147,column:54}}],line:147},18:{loc:{start:{line:204,column:8},end:{line:206,column:9}},type:"if",locations:[{start:{line:204,column:8},end:{line:206,column:9}},{start:{line:204,column:8},end:{line:206,column:9}}],line:204},19:{loc:{start:{line:211,column:8},end:{line:213,column:9}},type:"if",locations:[{start:{line:211,column:8},end:{line:213,column:9}},{start:{line:211,column:8},end:{line:213,column:9}}],line:211},20:{loc:{start:{line:211,column:12},end:{line:211,column:54}},type:"binary-expr",locations:[{start:{line:211,column:12},end:{line:211,column:21}},{start:{line:211,column:25},end:{line:211,column:54}}],line:211},21:{loc:{start:{line:230,column:8},end:{line:254,column:9}},type:"if",locations:[{start:{line:230,column:8},end:{line:254,column:9}},{start:{line:230,column:8},end:{line:254,column:9}}],line:230},22:{loc:{start:{line:243,column:12},end:{line:248,column:13}},type:"if",locations:[{start:{line:243,column:12},end:{line:248,column:13}},{start:{line:243,column:12},end:{line:248,column:13}}],line:243},23:{loc:{start:{line:245,column:16},end:{line:247,column:17}},type:"if",locations:[{start:{line:245,column:16},end:{line:247,column:17}},{start:{line:245,column:16},end:{line:247,column:17}}],line:245},24:{loc:{start:{line:257,column:8},end:{line:262,column:9}},type:"if",locations:[{start:{line:257,column:8},end:{line:262,column:9}},{start:{line:257,column:8},end:{line:262,column:9}}],line:257},25:{loc:{start:{line:278,column:8},end:{line:285,column:9}},type:"if",locations:[{start:{line:278,column:8},end:{line:285,column:9}},{start:{line:278,column:8},end:{line:285,column:9}}],line:278},26:{loc:{start:{line:280,column:12},end:{line:284,column:13}},type:"if",locations:[{start:{line:280,column:12},end:{line:284,column:13}},{start:{line:280,column:12},end:{line:284,column:13}}],line:280},27:{loc:{start:{line:282,column:19},end:{line:284,column:13}},type:"if",locations:[{start:{line:282,column:19},end:{line:284,column:13}},{start:{line:282,column:19},end:{line:284,column:13}}],line:282},28:{loc:{start:{line:300,column:8},end:{line:303,column:9}},type:"if",locations:[{start:{line:300,column:8},end:{line:303,column:9}},{start:{line:300,column:8},end:{line:303,column:9}}],line:300},29:{loc:{start:{line:306,column:8},end:{line:308,column:9}},type:"if",locations:[{start:{line:306,column:8},end:{line:308,column:9}},{start:{line:306,column:8},end:{line:308,column:9}}],line:306},30:{loc:{start:{line:311,column:8},end:{line:314,column:9}},type:"if",locations:[{start:{line:311,column:8},end:{line:314,column:9}},{start:{line:311,column:8},end:{line:314,column:9}}],line:311},31:{loc:{start:{line:319,column:8},end:{line:322,column:9}},type:"if",locations:[{start:{line:319,column:8},end:{line:322,column:9}},{start:{line:319,column:8},end:{line:322,column:9}}],line:319},32:{loc:{start:{line:326,column:8},end:{line:329,column:9}},type:"if",locations:[{start:{line:326,column:8},end:{line:329,column:9}},{start:{line:326,column:8},end:{line:329,column:9}}],line:326},33:{loc:{start:{line:333,column:8},end:{line:340,column:9}},type:"if",locations:[{start:{line:333,column:8},end:{line:340,column:9}},{start:{line:333,column:8},end:{line:340,column:9}}],line:333},34:{loc:{start:{line:334,column:12},end:{line:337,column:13}},type:"if",locations:[{start:{line:334,column:12},end:{line:337,column:13}},{start:{line:334,column:12},end:{line:337,column:13}}],line:334},35:{loc:{start:{line:346,column:8},end:{line:348,column:9}},type:"if",locations:[{start:{line:346,column:8},end:{line:348,column:9}},{start:{line:346,column:8},end:{line:348,column:9}}],line:346},36:{loc:{start:{line:355,column:8},end:{line:357,column:9}},type:"if",locations:[{start:{line:355,column:8},end:{line:357,column:9}},{start:{line:355,column:8},end:{line:357,column:9}}],line:355},37:{loc:{start:{line:372,column:8},end:{line:375,column:9}},type:"if",locations:[{start:{line:372,column:8},end:{line:375,column:9}},{start:{line:372,column:8},end:{line:375,column:9}}],line:372},38:{loc:{start:{line:378,column:8},end:{line:380,column:9}},type:"if",locations:[{start:{line:378,column:8},end:{line:380,column:9}},{start:{line:378,column:8},end:{line:380,column:9}}],line:378},39:{loc:{start:{line:383,column:8},end:{line:386,column:9}},type:"if",locations:[{start:{line:383,column:8},end:{line:386,column:9}},{start:{line:383,column:8},end:{line:386,column:9}}],line:383},40:{loc:{start:{line:390,column:8},end:{line:393,column:9}},type:"if",locations:[{start:{line:390,column:8},end:{line:393,column:9}},{start:{line:390,column:8},end:{line:393,column:9}}],line:390},41:{loc:{start:{line:397,column:8},end:{line:404,column:9}},type:"if",locations:[{start:{line:397,column:8},end:{line:404,column:9}},{start:{line:397,column:8},end:{line:404,column:9}}],line:397},42:{loc:{start:{line:398,column:12},end:{line:401,column:13}},type:"if",locations:[{start:{line:398,column:12},end:{line:401,column:13}},{start:{line:398,column:12},end:{line:401,column:13}}],line:398},43:{loc:{start:{line:410,column:8},end:{line:412,column:9}},type:"if",locations:[{start:{line:410,column:8},end:{line:412,column:9}},{start:{line:410,column:8},end:{line:412,column:9}}],line:410},44:{loc:{start:{line:430,column:92},end:{line:430,column:106}},type:"binary-expr",locations:[{start:{line:430,column:92},end:{line:430,column:101}},{start:{line:430,column:105},end:{line:430,column:106}}],line:430},45:{loc:{start:{line:441,column:8},end:{line:443,column:9}},type:"if",locations:[{start:{line:441,column:8},end:{line:443,column:9}},{start:{line:441,column:8},end:{line:443,column:9}}],line:441},46:{loc:{start:{line:453,column:8},end:{line:455,column:9}},type:"if",locations:[{start:{line:453,column:8},end:{line:455,column:9}},{start:{line:453,column:8},end:{line:455,column:9}}],line:453},47:{loc:{start:{line:460,column:8},end:{line:463,column:9}},type:"if",locations:[{start:{line:460,column:8},end:{line:463,column:9}},{start:{line:460,column:8},end:{line:463,column:9}}],line:460},48:{loc:{start:{line:474,column:8},end:{line:477,column:9}},type:"if",locations:[{start:{line:474,column:8},end:{line:477,column:9}},{start:{line:474,column:8},end:{line:477,column:9}}],line:474},49:{loc:{start:{line:479,column:29},end:{line:479,column:71}},type:"binary-expr",locations:[{start:{line:479,column:29},end:{line:479,column:40}},{start:{line:479,column:44},end:{line:479,column:71}}],line:479},50:{loc:{start:{line:487,column:8},end:{line:489,column:9}},type:"if",locations:[{start:{line:487,column:8},end:{line:489,column:9}},{start:{line:487,column:8},end:{line:489,column:9}}],line:487},51:{loc:{start:{line:494,column:29},end:{line:494,column:71}},type:"binary-expr",locations:[{start:{line:494,column:29},end:{line:494,column:40}},{start:{line:494,column:44},end:{line:494,column:71}}],line:494},52:{loc:{start:{line:505,column:8},end:{line:507,column:9}},type:"if",locations:[{start:{line:505,column:8},end:{line:507,column:9}},{start:{line:505,column:8},end:{line:507,column:9}}],line:505},53:{loc:{start:{line:508,column:8},end:{line:510,column:9}},type:"if",locations:[{start:{line:508,column:8},end:{line:510,column:9}},{start:{line:508,column:8},end:{line:510,column:9}}],line:508},54:{loc:{start:{line:519,column:8},end:{line:521,column:9}},type:"if",locations:[{start:{line:519,column:8},end:{line:521,column:9}},{start:{line:519,column:8},end:{line:521,column:9}}],line:519},55:{loc:{start:{line:529,column:15},end:{line:529,column:80}},type:"cond-expr",locations:[{start:{line:529,column:33},end:{line:529,column:62}},{start:{line:529,column:65},end:{line:529,column:80}}],line:529},56:{loc:{start:{line:536,column:8},end:{line:538,column:9}},type:"if",locations:[{start:{line:536,column:8},end:{line:538,column:9}},{start:{line:536,column:8},end:{line:538,column:9}}],line:536},57:{loc:{start:{line:541,column:8},end:{line:543,column:9}},type:"if",locations:[{start:{line:541,column:8},end:{line:543,column:9}},{start:{line:541,column:8},end:{line:543,column:9}}],line:541}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,227:0,228:0,229:0,230:0,231:0,232:0,233:0,234:0,235:0,236:0,237:0,238:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0],46:[0,0],47:[0,0],48:[0,0],49:[0,0],50:[0,0],51:[0,0],52:[0,0],53:[0,0],54:[0,0],55:[0,0],56:[0,0],57:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class PartialLightChain extends LightChain{constructor(n,e,l,t){Vn.f[0]++;const o=(Vn.s[0]++,n.transaction(!1));Vn.s[1]++;super(o,e,l);Vn.s[2]++;this._proof=t;Vn.s[3]++;this._state=PartialLightChain.State.PROVE_CHAIN;Vn.s[4]++;this._partialTree=null;Vn.s[5]++;this._accountsTx=null;Vn.s[6]++;this._proofHead=null}pushProof(n){Vn.f[1]++;Vn.s[7]++;return this._synchronizer.push(0,this._pushProof.bind(this,n))}async _pushProof(n){Vn.f[2]++;const e=(Vn.s[8]++,[]);Vn.s[9]++;for(let c=0;c<n.prefix.length;++c){const l=(Vn.s[10]++,n.prefix.blocks[c]),t=(Vn.s[11]++,l.hash()),o=(Vn.s[12]++,await this._store.getBlock(t));Vn.s[13]++;if((Vn.b[1][0]++,o)||(Vn.b[1][1]++,l.header._pow))Vn.b[0][1]++;else{Vn.b[0][0]++;Vn.s[14]++;e.push(l.header)}}Vn.s[15]++;for(let c=0;c<n.suffix.length;++c){const l=(Vn.s[16]++,n.suffix.headers[c]),t=(Vn.s[17]++,l.hash()),o=(Vn.s[18]++,await this._store.getBlock(t));Vn.s[19]++;if((Vn.b[3][0]++,o)||(Vn.b[3][1]++,l._pow))Vn.b[2][1]++;else{Vn.b[2][0]++;Vn.s[20]++;e.push(l)}}Vn.s[21]++;await BaseChain.manyPow(e);Vn.s[22]++;for(let c=0;c<n.prefix.length;c++){const e=(Vn.s[23]++,n.prefix.blocks[c]),l=(Vn.s[24]++,e.hash()),t=(Vn.s[25]++,await this._store.getBlock(l));Vn.s[26]++;if(t){Vn.b[4][0]++;Vn.s[27]++;n.prefix.blocks[c]=t.toLight()}else{Vn.b[4][1]++;Vn.s[28]++;if(!(await e.verify(this._time))){Vn.b[5][0]++;Vn.s[29]++;Log.w(PartialLightChain,"Rejecting proof - prefix contains invalid block");Vn.s[30]++;return!1}Vn.b[5][1]++}}Vn.s[31]++;for(let c=0;c<n.suffix.length;c++){const e=(Vn.s[32]++,n.suffix.headers[c]),l=(Vn.s[33]++,e.hash()),t=(Vn.s[34]++,await this._store.getBlock(l));Vn.s[35]++;if(t){Vn.b[6][0]++;Vn.s[36]++;n.suffix.headers[c]=t.header}else{Vn.b[6][1]++;Vn.s[37]++;if(!(await e.verifyProofOfWork())){Vn.b[7][0]++;Vn.s[38]++;Log.w(PartialLightChain,"Rejecting proof - suffix contains invalid header");Vn.s[39]++;return!1}Vn.b[7][1]++}}Vn.s[40]++;if(!(await n.verify())){Vn.b[8][0]++;Vn.s[41]++;Log.w(PartialLightChain,"Rejecting proof - verification failed");Vn.s[42]++;return!1}Vn.b[8][1]++;Vn.s[43]++;if((Vn.b[10][0]++,n.suffix.length!==Policy.K)&&(Vn.b[10][1]++,n.suffix.length!==n.head.height-1)){Vn.b[9][0]++;Vn.s[44]++;Log.w(PartialLightChain,"Rejecting proof - invalid suffix length");Vn.s[45]++;return!1}Vn.b[9][1]++;const l=(Vn.s[46]++,n.prefix.denseSuffix());Vn.s[47]++;if((Vn.b[12][0]++,l.length<Policy.M)&&(Vn.b[12][1]++,n.prefix.length>0)&&(Vn.b[12][2]++,n.prefix.head.height>=Policy.M)){Vn.b[11][0]++;Vn.s[48]++;Log.w(NanoChain,"Rejecting proof - dense suffix too short");Vn.s[49]++;return!1}Vn.b[11][1]++;const t=(Vn.s[50]++,[]);let o=(Vn.s[51]++,n.prefix.head);Vn.s[52]++;for(const c of n.suffix.headers){const n=(Vn.s[53]++,await o.getNextInterlink(c.target,c.version)),e=(Vn.s[54]++,n.hash());Vn.s[55]++;if(!c.interlinkHash.equals(e)){Vn.b[13][0]++;Vn.s[56]++;Log.w(PartialLightChain,"Rejecting proof - invalid interlink hash in proof suffix");Vn.s[57]++;return!1}Vn.b[13][1]++;Vn.s[58]++;o=new Block(c,n);Vn.s[59]++;t.push(o)}const i=(Vn.s[60]++,(Vn.b[14][0]++,this._proof)||(Vn.b[14][1]++,await this._getChainProof()));Vn.s[61]++;if(await BaseChain.isBetterProof(n,i,Policy.M)){Vn.b[15][0]++;Vn.s[62]++;await this._acceptProof(n,t)}else{Vn.b[15][1]++;Vn.s[63]++;await this.abort();Vn.s[64]++;this._state=PartialLightChain.State.WEAK_PROOF}Vn.s[65]++;return!0}async _acceptProof(n,e){Vn.f[3]++;const l=(Vn.s[66]++,n.prefix.head),t=(Vn.s[67]++,l.hash()),o=(Vn.s[68]++,await this._store.getChainData(t));Vn.s[69]++;if((Vn.b[17][0]++,!o)||(Vn.b[17][1]++,o.totalDifficulty<=0)){Vn.b[16][0]++;Vn.s[70]++;await this._store.truncate();const e=(Vn.s[71]++,n.prefix.denseSuffix());let l=(Vn.s[72]++,new SuperBlockCounts);Vn.s[73]++;for(let o=0;o<n.prefix.length-e.length;o++){const e=(Vn.s[74]++,n.prefix.blocks[o]),t=(Vn.s[75]++,e.hash()),i=(Vn.s[76]++,BlockUtils.getHashDepth(await e.pow()));Vn.s[77]++;l=l.copyAndAdd(i);const c=(Vn.s[78]++,new ChainData(e,-1,-1,l,!0));Vn.s[79]++;await this._store.putChainData(t,c)}const t=(Vn.s[80]++,e[0]);Vn.s[81]++;this._headHash=t.hash();Vn.s[82]++;this._mainChain=await ChainData.initial(t,l);Vn.s[83]++;await this._store.putChainData(this._headHash,this._mainChain);Vn.s[84]++;for(let n=1;n<e.length;n++){const l=(Vn.s[85]++,e[n]),t=(Vn.s[86]++,await this._pushLightBlock(l));Vn.s[87]++;Assert.that(t>=0)}}else Vn.b[16][1]++;Vn.s[88]++;for(const i of e){const n=(Vn.s[89]++,await this._pushLightBlock(i));Vn.s[90]++;Assert.that(n>=0)}Vn.s[91]++;this._state=PartialLightChain.State.PROVE_ACCOUNTS_TREE;Vn.s[92]++;this._partialTree=await this._accounts.partialAccountsTree();Vn.s[93]++;this._proofHead=this._mainChain;Vn.s[94]++;await this._store.setHead(this.headHash);Vn.s[95]++;this._proof=n}async _pushLightBlock(n){Vn.f[4]++;const e=(Vn.s[96]++,n.hash()),l=(Vn.s[97]++,await this._store.getBlock(e));Vn.s[98]++;if(l){Vn.b[18][0]++;Vn.s[99]++;return NanoChain.OK_KNOWN}Vn.b[18][1]++;const t=(Vn.s[100]++,await this._store.getChainData(n.prevHash));Vn.s[101]++;if((Vn.b[20][0]++,!t)||(Vn.b[20][1]++,t.totalDifficulty<=0)){Vn.b[19][0]++;Vn.s[102]++;return NanoChain.ERR_ORPHAN}Vn.b[19][1]++;Vn.s[103]++;return this._pushBlockInternal(n,e,t)}async _pushBlockInternal(n,e,l){Vn.f[5]++;const t=(Vn.s[104]++,await l.nextChainData(n));Vn.s[105]++;if(n.prevHash.equals(this.headHash)){Vn.b[21][0]++;Vn.s[106]++;t.onMainChain=!0;Vn.s[107]++;l.mainChainSuccessor=e;Vn.s[108]++;await this._store.putChainData(e,t);Vn.s[109]++;await this._store.putChainData(n.prevHash,l,!1);Vn.s[110]++;this._mainChain=t;Vn.s[111]++;this._headHash=e;Vn.s[112]++;if(this._proof){Vn.b[22][0]++;const e=(Vn.s[113]++,this._proof.head.hash());Vn.s[114]++;if(n.prevHash.equals(e)){Vn.b[23][0]++;Vn.s[115]++;this._proof=await this._extendChainProof(this._proof,n.header)}else Vn.b[23][1]++}else Vn.b[22][1]++;Vn.s[116]++;this.fire("head-changed",this.head,!1);Vn.s[117]++;return NanoChain.OK_EXTENDED}Vn.b[21][1]++;Vn.s[118]++;if(t.totalDifficulty>this._mainChain.totalDifficulty){Vn.b[24][0]++;Vn.s[119]++;await this._rebranch(e,t);Vn.s[120]++;return NanoChain.OK_REBRANCHED}Vn.b[24][1]++;Vn.s[121]++;Log.v(NanoChain,`Creating/extending fork with block ${e}, height=${n.height}, totalDifficulty=${t.totalDifficulty}, totalWork=${t.totalWork}`);Vn.s[122]++;await this._store.putChainData(e,t);Vn.s[123]++;return NanoChain.OK_FORKED}_pushBlock(n){Vn.f[6]++;Vn.s[124]++;if(this._state===PartialLightChain.State.PROVE_BLOCKS){Vn.b[25][0]++;const e=(Vn.s[125]++,n.hash());Vn.s[126]++;if(this._proofHead.head.prevHash.equals(e)){Vn.b[26][0]++;Vn.s[127]++;return this._pushBlockBackwards(n)}Vn.b[26][1]++;Vn.s[128]++;if(this._proofHead.head.hash().equals(e)){Vn.b[27][0]++;Vn.s[129]++;return this._pushHeadBlock(n)}Vn.b[27][1]++}else Vn.b[25][1]++;Vn.s[130]++;return FullChain.ERR_ORPHAN}async _pushHeadBlock(n){Vn.f[7]++;const e=(Vn.s[131]++,n.hash());Vn.s[132]++;if(!n.isFull()){Vn.b[28][0]++;Vn.s[133]++;Log.w(PartialLightChain,"Rejecting block - body missing");Vn.s[134]++;return FullChain.ERR_INVALID}Vn.b[28][1]++;Vn.s[135]++;if(!(await n.verify(this._time))){Vn.b[29][0]++;Vn.s[136]++;return FullChain.ERR_INVALID}Vn.b[29][1]++;Vn.s[137]++;if(!(await this._verifyInterlink(n))){Vn.b[30][0]++;Vn.s[138]++;Log.w(PartialLightChain,"Rejecting block - interlink verification failed");Vn.s[139]++;return FullChain.ERR_INVALID}Vn.b[30][1]++;const l=(Vn.s[140]++,await this._store.getChainData(n.prevHash));Vn.s[141]++;if(!l){Vn.b[31][0]++;Vn.s[142]++;Log.w(PartialLightChain,"Rejecting block - unknown predecessor");Vn.s[143]++;return FullChain.ERR_ORPHAN}Vn.b[31][1]++;const t=(Vn.s[144]++,l.head);Vn.s[145]++;if(!(await n.isImmediateSuccessorOf(t))){Vn.b[32][0]++;Vn.s[146]++;Log.w(PartialLightChain,"Rejecting block - not a valid immediate successor");Vn.s[147]++;return FullChain.ERR_INVALID}Vn.b[32][1]++;const o=(Vn.s[148]++,await this.getNextTarget(t));Vn.s[149]++;if(BlockUtils.isValidTarget(o)){Vn.b[33][0]++;Vn.s[150]++;if(n.nBits!==BlockUtils.targetToCompact(o)){Vn.b[34][0]++;Vn.s[151]++;Log.w(PartialLightChain,"Rejecting block - difficulty mismatch");Vn.s[152]++;return FullChain.ERR_INVALID}Vn.b[34][1]++}else{Vn.b[33][1]++;Vn.s[153]++;Log.w(PartialLightChain,"Skipping difficulty verification - not enough blocks available")}const i=(Vn.s[154]++,await l.nextChainData(n));Vn.s[155]++;if(!(await this._prepend(e,i))){Vn.b[35][0]++;Vn.s[156]++;return FullChain.ERR_INVALID}Vn.b[35][1]++;Vn.s[157]++;this._mainChain=i;Vn.s[158]++;this._proofHead=i;Vn.s[159]++;this._headHash=e;Vn.s[160]++;if(this.needsMoreBlocks())Vn.b[36][1]++;else{Vn.b[36][0]++;Vn.s[161]++;await this._complete()}Vn.s[162]++;return FullChain.OK_EXTENDED}async _pushBlockBackwards(n){Vn.f[8]++;const e=(Vn.s[163]++,n.hash());Vn.s[164]++;if(!n.isFull()){Vn.b[37][0]++;Vn.s[165]++;Log.w(PartialLightChain,"Rejecting block - body missing");Vn.s[166]++;return FullChain.ERR_INVALID}Vn.b[37][1]++;Vn.s[167]++;if(!(await n.verify(this._time))){Vn.b[38][0]++;Vn.s[168]++;return FullChain.ERR_INVALID}Vn.b[38][1]++;Vn.s[169]++;if(!(await this._verifyInterlink(n))){Vn.b[39][0]++;Vn.s[170]++;Log.w(PartialLightChain,"Rejecting block - interlink verification failed");Vn.s[171]++;return FullChain.ERR_INVALID}Vn.b[39][1]++;Vn.s[172]++;if(!(await this._proofHead.head.isImmediateSuccessorOf(n))){Vn.b[40][0]++;Vn.s[173]++;Log.w(PartialLightChain,"Rejecting block - not a valid immediate predecessor");Vn.s[174]++;return FullChain.ERR_INVALID}Vn.b[40][1]++;const l=(Vn.s[175]++,await this.getNextTarget(n));Vn.s[176]++;if(BlockUtils.isValidTarget(l)){Vn.b[41][0]++;Vn.s[177]++;if(this._proofHead.head.nBits!==BlockUtils.targetToCompact(l)){Vn.b[42][0]++;Vn.s[178]++;Log.w(PartialLightChain,"Rejecting block - difficulty mismatch");Vn.s[179]++;return FullChain.ERR_INVALID}Vn.b[42][1]++}else{Vn.b[41][1]++;Vn.s[180]++;Log.w(NanoChain,"Skipping difficulty verification - not enough blocks available")}const t=(Vn.s[181]++,await this._proofHead.previousChainData(n));Vn.s[182]++;if(!(await this._prepend(e,t))){Vn.b[43][0]++;Vn.s[183]++;return FullChain.ERR_INVALID}Vn.b[43][1]++;Vn.s[184]++;return FullChain.OK_EXTENDED}async _prepend(n,e){Vn.f[9]++;Vn.s[185]++;try{const n=(Vn.s[186]++,new TransactionCache);Vn.s[187]++;await this._accountsTx.revertBlock(e.head,n)}catch(l){Vn.s[188]++;Log.w(PartialLightChain,`Rejecting block - failed to commit to AccountsTree: ${(Vn.b[44][0]++,l.message)||(Vn.b[44][1]++,l)}`);Vn.s[189]++;return!1}Vn.s[190]++;e.onMainChain=!0;Vn.s[191]++;e.mainChainSuccessor=this._proofHead.head.hash();Vn.s[192]++;await this._store.putChainData(n,e);Vn.s[193]++;this._proofHead=e;Vn.s[194]++;if(this.needsMoreBlocks())Vn.b[45][1]++;else{Vn.b[45][0]++;Vn.s[195]++;await this._complete()}Vn.s[196]++;return!0}async pushAccountsTreeChunk(n){Vn.f[10]++;Vn.s[197]++;if(this._state!==PartialLightChain.State.PROVE_ACCOUNTS_TREE){Vn.b[46][0]++;Vn.s[198]++;return PartialAccountsTree.Status.ERR_INCORRECT_PROOF}Vn.b[46][1]++;const e=(Vn.s[199]++,await this._partialTree.pushChunk(n));Vn.s[200]++;if(e===PartialAccountsTree.Status.OK_COMPLETE){Vn.b[47][0]++;Vn.s[201]++;this._state=PartialLightChain.State.PROVE_BLOCKS;Vn.s[202]++;this._accountsTx=new Accounts(this._partialTree.transaction(!1))}else Vn.b[47][1]++;Vn.s[203]++;return e}async _complete(){Vn.f[11]++;Vn.s[204]++;this._state=PartialLightChain.State.COMPLETE;Vn.s[205]++;if(this._accountsTx){Vn.b[48][0]++;Vn.s[206]++;await this._accountsTx.abort();Vn.s[207]++;this._accountsTx=null}else Vn.b[48][1]++;const n=(Vn.s[208]++,(Vn.b[49][0]++,this._proof)||(Vn.b[49][1]++,await this._getChainProof()));Vn.s[209]++;this.fire("complete",n,this._headHash,this._mainChain)}async commit(){Vn.f[12]++;Vn.s[210]++;if(this._accountsTx){Vn.b[50][0]++;Vn.s[211]++;await this._accountsTx.abort()}else Vn.b[50][1]++;const n=(Vn.s[212]++,await JDB.JungleDB.commitCombined(...this._store.txs,this._partialTree.tx));Vn.s[213]++;this._partialTree=null;const e=(Vn.s[214]++,(Vn.b[51][0]++,this._proof)||(Vn.b[51][1]++,await this._getChainProof()));Vn.s[215]++;this.fire("committed",e,this._headHash,this._mainChain);Vn.s[216]++;return n}async abort(){Vn.f[13]++;Vn.s[217]++;this._state=PartialLightChain.State.ABORTED;Vn.s[218]++;if(this._accountsTx){Vn.b[52][0]++;Vn.s[219]++;await this._accountsTx.abort()}else Vn.b[52][1]++;Vn.s[220]++;if(this._partialTree){Vn.b[53][0]++;Vn.s[221]++;await this._partialTree.abort()}else Vn.b[53][1]++;Vn.s[222]++;await this._store.abort();Vn.s[223]++;this.fire("aborted")}getMissingAccountsPrefix(){Vn.f[14]++;Vn.s[224]++;if(this._partialTree){Vn.b[54][0]++;Vn.s[225]++;return this._partialTree.missingPrefix}Vn.b[54][1]++;Vn.s[226]++;return""}getBlockLocators(){Vn.f[15]++;Vn.s[227]++;return this._proofHead?(Vn.b[55][0]++,[this._proofHead.head.hash()]):(Vn.b[55][1]++,[this.headHash])}numBlocksNeeded(){Vn.f[16]++;Vn.s[228]++;if(!this._proofHead){Vn.b[56][0]++;Vn.s[229]++;return Policy.NUM_BLOCKS_VERIFICATION}Vn.b[56][1]++;let n=(Vn.s[230]++,Policy.NUM_BLOCKS_VERIFICATION-(this.height-this._proofHead.head.height+1));Vn.s[231]++;if(this._proofHead.head.isFull())Vn.b[57][1]++;else{Vn.b[57][0]++;Vn.s[232]++;n++}Vn.s[233]++;return n}needsMoreBlocks(){Vn.f[17]++;Vn.s[234]++;return this.numBlocksNeeded()>0}get state(){Vn.f[18]++;Vn.s[235]++;return this._state}get proofHeadHeight(){Vn.f[19]++;Vn.s[236]++;return this._proofHead.head.height}}Vn.s[237]++;PartialLightChain.State={WEAK_PROOF:-2,ABORTED:-1,PROVE_CHAIN:0,PROVE_ACCOUNTS_TREE:1,PROVE_BLOCKS:2,COMPLETE:3};Vn.s[238]++;Class.register(PartialLightChain);var Qn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/nano/NanoChain.js",e="b4625e02aff949cf486bc00bde232db1e3b893f2",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/nano/NanoChain.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:47}},1:{start:{line:10,column:8},end:{line:10,column:26}},2:{start:{line:13,column:8},end:{line:13,column:115}},3:{start:{line:16,column:8},end:{line:16,column:52}},4:{start:{line:19,column:8},end:{line:19,column:57}},5:{start:{line:21,column:8},end:{line:21,column:28}},6:{start:{line:25,column:8},end:{line:25,column:79}},7:{start:{line:26,column:8},end:{line:26,column:84}},8:{start:{line:28,column:8},end:{line:28,column:20}},9:{start:{line:36,column:8},end:{line:37,column:47}},10:{start:{line:46,column:21},end:{line:46,column:23}},11:{start:{line:47,column:8},end:{line:54,column:9}},12:{start:{line:48,column:26},end:{line:48,column:48}},13:{start:{line:49,column:25},end:{line:49,column:37}},14:{start:{line:50,column:31},end:{line:50,column:63}},15:{start:{line:51,column:12},end:{line:53,column:13}},16:{start:{line:52,column:16},end:{line:52,column:40}},17:{start:{line:55,column:8},end:{line:62,column:9}},18:{start:{line:56,column:27},end:{line:56,column:50}},19:{start:{line:57,column:25},end:{line:57,column:38}},20:{start:{line:58,column:31},end:{line:58,column:63}},21:{start:{line:59,column:12},end:{line:61,column:13}},22:{start:{line:60,column:16},end:{line:60,column:34}},23:{start:{line:63,column:8},end:{line:63,column:38}},24:{start:{line:66,column:8},end:{line:76,column:9}},25:{start:{line:67,column:26},end:{line:67,column:48}},26:{start:{line:68,column:25},end:{line:68,column:37}},27:{start:{line:69,column:31},end:{line:69,column:63}},28:{start:{line:70,column:12},end:{line:75,column:13}},29:{start:{line:71,column:16},end:{line:71,column:62}},30:{start:{line:72,column:19},end:{line:75,column:13}},31:{start:{line:73,column:16},end:{line:73,column:84}},32:{start:{line:74,column:16},end:{line:74,column:29}},33:{start:{line:79,column:8},end:{line:89,column:9}},34:{start:{line:80,column:27},end:{line:80,column:50}},35:{start:{line:81,column:25},end:{line:81,column:38}},36:{start:{line:82,column:31},end:{line:82,column:63}},37:{start:{line:83,column:12},end:{line:88,column:13}},38:{start:{line:84,column:16},end:{line:84,column:60}},39:{start:{line:85,column:19},end:{line:88,column:13}},40:{start:{line:86,column:16},end:{line:86,column:85}},41:{start:{line:87,column:16},end:{line:87,column:29}},42:{start:{line:92,column:8},end:{line:95,column:9}},43:{start:{line:93,column:12},end:{line:93,column:70}},44:{start:{line:94,column:12},end:{line:94,column:25}},45:{start:{line:98,column:8},end:{line:101,column:9}},46:{start:{line:99,column:12},end:{line:99,column:72}},47:{start:{line:100,column:12},end:{line:100,column:25}},48:{start:{line:106,column:28},end:{line:106,column:54}},49:{start:{line:107,column:8},end:{line:110,column:9}},50:{start:{line:108,column:12},end:{line:108,column:73}},51:{start:{line:109,column:12},end:{line:109,column:25}},52:{start:{line:113,column:29},end:{line:113,column:31}},53:{start:{line:114,column:19},end:{line:114,column:36}},54:{start:{line:115,column:8},end:{line:125,column:9}},55:{start:{line:116,column:30},end:{line:116,column:88}},56:{start:{line:117,column:34},end:{line:117,column:50}},57:{start:{line:118,column:12},end:{line:121,column:13}},58:{start:{line:119,column:16},end:{line:119,column:93}},59:{start:{line:120,column:16},end:{line:120,column:29}},60:{start:{line:123,column:12},end:{line:123,column:48}},61:{start:{line:124,column:12},end:{line:124,column:36}},62:{start:{line:128,column:29},end:{line:128,column:71}},63:{start:{line:129,column:8},end:{line:131,column:9}},64:{start:{line:130,column:12},end:{line:130,column:57}},65:{start:{line:133,column:8},end:{line:133,column:20}},66:{start:{line:143,column:8},end:{line:143,column:28}},67:{start:{line:147,column:21},end:{line:147,column:38}},68:{start:{line:148,column:25},end:{line:148,column:36}},69:{start:{line:149,column:25},end:{line:149,column:65}},70:{start:{line:150,column:8},end:{line:182,column:9}},71:{start:{line:152,column:12},end:{line:152,column:41}},72:{start:{line:155,column:32},end:{line:155,column:58}},73:{start:{line:159,column:35},end:{line:159,column:57}},74:{start:{line:160,column:12},end:{line:168,column:13}},75:{start:{line:161,column:30},end:{line:161,column:52}},76:{start:{line:162,column:29},end:{line:162,column:41}},77:{start:{line:163,column:30},end:{line:163,column:72}},78:{start:{line:164,column:16},end:{line:164,column:70}},79:{start:{line:166,column:29},end:{line:166,column:115}},80:{start:{line:167,column:16},end:{line:167,column:59}},81:{start:{line:171,column:28},end:{line:171,column:42}},82:{start:{line:172,column:12},end:{line:172,column:44}},83:{start:{line:173,column:12},end:{line:173,column:81}},84:{start:{line:174,column:12},end:{line:174,column:76}},85:{start:{line:177,column:12},end:{line:181,column:13}},86:{start:{line:178,column:30},end:{line:178,column:44}},87:{start:{line:179,column:31},end:{line:179,column:59}},88:{start:{line:180,column:16},end:{line:180,column:41}},89:{start:{line:185,column:8},end:{line:188,column:9}},90:{start:{line:186,column:27},end:{line:186,column:55}},91:{start:{line:187,column:12},end:{line:187,column:37}},92:{start:{line:198,column:21},end:{line:198,column:39}},93:{start:{line:199,column:27},end:{line:199,column:59}},94:{start:{line:200,column:8},end:{line:202,column:9}},95:{start:{line:201,column:12},end:{line:201,column:38}},96:{start:{line:206,column:25},end:{line:206,column:71}},97:{start:{line:207,column:8},end:{line:209,column:9}},98:{start:{line:208,column:12},end:{line:208,column:40}},99:{start:{line:211,column:8},end:{line:211,column:62}},100:{start:{line:220,column:8},end:{line:221,column:49}},101:{start:{line:231,column:21},end:{line:231,column:34}},102:{start:{line:232,column:27},end:{line:232,column:59}},103:{start:{line:233,column:8},end:{line:235,column:9}},104:{start:{line:234,column:12},end:{line:234,column:38}},105:{start:{line:238,column:8},end:{line:241,column:9}},106:{start:{line:239,column:12},end:{line:239,column:75}},107:{start:{line:240,column:12},end:{line:240,column:41}},108:{start:{line:245,column:25},end:{line:245,column:72}},109:{start:{line:246,column:8},end:{line:249,column:9}},110:{start:{line:247,column:12},end:{line:247,column:71}},111:{start:{line:248,column:12},end:{line:248,column:40}},112:{start:{line:253,column:28},end:{line:253,column:41}},113:{start:{line:254,column:8},end:{line:257,column:9}},114:{start:{line:255,column:12},end:{line:255,column:73}},115:{start:{line:256,column:12},end:{line:256,column:41}},116:{start:{line:260,column:27},end:{line:260,column:64}},117:{start:{line:261,column:8},end:{line:268,column:9}},118:{start:{line:262,column:12},end:{line:265,column:13}},119:{start:{line:263,column:16},end:{line:263,column:75}},120:{start:{line:264,column:16},end:{line:264,column:45}},121:{start:{line:267,column:12},end:{line:267,column:95}},122:{start:{line:271,column:26},end:{line:271,column:91}},123:{start:{line:272,column:30},end:{line:272,column:46}},124:{start:{line:273,column:8},end:{line:276,column:9}},125:{start:{line:274,column:12},end:{line:274,column:81}},126:{start:{line:275,column:12},end:{line:275,column:41}},127:{start:{line:278,column:22},end:{line:278,column:50}},128:{start:{line:279,column:8},end:{line:279,column:62}},129:{start:{line:291,column:26},end:{line:291,column:61}},130:{start:{line:294,column:8},end:{line:320,column:9}},131:{start:{line:296,column:12},end:{line:296,column:41}},132:{start:{line:297,column:12},end:{line:297,column:52}},133:{start:{line:299,column:28},end:{line:299,column:64}},134:{start:{line:300,column:12},end:{line:300,column:59}},135:{start:{line:301,column:12},end:{line:301,column:63}},136:{start:{line:302,column:12},end:{line:302,column:35}},137:{start:{line:305,column:12},end:{line:305,column:40}},138:{start:{line:306,column:12},end:{line:306,column:39}},139:{start:{line:309,column:12},end:{line:314,column:13}},140:{start:{line:310,column:38},end:{line:310,column:61}},141:{start:{line:311,column:16},end:{line:313,column:17}},142:{start:{line:312,column:20},end:{line:312,column:90}},143:{start:{line:317,column:12},end:{line:317,column:72}},144:{start:{line:319,column:12},end:{line:319,column:41}},145:{start:{line:323,column:8},end:{line:328,column:9}},146:{start:{line:325,column:12},end:{line:325,column:55}},147:{start:{line:327,column:12},end:{line:327,column:43}},148:{start:{line:331,column:8},end:{line:331,column:180}},149:{start:{line:332,column:8},end:{line:332,column:61}},150:{start:{line:334,column:8},end:{line:334,column:35}},151:{start:{line:344,column:8},end:{line:344,column:174}},152:{start:{line:349,column:26},end:{line:349,column:28}},153:{start:{line:350,column:27},end:{line:350,column:29}},154:{start:{line:352,column:22},end:{line:352,column:31}},155:{start:{line:353,column:22},end:{line:353,column:31}},156:{start:{line:354,column:8},end:{line:361,column:9}},157:{start:{line:355,column:12},end:{line:355,column:36}},158:{start:{line:356,column:12},end:{line:356,column:37}},159:{start:{line:358,column:12},end:{line:358,column:44}},160:{start:{line:359,column:12},end:{line:359,column:62}},161:{start:{line:360,column:12},end:{line:360,column:88}},162:{start:{line:363,column:8},end:{line:363,column:108}},163:{start:{line:363,column:31},end:{line:363,column:106}},164:{start:{line:366,column:29},end:{line:366,column:36}},165:{start:{line:368,column:29},end:{line:368,column:36}},166:{start:{line:371,column:24},end:{line:371,column:65}},167:{start:{line:373,column:28},end:{line:373,column:30}},168:{start:{line:375,column:23},end:{line:375,column:37}},169:{start:{line:377,column:23},end:{line:377,column:38}},170:{start:{line:380,column:8},end:{line:389,column:9}},171:{start:{line:381,column:12},end:{line:381,column:41}},172:{start:{line:382,column:12},end:{line:382,column:47}},173:{start:{line:383,column:12},end:{line:383,column:57}},174:{start:{line:384,column:12},end:{line:384,column:39}},175:{start:{line:386,column:12},end:{line:386,column:46}},176:{start:{line:387,column:12},end:{line:387,column:64}},177:{start:{line:388,column:12},end:{line:388,column:95}},178:{start:{line:392,column:8},end:{line:392,column:76}},179:{start:{line:393,column:8},end:{line:393,column:61}},180:{start:{line:396,column:8},end:{line:401,column:9}},181:{start:{line:397,column:29},end:{line:397,column:41}},182:{start:{line:398,column:12},end:{line:398,column:40}},183:{start:{line:399,column:12},end:{line:399,column:75}},184:{start:{line:400,column:12},end:{line:400,column:62}},185:{start:{line:403,column:8},end:{line:403,column:31}},186:{start:{line:407,column:8},end:{line:407,column:27}},187:{start:{line:410,column:8},end:{line:412,column:9}},188:{start:{line:411,column:12},end:{line:411,column:59}},189:{start:{line:415,column:8},end:{line:419,column:9}},190:{start:{line:416,column:12},end:{line:416,column:43}},191:{start:{line:417,column:12},end:{line:417,column:43}},192:{start:{line:418,column:12},end:{line:418,column:72}},193:{start:{line:427,column:8},end:{line:432,column:11}},194:{start:{line:428,column:12},end:{line:430,column:13}},195:{start:{line:429,column:16},end:{line:429,column:58}},196:{start:{line:431,column:12},end:{line:431,column:31}},197:{start:{line:437,column:8},end:{line:437,column:36}},198:{start:{line:442,column:8},end:{line:442,column:30}},199:{start:{line:447,column:8},end:{line:447,column:43}},200:{start:{line:450,column:0},end:{line:450,column:26}},201:{start:{line:451,column:0},end:{line:451,column:27}},202:{start:{line:452,column:0},end:{line:452,column:23}},203:{start:{line:453,column:0},end:{line:453,column:26}},204:{start:{line:454,column:0},end:{line:454,column:28}},205:{start:{line:455,column:0},end:{line:455,column:24}},206:{start:{line:456,column:0},end:{line:456,column:26}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:22},end:{line:22,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:24,column:4},end:{line:24,column:5}},loc:{start:{line:24,column:18},end:{line:29,column:5}},line:24},2:{name:"(anonymous_2)",decl:{start:{line:35,column:4},end:{line:35,column:5}},loc:{start:{line:35,column:21},end:{line:38,column:5}},line:35},3:{name:"(anonymous_3)",decl:{start:{line:45,column:4},end:{line:45,column:5}},loc:{start:{line:45,column:28},end:{line:134,column:5}},line:45},4:{name:"(anonymous_4)",decl:{start:{line:142,column:4},end:{line:142,column:5}},loc:{start:{line:142,column:38},end:{line:189,column:5}},line:142},5:{name:"(anonymous_5)",decl:{start:{line:196,column:4},end:{line:196,column:5}},loc:{start:{line:196,column:28},end:{line:212,column:5}},line:196},6:{name:"(anonymous_6)",decl:{start:{line:218,column:4},end:{line:218,column:5}},loc:{start:{line:218,column:23},end:{line:222,column:5}},line:218},7:{name:"(anonymous_7)",decl:{start:{line:229,column:4},end:{line:229,column:5}},loc:{start:{line:229,column:30},end:{line:280,column:5}},line:229},8:{name:"(anonymous_8)",decl:{start:{line:289,column:4},end:{line:289,column:5}},loc:{start:{line:289,column:57},end:{line:335,column:5}},line:289},9:{name:"(anonymous_9)",decl:{start:{line:343,column:4},end:{line:343,column:5}},loc:{start:{line:343,column:42},end:{line:420,column:5}},line:343},10:{name:"(anonymous_10)",decl:{start:{line:363,column:25},end:{line:363,column:26}},loc:{start:{line:363,column:31},end:{line:363,column:106}},line:363},11:{name:"(anonymous_11)",decl:{start:{line:426,column:4},end:{line:426,column:5}},loc:{start:{line:426,column:20},end:{line:433,column:5}},line:426},12:{name:"(anonymous_12)",decl:{start:{line:427,column:55},end:{line:427,column:56}},loc:{start:{line:427,column:67},end:{line:432,column:9}},line:427},13:{name:"(anonymous_13)",decl:{start:{line:436,column:4},end:{line:436,column:5}},loc:{start:{line:436,column:15},end:{line:438,column:5}},line:436},14:{name:"(anonymous_14)",decl:{start:{line:441,column:4},end:{line:441,column:5}},loc:{start:{line:441,column:19},end:{line:443,column:5}},line:441},15:{name:"(anonymous_15)",decl:{start:{line:446,column:4},end:{line:446,column:5}},loc:{start:{line:446,column:17},end:{line:448,column:5}},line:446}},branchMap:{0:{loc:{start:{line:51,column:12},end:{line:53,column:13}},type:"if",locations:[{start:{line:51,column:12},end:{line:53,column:13}},{start:{line:51,column:12},end:{line:53,column:13}}],line:51},1:{loc:{start:{line:51,column:16},end:{line:51,column:49}},type:"binary-expr",locations:[{start:{line:51,column:16},end:{line:51,column:27}},{start:{line:51,column:31},end:{line:51,column:49}}],line:51},2:{loc:{start:{line:59,column:12},end:{line:61,column:13}},type:"if",locations:[{start:{line:59,column:12},end:{line:61,column:13}},{start:{line:59,column:12},end:{line:61,column:13}}],line:59},3:{loc:{start:{line:59,column:16},end:{line:59,column:43}},type:"binary-expr",locations:[{start:{line:59,column:16},end:{line:59,column:27}},{start:{line:59,column:31},end:{line:59,column:43}}],line:59},4:{loc:{start:{line:70,column:12},end:{line:75,column:13}},type:"if",locations:[{start:{line:70,column:12},end:{line:75,column:13}},{start:{line:70,column:12},end:{line:75,column:13}}],line:70},5:{loc:{start:{line:72,column:19},end:{line:75,column:13}},type:"if",locations:[{start:{line:72,column:19},end:{line:75,column:13}},{start:{line:72,column:19},end:{line:75,column:13}}],line:72},6:{loc:{start:{line:83,column:12},end:{line:88,column:13}},type:"if",locations:[{start:{line:83,column:12},end:{line:88,column:13}},{start:{line:83,column:12},end:{line:88,column:13}}],line:83},7:{loc:{start:{line:85,column:19},end:{line:88,column:13}},type:"if",locations:[{start:{line:85,column:19},end:{line:88,column:13}},{start:{line:85,column:19},end:{line:88,column:13}}],line:85},8:{loc:{start:{line:92,column:8},end:{line:95,column:9}},type:"if",locations:[{start:{line:92,column:8},end:{line:95,column:9}},{start:{line:92,column:8},end:{line:95,column:9}}],line:92},9:{loc:{start:{line:98,column:8},end:{line:101,column:9}},type:"if",locations:[{start:{line:98,column:8},end:{line:101,column:9}},{start:{line:98,column:8},end:{line:101,column:9}}],line:98},10:{loc:{start:{line:98,column:12},end:{line:98,column:93}},type:"binary-expr",locations:[{start:{line:98,column:12},end:{line:98,column:44}},{start:{line:98,column:48},end:{line:98,column:93}}],line:98},11:{loc:{start:{line:107,column:8},end:{line:110,column:9}},type:"if",locations:[{start:{line:107,column:8},end:{line:110,column:9}},{start:{line:107,column:8},end:{line:110,column:9}}],line:107},12:{loc:{start:{line:107,column:12},end:{line:107,column:108}},type:"binary-expr",locations:[{start:{line:107,column:12},end:{line:107,column:41}},{start:{line:107,column:45},end:{line:107,column:68}},{start:{line:107,column:72},end:{line:107,column:108}}],line:107},13:{loc:{start:{line:118,column:12},end:{line:121,column:13}},type:"if",locations:[{start:{line:118,column:12},end:{line:121,column:13}},{start:{line:118,column:12},end:{line:121,column:13}}],line:118},14:{loc:{start:{line:128,column:29},end:{line:128,column:71}},type:"binary-expr",locations:[{start:{line:128,column:29},end:{line:128,column:40}},{start:{line:128,column:44},end:{line:128,column:71}}],line:128},15:{loc:{start:{line:129,column:8},end:{line:131,column:9}},type:"if",locations:[{start:{line:129,column:8},end:{line:131,column:9}},{start:{line:129,column:8},end:{line:131,column:9}}],line:129},16:{loc:{start:{line:150,column:8},end:{line:182,column:9}},type:"if",locations:[{start:{line:150,column:8},end:{line:182,column:9}},{start:{line:150,column:8},end:{line:182,column:9}}],line:150},17:{loc:{start:{line:150,column:12},end:{line:150,column:54}},type:"binary-expr",locations:[{start:{line:150,column:12},end:{line:150,column:21}},{start:{line:150,column:25},end:{line:150,column:54}}],line:150},18:{loc:{start:{line:200,column:8},end:{line:202,column:9}},type:"if",locations:[{start:{line:200,column:8},end:{line:202,column:9}},{start:{line:200,column:8},end:{line:202,column:9}}],line:200},19:{loc:{start:{line:207,column:8},end:{line:209,column:9}},type:"if",locations:[{start:{line:207,column:8},end:{line:209,column:9}},{start:{line:207,column:8},end:{line:209,column:9}}],line:207},20:{loc:{start:{line:207,column:12},end:{line:207,column:54}},type:"binary-expr",locations:[{start:{line:207,column:12},end:{line:207,column:21}},{start:{line:207,column:25},end:{line:207,column:54}}],line:207},21:{loc:{start:{line:233,column:8},end:{line:235,column:9}},type:"if",locations:[{start:{line:233,column:8},end:{line:235,column:9}},{start:{line:233,column:8},end:{line:235,column:9}}],line:233},22:{loc:{start:{line:238,column:8},end:{line:241,column:9}},type:"if",locations:[{start:{line:238,column:8},end:{line:241,column:9}},{start:{line:238,column:8},end:{line:241,column:9}}],line:238},23:{loc:{start:{line:246,column:8},end:{line:249,column:9}},type:"if",locations:[{start:{line:246,column:8},end:{line:249,column:9}},{start:{line:246,column:8},end:{line:249,column:9}}],line:246},24:{loc:{start:{line:246,column:12},end:{line:246,column:54}},type:"binary-expr",locations:[{start:{line:246,column:12},end:{line:246,column:21}},{start:{line:246,column:25},end:{line:246,column:54}}],line:246},25:{loc:{start:{line:254,column:8},end:{line:257,column:9}},type:"if",locations:[{start:{line:254,column:8},end:{line:257,column:9}},{start:{line:254,column:8},end:{line:257,column:9}}],line:254},26:{loc:{start:{line:261,column:8},end:{line:268,column:9}},type:"if",locations:[{start:{line:261,column:8},end:{line:268,column:9}},{start:{line:261,column:8},end:{line:268,column:9}}],line:261},27:{loc:{start:{line:262,column:12},end:{line:265,column:13}},type:"if",locations:[{start:{line:262,column:12},end:{line:265,column:13}},{start:{line:262,column:12},end:{line:265,column:13}}],line:262},28:{loc:{start:{line:273,column:8},end:{line:276,column:9}},type:"if",locations:[{start:{line:273,column:8},end:{line:276,column:9}},{start:{line:273,column:8},end:{line:276,column:9}}],line:273},29:{loc:{start:{line:294,column:8},end:{line:320,column:9}},type:"if",locations:[{start:{line:294,column:8},end:{line:320,column:9}},{start:{line:294,column:8},end:{line:320,column:9}}],line:294},30:{loc:{start:{line:309,column:12},end:{line:314,column:13}},type:"if",locations:[{start:{line:309,column:12},end:{line:314,column:13}},{start:{line:309,column:12},end:{line:314,column:13}}],line:309},31:{loc:{start:{line:311,column:16},end:{line:313,column:17}},type:"if",locations:[{start:{line:311,column:16},end:{line:313,column:17}},{start:{line:311,column:16},end:{line:313,column:17}}],line:311},32:{loc:{start:{line:323,column:8},end:{line:328,column:9}},type:"if",locations:[{start:{line:323,column:8},end:{line:328,column:9}},{start:{line:323,column:8},end:{line:328,column:9}}],line:323},33:{loc:{start:{line:399,column:42},end:{line:399,column:74}},type:"cond-expr",locations:[{start:{line:399,column:50},end:{line:399,column:67}},{start:{line:399,column:70},end:{line:399,column:74}}],line:399},34:{loc:{start:{line:428,column:12},end:{line:430,column:13}},type:"if",locations:[{start:{line:428,column:12},end:{line:430,column:13}},{start:{line:428,column:12},end:{line:430,column:13}}],line:428}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class NanoChain extends BaseChain{constructor(n){Qn.f[0]++;Qn.s[0]++;super(ChainDataStore.createVolatile());Qn.s[1]++;this._time=n;Qn.s[2]++;this._proof=new ChainProof(new BlockChain([GenesisConfig.GENESIS_BLOCK.toLight()]),new HeaderChain([]));Qn.s[3]++;this._headHash=GenesisConfig.GENESIS_HASH;Qn.s[4]++;this._synchronizer=new PrioritySynchronizer(2);Qn.s[5]++;return this._init()}async _init(){Qn.f[1]++;Qn.s[6]++;this._mainChain=await ChainData.initial(GenesisConfig.GENESIS_BLOCK);Qn.s[7]++;await this._store.putChainData(GenesisConfig.GENESIS_HASH,this._mainChain);Qn.s[8]++;return this}pushProof(n){Qn.f[2]++;Qn.s[9]++;return this._synchronizer.push(0,this._pushProof.bind(this,n))}async _pushProof(n){Qn.f[3]++;const e=(Qn.s[10]++,[]);Qn.s[11]++;for(let c=0;c<n.prefix.length;++c){const l=(Qn.s[12]++,n.prefix.blocks[c]),t=(Qn.s[13]++,l.hash()),o=(Qn.s[14]++,await this._store.getBlock(t));Qn.s[15]++;if((Qn.b[1][0]++,o)||(Qn.b[1][1]++,l.header._pow))Qn.b[0][1]++;else{Qn.b[0][0]++;Qn.s[16]++;e.push(l.header)}}Qn.s[17]++;for(let c=0;c<n.suffix.length;++c){const l=(Qn.s[18]++,n.suffix.headers[c]),t=(Qn.s[19]++,l.hash()),o=(Qn.s[20]++,await this._store.getBlock(t));Qn.s[21]++;if((Qn.b[3][0]++,o)||(Qn.b[3][1]++,l._pow))Qn.b[2][1]++;else{Qn.b[2][0]++;Qn.s[22]++;e.push(l)}}Qn.s[23]++;await BaseChain.manyPow(e);Qn.s[24]++;for(let c=0;c<n.prefix.length;c++){const e=(Qn.s[25]++,n.prefix.blocks[c]),l=(Qn.s[26]++,e.hash()),t=(Qn.s[27]++,await this._store.getBlock(l));Qn.s[28]++;if(t){Qn.b[4][0]++;Qn.s[29]++;n.prefix.blocks[c]=t.toLight()}else{Qn.b[4][1]++;Qn.s[30]++;if(!(await e.verify(this._time))){Qn.b[5][0]++;Qn.s[31]++;Log.w(NanoChain,"Rejecting proof - prefix contains invalid block");Qn.s[32]++;return!1}Qn.b[5][1]++}}Qn.s[33]++;for(let c=0;c<n.suffix.length;c++){const e=(Qn.s[34]++,n.suffix.headers[c]),l=(Qn.s[35]++,e.hash()),t=(Qn.s[36]++,await this._store.getBlock(l));Qn.s[37]++;if(t){Qn.b[6][0]++;Qn.s[38]++;n.suffix.headers[c]=t.header}else{Qn.b[6][1]++;Qn.s[39]++;if(!(await e.verifyProofOfWork())){Qn.b[7][0]++;Qn.s[40]++;Log.w(NanoChain,"Rejecting proof - suffix contains invalid header");Qn.s[41]++;return!1}Qn.b[7][1]++}}Qn.s[42]++;if(!(await n.verify())){Qn.b[8][0]++;Qn.s[43]++;Log.w(NanoChain,"Rejecting proof - verification failed");Qn.s[44]++;return!1}Qn.b[8][1]++;Qn.s[45]++;if((Qn.b[10][0]++,n.suffix.length!==Policy.K)&&(Qn.b[10][1]++,n.suffix.length!==n.head.height-1)){Qn.b[9][0]++;Qn.s[46]++;Log.w(NanoChain,"Rejecting proof - invalid suffix length");Qn.s[47]++;return!1}Qn.b[9][1]++;const l=(Qn.s[48]++,n.prefix.denseSuffix());Qn.s[49]++;if((Qn.b[12][0]++,l.length<Policy.M)&&(Qn.b[12][1]++,n.prefix.length>0)&&(Qn.b[12][2]++,n.prefix.head.height>=Policy.M)){Qn.b[11][0]++;Qn.s[50]++;Log.w(NanoChain,"Rejecting proof - dense suffix too short");Qn.s[51]++;return!1}Qn.b[11][1]++;const t=(Qn.s[52]++,[]);let o=(Qn.s[53]++,n.prefix.head);Qn.s[54]++;for(const c of n.suffix.headers){const n=(Qn.s[55]++,await o.getNextInterlink(c.target,c.version)),e=(Qn.s[56]++,n.hash());Qn.s[57]++;if(!c.interlinkHash.equals(e)){Qn.b[13][0]++;Qn.s[58]++;Log.w(NanoChain,"Rejecting proof - invalid interlink hash in proof suffix");Qn.s[59]++;return!1}Qn.b[13][1]++;Qn.s[60]++;o=new Block(c,n);Qn.s[61]++;t.push(o)}const i=(Qn.s[62]++,(Qn.b[14][0]++,this._proof)||(Qn.b[14][1]++,await this._getChainProof()));Qn.s[63]++;if(await BaseChain.isBetterProof(n,i,Policy.M)){Qn.b[15][0]++;Qn.s[64]++;await this._acceptProof(n,t)}else Qn.b[15][1]++;Qn.s[65]++;return!0}async _acceptProof(n,e){Qn.f[4]++;Qn.s[66]++;this._proof=n;const l=(Qn.s[67]++,n.prefix.head),t=(Qn.s[68]++,l.hash()),o=(Qn.s[69]++,await this._store.getChainData(t));Qn.s[70]++;if((Qn.b[17][0]++,!o)||(Qn.b[17][1]++,o.totalDifficulty<=0)){Qn.b[16][0]++;Qn.s[71]++;await this._store.truncate();const e=(Qn.s[72]++,n.prefix.denseSuffix());let l=(Qn.s[73]++,new SuperBlockCounts);Qn.s[74]++;for(let o=0;o<n.prefix.length-e.length;o++){const e=(Qn.s[75]++,n.prefix.blocks[o]),t=(Qn.s[76]++,e.hash()),i=(Qn.s[77]++,BlockUtils.getHashDepth(await e.pow()));Qn.s[78]++;l=l.copyAndAdd(i);const c=(Qn.s[79]++,new ChainData(e,-1,-1,l,!0));Qn.s[80]++;await this._store.putChainData(t,c)}const t=(Qn.s[81]++,e[0]);Qn.s[82]++;this._headHash=t.hash();Qn.s[83]++;this._mainChain=await ChainData.initial(t,l);Qn.s[84]++;await this._store.putChainData(this._headHash,this._mainChain);Qn.s[85]++;for(let n=1;n<e.length;n++){const l=(Qn.s[86]++,e[n]),t=(Qn.s[87]++,await this._pushBlock(l));Qn.s[88]++;Assert.that(t>=0)}}else Qn.b[16][1]++;Qn.s[89]++;for(const i of e){const n=(Qn.s[90]++,await this._pushBlock(i));Qn.s[91]++;Assert.that(n>=0)}}async _pushBlock(n){Qn.f[5]++;const e=(Qn.s[92]++,await n.hash()),l=(Qn.s[93]++,await this._store.getBlock(e));Qn.s[94]++;if(l){Qn.b[18][0]++;Qn.s[95]++;return NanoChain.OK_KNOWN}Qn.b[18][1]++;const t=(Qn.s[96]++,await this._store.getChainData(n.prevHash));Qn.s[97]++;if((Qn.b[20][0]++,!t)||(Qn.b[20][1]++,t.totalDifficulty<=0)){Qn.b[19][0]++;Qn.s[98]++;return NanoChain.ERR_ORPHAN}Qn.b[19][1]++;Qn.s[99]++;return this._pushBlockInternal(n,e,t)}pushHeader(n){Qn.f[6]++;Qn.s[100]++;return this._synchronizer.push(0,this._pushHeader.bind(this,n))}async _pushHeader(n){Qn.f[7]++;const e=(Qn.s[101]++,n.hash()),l=(Qn.s[102]++,await this._store.getBlock(e));Qn.s[103]++;if(l){Qn.b[21][0]++;Qn.s[104]++;return NanoChain.OK_KNOWN}Qn.b[21][1]++;Qn.s[105]++;if(!(await n.verifyProofOfWork())){Qn.b[22][0]++;Qn.s[106]++;Log.w(NanoChain,"Rejecting header - PoW verification failed");Qn.s[107]++;return NanoChain.ERR_INVALID}Qn.b[22][1]++;const t=(Qn.s[108]++,await this._store.getChainData(n.prevHash));Qn.s[109]++;if((Qn.b[24][0]++,!t)||(Qn.b[24][1]++,t.totalDifficulty<=0)){Qn.b[23][0]++;Qn.s[110]++;Log.w(NanoChain,"Rejecting header - unknown predecessor");Qn.s[111]++;return NanoChain.ERR_ORPHAN}Qn.b[23][1]++;const o=(Qn.s[112]++,t.head);Qn.s[113]++;if(!n.isImmediateSuccessorOf(o.header)){Qn.b[25][0]++;Qn.s[114]++;Log.w(NanoChain,"Rejecting header - not a valid successor");Qn.s[115]++;return NanoChain.ERR_INVALID}Qn.b[25][1]++;const i=(Qn.s[116]++,await this.getNextTarget(o));Qn.s[117]++;if(BlockUtils.isValidTarget(i)){Qn.b[26][0]++;Qn.s[118]++;if(n.nBits!==BlockUtils.targetToCompact(i)){Qn.b[27][0]++;Qn.s[119]++;Log.w(NanoChain,"Rejecting header - difficulty mismatch");Qn.s[120]++;return NanoChain.ERR_INVALID}Qn.b[27][1]++}else{Qn.b[26][1]++;Qn.s[121]++;Log.w(NanoChain,"Skipping difficulty verification - not enough blocks available")}const c=(Qn.s[122]++,await o.getNextInterlink(n.target,n.version)),s=(Qn.s[123]++,c.hash());Qn.s[124]++;if(!s.equals(n.interlinkHash)){Qn.b[28][0]++;Qn.s[125]++;Log.w(NanoChain,"Rejecting header - interlink verification failed");Qn.s[126]++;return NanoChain.ERR_INVALID}Qn.b[28][1]++;const u=(Qn.s[127]++,new Block(n,c));Qn.s[128]++;return this._pushBlockInternal(u,e,t)}async _pushBlockInternal(n,e,l){Qn.f[8]++;const t=(Qn.s[129]++,await l.nextChainData(n));Qn.s[130]++;if(n.prevHash.equals(this.headHash)){Qn.b[29][0]++;Qn.s[131]++;t.onMainChain=!0;Qn.s[132]++;l.mainChainSuccessor=e;const o=(Qn.s[133]++,this._store.synchronousTransaction());Qn.s[134]++;o.putChainDataSync(e,t);Qn.s[135]++;o.putChainDataSync(n.prevHash,l);Qn.s[136]++;await o.commit();Qn.s[137]++;this._mainChain=t;Qn.s[138]++;this._headHash=e;Qn.s[139]++;if(this._proof){Qn.b[30][0]++;const e=(Qn.s[140]++,this._proof.head.hash());Qn.s[141]++;if(n.prevHash.equals(e)){Qn.b[31][0]++;Qn.s[142]++;this._proof=await this._extendChainProof(this._proof,n.header)}else Qn.b[31][1]++}else Qn.b[30][1]++;Qn.s[143]++;this.fire("head-changed",this.head,!1);Qn.s[144]++;return NanoChain.OK_EXTENDED}Qn.b[29][1]++;Qn.s[145]++;if(t.totalDifficulty>this._mainChain.totalDifficulty){Qn.b[32][0]++;Qn.s[146]++;await this._rebranch(e,t);Qn.s[147]++;return NanoChain.OK_REBRANCHED}Qn.b[32][1]++;Qn.s[148]++;Log.v(NanoChain,`Creating/extending fork with block ${e}, height=${n.height}, totalDifficulty=${t.totalDifficulty}, totalWork=${t.totalWork}`);Qn.s[149]++;await this._store.putChainData(e,t);Qn.s[150]++;return NanoChain.OK_FORKED}async _rebranch(n,e){Qn.f[9]++;Qn.s[151]++;Log.v(NanoChain,`Rebranching to fork ${n}, height=${e.head.height}, totalDifficulty=${e.totalDifficulty}, totalWork=${e.totalWork}`);const l=(Qn.s[152]++,[]),t=(Qn.s[153]++,[]);let o=(Qn.s[154]++,e),i=(Qn.s[155]++,n);Qn.s[156]++;for(;!o.onMainChain;){Qn.s[157]++;l.push(o);Qn.s[158]++;t.push(i);Qn.s[159]++;i=o.head.prevHash;Qn.s[160]++;o=await this._store.getChainData(i);Qn.s[161]++;Assert.that(!!o,"Failed to find fork predecessor while rebranching")}Qn.s[162]++;Log.v(NanoChain,()=>{Qn.f[10]++;Qn.s[163]++;return`Found common ancestor ${i.toBase64()} ${l.length} blocks up`});const c=(Qn.s[164]++,o),s=(Qn.s[165]++,i),u=(Qn.s[166]++,this._store.synchronousTransaction(!1)),m=(Qn.s[167]++,[]);let r=(Qn.s[168]++,this._headHash),a=(Qn.s[169]++,this._mainChain);Qn.s[170]++;for(;!r.equals(s);){Qn.s[171]++;a.onMainChain=!1;Qn.s[172]++;a.mainChainSuccessor=null;Qn.s[173]++;u.putChainDataSync(r,a);Qn.s[174]++;m.push(a);Qn.s[175]++;r=a.head.prevHash;Qn.s[176]++;a=await this._store.getChainData(r);Qn.s[177]++;Assert.that(!!a,"Failed to find main chain predecessor while rebranching")}Qn.s[178]++;c.mainChainSuccessor=t[t.length-1];Qn.s[179]++;u.putChainDataSync(s,c);Qn.s[180]++;for(let d=l.length-1;d>=0;d--){const n=(Qn.s[181]++,l[d]);Qn.s[182]++;n.onMainChain=!0;Qn.s[183]++;n.mainChainSuccessor=d>0?(Qn.b[33][0]++,t[d-1]):(Qn.b[33][1]++,null);Qn.s[184]++;u.putChainDataSync(t[d],n)}Qn.s[185]++;await u.commit();Qn.s[186]++;this._proof=null;Qn.s[187]++;for(const d of m){Qn.s[188]++;this.fire("block-reverted",d.head)}Qn.s[189]++;for(let d=l.length-1;d>=0;d--){Qn.s[190]++;this._mainChain=l[d];Qn.s[191]++;this._headHash=t[d];Qn.s[192]++;this.fire("head-changed",this.head,d>0)}}getChainProof(){Qn.f[11]++;Qn.s[193]++;return this._synchronizer.push(1,async()=>{Qn.f[12]++;Qn.s[194]++;if(this._proof)Qn.b[34][1]++;else{Qn.b[34][0]++;Qn.s[195]++;this._proof=await this._getChainProof()}Qn.s[196]++;return this._proof})}get head(){Qn.f[13]++;Qn.s[197]++;return this._mainChain.head}get headHash(){Qn.f[14]++;Qn.s[198]++;return this._headHash}get height(){Qn.f[15]++;Qn.s[199]++;return this._mainChain.head.height}}Qn.s[200]++;NanoChain.ERR_ORPHAN=-2;Qn.s[201]++;NanoChain.ERR_INVALID=-1;Qn.s[202]++;NanoChain.OK_KNOWN=0;Qn.s[203]++;NanoChain.OK_EXTENDED=1;Qn.s[204]++;NanoChain.OK_REBRANCHED=2;Qn.s[205]++;NanoChain.OK_FORKED=3;Qn.s[206]++;Class.register(NanoChain);var $n=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/nano/NanoConsensusAgent.js",e="31ef05564ab20f651bdbdb753513334218397a8a",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/nano/NanoConsensusAgent.js",statementMap:{0:{start:{line:10,column:8},end:{line:10,column:46}},1:{start:{line:12,column:8},end:{line:12,column:38}},2:{start:{line:14,column:8},end:{line:14,column:32}},3:{start:{line:18,column:8},end:{line:18,column:30}},4:{start:{line:21,column:8},end:{line:21,column:34}},5:{start:{line:24,column:8},end:{line:24,column:37}},6:{start:{line:27,column:8},end:{line:27,column:42}},7:{start:{line:30,column:8},end:{line:30,column:71}},8:{start:{line:30,column:46},end:{line:30,column:69}},9:{start:{line:31,column:8},end:{line:31,column:77}},10:{start:{line:31,column:49},end:{line:31,column:75}},11:{start:{line:33,column:8},end:{line:33,column:78}},12:{start:{line:33,column:50},end:{line:33,column:76}},13:{start:{line:36,column:8},end:{line:36,column:32}},14:{start:{line:43,column:8},end:{line:43,column:29}},15:{start:{line:45,column:26},end:{line:45,column:78}},16:{start:{line:46,column:8},end:{line:51,column:9}},17:{start:{line:47,column:12},end:{line:47,column:38}},18:{start:{line:48,column:12},end:{line:48,column:66}},19:{start:{line:50,column:12},end:{line:50,column:33}},20:{start:{line:57,column:22},end:{line:58,column:107}},21:{start:{line:59,column:8},end:{line:59,column:62}},22:{start:{line:59,column:25},end:{line:59,column:53}},23:{start:{line:67,column:8},end:{line:67,column:30}},24:{start:{line:68,column:8},end:{line:68,column:28}},25:{start:{line:70,column:8},end:{line:70,column:30}},26:{start:{line:72,column:8},end:{line:72,column:26}},27:{start:{line:81,column:8},end:{line:83,column:9}},28:{start:{line:82,column:12},end:{line:82,column:19}},29:{start:{line:86,column:8},end:{line:86,column:43}},30:{start:{line:87,column:8},end:{line:87,column:41}},31:{start:{line:90,column:8},end:{line:92,column:103}},32:{start:{line:91,column:12},end:{line:91,column:97}},33:{start:{line:101,column:8},end:{line:101,column:105}},34:{start:{line:105,column:8},end:{line:109,column:9}},35:{start:{line:106,column:12},end:{line:106,column:105}},36:{start:{line:108,column:12},end:{line:108,column:19}},37:{start:{line:110,column:8},end:{line:110,column:42}},38:{start:{line:112,column:8},end:{line:114,column:9}},39:{start:{line:113,column:12},end:{line:113,column:68}},40:{start:{line:117,column:8},end:{line:122,column:9}},41:{start:{line:118,column:12},end:{line:118,column:123}},42:{start:{line:120,column:12},end:{line:120,column:91}},43:{start:{line:121,column:12},end:{line:121,column:19}},44:{start:{line:127,column:8},end:{line:127,column:42}},45:{start:{line:129,column:8},end:{line:131,column:9}},46:{start:{line:130,column:12},end:{line:130,column:33}},47:{start:{line:139,column:8},end:{line:145,column:9}},48:{start:{line:140,column:27},end:{line:140,column:68}},49:{start:{line:141,column:12},end:{line:144,column:13}},50:{start:{line:142,column:16},end:{line:142,column:101}},51:{start:{line:143,column:16},end:{line:143,column:22}},52:{start:{line:146,column:8},end:{line:146,column:34}},53:{start:{line:157,column:23},end:{line:157,column:25}},54:{start:{line:159,column:29},end:{line:159,column:31}},55:{start:{line:160,column:8},end:{line:166,column:9}},56:{start:{line:161,column:12},end:{line:165,column:13}},57:{start:{line:162,column:16},end:{line:162,column:36}},58:{start:{line:164,column:16},end:{line:164,column:42}},59:{start:{line:169,column:8},end:{line:169,column:45}},60:{start:{line:170,column:8},end:{line:170,column:49}},61:{start:{line:181,column:8},end:{line:181,column:61}},62:{start:{line:191,column:8},end:{line:191,column:67}},63:{start:{line:203,column:23},end:{line:203,column:64}},64:{start:{line:204,column:8},end:{line:213,column:9}},65:{start:{line:205,column:12},end:{line:205,column:99}},66:{start:{line:208,column:13},end:{line:213,column:9}},67:{start:{line:209,column:12},end:{line:209,column:46}},68:{start:{line:210,column:12},end:{line:212,column:13}},69:{start:{line:211,column:16},end:{line:211,column:42}},70:{start:{line:224,column:8},end:{line:224,column:58}},71:{start:{line:232,column:22},end:{line:232,column:60}},72:{start:{line:233,column:8},end:{line:235,column:9}},73:{start:{line:234,column:12},end:{line:234,column:49}},74:{start:{line:244,column:8},end:{line:245,column:64}},75:{start:{line:255,column:8},end:{line:255,column:52}},76:{start:{line:257,column:8},end:{line:257,column:110}},77:{start:{line:259,column:8},end:{line:275,column:11}},78:{start:{line:260,column:12},end:{line:265,column:14}},79:{start:{line:268,column:12},end:{line:268,column:70}},80:{start:{line:271,column:12},end:{line:274,column:65}},81:{start:{line:272,column:16},end:{line:272,column:107}},82:{start:{line:273,column:16},end:{line:273,column:45}},83:{start:{line:284,column:8},end:{line:284,column:172}},84:{start:{line:287,column:8},end:{line:291,column:9}},85:{start:{line:288,column:12},end:{line:288,column:108}},86:{start:{line:290,column:12},end:{line:290,column:19}},87:{start:{line:293,column:26},end:{line:293,column:57}},88:{start:{line:294,column:26},end:{line:294,column:57}},89:{start:{line:295,column:24},end:{line:295,column:53}},90:{start:{line:296,column:23},end:{line:296,column:51}},91:{start:{line:299,column:8},end:{line:299,column:37}},92:{start:{line:301,column:8},end:{line:304,column:9}},93:{start:{line:302,column:12},end:{line:302,column:63}},94:{start:{line:303,column:12},end:{line:303,column:19}},95:{start:{line:307,column:8},end:{line:311,column:9}},96:{start:{line:308,column:12},end:{line:308,column:123}},97:{start:{line:309,column:12},end:{line:309,column:57}},98:{start:{line:310,column:12},end:{line:310,column:19}},99:{start:{line:314,column:22},end:{line:314,column:31}},100:{start:{line:315,column:8},end:{line:321,column:9}},101:{start:{line:316,column:12},end:{line:316,column:103}},102:{start:{line:318,column:12},end:{line:318,column:96}},103:{start:{line:319,column:12},end:{line:319,column:55}},104:{start:{line:320,column:12},end:{line:320,column:19}},105:{start:{line:324,column:25},end:{line:324,column:37}},106:{start:{line:325,column:22},end:{line:325,column:64}},107:{start:{line:326,column:8},end:{line:332,column:9}},108:{start:{line:327,column:12},end:{line:327,column:115}},109:{start:{line:329,column:12},end:{line:329,column:118}},110:{start:{line:330,column:12},end:{line:330,column:66}},111:{start:{line:331,column:12},end:{line:331,column:19}},112:{start:{line:336,column:25},end:{line:336,column:27}},113:{start:{line:337,column:8},end:{line:348,column:9}},114:{start:{line:338,column:12},end:{line:347,column:13}},115:{start:{line:339,column:32},end:{line:339,column:57}},116:{start:{line:340,column:16},end:{line:340,column:39}},117:{start:{line:342,column:16},end:{line:342,column:110}},118:{start:{line:344,column:16},end:{line:344,column:106}},119:{start:{line:345,column:16},end:{line:345,column:62}},120:{start:{line:346,column:16},end:{line:346,column:23}},121:{start:{line:351,column:8},end:{line:351,column:26}},122:{start:{line:361,column:8},end:{line:361,column:35}},123:{start:{line:362,column:8},end:{line:362,column:25}},124:{start:{line:369,column:0},end:{line:369,column:58}},125:{start:{line:374,column:0},end:{line:374,column:56}},126:{start:{line:379,column:0},end:{line:379,column:60}},127:{start:{line:384,column:0},end:{line:384,column:48}},128:{start:{line:389,column:0},end:{line:389,column:49}},129:{start:{line:390,column:0},end:{line:390,column:35}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:4},end:{line:9,column:5}},loc:{start:{line:9,column:69},end:{line:37,column:5}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:30,column:39},end:{line:30,column:40}},loc:{start:{line:30,column:46},end:{line:30,column:69}},line:30},2:{name:"(anonymous_2)",decl:{start:{line:31,column:42},end:{line:31,column:43}},loc:{start:{line:31,column:49},end:{line:31,column:75}},line:31},3:{name:"(anonymous_3)",decl:{start:{line:33,column:43},end:{line:33,column:44}},loc:{start:{line:33,column:50},end:{line:33,column:76}},line:33},4:{name:"(anonymous_4)",decl:{start:{line:42,column:4},end:{line:42,column:5}},loc:{start:{line:42,column:27},end:{line:52,column:5}},line:42},5:{name:"(anonymous_5)",decl:{start:{line:54,column:4},end:{line:54,column:5}},loc:{start:{line:54,column:21},end:{line:60,column:5}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:59,column:19},end:{line:59,column:20}},loc:{start:{line:59,column:25},end:{line:59,column:53}},line:59},7:{name:"(anonymous_7)",decl:{start:{line:66,column:4},end:{line:66,column:5}},loc:{start:{line:66,column:20},end:{line:73,column:5}},line:66},8:{name:"(anonymous_8)",decl:{start:{line:79,column:4},end:{line:79,column:5}},loc:{start:{line:79,column:25},end:{line:93,column:5}},line:79},9:{name:"(anonymous_9)",decl:{start:{line:90,column:67},end:{line:90,column:68}},loc:{start:{line:90,column:73},end:{line:92,column:9}},line:90},10:{name:"(anonymous_10)",decl:{start:{line:100,column:4},end:{line:100,column:5}},loc:{start:{line:100,column:29},end:{line:132,column:5}},line:100},11:{name:"(anonymous_11)",decl:{start:{line:138,column:4},end:{line:138,column:5}},loc:{start:{line:138,column:33},end:{line:147,column:5}},line:138},12:{name:"(anonymous_12)",decl:{start:{line:155,column:4},end:{line:155,column:5}},loc:{start:{line:155,column:28},end:{line:171,column:5}},line:155},13:{name:"(anonymous_13)",decl:{start:{line:180,column:4},end:{line:180,column:5}},loc:{start:{line:180,column:42},end:{line:182,column:5}},line:180},14:{name:"(anonymous_14)",decl:{start:{line:190,column:4},end:{line:190,column:5}},loc:{start:{line:190,column:26},end:{line:192,column:5}},line:190},15:{name:"(anonymous_15)",decl:{start:{line:201,column:4},end:{line:201,column:5}},loc:{start:{line:201,column:39},end:{line:214,column:5}},line:201},16:{name:"(anonymous_16)",decl:{start:{line:223,column:4},end:{line:223,column:5}},loc:{start:{line:223,column:43},end:{line:225,column:5}},line:223},17:{name:"(anonymous_17)",decl:{start:{line:231,column:4},end:{line:231,column:5}},loc:{start:{line:231,column:32},end:{line:236,column:5}},line:231},18:{name:"(anonymous_18)",decl:{start:{line:243,column:4},end:{line:243,column:5}},loc:{start:{line:243,column:38},end:{line:246,column:5}},line:243},19:{name:"(anonymous_19)",decl:{start:{line:254,column:4},end:{line:254,column:5}},loc:{start:{line:254,column:39},end:{line:276,column:5}},line:254},20:{name:"(anonymous_20)",decl:{start:{line:259,column:27},end:{line:259,column:28}},loc:{start:{line:259,column:48},end:{line:275,column:9}},line:259},21:{name:"(anonymous_21)",decl:{start:{line:271,column:74},end:{line:271,column:75}},loc:{start:{line:271,column:80},end:{line:274,column:13}},line:271},22:{name:"(anonymous_22)",decl:{start:{line:283,column:4},end:{line:283,column:5}},loc:{start:{line:283,column:32},end:{line:352,column:5}},line:283},23:{name:"(anonymous_23)",decl:{start:{line:359,column:4},end:{line:359,column:5}},loc:{start:{line:359,column:15},end:{line:363,column:5}},line:359}},branchMap:{0:{loc:{start:{line:46,column:8},end:{line:51,column:9}},type:"if",locations:[{start:{line:46,column:8},end:{line:51,column:9}},{start:{line:46,column:8},end:{line:51,column:9}}],line:46},1:{loc:{start:{line:81,column:8},end:{line:83,column:9}},type:"if",locations:[{start:{line:81,column:8},end:{line:83,column:9}},{start:{line:81,column:8},end:{line:83,column:9}}],line:81},2:{loc:{start:{line:105,column:8},end:{line:109,column:9}},type:"if",locations:[{start:{line:105,column:8},end:{line:109,column:9}},{start:{line:105,column:8},end:{line:109,column:9}}],line:105},3:{loc:{start:{line:112,column:8},end:{line:114,column:9}},type:"if",locations:[{start:{line:112,column:8},end:{line:114,column:9}},{start:{line:112,column:8},end:{line:114,column:9}}],line:112},4:{loc:{start:{line:117,column:8},end:{line:122,column:9}},type:"if",locations:[{start:{line:117,column:8},end:{line:122,column:9}},{start:{line:117,column:8},end:{line:122,column:9}}],line:117},5:{loc:{start:{line:129,column:8},end:{line:131,column:9}},type:"if",locations:[{start:{line:129,column:8},end:{line:131,column:9}},{start:{line:129,column:8},end:{line:131,column:9}}],line:129},6:{loc:{start:{line:141,column:12},end:{line:144,column:13}},type:"if",locations:[{start:{line:141,column:12},end:{line:144,column:13}},{start:{line:141,column:12},end:{line:144,column:13}}],line:141},7:{loc:{start:{line:161,column:12},end:{line:165,column:13}},type:"if",locations:[{start:{line:161,column:12},end:{line:165,column:13}},{start:{line:161,column:12},end:{line:165,column:13}}],line:161},8:{loc:{start:{line:180,column:20},end:{line:180,column:40}},type:"default-arg",locations:[{start:{line:180,column:35},end:{line:180,column:40}}],line:180},9:{loc:{start:{line:204,column:8},end:{line:213,column:9}},type:"if",locations:[{start:{line:204,column:8},end:{line:213,column:9}},{start:{line:204,column:8},end:{line:213,column:9}}],line:204},10:{loc:{start:{line:208,column:13},end:{line:213,column:9}},type:"if",locations:[{start:{line:208,column:13},end:{line:213,column:9}},{start:{line:208,column:13},end:{line:213,column:9}}],line:208},11:{loc:{start:{line:210,column:12},end:{line:212,column:13}},type:"if",locations:[{start:{line:210,column:12},end:{line:212,column:13}},{start:{line:210,column:12},end:{line:212,column:13}}],line:210},12:{loc:{start:{line:233,column:8},end:{line:235,column:9}},type:"if",locations:[{start:{line:233,column:8},end:{line:235,column:9}},{start:{line:233,column:8},end:{line:235,column:9}}],line:233},13:{loc:{start:{line:287,column:8},end:{line:291,column:9}},type:"if",locations:[{start:{line:287,column:8},end:{line:291,column:9}},{start:{line:287,column:8},end:{line:291,column:9}}],line:287},14:{loc:{start:{line:301,column:8},end:{line:304,column:9}},type:"if",locations:[{start:{line:301,column:8},end:{line:304,column:9}},{start:{line:301,column:8},end:{line:304,column:9}}],line:301},15:{loc:{start:{line:307,column:8},end:{line:311,column:9}},type:"if",locations:[{start:{line:307,column:8},end:{line:311,column:9}},{start:{line:307,column:8},end:{line:311,column:9}}],line:307},16:{loc:{start:{line:315,column:8},end:{line:321,column:9}},type:"if",locations:[{start:{line:315,column:8},end:{line:321,column:9}},{start:{line:315,column:8},end:{line:321,column:9}}],line:315},17:{loc:{start:{line:326,column:8},end:{line:332,column:9}},type:"if",locations:[{start:{line:326,column:8},end:{line:332,column:9}},{start:{line:326,column:8},end:{line:332,column:9}}],line:326}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class NanoConsensusAgent extends BaseConsensusAgent{constructor(n,e,l,t,o){$n.f[0]++;$n.s[0]++;super(l,t,o);$n.s[1]++;this._blockchain=n;$n.s[2]++;this._mempool=e;$n.s[3]++;this._syncing=!1;$n.s[4]++;this._orphanedBlocks=[];$n.s[5]++;this._accountsRequest=null;$n.s[6]++;this._requestedChainProof=!1;$n.s[7]++;t.channel.on("chain-proof",n=>{$n.f[1]++;$n.s[8]++;return this._onChainProof(n)});$n.s[9]++;t.channel.on("accounts-proof",n=>{$n.f[2]++;$n.s[10]++;return this._onAccountsProof(n)});$n.s[11]++;t.channel.on("get-chain-proof",n=>{$n.f[3]++;$n.s[12]++;return this._onGetChainProof(n)});$n.s[13]++;this._subscribeTarget()}async syncBlockchain(){$n.f[4]++;$n.s[14]++;this._syncing=!0;const n=($n.s[15]++,await this._blockchain.getBlock(this._peer.headHash));$n.s[16]++;if(n){$n.b[0][1]++;$n.s[19]++;this._syncFinished()}else{$n.b[0][0]++;$n.s[17]++;this._requestChainProof();$n.s[18]++;this.fire("sync-chain-proof",this._peer.peerAddress)}}requestMempool(){$n.f[5]++;const n=($n.s[20]++,NanoConsensusAgent.MEMPOOL_DELAY_MIN+Math.random()*(NanoConsensusAgent.MEMPOOL_DELAY_MAX-NanoConsensusAgent.MEMPOOL_DELAY_MIN));$n.s[21]++;setTimeout(()=>{$n.f[6]++;$n.s[22]++;return this._peer.channel.mempool()},n)}_syncFinished(){$n.f[7]++;$n.s[23]++;this._syncing=!1;$n.s[24]++;this._synced=!0;$n.s[25]++;this.requestMempool();$n.s[26]++;this.fire("sync")}_requestChainProof(){$n.f[8]++;$n.s[27]++;if(this._requestedChainProof){$n.b[1][0]++;$n.s[28]++}else{$n.b[1][1]++;$n.s[29]++;this._peer.channel.getChainProof();$n.s[30]++;this._requestedChainProof=!0;$n.s[31]++;this._peer.channel.expectMessage(Message.Type.CHAIN_PROOF,()=>{$n.f[9]++;$n.s[32]++;this._peer.channel.close(CloseType.GET_CHAIN_PROOF_TIMEOUT,"getChainProof timeout")},NanoConsensusAgent.CHAINPROOF_REQUEST_TIMEOUT,NanoConsensusAgent.CHAINPROOF_CHUNK_TIMEOUT)}}async _onChainProof(n){$n.f[10]++;$n.s[33]++;Log.d(NanoConsensusAgent,`[CHAIN-PROOF] Received from ${this._peer.peerAddress}: ${n.proof}`);$n.s[34]++;if(this._requestedChainProof){$n.b[2][1]++;$n.s[37]++;this._requestedChainProof=!1;$n.s[38]++;if(this._syncing){$n.b[3][0]++;$n.s[39]++;this.fire("verify-chain-proof",this._peer.peerAddress)}else $n.b[3][1]++;$n.s[40]++;if(await this._blockchain.pushProof(n.proof)){$n.b[4][1]++;$n.s[44]++;await this._applyOrphanedBlocks();$n.s[45]++;if(this._syncing){$n.b[5][0]++;$n.s[46]++;this._syncFinished()}else $n.b[5][1]++}else{$n.b[4][0]++;$n.s[41]++;Log.w(NanoConsensusAgent,`Invalid chain proof received from ${this._peer.peerAddress} - verification failed`);$n.s[42]++;this._peer.channel.close(CloseType.INVALID_CHAIN_PROOF,"invalid chain proof");$n.s[43]++}}else{$n.b[2][0]++;$n.s[35]++;Log.w(NanoConsensusAgent,`Unsolicited chain proof received from ${this._peer.peerAddress}`);$n.s[36]++}}async _applyOrphanedBlocks(){$n.f[11]++;$n.s[47]++;for(const n of this._orphanedBlocks){const e=($n.s[48]++,await this._blockchain.pushHeader(n));$n.s[49]++;if(e===NanoChain.ERR_INVALID){$n.b[6][0]++;$n.s[50]++;this._peer.channel.close(CloseType.RECEIVED_INVALID_BLOCK,"received invalid block");$n.s[51]++;break}$n.b[6][1]++}$n.s[52]++;this._orphanedBlocks=[]}_doRequestData(n){$n.f[12]++;const e=($n.s[53]++,[]),l=($n.s[54]++,[]);$n.s[55]++;for(const t of n){$n.s[56]++;if(t.type===InvVector.Type.BLOCK){$n.b[7][0]++;$n.s[57]++;e.push(t)}else{$n.b[7][1]++;$n.s[58]++;l.push(t)}}$n.s[59]++;this._peer.channel.getHeader(e);$n.s[60]++;this._peer.channel.getData(l)}_getBlock(n,e=($n.b[8][0]++,!1)){$n.f[13]++;$n.s[61]++;return this._blockchain.getBlock(n,e)}_getTransaction(n){$n.f[14]++;$n.s[62]++;return Promise.resolve(this._mempool.getTransaction(n))}async _processHeader(n,e){$n.f[15]++;const l=($n.s[63]++,await this._blockchain.pushHeader(e));$n.s[64]++;if(l===NanoChain.ERR_INVALID){$n.b[9][0]++;$n.s[65]++;this._peer.channel.close(CloseType.RECEIVED_INVALID_HEADER,"received invalid header")}else{$n.b[9][1]++;$n.s[66]++;if(l===NanoChain.ERR_ORPHAN){$n.b[10][0]++;$n.s[67]++;this._orphanedBlocks.push(e);$n.s[68]++;if(this._synced){$n.b[11][0]++;$n.s[69]++;this._requestChainProof()}else $n.b[11][1]++}else $n.b[10][1]++}}_processTransaction(n,e){$n.f[16]++;$n.s[70]++;return this._mempool.pushTransaction(e)}async _onGetChainProof(n){$n.f[17]++;const e=($n.s[71]++,await this._blockchain.getChainProof());$n.s[72]++;if(e){$n.b[12][0]++;$n.s[73]++;this._peer.channel.chainProof(e)}else $n.b[12][1]++}getAccounts(n,e){$n.f[18]++;$n.s[74]++;return this._synchronizer.push("getAccounts",this._getAccounts.bind(this,n,e))}_getAccounts(n,e){$n.f[19]++;$n.s[75]++;Assert.that(null===this._accountsRequest);$n.s[76]++;Log.d(NanoConsensusAgent,`Requesting AccountsProof for ${e} from ${this._peer.peerAddress}`);$n.s[77]++;return new Promise((l,t)=>{$n.f[20]++;$n.s[78]++;this._accountsRequest={addresses:e,blockHash:n,resolve:l,reject:t};$n.s[79]++;this._peer.channel.getAccountsProof(n,e);$n.s[80]++;this._peer.channel.expectMessage(Message.Type.ACCOUNTS_PROOF,()=>{$n.f[21]++;$n.s[81]++;this._peer.channel.close(CloseType.GET_ACCOUNTS_PROOF_TIMEOUT,"getAccountsProof timeout");$n.s[82]++;t(new Error("timeout"))},NanoConsensusAgent.ACCOUNTSPROOF_REQUEST_TIMEOUT)})}async _onAccountsProof(n){$n.f[22]++;$n.s[83]++;Log.d(NanoConsensusAgent,`[ACCOUNTS-PROOF] Received from ${this._peer.peerAddress}: blockHash=${n.blockHash}, proof=${n.proof} (${n.serializedSize} bytes)`);$n.s[84]++;if(!this._accountsRequest){$n.b[13][0]++;$n.s[85]++;Log.w(NanoConsensusAgent,`Unsolicited accounts proof received from ${this._peer.peerAddress}`);$n.s[86]++;return}$n.b[13][1]++;const e=($n.s[87]++,this._accountsRequest.addresses),l=($n.s[88]++,this._accountsRequest.blockHash),t=($n.s[89]++,this._accountsRequest.resolve),o=($n.s[90]++,this._accountsRequest.reject);$n.s[91]++;this._accountsRequest=null;$n.s[92]++;if(!n.hasProof()){$n.b[14][0]++;$n.s[93]++;o(new Error("Accounts request was rejected"));$n.s[94]++;return}$n.b[14][1]++;$n.s[95]++;if(!l.equals(n.blockHash)){$n.b[15][0]++;$n.s[96]++;Log.w(NanoConsensusAgent,`Received AccountsProof for invalid reference block from ${this._peer.peerAddress}`);$n.s[97]++;o(new Error("Invalid reference block"));$n.s[98]++;return}$n.b[15][1]++;const i=($n.s[99]++,n.proof);$n.s[100]++;if(!i.verify()){$n.b[16][0]++;$n.s[101]++;Log.w(NanoConsensusAgent,`Invalid AccountsProof received from ${this._peer.peerAddress}`);$n.s[102]++;this._peer.channel.close(CloseType.INVALID_ACCOUNTS_PROOF,"Invalid AccountsProof");$n.s[103]++;o(new Error("Invalid AccountsProof"));$n.s[104]++;return}$n.b[16][1]++;const c=($n.s[105]++,i.root()),s=($n.s[106]++,await this._blockchain.getBlock(l));$n.s[107]++;if(!s.accountsHash.equals(c)){$n.b[17][0]++;$n.s[108]++;Log.w(NanoConsensusAgent,`Invalid AccountsProof (root hash) received from ${this._peer.peerAddress}`);$n.s[109]++;this._peer.channel.close(CloseType.ACCOUNTS_PROOF_ROOT_HASH_MISMATCH,"AccountsProof root hash mismatch");$n.s[110]++;o(new Error("AccountsProof root hash mismatch"));$n.s[111]++;return}$n.b[17][1]++;const u=($n.s[112]++,[]);$n.s[113]++;for(const r of e){$n.s[114]++;try{const n=($n.s[115]++,i.getAccount(r));$n.s[116]++;u.push(n)}catch(m){$n.s[117]++;Log.w(NanoConsensusAgent,`Incomplete AccountsProof received from ${this._peer.peerAddress}`);$n.s[118]++;this._peer.channel.close(CloseType.INCOMPLETE_ACCOUNTS_PROOF,"Incomplete AccountsProof");$n.s[119]++;o(new Error("Incomplete AccountsProof"));$n.s[120]++;return}}$n.s[121]++;t(u)}_onClose(){$n.f[23]++;$n.s[122]++;this._synchronizer.clear();$n.s[123]++;super._onClose()}}$n.s[124]++;NanoConsensusAgent.CHAINPROOF_REQUEST_TIMEOUT=45e3;$n.s[125]++;NanoConsensusAgent.CHAINPROOF_CHUNK_TIMEOUT=1e4;$n.s[126]++;NanoConsensusAgent.ACCOUNTSPROOF_REQUEST_TIMEOUT=5e3;$n.s[127]++;NanoConsensusAgent.MEMPOOL_DELAY_MIN=2e3;$n.s[128]++;NanoConsensusAgent.MEMPOOL_DELAY_MAX=2e4;$n.s[129]++;Class.register(NanoConsensusAgent);var Xn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/nano/NanoConsensus.js",e="0a106272e843e4d89ffb0d93a8c0cc08eb10aa77",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/nano/NanoConsensus.js",statementMap:{0:{start:{line:8,column:8},end:{line:8,column:44}},1:{start:{line:10,column:8},end:{line:10,column:38}},2:{start:{line:12,column:8},end:{line:12,column:32}},3:{start:{line:15,column:8},end:{line:15,column:54}},4:{start:{line:22,column:8},end:{line:22,column:62}},5:{start:{line:23,column:8},end:{line:23,column:54}},6:{start:{line:24,column:8},end:{line:26,column:9}},7:{start:{line:25,column:12},end:{line:25,column:35}},8:{start:{line:35,column:8},end:{line:35,column:117}},9:{start:{line:43,column:22},end:{line:43,column:47}},10:{start:{line:46,column:8},end:{line:46,column:69}},11:{start:{line:48,column:8},end:{line:48,column:21}},12:{start:{line:56,column:8},end:{line:56,column:39}},13:{start:{line:56,column:32},end:{line:56,column:39}},14:{start:{line:59,column:8},end:{line:64,column:9}},15:{start:{line:60,column:41},end:{line:60,column:113}},16:{start:{line:61,column:12},end:{line:61,column:65}},17:{start:{line:63,column:12},end:{line:63,column:110}},18:{start:{line:68,column:8},end:{line:68,column:35}},19:{start:{line:85,column:8},end:{line:85,column:65}},20:{start:{line:94,column:8},end:{line:94,column:70}},21:{start:{line:95,column:23},end:{line:99,column:9}},22:{start:{line:96,column:12},end:{line:98,column:68}},23:{start:{line:101,column:8},end:{line:108,column:9}},24:{start:{line:102,column:12},end:{line:107,column:13}},25:{start:{line:103,column:16},end:{line:103,column:69}},26:{start:{line:105,column:16},end:{line:105,column:118}},27:{start:{line:111,column:8},end:{line:111,column:68}},28:{start:{line:120,column:8},end:{line:122,column:9}},29:{start:{line:120,column:49},end:{line:120,column:102}},30:{start:{line:121,column:12},end:{line:121,column:87}},31:{start:{line:125,column:8},end:{line:127,column:9}},32:{start:{line:126,column:12},end:{line:126,column:90}},33:{start:{line:130,column:22},end:{line:130,column:27}},34:{start:{line:131,column:8},end:{line:133,column:9}},35:{start:{line:132,column:12},end:{line:132,column:69}},36:{start:{line:136,column:8},end:{line:138,column:9}},37:{start:{line:137,column:12},end:{line:137,column:90}},38:{start:{line:143,column:8},end:{line:143,column:32}},39:{start:{line:148,column:8},end:{line:148,column:29}},40:{start:{line:151,column:0},end:{line:151,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:46},end:{line:16,column:5}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:21,column:4},end:{line:21,column:5}},loc:{start:{line:21,column:33},end:{line:27,column:5}},line:21},2:{name:"(anonymous_2)",decl:{start:{line:34,column:4},end:{line:34,column:5}},loc:{start:{line:34,column:29},end:{line:36,column:5}},line:34},3:{name:"(anonymous_3)",decl:{start:{line:42,column:4},end:{line:42,column:5}},loc:{start:{line:42,column:24},end:{line:49,column:5}},line:42},4:{name:"(anonymous_4)",decl:{start:{line:55,column:4},end:{line:55,column:5}},loc:{start:{line:55,column:31},end:{line:69,column:5}},line:55},5:{name:"(anonymous_5)",decl:{start:{line:75,column:4},end:{line:75,column:5}},loc:{start:{line:75,column:28},end:{line:77,column:5}},line:75},6:{name:"(anonymous_6)",decl:{start:{line:84,column:4},end:{line:84,column:5}},loc:{start:{line:84,column:48},end:{line:86,column:5}},line:84},7:{name:"(anonymous_7)",decl:{start:{line:93,column:4},end:{line:93,column:5}},loc:{start:{line:93,column:44},end:{line:112,column:5}},line:93},8:{name:"(anonymous_8)",decl:{start:{line:95,column:52},end:{line:95,column:53}},loc:{start:{line:96,column:12},end:{line:98,column:68}},line:96},9:{name:"(anonymous_9)",decl:{start:{line:118,column:4},end:{line:118,column:5}},loc:{start:{line:118,column:40},end:{line:139,column:5}},line:118},10:{name:"(anonymous_10)",decl:{start:{line:120,column:40},end:{line:120,column:41}},loc:{start:{line:120,column:49},end:{line:120,column:102}},line:120},11:{name:"(anonymous_11)",decl:{start:{line:142,column:4},end:{line:142,column:5}},loc:{start:{line:142,column:21},end:{line:144,column:5}},line:142},12:{name:"(anonymous_12)",decl:{start:{line:147,column:4},end:{line:147,column:5}},loc:{start:{line:147,column:18},end:{line:149,column:5}},line:147}},branchMap:{0:{loc:{start:{line:56,column:8},end:{line:56,column:39}},type:"if",locations:[{start:{line:56,column:8},end:{line:56,column:39}},{start:{line:56,column:8},end:{line:56,column:39}}],line:56},1:{loc:{start:{line:63,column:92},end:{line:63,column:106}},type:"binary-expr",locations:[{start:{line:63,column:92},end:{line:63,column:101}},{start:{line:63,column:105},end:{line:63,column:106}}],line:63},2:{loc:{start:{line:84,column:30},end:{line:84,column:46}},type:"default-arg",locations:[{start:{line:84,column:42},end:{line:84,column:46}}],line:84},3:{loc:{start:{line:94,column:20},end:{line:94,column:69}},type:"cond-expr",locations:[{start:{line:94,column:32},end:{line:94,column:41}},{start:{line:94,column:44},end:{line:94,column:69}}],line:94},4:{loc:{start:{line:96,column:12},end:{line:98,column:68}},type:"binary-expr",locations:[{start:{line:96,column:12},end:{line:96,column:24}},{start:{line:97,column:15},end:{line:97,column:42}},{start:{line:98,column:15},end:{line:98,column:68}}],line:96},5:{loc:{start:{line:120,column:8},end:{line:122,column:9}},type:"if",locations:[{start:{line:120,column:8},end:{line:122,column:9}},{start:{line:120,column:8},end:{line:122,column:9}}],line:120},6:{loc:{start:{line:125,column:8},end:{line:127,column:9}},type:"if",locations:[{start:{line:125,column:8},end:{line:127,column:9}},{start:{line:125,column:8},end:{line:127,column:9}}],line:125},7:{loc:{start:{line:132,column:22},end:{line:132,column:68}},type:"binary-expr",locations:[{start:{line:132,column:22},end:{line:132,column:57}},{start:{line:132,column:61},end:{line:132,column:68}}],line:132},8:{loc:{start:{line:136,column:8},end:{line:138,column:9}},type:"if",locations:[{start:{line:136,column:8},end:{line:138,column:9}},{start:{line:136,column:8},end:{line:138,column:9}}],line:136}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0],1:[0,0],2:[0],3:[0,0],4:[0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class NanoConsensus extends BaseConsensus{constructor(n,e,l){Xn.f[0]++;Xn.s[0]++;super(n,e,l);Xn.s[1]++;this._blockchain=n;Xn.s[2]++;this._mempool=e;Xn.s[3]++;this._subscription=Subscription.BLOCKS_ONLY}subscribeAccounts(n){Xn.f[1]++;Xn.s[4]++;this.subscribe(Subscription.fromAddresses(n));Xn.s[5]++;this._mempool.evictExceptAddresses(n);Xn.s[6]++;for(const e of this._agents.valueIterator()){Xn.s[7]++;e.requestMempool()}}_newConsensusAgent(n){Xn.f[2]++;Xn.s[8]++;return new NanoConsensusAgent(this._blockchain,this._mempool,this._network.time,n,this._subscription)}_onPeerJoined(n){Xn.f[3]++;const e=(Xn.s[9]++,super._onPeerJoined(n));Xn.s[10]++;this.bubble(e,"sync-chain-proof","verify-chain-proof");Xn.s[11]++;return e}async _onHeadChanged(n){Xn.f[4]++;Xn.s[12]++;if(this._established){Xn.b[0][1]++;Xn.s[14]++;try{const l=(Xn.s[15]++,await this._requestTransactionsProof(this._subscription.addresses,n));Xn.s[16]++;this._mempool.changeHead(n,l)}catch(e){Xn.s[17]++;Log.e(NanoConsensus,`Failed to retrieve transaction proof to update mempool: ${(Xn.b[1][0]++,e.message)||(Xn.b[1][1]++,e)}`)}Xn.s[18]++;super._onHeadChanged(n)}else{Xn.b[0][0]++;Xn.s[13]++}}_onTransactionAdded(n){Xn.f[5]++}async getAccount(n,e=(Xn.b[2][0]++,null)){Xn.f[6]++;Xn.s[19]++;return(await this.getAccounts([n],e))[0]}async getAccounts(n,e){Xn.f[7]++;Xn.s[20]++;e=e?(Xn.b[3][0]++,e):(Xn.b[3][1]++,this._blockchain.headHash);const l=(Xn.s[21]++,this._agents.values().filter(n=>{Xn.f[8]++;Xn.s[22]++;return(Xn.b[4][0]++,n.synced)&&(Xn.b[4][1]++,n.knowsBlock(e))&&(Xn.b[4][2]++,!Services.isNanoNode(n.peer.peerAddress.services))}));Xn.s[23]++;for(const o of l){Xn.s[24]++;try{Xn.s[25]++;return await o.getAccounts(e,n)}catch(t){Xn.s[26]++;Log.w(NanoConsensus,`Failed to retrieve accounts ${n} from ${o.peer.peerAddress}: ${t}`)}}Xn.s[27]++;throw new Error(`Failed to retrieve accounts ${n}`)}async relayTransaction(n){Xn.f[9]++;Xn.s[28]++;if(!this._agents.values().some(n=>{Xn.f[10]++;Xn.s[29]++;return!Services.isNanoNode(n.peer.peerAddress.services)})){Xn.b[5][0]++;Xn.s[30]++;throw new Error("Failed to relay transaction - only nano nodes connected")}Xn.b[5][1]++;Xn.s[31]++;if(!(await this._mempool.pushTransaction(n))){Xn.b[6][0]++;Xn.s[32]++;throw new Error("Failed to relay transaction - mempool rejected transaction")}Xn.b[6][1]++;let e=(Xn.s[33]++,!1);Xn.s[34]++;for(const l of this._agents.values()){Xn.s[35]++;e=(Xn.b[7][0]++,l.relayTransaction(n))||(Xn.b[7][1]++,e)}Xn.s[36]++;if(!e){Xn.b[8][0]++;Xn.s[37]++;throw new Error("Failed to relay transaction - no agent relayed transaction")}Xn.b[8][1]++}get blockchain(){Xn.f[11]++;Xn.s[38]++;return this._blockchain}get mempool(){Xn.f[12]++;Xn.s[39]++;return this._mempool}}Xn.s[40]++;Class.register(NanoConsensus);var Zn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/nano/NanoMempool.js",e="39dcdd46a86f83d1c9400e2bbf5dfa22f6ce6e30",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/nano/NanoMempool.js",statementMap:{0:{start:{line:6,column:8},end:{line:6,column:16}},1:{start:{line:9,column:8},end:{line:9,column:38}},2:{start:{line:13,column:8},end:{line:13,column:49}},3:{start:{line:15,column:8},end:{line:15,column:54}},4:{start:{line:25,column:21},end:{line:25,column:39}},5:{start:{line:26,column:8},end:{line:29,column:9}},6:{start:{line:27,column:12},end:{line:27,column:82}},7:{start:{line:27,column:33},end:{line:27,column:80}},8:{start:{line:28,column:12},end:{line:28,column:25}},9:{start:{line:32,column:8},end:{line:35,column:9}},10:{start:{line:33,column:12},end:{line:33,column:84}},11:{start:{line:33,column:33},end:{line:33,column:82}},12:{start:{line:34,column:12},end:{line:34,column:25}},13:{start:{line:38,column:8},end:{line:40,column:9}},14:{start:{line:39,column:12},end:{line:39,column:25}},15:{start:{line:43,column:8},end:{line:43,column:56}},16:{start:{line:44,column:20},end:{line:44,column:104}},17:{start:{line:45,column:8},end:{line:45,column:29}},18:{start:{line:46,column:8},end:{line:46,column:67}},19:{start:{line:49,column:8},end:{line:49,column:52}},20:{start:{line:51,column:8},end:{line:51,column:20}},21:{start:{line:59,column:8},end:{line:59,column:50}},22:{start:{line:67,column:8},end:{line:67,column:97}},23:{start:{line:67,column:64},end:{line:67,column:76}},24:{start:{line:75,column:20},end:{line:75,column:62}},25:{start:{line:76,column:8},end:{line:76,column:43}},26:{start:{line:84,column:8},end:{line:84,column:60}},27:{start:{line:91,column:27},end:{line:91,column:40}},28:{start:{line:92,column:8},end:{line:92,column:37}},29:{start:{line:93,column:8},end:{line:105,column:9}},30:{start:{line:94,column:12},end:{line:104,column:13}},31:{start:{line:95,column:16},end:{line:95,column:59}},32:{start:{line:98,column:28},end:{line:98,column:72}},33:{start:{line:99,column:16},end:{line:99,column:31}},34:{start:{line:101,column:16},end:{line:103,column:17}},35:{start:{line:102,column:20},end:{line:102,column:68}},36:{start:{line:115,column:8},end:{line:130,column:9}},37:{start:{line:116,column:27},end:{line:116,column:36}},38:{start:{line:117,column:12},end:{line:129,column:13}},39:{start:{line:118,column:16},end:{line:118,column:56}},40:{start:{line:121,column:28},end:{line:121,column:72}},41:{start:{line:122,column:16},end:{line:122,column:31}},42:{start:{line:124,column:16},end:{line:126,column:17}},43:{start:{line:125,column:20},end:{line:125,column:68}},44:{start:{line:128,column:16},end:{line:128,column:53}},45:{start:{line:133,column:8},end:{line:148,column:9}},46:{start:{line:134,column:27},end:{line:134,column:36}},47:{start:{line:135,column:12},end:{line:147,column:13}},48:{start:{line:136,column:16},end:{line:136,column:56}},49:{start:{line:139,column:28},end:{line:139,column:72}},50:{start:{line:140,column:16},end:{line:140,column:31}},51:{start:{line:142,column:16},end:{line:144,column:17}},52:{start:{line:143,column:20},end:{line:143,column:68}},53:{start:{line:146,column:16},end:{line:146,column:64}},54:{start:{line:153,column:8},end:{line:153,column:47}},55:{start:{line:156,column:0},end:{line:156,column:28}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:28},end:{line:16,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:23,column:4},end:{line:23,column:5}},loc:{start:{line:23,column:39},end:{line:52,column:5}},line:23},2:{name:"(anonymous_2)",decl:{start:{line:27,column:27},end:{line:27,column:28}},loc:{start:{line:27,column:33},end:{line:27,column:80}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:33,column:27},end:{line:33,column:28}},loc:{start:{line:33,column:33},end:{line:33,column:82}},line:33},4:{name:"(anonymous_4)",decl:{start:{line:58,column:4},end:{line:58,column:5}},loc:{start:{line:58,column:25},end:{line:60,column:5}},line:58},5:{name:"(anonymous_5)",decl:{start:{line:66,column:4},end:{line:66,column:5}},loc:{start:{line:66,column:37},end:{line:68,column:5}},line:66},6:{name:"(anonymous_6)",decl:{start:{line:67,column:54},end:{line:67,column:55}},loc:{start:{line:67,column:64},end:{line:67,column:76}},line:67},7:{name:"(anonymous_7)",decl:{start:{line:74,column:4},end:{line:74,column:5}},loc:{start:{line:74,column:36},end:{line:77,column:5}},line:74},8:{name:"(anonymous_8)",decl:{start:{line:83,column:4},end:{line:83,column:5}},loc:{start:{line:83,column:36},end:{line:85,column:5}},line:83},9:{name:"(anonymous_9)",decl:{start:{line:90,column:4},end:{line:90,column:5}},loc:{start:{line:90,column:36},end:{line:106,column:5}},line:90},10:{name:"(anonymous_10)",decl:{start:{line:113,column:4},end:{line:113,column:5}},loc:{start:{line:113,column:50},end:{line:149,column:5}},line:113},11:{name:"(anonymous_11)",decl:{start:{line:152,column:4},end:{line:152,column:5}},loc:{start:{line:152,column:17},end:{line:154,column:5}},line:152}},branchMap:{0:{loc:{start:{line:26,column:8},end:{line:29,column:9}},type:"if",locations:[{start:{line:26,column:8},end:{line:29,column:9}},{start:{line:26,column:8},end:{line:29,column:9}}],line:26},1:{loc:{start:{line:32,column:8},end:{line:35,column:9}},type:"if",locations:[{start:{line:32,column:8},end:{line:35,column:9}},{start:{line:32,column:8},end:{line:35,column:9}}],line:32},2:{loc:{start:{line:38,column:8},end:{line:40,column:9}},type:"if",locations:[{start:{line:38,column:8},end:{line:40,column:9}},{start:{line:38,column:8},end:{line:40,column:9}}],line:38},3:{loc:{start:{line:44,column:20},end:{line:44,column:104}},type:"binary-expr",locations:[{start:{line:44,column:20},end:{line:44,column:73}},{start:{line:44,column:77},end:{line:44,column:104}}],line:44},4:{loc:{start:{line:66,column:20},end:{line:66,column:35}},type:"default-arg",locations:[{start:{line:66,column:31},end:{line:66,column:35}}],line:66},5:{loc:{start:{line:76,column:15},end:{line:76,column:42}},type:"cond-expr",locations:[{start:{line:76,column:21},end:{line:76,column:37}},{start:{line:76,column:40},end:{line:76,column:42}}],line:76},6:{loc:{start:{line:94,column:12},end:{line:104,column:13}},type:"if",locations:[{start:{line:94,column:12},end:{line:104,column:13}},{start:{line:94,column:12},end:{line:104,column:13}}],line:94},7:{loc:{start:{line:94,column:16},end:{line:94,column:85}},type:"binary-expr",locations:[{start:{line:94,column:16},end:{line:94,column:47}},{start:{line:94,column:51},end:{line:94,column:85}}],line:94},8:{loc:{start:{line:101,column:16},end:{line:103,column:17}},type:"if",locations:[{start:{line:101,column:16},end:{line:103,column:17}},{start:{line:101,column:16},end:{line:103,column:17}}],line:101},9:{loc:{start:{line:117,column:12},end:{line:129,column:13}},type:"if",locations:[{start:{line:117,column:12},end:{line:129,column:13}},{start:{line:117,column:12},end:{line:129,column:13}}],line:117},10:{loc:{start:{line:124,column:16},end:{line:126,column:17}},type:"if",locations:[{start:{line:124,column:16},end:{line:126,column:17}},{start:{line:124,column:16},end:{line:126,column:17}}],line:124},11:{loc:{start:{line:135,column:12},end:{line:147,column:13}},type:"if",locations:[{start:{line:135,column:12},end:{line:147,column:13}},{start:{line:135,column:12},end:{line:147,column:13}}],line:135},12:{loc:{start:{line:142,column:16},end:{line:144,column:17}},type:"if",locations:[{start:{line:142,column:16},end:{line:144,column:17}},{start:{line:142,column:16},end:{line:144,column:17}}],line:142}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class NanoMempool extends Observable{constructor(n){Zn.f[0]++;Zn.s[0]++;super();Zn.s[1]++;this._blockchain=n;Zn.s[2]++;this._transactionsByHash=new HashMap;Zn.s[3]++;this._transactionSetByAddress=new HashMap}async pushTransaction(n){Zn.f[1]++;const e=(Zn.s[4]++,n.hash());Zn.s[5]++;if(this._transactionsByHash.contains(e)){Zn.b[0][0]++;Zn.s[6]++;Log.v(Mempool,()=>{Zn.f[2]++;Zn.s[7]++;return`Ignoring known transaction ${e.toBase64()}`});Zn.s[8]++;return!1}Zn.b[0][1]++;Zn.s[9]++;if(this._blockchain.height>=n.validityStartHeight+Policy.TRANSACTION_VALIDITY_WINDOW){Zn.b[1][0]++;Zn.s[10]++;Log.v(Mempool,()=>{Zn.f[3]++;Zn.s[11]++;return`Ignoring expired transaction ${e.toBase64()}`});Zn.s[12]++;return!1}Zn.b[1][1]++;Zn.s[13]++;if(!n.verify()){Zn.b[2][0]++;Zn.s[14]++;return!1}Zn.b[2][1]++;Zn.s[15]++;this._transactionsByHash.put(e,n);const l=(Zn.s[16]++,(Zn.b[3][0]++,this._transactionSetByAddress.get(n.sender))||(Zn.b[3][1]++,new MempoolTransactionSet));Zn.s[17]++;l.add(n);Zn.s[18]++;this._transactionSetByAddress.put(n.sender,l);Zn.s[19]++;this.fire("transaction-added",n);Zn.s[20]++;return!0}getTransaction(n){Zn.f[4]++;Zn.s[21]++;return this._transactionsByHash.get(n)}getTransactions(n=(Zn.b[4][0]++,5e3)){Zn.f[5]++;Zn.s[22]++;return this._transactionsByHash.values().sort((n,e)=>{Zn.f[6]++;Zn.s[23]++;return n.compare(e)}).slice(0,n)}getPendingTransactions(n){Zn.f[7]++;const e=(Zn.s[24]++,this._transactionSetByAddress.get(n));Zn.s[25]++;return e?(Zn.b[5][0]++,e.transactions):(Zn.b[5][1]++,[])}changeHead(n,e){Zn.f[8]++;Zn.s[26]++;this._evictTransactions(n.header,e)}evictExceptAddresses(n){Zn.f[9]++;const e=(Zn.s[27]++,new HashSet);Zn.s[28]++;e.addAll(n);Zn.s[29]++;for(const l of this._transactionsByHash.values()){Zn.s[30]++;if((Zn.b[7][0]++,e.contains(l.sender))||(Zn.b[7][1]++,e.contains(l.recipient)))Zn.b[6][1]++;else{Zn.b[6][0]++;Zn.s[31]++;this._transactionsByHash.remove(l.hash());const n=(Zn.s[32]++,this._transactionSetByAddress.get(l.sender));Zn.s[33]++;n.remove(l);Zn.s[34]++;if(0===n.length){Zn.b[8][0]++;Zn.s[35]++;this._transactionSetByAddress.remove(l.sender)}else Zn.b[8][1]++}}}_evictTransactions(n,e){Zn.f[10]++;Zn.s[36]++;for(const l of this._transactionsByHash.values()){const e=(Zn.s[37]++,l.hash());Zn.s[38]++;if(n.height>=l.validityStartHeight+Policy.TRANSACTION_VALIDITY_WINDOW){Zn.b[9][0]++;Zn.s[39]++;this._transactionsByHash.remove(e);const n=(Zn.s[40]++,this._transactionSetByAddress.get(l.sender));Zn.s[41]++;n.remove(l);Zn.s[42]++;if(0===n.length){Zn.b[10][0]++;Zn.s[43]++;this._transactionSetByAddress.remove(l.sender)}else Zn.b[10][1]++;Zn.s[44]++;this.fire("transaction-expired",l)}else Zn.b[9][1]++}Zn.s[45]++;for(const l of e){const e=(Zn.s[46]++,l.hash());Zn.s[47]++;if(this._transactionsByHash.contains(e)){Zn.b[11][0]++;Zn.s[48]++;this._transactionsByHash.remove(e);const t=(Zn.s[49]++,this._transactionSetByAddress.get(l.sender));Zn.s[50]++;t.remove(l);Zn.s[51]++;if(0===t.length){Zn.b[12][0]++;Zn.s[52]++;this._transactionSetByAddress.remove(l.sender)}else Zn.b[12][1]++;Zn.s[53]++;this.fire("transaction-mined",l,n)}else Zn.b[11][1]++}}get length(){Zn.f[11]++;Zn.s[54]++;return this._transactionsByHash.length}}Zn.s[55]++;Class.register(NanoMempool);var Jn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/ConsensusDB.js",e="b5090bdb836711bef840a8da4bbcd891276f01bd",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/ConsensusDB.js",statementMap:{0:{start:{line:7,column:8},end:{line:9,column:9}},1:{start:{line:8,column:12},end:{line:8,column:87}},2:{start:{line:10,column:8},end:{line:10,column:37}},3:{start:{line:18,column:8},end:{line:20,column:9}},4:{start:{line:19,column:12},end:{line:19,column:88}},5:{start:{line:21,column:8},end:{line:21,column:37}},6:{start:{line:30,column:8},end:{line:34,column:11}},7:{start:{line:35,column:8},end:{line:35,column:28}},8:{start:{line:44,column:8},end:{line:44,column:47}},9:{start:{line:45,column:8},end:{line:45,column:44}},10:{start:{line:46,column:8},end:{line:46,column:46}},11:{start:{line:49,column:8},end:{line:49,column:29}},12:{start:{line:51,column:8},end:{line:51,column:20}},13:{start:{line:54,column:0},end:{line:54,column:29}},14:{start:{line:55,column:0},end:{line:55,column:24}},15:{start:{line:56,column:0},end:{line:56,column:44}},16:{start:{line:57,column:0},end:{line:57,column:33}},17:{start:{line:58,column:0},end:{line:58,column:28}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:40},end:{line:11,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:41},end:{line:22,column:5}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:28,column:4},end:{line:28,column:5}},loc:{start:{line:28,column:24},end:{line:36,column:5}},line:28},3:{name:"(anonymous_3)",decl:{start:{line:42,column:4},end:{line:42,column:5}},loc:{start:{line:42,column:18},end:{line:52,column:5}},line:42}},branchMap:{0:{loc:{start:{line:6,column:25},end:{line:6,column:38}},type:"default-arg",locations:[{start:{line:6,column:36},end:{line:6,column:38}}],line:6},1:{loc:{start:{line:7,column:8},end:{line:9,column:9}},type:"if",locations:[{start:{line:7,column:8},end:{line:9,column:9}},{start:{line:7,column:8},end:{line:9,column:9}}],line:7},2:{loc:{start:{line:17,column:26},end:{line:17,column:39}},type:"default-arg",locations:[{start:{line:17,column:37},end:{line:17,column:39}}],line:17},3:{loc:{start:{line:18,column:8},end:{line:20,column:9}},type:"if",locations:[{start:{line:18,column:8},end:{line:20,column:9}},{start:{line:18,column:8},end:{line:20,column:9}}],line:18}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0},f:{0:0,1:0,2:0,3:0},b:{0:[0],1:[0,0],2:[0],3:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class ConsensusDB extends JDB.JungleDB{static async getFull(n=(Jn.b[0][0]++,"")){Jn.f[0]++;Jn.s[0]++;if(ConsensusDB._instance)Jn.b[1][1]++;else{Jn.b[1][0]++;Jn.s[1]++;ConsensusDB._instance=await new ConsensusDB(`${n}full-consensus`)}Jn.s[2]++;return ConsensusDB._instance}static async getLight(n=(Jn.b[2][0]++,"")){Jn.f[1]++;Jn.s[3]++;if(ConsensusDB._instance)Jn.b[3][1]++;else{Jn.b[3][0]++;Jn.s[4]++;ConsensusDB._instance=await new ConsensusDB(`${n}light-consensus`)}Jn.s[5]++;return ConsensusDB._instance}constructor(n){Jn.f[2]++;Jn.s[6]++;super(n,ConsensusDB.VERSION,{maxDbSize:ConsensusDB.INITIAL_DB_SIZE,autoResize:!0,minResize:ConsensusDB.MIN_RESIZE});Jn.s[7]++;return this._init()}async _init(){Jn.f[3]++;Jn.s[8]++;AccountsTreeStore.initPersistent(this);Jn.s[9]++;ChainDataStore.initPersistent(this);Jn.s[10]++;TransactionStore.initPersistent(this);Jn.s[11]++;await this.connect();Jn.s[12]++;return this}}Jn.s[13]++;ConsensusDB._instance=null;Jn.s[14]++;ConsensusDB.VERSION=3;Jn.s[15]++;ConsensusDB.INITIAL_DB_SIZE=524288e3;Jn.s[16]++;ConsensusDB.MIN_RESIZE=1<<30;Jn.s[17]++;Class.register(ConsensusDB);var Yn=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/Consensus.js",e="9a4f1ada9617b6b2189d80d0584d1142d3439360",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/Consensus.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:72}},1:{start:{line:8,column:8},end:{line:8,column:41}},2:{start:{line:11,column:21},end:{line:11,column:31}},3:{start:{line:13,column:19},end:{line:13,column:78}},4:{start:{line:15,column:25},end:{line:15,column:57}},5:{start:{line:17,column:33},end:{line:17,column:73}},6:{start:{line:19,column:27},end:{line:19,column:94}},7:{start:{line:21,column:24},end:{line:21,column:57}},8:{start:{line:23,column:24},end:{line:23,column:64}},9:{start:{line:25,column:8},end:{line:25,column:63}},10:{start:{line:33,column:8},end:{line:33,column:90}},11:{start:{line:34,column:8},end:{line:34,column:41}},12:{start:{line:37,column:21},end:{line:37,column:31}},13:{start:{line:39,column:19},end:{line:39,column:79}},14:{start:{line:41,column:25},end:{line:41,column:57}},15:{start:{line:43,column:27},end:{line:43,column:77}},16:{start:{line:45,column:24},end:{line:45,column:57}},17:{start:{line:47,column:24},end:{line:47,column:64}},18:{start:{line:49,column:8},end:{line:49,column:64}},19:{start:{line:57,column:8},end:{line:57,column:105}},20:{start:{line:58,column:8},end:{line:58,column:41}},21:{start:{line:61,column:21},end:{line:61,column:31}},22:{start:{line:63,column:27},end:{line:63,column:52}},23:{start:{line:65,column:24},end:{line:65,column:51}},24:{start:{line:67,column:24},end:{line:67,column:64}},25:{start:{line:69,column:8},end:{line:69,column:63}},26:{start:{line:77,column:8},end:{line:77,column:72}},27:{start:{line:78,column:8},end:{line:78,column:39}},28:{start:{line:81,column:21},end:{line:81,column:31}},29:{start:{line:83,column:25},end:{line:83,column:56}},30:{start:{line:85,column:33},end:{line:85,column:72}},31:{start:{line:87,column:27},end:{line:87,column:91}},32:{start:{line:89,column:24},end:{line:89,column:57}},33:{start:{line:91,column:24},end:{line:91,column:64}},34:{start:{line:93,column:8},end:{line:93,column:63}},35:{start:{line:101,column:8},end:{line:101,column:90}},36:{start:{line:102,column:8},end:{line:102,column:39}},37:{start:{line:105,column:21},end:{line:105,column:31}},38:{start:{line:107,column:25},end:{line:107,column:56}},39:{start:{line:109,column:27},end:{line:109,column:74}},40:{start:{line:111,column:24},end:{line:111,column:57}},41:{start:{line:113,column:24},end:{line:113,column:64}},42:{start:{line:115,column:8},end:{line:115,column:64}},43:{start:{line:123,column:8},end:{line:123,column:105}},44:{start:{line:124,column:8},end:{line:124,column:39}},45:{start:{line:127,column:21},end:{line:127,column:31}},46:{start:{line:129,column:27},end:{line:129,column:52}},47:{start:{line:131,column:24},end:{line:131,column:51}},48:{start:{line:133,column:24},end:{line:133,column:64}},49:{start:{line:135,column:8},end:{line:135,column:63}},50:{start:{line:139,column:0},end:{line:139,column:26}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:62},end:{line:26,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:32,column:4},end:{line:32,column:5}},loc:{start:{line:32,column:63},end:{line:50,column:5}},line:32},2:{name:"(anonymous_2)",decl:{start:{line:56,column:4},end:{line:56,column:5}},loc:{start:{line:56,column:62},end:{line:70,column:5}},line:56},3:{name:"(anonymous_3)",decl:{start:{line:76,column:4},end:{line:76,column:5}},loc:{start:{line:76,column:70},end:{line:94,column:5}},line:76},4:{name:"(anonymous_4)",decl:{start:{line:100,column:4},end:{line:100,column:5}},loc:{start:{line:100,column:71},end:{line:116,column:5}},line:100},5:{name:"(anonymous_5)",decl:{start:{line:122,column:4},end:{line:122,column:5}},loc:{start:{line:122,column:70},end:{line:136,column:5}},line:122}},branchMap:{0:{loc:{start:{line:6,column:22},end:{line:6,column:60}},type:"default-arg",locations:[{start:{line:6,column:34},end:{line:6,column:60}}],line:6},1:{loc:{start:{line:32,column:23},end:{line:32,column:61}},type:"default-arg",locations:[{start:{line:32,column:35},end:{line:32,column:61}}],line:32},2:{loc:{start:{line:56,column:22},end:{line:56,column:60}},type:"default-arg",locations:[{start:{line:56,column:34},end:{line:56,column:60}}],line:56},3:{loc:{start:{line:76,column:30},end:{line:76,column:68}},type:"default-arg",locations:[{start:{line:76,column:42},end:{line:76,column:68}}],line:76},4:{loc:{start:{line:100,column:31},end:{line:100,column:69}},type:"default-arg",locations:[{start:{line:100,column:43},end:{line:100,column:69}}],line:100},5:{loc:{start:{line:122,column:30},end:{line:122,column:68}},type:"default-arg",locations:[{start:{line:122,column:42},end:{line:122,column:68}}],line:122}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0],1:[0],2:[0],3:[0],4:[0],5:[0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();Yn.s[50]++;Class.register(class Consensus{static async full(n=(Yn.b[0][0]++,NetworkConfig.getDefault())){Yn.f[0]++;Yn.s[0]++;n.services=new Services(Services.FULL,Services.FULL);Yn.s[1]++;await n.initPersistent();const e=(Yn.s[2]++,new Time),l=(Yn.s[3]++,await ConsensusDB.getFull(`${GenesisConfig.NETWORK_NAME}-`)),t=(Yn.s[4]++,await Accounts.getPersistent(l)),o=(Yn.s[5]++,await TransactionStore.getPersistent(l)),i=(Yn.s[6]++,await FullChain.getPersistent(l,t,e,o)),c=(Yn.s[7]++,new Mempool(i,t)),s=(Yn.s[8]++,new Network(i,n,e));Yn.s[9]++;return new FullConsensus(i,c,s)}static async light(n=(Yn.b[1][0]++,NetworkConfig.getDefault())){Yn.f[1]++;Yn.s[10]++;n.services=new Services(Services.LIGHT,Services.LIGHT|Services.FULL);Yn.s[11]++;await n.initPersistent();const e=(Yn.s[12]++,new Time),l=(Yn.s[13]++,await ConsensusDB.getLight(`${GenesisConfig.NETWORK_NAME}-`)),t=(Yn.s[14]++,await Accounts.getPersistent(l)),o=(Yn.s[15]++,await LightChain.getPersistent(l,t,e)),i=(Yn.s[16]++,new Mempool(o,t)),c=(Yn.s[17]++,new Network(o,n,e));Yn.s[18]++;return new LightConsensus(o,i,c)}static async nano(n=(Yn.b[2][0]++,NetworkConfig.getDefault())){Yn.f[2]++;Yn.s[19]++;n.services=new Services(Services.NANO,Services.NANO|Services.LIGHT|Services.FULL);Yn.s[20]++;await n.initPersistent();const e=(Yn.s[21]++,new Time),l=(Yn.s[22]++,await new NanoChain(e)),t=(Yn.s[23]++,new NanoMempool(l)),o=(Yn.s[24]++,new Network(l,n,e));Yn.s[25]++;return new NanoConsensus(l,t,o)}static async volatileFull(n=(Yn.b[3][0]++,NetworkConfig.getDefault())){Yn.f[3]++;Yn.s[26]++;n.services=new Services(Services.FULL,Services.FULL);Yn.s[27]++;await n.initVolatile();const e=(Yn.s[28]++,new Time),l=(Yn.s[29]++,await Accounts.createVolatile()),t=(Yn.s[30]++,await TransactionStore.createVolatile()),o=(Yn.s[31]++,await FullChain.createVolatile(l,e,t)),i=(Yn.s[32]++,new Mempool(o,l)),c=(Yn.s[33]++,new Network(o,n,e));Yn.s[34]++;return new FullConsensus(o,i,c)}static async volatileLight(n=(Yn.b[4][0]++,NetworkConfig.getDefault())){Yn.f[4]++;Yn.s[35]++;n.services=new Services(Services.LIGHT,Services.LIGHT|Services.FULL);Yn.s[36]++;await n.initVolatile();const e=(Yn.s[37]++,new Time),l=(Yn.s[38]++,await Accounts.createVolatile()),t=(Yn.s[39]++,await LightChain.createVolatile(l,e)),o=(Yn.s[40]++,new Mempool(t,l)),i=(Yn.s[41]++,new Network(t,n,e));Yn.s[42]++;return new LightConsensus(t,o,i)}static async volatileNano(n=(Yn.b[5][0]++,NetworkConfig.getDefault())){Yn.f[5]++;Yn.s[43]++;n.services=new Services(Services.NANO,Services.NANO|Services.LIGHT|Services.FULL);Yn.s[44]++;await n.initVolatile();const e=(Yn.s[45]++,new Time),l=(Yn.s[46]++,await new NanoChain(e)),t=(Yn.s[47]++,new NanoMempool(l)),o=(Yn.s[48]++,new Network(l,n,e));Yn.s[49]++;return new NanoConsensus(l,t,o)}});var ne=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/Protocol.js",e="6e8f110b12e61be779a7562ba5e79ba43a894c14",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/Protocol.js",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:18}},1:{start:{line:4,column:0},end:{line:4,column:16}},2:{start:{line:5,column:0},end:{line:5,column:17}},3:{start:{line:6,column:0},end:{line:6,column:25}}},fnMap:{},branchMap:{},s:{0:0,1:0,2:0,3:0},f:{},b:{},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Protocol{}ne.s[0]++;Protocol.DUMB=0;ne.s[1]++;Protocol.WS=1;ne.s[2]++;Protocol.RTC=2;ne.s[3]++;Class.register(Protocol);var ee=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/Message.js",e="475e2453910d387569b0fe43bb4a2b40a110e3d9",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/Message.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:75}},1:{start:{line:7,column:41},end:{line:7,column:75}},2:{start:{line:9,column:8},end:{line:9,column:26}},3:{start:{line:18,column:20},end:{line:18,column:31}},4:{start:{line:21,column:8},end:{line:21,column:24}},5:{start:{line:24,column:21},end:{line:24,column:38}},6:{start:{line:27,column:8},end:{line:27,column:26}},7:{start:{line:29,column:8},end:{line:29,column:20}},8:{start:{line:38,column:20},end:{line:38,column:31}},9:{start:{line:41,column:8},end:{line:41,column:24}},10:{start:{line:44,column:8},end:{line:44,column:26}},11:{start:{line:46,column:23},end:{line:46,column:39}},12:{start:{line:49,column:8},end:{line:49,column:26}},13:{start:{line:51,column:8},end:{line:51,column:22}},14:{start:{line:60,column:8},end:{line:60,column:90}},15:{start:{line:62,column:22},end:{line:62,column:38}},16:{start:{line:63,column:21},end:{line:63,column:38}},17:{start:{line:64,column:8},end:{line:64,column:25}},18:{start:{line:65,column:25},end:{line:65,column:41}},19:{start:{line:68,column:8},end:{line:68,column:61}},20:{start:{line:68,column:37},end:{line:68,column:61}},21:{start:{line:71,column:8},end:{line:71,column:45}},22:{start:{line:72,column:35},end:{line:72,column:53}},23:{start:{line:73,column:8},end:{line:73,column:81}},24:{start:{line:73,column:45},end:{line:73,column:81}},25:{start:{line:75,column:8},end:{line:75,column:33}},26:{start:{line:83,column:8},end:{line:83,column:59}},27:{start:{line:85,column:8},end:{line:85,column:90}},28:{start:{line:87,column:8},end:{line:87,column:39}},29:{start:{line:88,column:8},end:{line:88,column:37}},30:{start:{line:89,column:8},end:{line:89,column:45}},31:{start:{line:90,column:8},end:{line:90,column:27}},32:{start:{line:92,column:8},end:{line:92,column:19}},33:{start:{line:97,column:8},end:{line:100,column:29}},34:{start:{line:109,column:25},end:{line:109,column:43}},35:{start:{line:110,column:8},end:{line:110,column:58}},36:{start:{line:122,column:20},end:{line:122,column:32}},37:{start:{line:126,column:8},end:{line:128,column:27}},38:{start:{line:131,column:8},end:{line:131,column:31}},39:{start:{line:134,column:8},end:{line:134,column:27}},40:{start:{line:139,column:8},end:{line:139,column:26}},41:{start:{line:142,column:0},end:{line:142,column:27}},42:{start:{line:147,column:0},end:{line:185,column:2}},43:{start:{line:186,column:0},end:{line:186,column:24}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:22},end:{line:10,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:16,column:4},end:{line:16,column:5}},loc:{start:{line:16,column:25},end:{line:30,column:5}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:36,column:4},end:{line:36,column:5}},loc:{start:{line:36,column:27},end:{line:52,column:5}},line:36},3:{name:"(anonymous_3)",decl:{start:{line:58,column:4},end:{line:58,column:5}},loc:{start:{line:58,column:28},end:{line:76,column:5}},line:58},4:{name:"(anonymous_4)",decl:{start:{line:82,column:4},end:{line:82,column:5}},loc:{start:{line:82,column:19},end:{line:93,column:5}},line:82},5:{name:"(anonymous_5)",decl:{start:{line:96,column:4},end:{line:96,column:5}},loc:{start:{line:96,column:25},end:{line:101,column:5}},line:96},6:{name:"(anonymous_6)",decl:{start:{line:108,column:4},end:{line:108,column:5}},loc:{start:{line:108,column:22},end:{line:111,column:5}},line:108},7:{name:"(anonymous_7)",decl:{start:{line:120,column:4},end:{line:120,column:5}},loc:{start:{line:120,column:44},end:{line:135,column:5}},line:120},8:{name:"(anonymous_8)",decl:{start:{line:138,column:4},end:{line:138,column:5}},loc:{start:{line:138,column:15},end:{line:140,column:5}},line:138}},branchMap:{0:{loc:{start:{line:7,column:8},end:{line:7,column:75}},type:"if",locations:[{start:{line:7,column:8},end:{line:7,column:75}},{start:{line:7,column:8},end:{line:7,column:75}}],line:7},1:{loc:{start:{line:68,column:8},end:{line:68,column:61}},type:"if",locations:[{start:{line:68,column:8},end:{line:68,column:61}},{start:{line:68,column:8},end:{line:68,column:61}}],line:68},2:{loc:{start:{line:73,column:8},end:{line:73,column:81}},type:"if",locations:[{start:{line:73,column:8},end:{line:73,column:81}},{start:{line:73,column:8},end:{line:73,column:81}}],line:73},3:{loc:{start:{line:83,column:14},end:{line:83,column:58}},type:"binary-expr",locations:[{start:{line:83,column:14},end:{line:83,column:17}},{start:{line:83,column:21},end:{line:83,column:58}}],line:83}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Message{constructor(n){ee.f[0]++;ee.s[0]++;if(!NumberUtils.isUint64(n)){ee.b[0][0]++;ee.s[1]++;throw new Error("Malformed type")}ee.b[0][1]++;ee.s[2]++;this._type=n}static peekType(n){ee.f[1]++;const e=(ee.s[3]++,n.readPos);ee.s[4]++;n.readPos=4;const l=(ee.s[5]++,n.readVarUint());ee.s[6]++;n.readPos=e;ee.s[7]++;return l}static peekLength(n){ee.f[2]++;const e=(ee.s[8]++,n.readPos);ee.s[9]++;n.readPos=4;ee.s[10]++;n.readVarUint();const l=(ee.s[11]++,n.readUint32());ee.s[12]++;n.readPos=e;ee.s[13]++;return l}static unserialize(n){ee.f[3]++;ee.s[14]++;Assert.that(0===n.readPos,"Message.unserialize() requires buf.readPos == 0");const e=(ee.s[15]++,n.readUint32()),l=(ee.s[16]++,n.readVarUint());ee.s[17]++;n.readUint32();const t=(ee.s[18]++,n.readUint32());ee.s[19]++;if(e!==Message.MAGIC){ee.b[1][0]++;ee.s[20]++;throw"Malformed magic"}ee.b[1][1]++;ee.s[21]++;Message._writeChecksum(l,n,0);const o=(ee.s[22]++,CRC32.compute(n));ee.s[23]++;if(t!==o){ee.b[2][0]++;ee.s[24]++;throw new Error("Invalid checksum")}ee.b[2][1]++;ee.s[25]++;return new Message(l)}serialize(n){ee.f[4]++;ee.s[26]++;n=(ee.b[3][0]++,n)||(ee.b[3][1]++,new SerialBuffer(this.serializedSize));ee.s[27]++;Assert.that(0===n.writePos,"Message.serialize() requires buf.writePos == 0");ee.s[28]++;n.writeUint32(Message.MAGIC);ee.s[29]++;n.writeVarUint(this._type);ee.s[30]++;n.writeUint32(this.serializedSize);ee.s[31]++;n.writeUint32(0);ee.s[32]++;return n}get serializedSize(){ee.f[5]++;ee.s[33]++;return 4+SerialBuffer.varUintSize(this._type)+4+4}_setChecksum(n){ee.f[6]++;const e=(ee.s[34]++,CRC32.compute(n));ee.s[35]++;Message._writeChecksum(this._type,n,e)}static _writeChecksum(n,e,l){ee.f[7]++;const t=(ee.s[36]++,e.writePos);ee.s[37]++;e.writePos=4+SerialBuffer.varUintSize(n)+4;ee.s[38]++;e.writeUint32(l);ee.s[39]++;e.writePos=t}get type(){ee.f[8]++;ee.s[40]++;return this._type}}ee.s[41]++;Message.MAGIC=1107566658;ee.s[42]++;Message.Type={VERSION:0,INV:1,GET_DATA:2,GET_HEADER:3,NOT_FOUND:4,GET_BLOCKS:5,BLOCK:6,HEADER:7,TX:8,MEMPOOL:9,REJECT:10,SUBSCRIBE:11,ADDR:20,GET_ADDR:21,PING:22,PONG:23,SIGNAL:30,GET_CHAIN_PROOF:40,CHAIN_PROOF:41,GET_ACCOUNTS_PROOF:42,ACCOUNTS_PROOF:43,GET_ACCOUNTS_TREE_CHUNK:44,ACCOUNTS_TREE_CHUNK:45,GET_TRANSACTIONS_PROOF:47,TRANSACTIONS_PROOF:48,GET_TRANSACTION_RECEIPTS:49,TRANSACTION_RECEIPTS:50,GET_BLOCK_PROOF:51,BLOCK_PROOF:52,GET_HEAD:60,HEAD:61,VERACK:90};ee.s[43]++;Class.register(Message);var le=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/AddrMessage.js",e="0afcc29ffc45cb4bdf00e61bddd33504222d40d1",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/AddrMessage.js",statementMap:{0:{start:{line:6,column:8},end:{line:6,column:33}},1:{start:{line:7,column:8},end:{line:8,column:95}},2:{start:{line:8,column:36},end:{line:8,column:64}},3:{start:{line:8,column:67},end:{line:8,column:95}},4:{start:{line:9,column:8},end:{line:9,column:36}},5:{start:{line:17,column:8},end:{line:17,column:33}},6:{start:{line:18,column:22},end:{line:18,column:38}},7:{start:{line:19,column:26},end:{line:19,column:28}},8:{start:{line:20,column:8},end:{line:22,column:9}},9:{start:{line:21,column:12},end:{line:21,column:57}},10:{start:{line:23,column:8},end:{line:23,column:42}},11:{start:{line:31,column:8},end:{line:31,column:59}},12:{start:{line:32,column:8},end:{line:32,column:29}},13:{start:{line:33,column:8},end:{line:33,column:48}},14:{start:{line:34,column:8},end:{line:36,column:9}},15:{start:{line:35,column:12},end:{line:35,column:32}},16:{start:{line:37,column:8},end:{line:37,column:32}},17:{start:{line:38,column:8},end:{line:38,column:19}},18:{start:{line:43,column:19},end:{line:44,column:25}},19:{start:{line:45,column:8},end:{line:47,column:9}},20:{start:{line:46,column:12},end:{line:46,column:40}},21:{start:{line:48,column:8},end:{line:48,column:20}},22:{start:{line:53,column:8},end:{line:53,column:31}},23:{start:{line:56,column:0},end:{line:56,column:28}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:27},end:{line:10,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:8,column:30},end:{line:8,column:31}},loc:{start:{line:8,column:36},end:{line:8,column:64}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:16,column:4},end:{line:16,column:5}},loc:{start:{line:16,column:28},end:{line:24,column:5}},line:16},3:{name:"(anonymous_3)",decl:{start:{line:30,column:4},end:{line:30,column:5}},loc:{start:{line:30,column:19},end:{line:39,column:5}},line:30},4:{name:"(anonymous_4)",decl:{start:{line:42,column:4},end:{line:42,column:5}},loc:{start:{line:42,column:25},end:{line:49,column:5}},line:42},5:{name:"(anonymous_5)",decl:{start:{line:52,column:4},end:{line:52,column:5}},loc:{start:{line:52,column:20},end:{line:54,column:5}},line:52}},branchMap:{0:{loc:{start:{line:7,column:8},end:{line:8,column:95}},type:"if",locations:[{start:{line:7,column:8},end:{line:8,column:95}},{start:{line:7,column:8},end:{line:8,column:95}}],line:7},1:{loc:{start:{line:7,column:12},end:{line:8,column:65}},type:"binary-expr",locations:[{start:{line:7,column:12},end:{line:7,column:22}},{start:{line:7,column:26},end:{line:7,column:65}},{start:{line:8,column:15},end:{line:8,column:65}}],line:7},2:{loc:{start:{line:31,column:14},end:{line:31,column:58}},type:"binary-expr",locations:[{start:{line:31,column:14},end:{line:31,column:17}},{start:{line:31,column:21},end:{line:31,column:58}}],line:31}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0,0],2:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class AddrMessage extends Message{constructor(n){le.f[0]++;le.s[0]++;super(Message.Type.ADDR);le.s[1]++;if((le.b[1][0]++,!n)||(le.b[1][1]++,!NumberUtils.isUint16(n.length))||(le.b[1][2]++,n.some(n=>{le.f[1]++;le.s[2]++;return!(n instanceof PeerAddress)}))){le.b[0][0]++;le.s[3]++;throw"Malformed addresses"}le.b[0][1]++;le.s[4]++;this._addresses=n}static unserialize(n){le.f[2]++;le.s[5]++;Message.unserialize(n);const e=(le.s[6]++,n.readUint16()),l=(le.s[7]++,[]);le.s[8]++;for(let t=0;t<e;++t){le.s[9]++;l.push(PeerAddress.unserialize(n))}le.s[10]++;return new AddrMessage(l)}serialize(n){le.f[3]++;le.s[11]++;n=(le.b[2][0]++,n)||(le.b[2][1]++,new SerialBuffer(this.serializedSize));le.s[12]++;super.serialize(n);le.s[13]++;n.writeUint16(this._addresses.length);le.s[14]++;for(const e of this._addresses){le.s[15]++;e.serialize(n)}le.s[16]++;super._setChecksum(n);le.s[17]++;return n}get serializedSize(){le.f[4]++;let n=(le.s[18]++,super.serializedSize+2);le.s[19]++;for(const e of this._addresses){le.s[20]++;n+=e.serializedSize}le.s[21]++;return n}get addresses(){le.f[5]++;le.s[22]++;return this._addresses}}le.s[23]++;Class.register(AddrMessage);var te=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/BlockMessage.js",e="8543c2390a2b5c4a119c1e9426f5e936729a94aa",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/BlockMessage.js",statementMap:{0:{start:{line:6,column:8},end:{line:6,column:34}},1:{start:{line:9,column:8},end:{line:9,column:28}},2:{start:{line:17,column:8},end:{line:17,column:33}},3:{start:{line:18,column:22},end:{line:18,column:44}},4:{start:{line:19,column:8},end:{line:19,column:39}},5:{start:{line:27,column:8},end:{line:27,column:59}},6:{start:{line:28,column:8},end:{line:28,column:29}},7:{start:{line:29,column:8},end:{line:29,column:35}},8:{start:{line:30,column:8},end:{line:30,column:32}},9:{start:{line:31,column:8},end:{line:31,column:19}},10:{start:{line:36,column:8},end:{line:37,column:41}},11:{start:{line:42,column:8},end:{line:42,column:27}},12:{start:{line:45,column:0},end:{line:45,column:29}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:23},end:{line:10,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:16,column:4},end:{line:16,column:5}},loc:{start:{line:16,column:28},end:{line:20,column:5}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:26,column:4},end:{line:26,column:5}},loc:{start:{line:26,column:19},end:{line:32,column:5}},line:26},3:{name:"(anonymous_3)",decl:{start:{line:35,column:4},end:{line:35,column:5}},loc:{start:{line:35,column:25},end:{line:38,column:5}},line:35},4:{name:"(anonymous_4)",decl:{start:{line:41,column:4},end:{line:41,column:5}},loc:{start:{line:41,column:16},end:{line:43,column:5}},line:41}},branchMap:{0:{loc:{start:{line:27,column:14},end:{line:27,column:58}},type:"binary-expr",locations:[{start:{line:27,column:14},end:{line:27,column:17}},{start:{line:27,column:21},end:{line:27,column:58}}],line:27}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class BlockMessage extends Message{constructor(n){te.f[0]++;te.s[0]++;super(Message.Type.BLOCK);te.s[1]++;this._block=n}static unserialize(n){te.f[1]++;te.s[2]++;Message.unserialize(n);const e=(te.s[3]++,Block.unserialize(n));te.s[4]++;return new BlockMessage(e)}serialize(n){te.f[2]++;te.s[5]++;n=(te.b[0][0]++,n)||(te.b[0][1]++,new SerialBuffer(this.serializedSize));te.s[6]++;super.serialize(n);te.s[7]++;this._block.serialize(n);te.s[8]++;super._setChecksum(n);te.s[9]++;return n}get serializedSize(){te.f[3]++;te.s[10]++;return super.serializedSize+this._block.serializedSize}get block(){te.f[4]++;te.s[11]++;return this._block}}te.s[12]++;Class.register(BlockMessage);var oe=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/GetAddrMessage.js",e="035ebe3334a18b6cd05134226bea344bc4146309",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/GetAddrMessage.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:37}},1:{start:{line:8,column:8},end:{line:8,column:79}},2:{start:{line:8,column:48},end:{line:8,column:79}},3:{start:{line:9,column:8},end:{line:9,column:78}},4:{start:{line:9,column:48},end:{line:9,column:78}},5:{start:{line:10,column:8},end:{line:10,column:42}},6:{start:{line:11,column:8},end:{line:11,column:40}},7:{start:{line:19,column:8},end:{line:19,column:33}},8:{start:{line:20,column:29},end:{line:20,column:44}},9:{start:{line:21,column:28},end:{line:21,column:44}},10:{start:{line:22,column:8},end:{line:22,column:61}},11:{start:{line:30,column:8},end:{line:30,column:59}},12:{start:{line:31,column:8},end:{line:31,column:29}},13:{start:{line:32,column:8},end:{line:32,column:43}},14:{start:{line:33,column:8},end:{line:33,column:43}},15:{start:{line:34,column:8},end:{line:34,column:32}},16:{start:{line:35,column:8},end:{line:35,column:19}},17:{start:{line:40,column:8},end:{line:42,column:32}},18:{start:{line:47,column:8},end:{line:47,column:34}},19:{start:{line:52,column:8},end:{line:52,column:33}},20:{start:{line:55,column:0},end:{line:55,column:31}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:43},end:{line:12,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:18,column:4},end:{line:18,column:5}},loc:{start:{line:18,column:28},end:{line:23,column:5}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:29,column:4},end:{line:29,column:5}},loc:{start:{line:29,column:19},end:{line:36,column:5}},line:29},3:{name:"(anonymous_3)",decl:{start:{line:39,column:4},end:{line:39,column:5}},loc:{start:{line:39,column:25},end:{line:43,column:5}},line:39},4:{name:"(anonymous_4)",decl:{start:{line:46,column:4},end:{line:46,column:5}},loc:{start:{line:46,column:23},end:{line:48,column:5}},line:46},5:{name:"(anonymous_5)",decl:{start:{line:51,column:4},end:{line:51,column:5}},loc:{start:{line:51,column:22},end:{line:53,column:5}},line:51}},branchMap:{0:{loc:{start:{line:8,column:8},end:{line:8,column:79}},type:"if",locations:[{start:{line:8,column:8},end:{line:8,column:79}},{start:{line:8,column:8},end:{line:8,column:79}}],line:8},1:{loc:{start:{line:9,column:8},end:{line:9,column:78}},type:"if",locations:[{start:{line:9,column:8},end:{line:9,column:78}},{start:{line:9,column:8},end:{line:9,column:78}}],line:9},2:{loc:{start:{line:30,column:14},end:{line:30,column:58}},type:"binary-expr",locations:[{start:{line:30,column:14},end:{line:30,column:17}},{start:{line:30,column:21},end:{line:30,column:58}}],line:30}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class GetAddrMessage extends Message{constructor(n,e){oe.f[0]++;oe.s[0]++;super(Message.Type.GET_ADDR);oe.s[1]++;if(!NumberUtils.isUint8(n)){oe.b[0][0]++;oe.s[2]++;throw"Malformed protocolMask"}oe.b[0][1]++;oe.s[3]++;if(!NumberUtils.isUint32(e)){oe.b[1][0]++;oe.s[4]++;throw"Malformed serviceMask"}oe.b[1][1]++;oe.s[5]++;this._protocolMask=n;oe.s[6]++;this._serviceMask=e}static unserialize(n){oe.f[1]++;oe.s[7]++;Message.unserialize(n);const e=(oe.s[8]++,n.readUint8()),l=(oe.s[9]++,n.readUint32());oe.s[10]++;return new GetAddrMessage(e,l)}serialize(n){oe.f[2]++;oe.s[11]++;n=(oe.b[2][0]++,n)||(oe.b[2][1]++,new SerialBuffer(this.serializedSize));oe.s[12]++;super.serialize(n);oe.s[13]++;n.writeUint8(this._protocolMask);oe.s[14]++;n.writeUint32(this._serviceMask);oe.s[15]++;super._setChecksum(n);oe.s[16]++;return n}get serializedSize(){oe.f[3]++;oe.s[17]++;return super.serializedSize+1+4}get protocolMask(){oe.f[4]++;oe.s[18]++;return this._protocolMask}get serviceMask(){oe.f[5]++;oe.s[19]++;return this._serviceMask}}oe.s[20]++;Class.register(GetAddrMessage);var ie=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/GetBlocksMessage.js",e="eeaf3b870c87c128d902e944d449aa2e920dfca6",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/GetBlocksMessage.js",statementMap:{0:{start:{line:8,column:8},end:{line:8,column:39}},1:{start:{line:9,column:8},end:{line:10,column:81}},2:{start:{line:10,column:35},end:{line:10,column:51}},3:{start:{line:10,column:54},end:{line:10,column:81}},4:{start:{line:11,column:8},end:{line:11,column:76}},5:{start:{line:11,column:47},end:{line:11,column:76}},6:{start:{line:12,column:8},end:{line:12,column:73}},7:{start:{line:12,column:45},end:{line:12,column:73}},8:{start:{line:14,column:8},end:{line:14,column:34}},9:{start:{line:15,column:8},end:{line:15,column:38}},10:{start:{line:16,column:8},end:{line:16,column:36}},11:{start:{line:24,column:8},end:{line:24,column:33}},12:{start:{line:25,column:22},end:{line:25,column:38}},13:{start:{line:26,column:25},end:{line:26,column:27}},14:{start:{line:27,column:8},end:{line:29,column:9}},15:{start:{line:28,column:12},end:{line:28,column:49}},16:{start:{line:30,column:27},end:{line:30,column:43}},17:{start:{line:31,column:26},end:{line:31,column:41}},18:{start:{line:32,column:8},end:{line:32,column:69}},19:{start:{line:40,column:8},end:{line:40,column:59}},20:{start:{line:41,column:8},end:{line:41,column:29}},21:{start:{line:42,column:8},end:{line:42,column:47}},22:{start:{line:43,column:8},end:{line:45,column:9}},23:{start:{line:44,column:12},end:{line:44,column:35}},24:{start:{line:46,column:8},end:{line:46,column:42}},25:{start:{line:47,column:8},end:{line:47,column:40}},26:{start:{line:48,column:8},end:{line:48,column:32}},27:{start:{line:49,column:8},end:{line:49,column:19}},28:{start:{line:54,column:19},end:{line:57,column:30}},29:{start:{line:58,column:8},end:{line:60,column:9}},30:{start:{line:59,column:12},end:{line:59,column:43}},31:{start:{line:61,column:8},end:{line:61,column:20}},32:{start:{line:66,column:8},end:{line:66,column:30}},33:{start:{line:71,column:8},end:{line:71,column:31}},34:{start:{line:76,column:8},end:{line:76,column:32}},35:{start:{line:82,column:0},end:{line:85,column:2}},36:{start:{line:86,column:0},end:{line:86,column:33}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:123},end:{line:17,column:5}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:10,column:29},end:{line:10,column:30}},loc:{start:{line:10,column:35},end:{line:10,column:51}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:23,column:4},end:{line:23,column:5}},loc:{start:{line:23,column:28},end:{line:33,column:5}},line:23},3:{name:"(anonymous_3)",decl:{start:{line:39,column:4},end:{line:39,column:5}},loc:{start:{line:39,column:19},end:{line:50,column:5}},line:39},4:{name:"(anonymous_4)",decl:{start:{line:53,column:4},end:{line:53,column:5}},loc:{start:{line:53,column:25},end:{line:62,column:5}},line:53},5:{name:"(anonymous_5)",decl:{start:{line:65,column:4},end:{line:65,column:5}},loc:{start:{line:65,column:19},end:{line:67,column:5}},line:65},6:{name:"(anonymous_6)",decl:{start:{line:70,column:4},end:{line:70,column:5}},loc:{start:{line:70,column:20},end:{line:72,column:5}},line:70},7:{name:"(anonymous_7)",decl:{start:{line:75,column:4},end:{line:75,column:5}},loc:{start:{line:75,column:21},end:{line:77,column:5}},line:75}},branchMap:{0:{loc:{start:{line:7,column:26},end:{line:7,column:75}},type:"default-arg",locations:[{start:{line:7,column:37},end:{line:7,column:75}}],line:7},1:{loc:{start:{line:7,column:77},end:{line:7,column:121}},type:"default-arg",locations:[{start:{line:7,column:87},end:{line:7,column:121}}],line:7},2:{loc:{start:{line:9,column:8},end:{line:10,column:81}},type:"if",locations:[{start:{line:9,column:8},end:{line:10,column:81}},{start:{line:9,column:8},end:{line:10,column:81}}],line:9},3:{loc:{start:{line:9,column:12},end:{line:10,column:52}},type:"binary-expr",locations:[{start:{line:9,column:12},end:{line:9,column:21}},{start:{line:9,column:25},end:{line:9,column:63}},{start:{line:10,column:15},end:{line:10,column:52}}],line:9},4:{loc:{start:{line:11,column:8},end:{line:11,column:76}},type:"if",locations:[{start:{line:11,column:8},end:{line:11,column:76}},{start:{line:11,column:8},end:{line:11,column:76}}],line:11},5:{loc:{start:{line:12,column:8},end:{line:12,column:73}},type:"if",locations:[{start:{line:12,column:8},end:{line:12,column:73}},{start:{line:12,column:8},end:{line:12,column:73}}],line:12},6:{loc:{start:{line:40,column:14},end:{line:40,column:58}},type:"binary-expr",locations:[{start:{line:40,column:14},end:{line:40,column:17}},{start:{line:40,column:21},end:{line:40,column:58}}],line:40}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0],1:[0],2:[0,0],3:[0,0,0],4:[0,0],5:[0,0],6:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class GetBlocksMessage extends Message{constructor(n,e=(ie.b[0][0]++,BaseInventoryMessage.VECTORS_MAX_COUNT),l=(ie.b[1][0]++,GetBlocksMessage.Direction.FORWARD)){ie.f[0]++;ie.s[0]++;super(Message.Type.GET_BLOCKS);ie.s[1]++;if((ie.b[3][0]++,!n)||(ie.b[3][1]++,!NumberUtils.isUint16(n.length))||(ie.b[3][2]++,n.some(n=>{ie.f[1]++;ie.s[2]++;return!Hash.isHash(n)}))){ie.b[2][0]++;ie.s[3]++;throw"Malformed locators"}ie.b[2][1]++;ie.s[4]++;if(!NumberUtils.isUint16(e)){ie.b[4][0]++;ie.s[5]++;throw"Malformed maxInvSize"}ie.b[4][1]++;ie.s[6]++;if(!NumberUtils.isUint8(l)){ie.b[5][0]++;ie.s[7]++;throw"Malformed direction"}ie.b[5][1]++;ie.s[8]++;this._locators=n;ie.s[9]++;this._maxInvSize=e;ie.s[10]++;this._direction=l}static unserialize(n){ie.f[2]++;ie.s[11]++;Message.unserialize(n);const e=(ie.s[12]++,n.readUint16()),l=(ie.s[13]++,[]);ie.s[14]++;for(let i=0;i<e;i++){ie.s[15]++;l.push(Hash.unserialize(n))}const t=(ie.s[16]++,n.readUint16()),o=(ie.s[17]++,n.readUint8());ie.s[18]++;return new GetBlocksMessage(l,t,o)}serialize(n){ie.f[3]++;ie.s[19]++;n=(ie.b[6][0]++,n)||(ie.b[6][1]++,new SerialBuffer(this.serializedSize));ie.s[20]++;super.serialize(n);ie.s[21]++;n.writeUint16(this._locators.length);ie.s[22]++;for(const e of this._locators){ie.s[23]++;e.serialize(n)}ie.s[24]++;n.writeUint16(this._maxInvSize);ie.s[25]++;n.writeUint8(this._direction);ie.s[26]++;super._setChecksum(n);ie.s[27]++;return n}get serializedSize(){ie.f[4]++;let n=(ie.s[28]++,super.serializedSize+2+1+2);ie.s[29]++;for(const e of this._locators){ie.s[30]++;n+=e.serializedSize}ie.s[31]++;return n}get locators(){ie.f[5]++;ie.s[32]++;return this._locators}get direction(){ie.f[6]++;ie.s[33]++;return this._direction}get maxInvSize(){ie.f[7]++;ie.s[34]++;return this._maxInvSize}}ie.s[35]++;GetBlocksMessage.Direction={FORWARD:1,BACKWARD:2};ie.s[36]++;Class.register(GetBlocksMessage);var ce=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/HeaderMessage.js",e="aa509b30589edaa1c4186eaa787eb2902bbf2b05",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/HeaderMessage.js",statementMap:{0:{start:{line:6,column:8},end:{line:6,column:35}},1:{start:{line:8,column:8},end:{line:8,column:30}},2:{start:{line:16,column:8},end:{line:16,column:33}},3:{start:{line:17,column:23},end:{line:17,column:51}},4:{start:{line:18,column:8},end:{line:18,column:41}},5:{start:{line:26,column:8},end:{line:26,column:59}},6:{start:{line:27,column:8},end:{line:27,column:29}},7:{start:{line:28,column:8},end:{line:28,column:36}},8:{start:{line:29,column:8},end:{line:29,column:32}},9:{start:{line:30,column:8},end:{line:30,column:19}},10:{start:{line:35,column:8},end:{line:36,column:42}},11:{start:{line:41,column:8},end:{line:41,column:28}},12:{start:{line:44,column:0},end:{line:44,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:24},end:{line:9,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:15,column:4},end:{line:15,column:5}},loc:{start:{line:15,column:28},end:{line:19,column:5}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:25,column:4},end:{line:25,column:5}},loc:{start:{line:25,column:19},end:{line:31,column:5}},line:25},3:{name:"(anonymous_3)",decl:{start:{line:34,column:4},end:{line:34,column:5}},loc:{start:{line:34,column:25},end:{line:37,column:5}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:40,column:4},end:{line:40,column:5}},loc:{start:{line:40,column:17},end:{line:42,column:5}},line:40}},branchMap:{0:{loc:{start:{line:26,column:14},end:{line:26,column:58}},type:"binary-expr",locations:[{start:{line:26,column:14},end:{line:26,column:17}},{start:{line:26,column:21},end:{line:26,column:58}}],line:26}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class HeaderMessage extends Message{constructor(n){ce.f[0]++;ce.s[0]++;super(Message.Type.HEADER);ce.s[1]++;this._header=n}static unserialize(n){ce.f[1]++;ce.s[2]++;Message.unserialize(n);const e=(ce.s[3]++,BlockHeader.unserialize(n));ce.s[4]++;return new HeaderMessage(e)}serialize(n){ce.f[2]++;ce.s[5]++;n=(ce.b[0][0]++,n)||(ce.b[0][1]++,new SerialBuffer(this.serializedSize));ce.s[6]++;super.serialize(n);ce.s[7]++;this._header.serialize(n);ce.s[8]++;super._setChecksum(n);ce.s[9]++;return n}get serializedSize(){ce.f[3]++;ce.s[10]++;return super.serializedSize+this._header.serializedSize}get header(){ce.f[4]++;ce.s[11]++;return this._header}}ce.s[12]++;Class.register(HeaderMessage);var se=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/InventoryMessage.js",e="3957d09f33c74c89ddb34e983c39a61f2cb5d60a",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/InventoryMessage.js",statementMap:{0:{start:{line:7,column:21},end:{line:7,column:33}},1:{start:{line:8,column:8},end:{line:8,column:57}},2:{start:{line:16,column:21},end:{line:16,column:34}},3:{start:{line:17,column:8},end:{line:17,column:57}},4:{start:{line:25,column:21},end:{line:25,column:30}},5:{start:{line:26,column:8},end:{line:26,column:63}},6:{start:{line:35,column:8},end:{line:35,column:55}},7:{start:{line:35,column:32},end:{line:35,column:55}},8:{start:{line:37,column:8},end:{line:37,column:26}},9:{start:{line:39,column:8},end:{line:39,column:26}},10:{start:{line:47,column:21},end:{line:47,column:52}},11:{start:{line:48,column:21},end:{line:48,column:42}},12:{start:{line:49,column:8},end:{line:49,column:41}},13:{start:{line:57,column:8},end:{line:57,column:59}},14:{start:{line:58,column:8},end:{line:58,column:36}},15:{start:{line:59,column:8},end:{line:59,column:34}},16:{start:{line:60,column:8},end:{line:60,column:19}},17:{start:{line:68,column:8},end:{line:70,column:41}},18:{start:{line:77,column:8},end:{line:77,column:56}},19:{start:{line:84,column:8},end:{line:84,column:67}},20:{start:{line:89,column:8},end:{line:90,column:40}},21:{start:{line:95,column:8},end:{line:95,column:26}},22:{start:{line:100,column:8},end:{line:100,column:26}},23:{start:{line:106,column:0},end:{line:118,column:2}},24:{start:{line:116,column:8},end:{line:116,column:64}},25:{start:{line:119,column:0},end:{line:119,column:26}},26:{start:{line:127,column:8},end:{line:127,column:20}},27:{start:{line:128,column:8},end:{line:130,column:98}},28:{start:{line:129,column:34},end:{line:129,column:60}},29:{start:{line:130,column:72},end:{line:130,column:98}},30:{start:{line:132,column:8},end:{line:132,column:32}},31:{start:{line:140,column:8},end:{line:140,column:59}},32:{start:{line:141,column:8},end:{line:141,column:29}},33:{start:{line:142,column:8},end:{line:142,column:46}},34:{start:{line:143,column:8},end:{line:145,column:9}},35:{start:{line:144,column:12},end:{line:144,column:34}},36:{start:{line:146,column:8},end:{line:146,column:32}},37:{start:{line:147,column:8},end:{line:147,column:19}},38:{start:{line:152,column:19},end:{line:153,column:25}},39:{start:{line:154,column:8},end:{line:156,column:9}},40:{start:{line:155,column:12},end:{line:155,column:42}},41:{start:{line:157,column:8},end:{line:157,column:20}},42:{start:{line:162,column:8},end:{line:162,column:29}},43:{start:{line:165,column:0},end:{line:165,column:46}},44:{start:{line:166,column:0},end:{line:166,column:37}},45:{start:{line:173,column:8},end:{line:173,column:41}},46:{start:{line:181,column:8},end:{line:181,column:33}},47:{start:{line:182,column:22},end:{line:182,column:38}},48:{start:{line:183,column:24},end:{line:183,column:26}},49:{start:{line:184,column:8},end:{line:186,column:9}},50:{start:{line:185,column:12},end:{line:185,column:53}},51:{start:{line:187,column:8},end:{line:187,column:39}},52:{start:{line:190,column:0},end:{line:190,column:27}},53:{start:{line:197,column:8},end:{line:197,column:46}},54:{start:{line:205,column:8},end:{line:205,column:33}},55:{start:{line:206,column:22},end:{line:206,column:38}},56:{start:{line:207,column:24},end:{line:207,column:26}},57:{start:{line:208,column:8},end:{line:210,column:9}},58:{start:{line:209,column:12},end:{line:209,column:53}},59:{start:{line:211,column:8},end:{line:211,column:43}},60:{start:{line:214,column:0},end:{line:214,column:31}},61:{start:{line:221,column:8},end:{line:221,column:48}},62:{start:{line:229,column:8},end:{line:229,column:33}},63:{start:{line:230,column:22},end:{line:230,column:38}},64:{start:{line:231,column:24},end:{line:231,column:26}},65:{start:{line:232,column:8},end:{line:234,column:9}},66:{start:{line:233,column:12},end:{line:233,column:53}},67:{start:{line:235,column:8},end:{line:235,column:45}},68:{start:{line:238,column:0},end:{line:238,column:33}},69:{start:{line:245,column:8},end:{line:245,column:47}},70:{start:{line:253,column:8},end:{line:253,column:33}},71:{start:{line:254,column:22},end:{line:254,column:38}},72:{start:{line:255,column:24},end:{line:255,column:26}},73:{start:{line:256,column:8},end:{line:258,column:9}},74:{start:{line:257,column:12},end:{line:257,column:53}},75:{start:{line:259,column:8},end:{line:259,column:44}},76:{start:{line:262,column:0},end:{line:262,column:32}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:28},end:{line:9,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:15,column:4},end:{line:15,column:5}},loc:{start:{line:15,column:30},end:{line:18,column:5}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:24,column:4},end:{line:24,column:5}},loc:{start:{line:24,column:31},end:{line:27,column:5}},line:24},3:{name:"(anonymous_3)",decl:{start:{line:33,column:4},end:{line:33,column:5}},loc:{start:{line:33,column:28},end:{line:40,column:5}},line:33},4:{name:"(anonymous_4)",decl:{start:{line:46,column:4},end:{line:46,column:5}},loc:{start:{line:46,column:28},end:{line:50,column:5}},line:46},5:{name:"(anonymous_5)",decl:{start:{line:56,column:4},end:{line:56,column:5}},loc:{start:{line:56,column:19},end:{line:61,column:5}},line:56},6:{name:"(anonymous_6)",decl:{start:{line:67,column:4},end:{line:67,column:5}},loc:{start:{line:67,column:14},end:{line:71,column:5}},line:67},7:{name:"(anonymous_7)",decl:{start:{line:76,column:4},end:{line:76,column:5}},loc:{start:{line:76,column:15},end:{line:78,column:5}},line:76},8:{name:"(anonymous_8)",decl:{start:{line:83,column:4},end:{line:83,column:5}},loc:{start:{line:83,column:15},end:{line:85,column:5}},line:83},9:{name:"(anonymous_9)",decl:{start:{line:88,column:4},end:{line:88,column:5}},loc:{start:{line:88,column:25},end:{line:91,column:5}},line:88},10:{name:"(anonymous_10)",decl:{start:{line:94,column:4},end:{line:94,column:5}},loc:{start:{line:94,column:15},end:{line:96,column:5}},line:94},11:{name:"(anonymous_11)",decl:{start:{line:99,column:4},end:{line:99,column:5}},loc:{start:{line:99,column:15},end:{line:101,column:5}},line:99},12:{name:"(anonymous_12)",decl:{start:{line:115,column:17},end:{line:115,column:18}},loc:{start:{line:115,column:32},end:{line:117,column:5}},line:115},13:{name:"(anonymous_13)",decl:{start:{line:126,column:4},end:{line:126,column:5}},loc:{start:{line:126,column:31},end:{line:133,column:5}},line:126},14:{name:"(anonymous_14)",decl:{start:{line:129,column:28},end:{line:129,column:29}},loc:{start:{line:129,column:34},end:{line:129,column:60}},line:129},15:{name:"(anonymous_15)",decl:{start:{line:139,column:4},end:{line:139,column:5}},loc:{start:{line:139,column:19},end:{line:148,column:5}},line:139},16:{name:"(anonymous_16)",decl:{start:{line:151,column:4},end:{line:151,column:5}},loc:{start:{line:151,column:25},end:{line:158,column:5}},line:151},17:{name:"(anonymous_17)",decl:{start:{line:161,column:4},end:{line:161,column:5}},loc:{start:{line:161,column:18},end:{line:163,column:5}},line:161},18:{name:"(anonymous_18)",decl:{start:{line:172,column:4},end:{line:172,column:5}},loc:{start:{line:172,column:25},end:{line:174,column:5}},line:172},19:{name:"(anonymous_19)",decl:{start:{line:180,column:4},end:{line:180,column:5}},loc:{start:{line:180,column:28},end:{line:188,column:5}},line:180},20:{name:"(anonymous_20)",decl:{start:{line:196,column:4},end:{line:196,column:5}},loc:{start:{line:196,column:25},end:{line:198,column:5}},line:196},21:{name:"(anonymous_21)",decl:{start:{line:204,column:4},end:{line:204,column:5}},loc:{start:{line:204,column:28},end:{line:212,column:5}},line:204},22:{name:"(anonymous_22)",decl:{start:{line:220,column:4},end:{line:220,column:5}},loc:{start:{line:220,column:25},end:{line:222,column:5}},line:220},23:{name:"(anonymous_23)",decl:{start:{line:228,column:4},end:{line:228,column:5}},loc:{start:{line:228,column:28},end:{line:236,column:5}},line:228},24:{name:"(anonymous_24)",decl:{start:{line:244,column:4},end:{line:244,column:5}},loc:{start:{line:244,column:25},end:{line:246,column:5}},line:244},25:{name:"(anonymous_25)",decl:{start:{line:252,column:4},end:{line:252,column:5}},loc:{start:{line:252,column:28},end:{line:260,column:5}},line:252}},branchMap:{0:{loc:{start:{line:35,column:8},end:{line:35,column:55}},type:"if",locations:[{start:{line:35,column:8},end:{line:35,column:55}},{start:{line:35,column:8},end:{line:35,column:55}}],line:35},1:{loc:{start:{line:57,column:14},end:{line:57,column:58}},type:"binary-expr",locations:[{start:{line:57,column:14},end:{line:57,column:17}},{start:{line:57,column:21},end:{line:57,column:58}}],line:57},2:{loc:{start:{line:68,column:15},end:{line:70,column:40}},type:"binary-expr",locations:[{start:{line:68,column:15},end:{line:68,column:37}},{start:{line:69,column:15},end:{line:69,column:36}},{start:{line:70,column:15},end:{line:70,column:40}}],line:68},3:{loc:{start:{line:128,column:8},end:{line:130,column:98}},type:"if",locations:[{start:{line:128,column:8},end:{line:130,column:98}},{start:{line:128,column:8},end:{line:130,column:98}}],line:128},4:{loc:{start:{line:128,column:12},end:{line:130,column:70}},type:"binary-expr",locations:[{start:{line:128,column:12},end:{line:128,column:20}},{start:{line:128,column:24},end:{line:128,column:61}},{start:{line:129,column:15},end:{line:129,column:61}},{start:{line:130,column:15},end:{line:130,column:70}}],line:128},5:{loc:{start:{line:140,column:14},end:{line:140,column:58}},type:"binary-expr",locations:[{start:{line:140,column:14},end:{line:140,column:17}},{start:{line:140,column:21},end:{line:140,column:58}}],line:140}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},b:{0:[0,0],1:[0,0],2:[0,0,0],3:[0,0],4:[0,0,0,0],5:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class InvVector{static fromBlock(n){se.f[0]++;const e=(se.s[0]++,n.hash());se.s[1]++;return new InvVector(InvVector.Type.BLOCK,e)}static fromHeader(n){se.f[1]++;const e=(se.s[2]++,n.hash());se.s[3]++;return new InvVector(InvVector.Type.BLOCK,e)}static fromTransaction(n){se.f[2]++;const e=(se.s[4]++,n.hash());se.s[5]++;return new InvVector(InvVector.Type.TRANSACTION,e)}constructor(n,e){se.f[3]++;se.s[6]++;if(!Hash.isHash(e)){se.b[0][0]++;se.s[7]++;throw"Malformed hash"}se.b[0][1]++;se.s[8]++;this._type=n;se.s[9]++;this._hash=e}static unserialize(n){se.f[4]++;const e=(se.s[10]++,InvVector.Type.unserialize(n)),l=(se.s[11]++,Hash.unserialize(n));se.s[12]++;return new InvVector(e,l)}serialize(n){se.f[5]++;se.s[13]++;n=(se.b[1][0]++,n)||(se.b[1][1]++,new SerialBuffer(this.serializedSize));se.s[14]++;n.writeUint32(this._type);se.s[15]++;this._hash.serialize(n);se.s[16]++;return n}equals(n){se.f[6]++;se.s[17]++;return(se.b[2][0]++,n instanceof InvVector)&&(se.b[2][1]++,this._type===n.type)&&(se.b[2][2]++,this._hash.equals(n.hash))}hashCode(){se.f[7]++;se.s[18]++;return`${this._type}|${this._hash.toBase64()}`}toString(){se.f[8]++;se.s[19]++;return`InvVector{type=${this._type}, hash=${this._hash}}`}get serializedSize(){se.f[9]++;se.s[20]++;return 4+this._hash.serializedSize}get type(){se.f[10]++;se.s[21]++;return this._type}get hash(){se.f[11]++;se.s[22]++;return this._hash}}se.s[23]++;InvVector.Type={ERROR:0,TRANSACTION:1,BLOCK:2,unserialize:function(n){se.f[12]++;se.s[24]++;return n.readUint32()}};se.s[25]++;Class.register(InvVector);class BaseInventoryMessage extends Message{constructor(n,e){se.f[13]++;se.s[26]++;super(n);se.s[27]++;if((se.b[4][0]++,!e)||(se.b[4][1]++,!NumberUtils.isUint16(e.length))||(se.b[4][2]++,e.some(n=>{se.f[14]++;se.s[28]++;return!(n instanceof InvVector)}))||(se.b[4][3]++,e.length>BaseInventoryMessage.VECTORS_MAX_COUNT)){se.b[3][0]++;se.s[29]++;throw"Malformed vectors"}se.b[3][1]++;se.s[30]++;this._vectors=e}serialize(n){se.f[15]++;se.s[31]++;n=(se.b[5][0]++,n)||(se.b[5][1]++,new SerialBuffer(this.serializedSize));se.s[32]++;super.serialize(n);se.s[33]++;n.writeUint16(this._vectors.length);se.s[34]++;for(const e of this._vectors){se.s[35]++;e.serialize(n)}se.s[36]++;super._setChecksum(n);se.s[37]++;return n}get serializedSize(){se.f[16]++;let n=(se.s[38]++,super.serializedSize+2);se.s[39]++;for(const e of this._vectors){se.s[40]++;n+=e.serializedSize}se.s[41]++;return n}get vectors(){se.f[17]++;se.s[42]++;return this._vectors}}se.s[43]++;BaseInventoryMessage.VECTORS_MAX_COUNT=1e3;se.s[44]++;Class.register(BaseInventoryMessage);class InvMessage extends BaseInventoryMessage{constructor(n){se.f[18]++;se.s[45]++;super(Message.Type.INV,n)}static unserialize(n){se.f[19]++;se.s[46]++;Message.unserialize(n);const e=(se.s[47]++,n.readUint16()),l=(se.s[48]++,[]);se.s[49]++;for(let t=0;t<e;++t){se.s[50]++;l.push(InvVector.unserialize(n))}se.s[51]++;return new InvMessage(l)}}se.s[52]++;Class.register(InvMessage);class GetDataMessage extends BaseInventoryMessage{constructor(n){se.f[20]++;se.s[53]++;super(Message.Type.GET_DATA,n)}static unserialize(n){se.f[21]++;se.s[54]++;Message.unserialize(n);const e=(se.s[55]++,n.readUint16()),l=(se.s[56]++,[]);se.s[57]++;for(let t=0;t<e;++t){se.s[58]++;l.push(InvVector.unserialize(n))}se.s[59]++;return new GetDataMessage(l)}}se.s[60]++;Class.register(GetDataMessage);class GetHeaderMessage extends BaseInventoryMessage{constructor(n){se.f[22]++;se.s[61]++;super(Message.Type.GET_HEADER,n)}static unserialize(n){se.f[23]++;se.s[62]++;Message.unserialize(n);const e=(se.s[63]++,n.readUint16()),l=(se.s[64]++,[]);se.s[65]++;for(let t=0;t<e;++t){se.s[66]++;l.push(InvVector.unserialize(n))}se.s[67]++;return new GetHeaderMessage(l)}}se.s[68]++;Class.register(GetHeaderMessage);class NotFoundMessage extends BaseInventoryMessage{constructor(n){se.f[24]++;se.s[69]++;super(Message.Type.NOT_FOUND,n)}static unserialize(n){se.f[25]++;se.s[70]++;Message.unserialize(n);const e=(se.s[71]++,n.readUint16()),l=(se.s[72]++,[]);se.s[73]++;for(let t=0;t<e;++t){se.s[74]++;l.push(InvVector.unserialize(n))}se.s[75]++;return new NotFoundMessage(l)}}se.s[76]++;Class.register(NotFoundMessage);var ue=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/MempoolMessage.js",e="b764fdc60130ff5a7ecad9f3e8b95f3fbec19b7c",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/MempoolMessage.js",statementMap:{0:{start:{line:3,column:8},end:{line:3,column:36}},1:{start:{line:11,column:8},end:{line:11,column:33}},2:{start:{line:12,column:8},end:{line:12,column:36}},3:{start:{line:20,column:8},end:{line:20,column:59}},4:{start:{line:21,column:8},end:{line:21,column:29}},5:{start:{line:22,column:8},end:{line:22,column:32}},6:{start:{line:23,column:8},end:{line:23,column:19}},7:{start:{line:28,column:8},end:{line:28,column:36}},8:{start:{line:31,column:0},end:{line:31,column:31}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:4},end:{line:2,column:5}},loc:{start:{line:2,column:18},end:{line:4,column:5}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:10,column:4},end:{line:10,column:5}},loc:{start:{line:10,column:28},end:{line:13,column:5}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:19,column:4},end:{line:19,column:5}},loc:{start:{line:19,column:19},end:{line:24,column:5}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:27,column:4},end:{line:27,column:5}},loc:{start:{line:27,column:25},end:{line:29,column:5}},line:27}},branchMap:{0:{loc:{start:{line:20,column:14},end:{line:20,column:58}},type:"binary-expr",locations:[{start:{line:20,column:14},end:{line:20,column:17}},{start:{line:20,column:21},end:{line:20,column:58}}],line:20}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class MempoolMessage extends Message{constructor(){ue.f[0]++;ue.s[0]++;super(Message.Type.MEMPOOL)}static unserialize(n){ue.f[1]++;ue.s[1]++;Message.unserialize(n);ue.s[2]++;return new MempoolMessage}serialize(n){ue.f[2]++;ue.s[3]++;n=(ue.b[0][0]++,n)||(ue.b[0][1]++,new SerialBuffer(this.serializedSize));ue.s[4]++;super.serialize(n);ue.s[5]++;super._setChecksum(n);ue.s[6]++;return n}get serializedSize(){ue.f[3]++;ue.s[7]++;return super.serializedSize}}ue.s[8]++;Class.register(MempoolMessage);var me=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/PingMessage.js",e="5857523401d3891ce6fa741824ede4cc57781b93",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/PingMessage.js",statementMap:{0:{start:{line:6,column:8},end:{line:6,column:33}},1:{start:{line:7,column:8},end:{line:7,column:66}},2:{start:{line:7,column:42},end:{line:7,column:66}},3:{start:{line:9,column:8},end:{line:9,column:28}},4:{start:{line:17,column:8},end:{line:17,column:33}},5:{start:{line:18,column:22},end:{line:18,column:38}},6:{start:{line:19,column:8},end:{line:19,column:38}},7:{start:{line:27,column:8},end:{line:27,column:59}},8:{start:{line:28,column:8},end:{line:28,column:29}},9:{start:{line:29,column:8},end:{line:29,column:37}},10:{start:{line:30,column:8},end:{line:30,column:32}},11:{start:{line:31,column:8},end:{line:31,column:19}},12:{start:{line:36,column:8},end:{line:37,column:26}},13:{start:{line:42,column:8},end:{line:42,column:27}},14:{start:{line:45,column:0},end:{line:45,column:28}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:23},end:{line:10,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:16,column:4},end:{line:16,column:5}},loc:{start:{line:16,column:28},end:{line:20,column:5}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:26,column:4},end:{line:26,column:5}},loc:{start:{line:26,column:19},end:{line:32,column:5}},line:26},3:{name:"(anonymous_3)",decl:{start:{line:35,column:4},end:{line:35,column:5}},loc:{start:{line:35,column:25},end:{line:38,column:5}},line:35},4:{name:"(anonymous_4)",decl:{start:{line:41,column:4},end:{line:41,column:5}},loc:{start:{line:41,column:16},end:{line:43,column:5}},line:41}},branchMap:{0:{loc:{start:{line:7,column:8},end:{line:7,column:66}},type:"if",locations:[{start:{line:7,column:8},end:{line:7,column:66}},{start:{line:7,column:8},end:{line:7,column:66}}],line:7},1:{loc:{start:{line:27,column:14},end:{line:27,column:58}},type:"binary-expr",locations:[{start:{line:27,column:14},end:{line:27,column:17}},{start:{line:27,column:21},end:{line:27,column:58}}],line:27}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class PingMessage extends Message{constructor(n){me.f[0]++;me.s[0]++;super(Message.Type.PING);me.s[1]++;if(!NumberUtils.isUint32(n)){me.b[0][0]++;me.s[2]++;throw"Malformed nonce"}me.b[0][1]++;me.s[3]++;this._nonce=n}static unserialize(n){me.f[1]++;me.s[4]++;Message.unserialize(n);const e=(me.s[5]++,n.readUint32());me.s[6]++;return new PingMessage(e)}serialize(n){me.f[2]++;me.s[7]++;n=(me.b[1][0]++,n)||(me.b[1][1]++,new SerialBuffer(this.serializedSize));me.s[8]++;super.serialize(n);me.s[9]++;n.writeUint32(this._nonce);me.s[10]++;super._setChecksum(n);me.s[11]++;return n}get serializedSize(){me.f[3]++;me.s[12]++;return super.serializedSize+4}get nonce(){me.f[4]++;me.s[13]++;return this._nonce}}me.s[14]++;Class.register(PingMessage);var re=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/PongMessage.js",e="44f75c08749ad4ce574ee7799c6aa9100d69493f",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/PongMessage.js",statementMap:{0:{start:{line:6,column:8},end:{line:6,column:33}},1:{start:{line:7,column:8},end:{line:7,column:66}},2:{start:{line:7,column:42},end:{line:7,column:66}},3:{start:{line:9,column:8},end:{line:9,column:28}},4:{start:{line:17,column:8},end:{line:17,column:33}},5:{start:{line:18,column:22},end:{line:18,column:38}},6:{start:{line:19,column:8},end:{line:19,column:38}},7:{start:{line:27,column:8},end:{line:27,column:59}},8:{start:{line:28,column:8},end:{line:28,column:29}},9:{start:{line:29,column:8},end:{line:29,column:37}},10:{start:{line:30,column:8},end:{line:30,column:32}},11:{start:{line:31,column:8},end:{line:31,column:19}},12:{start:{line:36,column:8},end:{line:37,column:26}},13:{start:{line:42,column:8},end:{line:42,column:27}},14:{start:{line:45,column:0},end:{line:45,column:28}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:23},end:{line:10,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:16,column:4},end:{line:16,column:5}},loc:{start:{line:16,column:28},end:{line:20,column:5}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:26,column:4},end:{line:26,column:5}},loc:{start:{line:26,column:19},end:{line:32,column:5}},line:26},3:{name:"(anonymous_3)",decl:{start:{line:35,column:4},end:{line:35,column:5}},loc:{start:{line:35,column:25},end:{line:38,column:5}},line:35},4:{name:"(anonymous_4)",decl:{start:{line:41,column:4},end:{line:41,column:5}},loc:{start:{line:41,column:16},end:{line:43,column:5}},line:41}},branchMap:{0:{loc:{start:{line:7,column:8},end:{line:7,column:66}},type:"if",locations:[{start:{line:7,column:8},end:{line:7,column:66}},{start:{line:7,column:8},end:{line:7,column:66}}],line:7},1:{loc:{start:{line:27,column:14},end:{line:27,column:58}},type:"binary-expr",locations:[{start:{line:27,column:14},end:{line:27,column:17}},{start:{line:27,column:21},end:{line:27,column:58}}],line:27}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class PongMessage extends Message{constructor(n){re.f[0]++;re.s[0]++;super(Message.Type.PONG);re.s[1]++;if(!NumberUtils.isUint32(n)){re.b[0][0]++;re.s[2]++;throw"Malformed nonce"}re.b[0][1]++;re.s[3]++;this._nonce=n}static unserialize(n){re.f[1]++;re.s[4]++;Message.unserialize(n);const e=(re.s[5]++,n.readUint32());re.s[6]++;return new PongMessage(e)}serialize(n){re.f[2]++;re.s[7]++;n=(re.b[1][0]++,n)||(re.b[1][1]++,new SerialBuffer(this.serializedSize));re.s[8]++;super.serialize(n);re.s[9]++;n.writeUint32(this._nonce);re.s[10]++;super._setChecksum(n);re.s[11]++;return n}get serializedSize(){re.f[3]++;re.s[12]++;return super.serializedSize+4}get nonce(){re.f[4]++;re.s[13]++;return this._nonce}}re.s[14]++;Class.register(PongMessage);var ae=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/RejectMessage.js",e="62a6f63b5b1d68639c48dd8f717e1c2bb7669145",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/RejectMessage.js",statementMap:{0:{start:{line:9,column:8},end:{line:9,column:35}},1:{start:{line:10,column:8},end:{line:10,column:82}},2:{start:{line:10,column:48},end:{line:10,column:82}},3:{start:{line:11,column:8},end:{line:11,column:74}},4:{start:{line:11,column:40},end:{line:11,column:74}},5:{start:{line:12,column:8},end:{line:12,column:104}},6:{start:{line:12,column:68},end:{line:12,column:104}},7:{start:{line:13,column:8},end:{line:13,column:134}},8:{start:{line:13,column:95},end:{line:13,column:134}},9:{start:{line:16,column:8},end:{line:16,column:40}},10:{start:{line:18,column:8},end:{line:18,column:26}},11:{start:{line:20,column:8},end:{line:20,column:30}},12:{start:{line:22,column:8},end:{line:22,column:36}},13:{start:{line:30,column:8},end:{line:30,column:33}},14:{start:{line:31,column:56},end:{line:31,column:73}},15:{start:{line:32,column:55},end:{line:32,column:70}},16:{start:{line:33,column:23},end:{line:33,column:48}},17:{start:{line:34,column:23},end:{line:34,column:39}},18:{start:{line:35,column:26},end:{line:35,column:42}},19:{start:{line:36,column:8},end:{line:36,column:71}},20:{start:{line:44,column:8},end:{line:44,column:59}},21:{start:{line:45,column:8},end:{line:45,column:29}},22:{start:{line:46,column:8},end:{line:46,column:44}},23:{start:{line:47,column:8},end:{line:47,column:35}},24:{start:{line:48,column:8},end:{line:48,column:47}},25:{start:{line:49,column:8},end:{line:49,column:52}},26:{start:{line:50,column:8},end:{line:50,column:35}},27:{start:{line:51,column:8},end:{line:51,column:32}},28:{start:{line:52,column:8},end:{line:52,column:19}},29:{start:{line:57,column:8},end:{line:62,column:41}},30:{start:{line:67,column:8},end:{line:67,column:33}},31:{start:{line:72,column:8},end:{line:72,column:26}},32:{start:{line:77,column:8},end:{line:77,column:28}},33:{start:{line:82,column:8},end:{line:82,column:31}},34:{start:{line:88,column:0},end:{line:95,column:2}},35:{start:{line:96,column:0},end:{line:96,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:4},end:{line:8,column:5}},loc:{start:{line:8,column:72},end:{line:23,column:5}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:29,column:4},end:{line:29,column:5}},loc:{start:{line:29,column:28},end:{line:37,column:5}},line:29},2:{name:"(anonymous_2)",decl:{start:{line:43,column:4},end:{line:43,column:5}},loc:{start:{line:43,column:19},end:{line:53,column:5}},line:43},3:{name:"(anonymous_3)",decl:{start:{line:56,column:4},end:{line:56,column:5}},loc:{start:{line:56,column:25},end:{line:63,column:5}},line:56},4:{name:"(anonymous_4)",decl:{start:{line:66,column:4},end:{line:66,column:5}},loc:{start:{line:66,column:22},end:{line:68,column:5}},line:66},5:{name:"(anonymous_5)",decl:{start:{line:71,column:4},end:{line:71,column:5}},loc:{start:{line:71,column:15},end:{line:73,column:5}},line:71},6:{name:"(anonymous_6)",decl:{start:{line:76,column:4},end:{line:76,column:5}},loc:{start:{line:76,column:17},end:{line:78,column:5}},line:76},7:{name:"(anonymous_7)",decl:{start:{line:81,column:4},end:{line:81,column:5}},loc:{start:{line:81,column:20},end:{line:83,column:5}},line:81}},branchMap:{0:{loc:{start:{line:8,column:43},end:{line:8,column:70}},type:"default-arg",locations:[{start:{line:8,column:53},end:{line:8,column:70}}],line:8},1:{loc:{start:{line:10,column:8},end:{line:10,column:82}},type:"if",locations:[{start:{line:10,column:8},end:{line:10,column:82}},{start:{line:10,column:8},end:{line:10,column:82}}],line:10},2:{loc:{start:{line:11,column:8},end:{line:11,column:74}},type:"if",locations:[{start:{line:11,column:8},end:{line:11,column:74}},{start:{line:11,column:8},end:{line:11,column:74}}],line:11},3:{loc:{start:{line:12,column:8},end:{line:12,column:104}},type:"if",locations:[{start:{line:12,column:8},end:{line:12,column:104}},{start:{line:12,column:8},end:{line:12,column:104}}],line:12},4:{loc:{start:{line:12,column:12},end:{line:12,column:66}},type:"binary-expr",locations:[{start:{line:12,column:12},end:{line:12,column:43}},{start:{line:12,column:47},end:{line:12,column:66}}],line:12},5:{loc:{start:{line:13,column:8},end:{line:13,column:134}},type:"if",locations:[{start:{line:13,column:8},end:{line:13,column:134}},{start:{line:13,column:8},end:{line:13,column:134}}],line:13},6:{loc:{start:{line:13,column:12},end:{line:13,column:93}},type:"binary-expr",locations:[{start:{line:13,column:12},end:{line:13,column:46}},{start:{line:13,column:50},end:{line:13,column:93}}],line:13},7:{loc:{start:{line:44,column:14},end:{line:44,column:58}},type:"binary-expr",locations:[{start:{line:44,column:14},end:{line:44,column:17}},{start:{line:44,column:21},end:{line:44,column:58}}],line:44}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class RejectMessage extends Message{constructor(n,e,l,t=(ae.b[0][0]++,new Uint8Array(0))){ae.f[0]++;ae.s[0]++;super(Message.Type.REJECT);ae.s[1]++;if(!NumberUtils.isUint64(n)){ae.b[1][0]++;ae.s[2]++;throw new Error("Malformed type")}ae.b[1][1]++;ae.s[3]++;if(!NumberUtils.isUint8(e)){ae.b[2][0]++;ae.s[4]++;throw new Error("Malformed code")}ae.b[2][1]++;ae.s[5]++;if((ae.b[4][0]++,StringUtils.isMultibyte(l))||(ae.b[4][1]++,l.length>255)){ae.b[3][0]++;ae.s[6]++;throw new Error("Malformed reason")}ae.b[3][1]++;ae.s[7]++;if(!((ae.b[6][0]++,t instanceof Uint8Array)&&(ae.b[6][1]++,NumberUtils.isUint16(t.byteLength)))){ae.b[5][0]++;ae.s[8]++;throw new Error("Malformed extraData")}ae.b[5][1]++;ae.s[9]++;this._messageType=n;ae.s[10]++;this._code=e;ae.s[11]++;this._reason=l;ae.s[12]++;this._extraData=t}static unserialize(n){ae.f[1]++;ae.s[13]++;Message.unserialize(n);const e=(ae.s[14]++,n.readVarUint()),l=(ae.s[15]++,n.readUint8()),t=(ae.s[16]++,n.readVarLengthString()),o=(ae.s[17]++,n.readUint16()),i=(ae.s[18]++,n.read(o));ae.s[19]++;return new RejectMessage(e,l,t,i)}serialize(n){ae.f[2]++;ae.s[20]++;n=(ae.b[7][0]++,n)||(ae.b[7][1]++,new SerialBuffer(this.serializedSize));ae.s[21]++;super.serialize(n);ae.s[22]++;n.writeVarUint(this._messageType);ae.s[23]++;n.writeUint8(this._code);ae.s[24]++;n.writeVarLengthString(this._reason);ae.s[25]++;n.writeUint16(this._extraData.byteLength);ae.s[26]++;n.write(this._extraData);ae.s[27]++;super._setChecksum(n);ae.s[28]++;return n}get serializedSize(){ae.f[3]++;ae.s[29]++;return super.serializedSize+SerialBuffer.varUintSize(this._messageType)+1+SerialBuffer.varLengthStringSize(this._reason)+2+this._extraData.byteLength}get messageType(){ae.f[4]++;ae.s[30]++;return this._messageType}get code(){ae.f[5]++;ae.s[31]++;return this._code}get reason(){ae.f[6]++;ae.s[32]++;return this._reason}get extraData(){ae.f[7]++;ae.s[33]++;return this._extraData}}ae.s[34]++;RejectMessage.Code={REJECT_MALFORMED:1,REJECT_INVALID:16,REJECT_OBSOLETE:17,REJECT_DOUBLE:18,REJECT_DUST:65,REJECT_INSUFFICIENT_FEE:66};ae.s[35]++;Class.register(RejectMessage);var de=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/SignalMessage.js",e="084d1ae4646aa9e0c508157b88bbc549dfde3583",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/SignalMessage.js",statementMap:{0:{start:{line:13,column:8},end:{line:13,column:35}},1:{start:{line:14,column:8},end:{line:14,column:70}},2:{start:{line:14,column:43},end:{line:14,column:70}},3:{start:{line:15,column:8},end:{line:15,column:76}},4:{start:{line:15,column:46},end:{line:15,column:76}},5:{start:{line:16,column:8},end:{line:16,column:66}},6:{start:{line:16,column:42},end:{line:16,column:66}},7:{start:{line:17,column:8},end:{line:17,column:61}},8:{start:{line:17,column:39},end:{line:17,column:61}},9:{start:{line:18,column:8},end:{line:18,column:65}},10:{start:{line:18,column:41},end:{line:18,column:65}},11:{start:{line:19,column:8},end:{line:19,column:117}},12:{start:{line:19,column:91},end:{line:19,column:117}},13:{start:{line:20,column:27},end:{line:20,column:49}},14:{start:{line:21,column:8},end:{line:21,column:89}},15:{start:{line:21,column:61},end:{line:21,column:89}},16:{start:{line:22,column:8},end:{line:22,column:93}},17:{start:{line:22,column:64},end:{line:22,column:93}},18:{start:{line:28,column:8},end:{line:28,column:34}},19:{start:{line:30,column:8},end:{line:30,column:40}},20:{start:{line:32,column:8},end:{line:32,column:28}},21:{start:{line:34,column:8},end:{line:34,column:24}},22:{start:{line:36,column:8},end:{line:36,column:28}},23:{start:{line:38,column:8},end:{line:38,column:32}},24:{start:{line:40,column:8},end:{line:40,column:67}},25:{start:{line:42,column:8},end:{line:42,column:61}},26:{start:{line:50,column:8},end:{line:50,column:33}},27:{start:{line:51,column:25},end:{line:51,column:48}},28:{start:{line:52,column:28},end:{line:52,column:51}},29:{start:{line:53,column:22},end:{line:53,column:38}},30:{start:{line:54,column:20},end:{line:54,column:35}},31:{start:{line:55,column:22},end:{line:55,column:37}},32:{start:{line:56,column:23},end:{line:56,column:39}},33:{start:{line:57,column:24},end:{line:57,column:40}},34:{start:{line:58,column:29},end:{line:58,column:80}},35:{start:{line:59,column:26},end:{line:59,column:77}},36:{start:{line:60,column:8},end:{line:60,column:109}},37:{start:{line:68,column:8},end:{line:68,column:59}},38:{start:{line:69,column:8},end:{line:69,column:29}},39:{start:{line:70,column:8},end:{line:70,column:38}},40:{start:{line:71,column:8},end:{line:71,column:41}},41:{start:{line:72,column:8},end:{line:72,column:37}},42:{start:{line:73,column:8},end:{line:73,column:34}},43:{start:{line:74,column:8},end:{line:74,column:36}},44:{start:{line:75,column:8},end:{line:75,column:50}},45:{start:{line:76,column:8},end:{line:76,column:33}},46:{start:{line:77,column:8},end:{line:80,column:9}},47:{start:{line:78,column:12},end:{line:78,column:46}},48:{start:{line:79,column:12},end:{line:79,column:43}},49:{start:{line:81,column:8},end:{line:81,column:32}},50:{start:{line:82,column:8},end:{line:82,column:19}},51:{start:{line:87,column:8},end:{line:96,column:82}},52:{start:{line:103,column:8},end:{line:105,column:9}},53:{start:{line:104,column:12},end:{line:104,column:25}},54:{start:{line:107,column:8},end:{line:108,column:68}},55:{start:{line:113,column:8},end:{line:113,column:30}},56:{start:{line:118,column:8},end:{line:118,column:33}},57:{start:{line:123,column:8},end:{line:123,column:27}},58:{start:{line:128,column:8},end:{line:128,column:25}},59:{start:{line:133,column:8},end:{line:133,column:27}},60:{start:{line:138,column:8},end:{line:138,column:29}},61:{start:{line:143,column:8},end:{line:143,column:31}},62:{start:{line:148,column:8},end:{line:148,column:34}},63:{start:{line:155,column:8},end:{line:155,column:44}},64:{start:{line:162,column:8},end:{line:162,column:67}},65:{start:{line:169,column:8},end:{line:169,column:69}},66:{start:{line:175,column:0},end:{line:178,column:2}},67:{start:{line:179,column:0},end:{line:179,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:4},end:{line:12,column:5}},loc:{start:{line:12,column:116},end:{line:43,column:5}},line:12},1:{name:"(anonymous_1)",decl:{start:{line:49,column:4},end:{line:49,column:5}},loc:{start:{line:49,column:28},end:{line:61,column:5}},line:49},2:{name:"(anonymous_2)",decl:{start:{line:67,column:4},end:{line:67,column:5}},loc:{start:{line:67,column:19},end:{line:83,column:5}},line:67},3:{name:"(anonymous_3)",decl:{start:{line:86,column:4},end:{line:86,column:5}},loc:{start:{line:86,column:25},end:{line:97,column:5}},line:86},4:{name:"(anonymous_4)",decl:{start:{line:102,column:4},end:{line:102,column:5}},loc:{start:{line:102,column:22},end:{line:109,column:5}},line:102},5:{name:"(anonymous_5)",decl:{start:{line:112,column:4},end:{line:112,column:5}},loc:{start:{line:112,column:19},end:{line:114,column:5}},line:112},6:{name:"(anonymous_6)",decl:{start:{line:117,column:4},end:{line:117,column:5}},loc:{start:{line:117,column:22},end:{line:119,column:5}},line:117},7:{name:"(anonymous_7)",decl:{start:{line:122,column:4},end:{line:122,column:5}},loc:{start:{line:122,column:16},end:{line:124,column:5}},line:122},8:{name:"(anonymous_8)",decl:{start:{line:127,column:4},end:{line:127,column:5}},loc:{start:{line:127,column:14},end:{line:129,column:5}},line:127},9:{name:"(anonymous_9)",decl:{start:{line:132,column:4},end:{line:132,column:5}},loc:{start:{line:132,column:16},end:{line:134,column:5}},line:132},10:{name:"(anonymous_10)",decl:{start:{line:137,column:4},end:{line:137,column:5}},loc:{start:{line:137,column:18},end:{line:139,column:5}},line:137},11:{name:"(anonymous_11)",decl:{start:{line:142,column:4},end:{line:142,column:5}},loc:{start:{line:142,column:20},end:{line:144,column:5}},line:142},12:{name:"(anonymous_12)",decl:{start:{line:147,column:4},end:{line:147,column:5}},loc:{start:{line:147,column:23},end:{line:149,column:5}},line:147},13:{name:"(anonymous_13)",decl:{start:{line:154,column:4},end:{line:154,column:5}},loc:{start:{line:154,column:17},end:{line:156,column:5}},line:154},14:{name:"(anonymous_14)",decl:{start:{line:161,column:4},end:{line:161,column:5}},loc:{start:{line:161,column:19},end:{line:163,column:5}},line:161},15:{name:"(anonymous_15)",decl:{start:{line:168,column:4},end:{line:168,column:5}},loc:{start:{line:168,column:20},end:{line:170,column:5}},line:168}},branchMap:{0:{loc:{start:{line:12,column:51},end:{line:12,column:60}},type:"default-arg",locations:[{start:{line:12,column:59},end:{line:12,column:60}}],line:12},1:{loc:{start:{line:12,column:62},end:{line:12,column:89}},type:"default-arg",locations:[{start:{line:12,column:72},end:{line:12,column:89}}],line:12},2:{loc:{start:{line:14,column:8},end:{line:14,column:70}},type:"if",locations:[{start:{line:14,column:8},end:{line:14,column:70}},{start:{line:14,column:8},end:{line:14,column:70}}],line:14},3:{loc:{start:{line:15,column:8},end:{line:15,column:76}},type:"if",locations:[{start:{line:15,column:8},end:{line:15,column:76}},{start:{line:15,column:8},end:{line:15,column:76}}],line:15},4:{loc:{start:{line:16,column:8},end:{line:16,column:66}},type:"if",locations:[{start:{line:16,column:8},end:{line:16,column:66}},{start:{line:16,column:8},end:{line:16,column:66}}],line:16},5:{loc:{start:{line:17,column:8},end:{line:17,column:61}},type:"if",locations:[{start:{line:17,column:8},end:{line:17,column:61}},{start:{line:17,column:8},end:{line:17,column:61}}],line:17},6:{loc:{start:{line:18,column:8},end:{line:18,column:65}},type:"if",locations:[{start:{line:18,column:8},end:{line:18,column:65}},{start:{line:18,column:8},end:{line:18,column:65}}],line:18},7:{loc:{start:{line:19,column:8},end:{line:19,column:117}},type:"if",locations:[{start:{line:19,column:8},end:{line:19,column:117}},{start:{line:19,column:8},end:{line:19,column:117}}],line:19},8:{loc:{start:{line:19,column:12},end:{line:19,column:89}},type:"binary-expr",locations:[{start:{line:19,column:12},end:{line:19,column:44}},{start:{line:19,column:48},end:{line:19,column:89}}],line:19},9:{loc:{start:{line:21,column:8},end:{line:21,column:89}},type:"if",locations:[{start:{line:21,column:8},end:{line:21,column:89}},{start:{line:21,column:8},end:{line:21,column:89}}],line:21},10:{loc:{start:{line:21,column:12},end:{line:21,column:59}},type:"binary-expr",locations:[{start:{line:21,column:12},end:{line:21,column:22}},{start:{line:21,column:26},end:{line:21,column:59}}],line:21},11:{loc:{start:{line:22,column:8},end:{line:22,column:93}},type:"if",locations:[{start:{line:22,column:8},end:{line:22,column:93}},{start:{line:22,column:8},end:{line:22,column:93}}],line:22},12:{loc:{start:{line:22,column:12},end:{line:22,column:62}},type:"binary-expr",locations:[{start:{line:22,column:12},end:{line:22,column:22}},{start:{line:22,column:26},end:{line:22,column:62}}],line:22},13:{loc:{start:{line:40,column:29},end:{line:40,column:66}},type:"cond-expr",locations:[{start:{line:40,column:42},end:{line:40,column:54}},{start:{line:40,column:57},end:{line:40,column:66}}],line:40},14:{loc:{start:{line:42,column:26},end:{line:42,column:60}},type:"cond-expr",locations:[{start:{line:42,column:39},end:{line:42,column:48}},{start:{line:42,column:51},end:{line:42,column:60}}],line:42},15:{loc:{start:{line:58,column:29},end:{line:58,column:80}},type:"cond-expr",locations:[{start:{line:58,column:42},end:{line:58,column:68}},{start:{line:58,column:71},end:{line:58,column:80}}],line:58},16:{loc:{start:{line:59,column:26},end:{line:59,column:77}},type:"cond-expr",locations:[{start:{line:59,column:39},end:{line:59,column:65}},{start:{line:59,column:68},end:{line:59,column:77}}],line:59},17:{loc:{start:{line:68,column:14},end:{line:68,column:58}},type:"binary-expr",locations:[{start:{line:68,column:14},end:{line:68,column:17}},{start:{line:68,column:21},end:{line:68,column:58}}],line:68},18:{loc:{start:{line:77,column:8},end:{line:80,column:9}},type:"if",locations:[{start:{line:77,column:8},end:{line:80,column:9}},{start:{line:77,column:8},end:{line:80,column:9}}],line:77},19:{loc:{start:{line:95,column:15},end:{line:95,column:83}},type:"cond-expr",locations:[{start:{line:95,column:46},end:{line:95,column:79}},{start:{line:95,column:82},end:{line:95,column:83}}],line:95},20:{loc:{start:{line:96,column:15},end:{line:96,column:80}},type:"cond-expr",locations:[{start:{line:96,column:46},end:{line:96,column:76}},{start:{line:96,column:79},end:{line:96,column:80}}],line:96},21:{loc:{start:{line:103,column:8},end:{line:105,column:9}},type:"if",locations:[{start:{line:103,column:8},end:{line:105,column:9}},{start:{line:103,column:8},end:{line:105,column:9}}],line:103},22:{loc:{start:{line:107,column:15},end:{line:108,column:67}},type:"binary-expr",locations:[{start:{line:107,column:15},end:{line:107,column:72}},{start:{line:108,column:15},end:{line:108,column:67}}],line:107}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0],1:[0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class SignalMessage extends Message{constructor(n,e,l,t,o=(de.b[0][0]++,0),i=(de.b[1][0]++,new Uint8Array(0)),c,s){de.f[0]++;de.s[0]++;super(Message.Type.SIGNAL);de.s[1]++;if(!(n instanceof PeerId)){de.b[2][0]++;de.s[2]++;throw"Malformed senderId"}de.b[2][1]++;de.s[3]++;if(!(e instanceof PeerId)){de.b[3][0]++;de.s[4]++;throw"Malformed recipientId"}de.b[3][1]++;de.s[5]++;if(!NumberUtils.isUint32(l)){de.b[4][0]++;de.s[6]++;throw"Malformed nonce"}de.b[4][1]++;de.s[7]++;if(!NumberUtils.isUint8(t)){de.b[5][0]++;de.s[8]++;throw"Malformed ttl"}de.b[5][1]++;de.s[9]++;if(!NumberUtils.isUint8(o)){de.b[6][0]++;de.s[10]++;throw"Malformed flags"}de.b[6][1]++;de.s[11]++;if(!((de.b[8][0]++,i instanceof Uint8Array)&&(de.b[8][1]++,NumberUtils.isUint16(i.byteLength)))){de.b[7][0]++;de.s[12]++;throw"Malformed payload"}de.b[7][1]++;const u=(de.s[13]++,i.byteLength>0);de.s[14]++;if((de.b[10][0]++,u)&&(de.b[10][1]++,!(s instanceof Signature))){de.b[9][0]++;de.s[15]++;throw"Malformed signature"}de.b[9][1]++;de.s[16]++;if((de.b[12][0]++,u)&&(de.b[12][1]++,!(c instanceof PublicKey))){de.b[11][0]++;de.s[17]++;throw"Malformed public key"}de.b[11][1]++;de.s[18]++;this._senderId=n;de.s[19]++;this._recipientId=e;de.s[20]++;this._nonce=l;de.s[21]++;this._ttl=t;de.s[22]++;this._flags=o;de.s[23]++;this._payload=i;de.s[24]++;this._senderPubKey=u?(de.b[13][0]++,c):(de.b[13][1]++,undefined);de.s[25]++;this._signature=u?(de.b[14][0]++,s):(de.b[14][1]++,undefined)}static unserialize(n){de.f[1]++;de.s[26]++;Message.unserialize(n);const e=(de.s[27]++,PeerId.unserialize(n)),l=(de.s[28]++,PeerId.unserialize(n)),t=(de.s[29]++,n.readUint32()),o=(de.s[30]++,n.readUint8()),i=(de.s[31]++,n.readUint8()),c=(de.s[32]++,n.readUint16()),s=(de.s[33]++,n.read(c)),u=(de.s[34]++,c>0?(de.b[15][0]++,PublicKey.unserialize(n)):(de.b[15][1]++,undefined)),m=(de.s[35]++,c>0?(de.b[16][0]++,Signature.unserialize(n)):(de.b[16][1]++,undefined));de.s[36]++;return new SignalMessage(e,l,t,o,i,s,u,m)}serialize(n){de.f[2]++;de.s[37]++;n=(de.b[17][0]++,n)||(de.b[17][1]++,new SerialBuffer(this.serializedSize));de.s[38]++;super.serialize(n);de.s[39]++;this._senderId.serialize(n);de.s[40]++;this._recipientId.serialize(n);de.s[41]++;n.writeUint32(this._nonce);de.s[42]++;n.writeUint8(this._ttl);de.s[43]++;n.writeUint8(this._flags);de.s[44]++;n.writeUint16(this._payload.byteLength);de.s[45]++;n.write(this._payload);de.s[46]++;if(this._payload.byteLength>0){de.b[18][0]++;de.s[47]++;this._senderPubKey.serialize(n);de.s[48]++;this._signature.serialize(n)}else de.b[18][1]++;de.s[49]++;super._setChecksum(n);de.s[50]++;return n}get serializedSize(){de.f[3]++;de.s[51]++;return super.serializedSize+this._senderId.serializedSize+this._recipientId.serializedSize+4+1+1+2+this._payload.byteLength+(this._payload.byteLength>0?(de.b[19][0]++,this._senderPubKey.serializedSize):(de.b[19][1]++,0))+(this._payload.byteLength>0?(de.b[20][0]++,this._signature.serializedSize):(de.b[20][1]++,0))}verifySignature(){de.f[4]++;de.s[52]++;if(!this._signature){de.b[21][0]++;de.s[53]++;return!1}de.b[21][1]++;de.s[54]++;return(de.b[22][0]++,this._signature.verify(this._senderPubKey,this._payload))&&(de.b[22][1]++,this._senderId.equals(this._senderPubKey.toPeerId()))}get senderId(){de.f[5]++;de.s[55]++;return this._senderId}get recipientId(){de.f[6]++;de.s[56]++;return this._recipientId}get nonce(){de.f[7]++;de.s[57]++;return this._nonce}get ttl(){de.f[8]++;de.s[58]++;return this._ttl}get flags(){de.f[9]++;de.s[59]++;return this._flags}get payload(){de.f[10]++;de.s[60]++;return this._payload}get signature(){de.f[11]++;de.s[61]++;return this._signature}get senderPubKey(){de.f[12]++;de.s[62]++;return this._senderPubKey}hasPayload(){de.f[13]++;de.s[63]++;return this._payload.byteLength>0}isUnroutable(){de.f[14]++;de.s[64]++;return 0!=(this._flags&SignalMessage.Flag.UNROUTABLE)}isTtlExceeded(){de.f[15]++;de.s[65]++;return 0!=(this._flags&SignalMessage.Flag.TTL_EXCEEDED)}}de.s[66]++;SignalMessage.Flag={UNROUTABLE:1,TTL_EXCEEDED:2};de.s[67]++;Class.register(SignalMessage);var he=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/SubscribeMessage.js",e="ced2959842b51e4da046bcc448392e4a2dd564e9",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/SubscribeMessage.js",statementMap:{0:{start:{line:3,column:8},end:{line:3,column:38}},1:{start:{line:4,column:8},end:{line:4,column:42}},2:{start:{line:12,column:8},end:{line:12,column:33}},3:{start:{line:13,column:29},end:{line:13,column:58}},4:{start:{line:14,column:8},end:{line:14,column:50}},5:{start:{line:22,column:8},end:{line:22,column:59}},6:{start:{line:23,column:8},end:{line:23,column:29}},7:{start:{line:24,column:8},end:{line:24,column:42}},8:{start:{line:25,column:8},end:{line:25,column:32}},9:{start:{line:26,column:8},end:{line:26,column:19}},10:{start:{line:31,column:8},end:{line:32,column:48}},11:{start:{line:37,column:8},end:{line:37,column:34}},12:{start:{line:40,column:0},end:{line:40,column:33}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:4},end:{line:2,column:5}},loc:{start:{line:2,column:30},end:{line:5,column:5}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:11,column:4},end:{line:11,column:5}},loc:{start:{line:11,column:28},end:{line:15,column:5}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:21,column:4},end:{line:21,column:5}},loc:{start:{line:21,column:19},end:{line:27,column:5}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:30,column:4},end:{line:30,column:5}},loc:{start:{line:30,column:25},end:{line:33,column:5}},line:30},4:{name:"(anonymous_4)",decl:{start:{line:36,column:4},end:{line:36,column:5}},loc:{start:{line:36,column:23},end:{line:38,column:5}},line:36}},branchMap:{0:{loc:{start:{line:22,column:14},end:{line:22,column:58}},type:"binary-expr",locations:[{start:{line:22,column:14},end:{line:22,column:17}},{start:{line:22,column:21},end:{line:22,column:58}}],line:22}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class SubscribeMessage extends Message{constructor(n){he.f[0]++;he.s[0]++;super(Message.Type.SUBSCRIBE);he.s[1]++;this._subscription=n}static unserialize(n){he.f[1]++;he.s[2]++;Message.unserialize(n);const e=(he.s[3]++,Subscription.unserialize(n));he.s[4]++;return new SubscribeMessage(e)}serialize(n){he.f[2]++;he.s[5]++;n=(he.b[0][0]++,n)||(he.b[0][1]++,new SerialBuffer(this.serializedSize));he.s[6]++;super.serialize(n);he.s[7]++;this._subscription.serialize(n);he.s[8]++;super._setChecksum(n);he.s[9]++;return n}get serializedSize(){he.f[3]++;he.s[10]++;return super.serializedSize+this._subscription.serializedSize}get subscription(){he.f[4]++;he.s[11]++;return this._subscription}}he.s[12]++;Class.register(SubscribeMessage);var fe=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/TxMessage.js",e="52d64c213f6e593657435a59650dc90d7791e36c",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/TxMessage.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:31}},1:{start:{line:9,column:8},end:{line:9,column:40}},2:{start:{line:11,column:8},end:{line:11,column:44}},3:{start:{line:19,column:8},end:{line:19,column:33}},4:{start:{line:20,column:28},end:{line:20,column:56}},5:{start:{line:21,column:33},end:{line:21,column:48}},6:{start:{line:22,column:8},end:{line:25,column:9}},7:{start:{line:23,column:34},end:{line:23,column:64}},8:{start:{line:24,column:12},end:{line:24,column:61}},9:{start:{line:26,column:8},end:{line:26,column:42}},10:{start:{line:34,column:8},end:{line:34,column:59}},11:{start:{line:35,column:8},end:{line:35,column:29}},12:{start:{line:36,column:8},end:{line:36,column:41}},13:{start:{line:37,column:8},end:{line:37,column:52}},14:{start:{line:38,column:8},end:{line:40,column:9}},15:{start:{line:39,column:12},end:{line:39,column:47}},16:{start:{line:41,column:8},end:{line:41,column:32}},17:{start:{line:42,column:8},end:{line:42,column:19}},18:{start:{line:47,column:19},end:{line:49,column:36}},19:{start:{line:50,column:8},end:{line:52,column:9}},20:{start:{line:51,column:12},end:{line:51,column:55}},21:{start:{line:53,column:8},end:{line:53,column:20}},22:{start:{line:58,column:8},end:{line:58,column:33}},23:{start:{line:63,column:8},end:{line:63,column:37}},24:{start:{line:68,column:8},end:{line:68,column:35}},25:{start:{line:71,column:0},end:{line:71,column:26}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:44},end:{line:12,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:18,column:4},end:{line:18,column:5}},loc:{start:{line:18,column:28},end:{line:27,column:5}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:33,column:4},end:{line:33,column:5}},loc:{start:{line:33,column:19},end:{line:43,column:5}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:46,column:4},end:{line:46,column:5}},loc:{start:{line:46,column:25},end:{line:54,column:5}},line:46},4:{name:"(anonymous_4)",decl:{start:{line:57,column:4},end:{line:57,column:5}},loc:{start:{line:57,column:22},end:{line:59,column:5}},line:57},5:{name:"(anonymous_5)",decl:{start:{line:62,column:4},end:{line:62,column:5}},loc:{start:{line:62,column:27},end:{line:64,column:5}},line:62},6:{name:"(anonymous_6)",decl:{start:{line:67,column:4},end:{line:67,column:5}},loc:{start:{line:67,column:24},end:{line:69,column:5}},line:67}},branchMap:{0:{loc:{start:{line:22,column:8},end:{line:25,column:9}},type:"if",locations:[{start:{line:22,column:8},end:{line:25,column:9}},{start:{line:22,column:8},end:{line:25,column:9}}],line:22},1:{loc:{start:{line:34,column:14},end:{line:34,column:58}},type:"binary-expr",locations:[{start:{line:34,column:14},end:{line:34,column:17}},{start:{line:34,column:21},end:{line:34,column:58}}],line:34},2:{loc:{start:{line:37,column:23},end:{line:37,column:50}},type:"cond-expr",locations:[{start:{line:37,column:45},end:{line:37,column:46}},{start:{line:37,column:49},end:{line:37,column:50}}],line:37},3:{loc:{start:{line:38,column:8},end:{line:40,column:9}},type:"if",locations:[{start:{line:38,column:8},end:{line:40,column:9}},{start:{line:38,column:8},end:{line:40,column:9}}],line:38},4:{loc:{start:{line:50,column:8},end:{line:52,column:9}},type:"if",locations:[{start:{line:50,column:8},end:{line:52,column:9}},{start:{line:50,column:8},end:{line:52,column:9}}],line:50}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class TxMessage extends Message{constructor(n,e){fe.f[0]++;fe.s[0]++;super(Message.Type.TX);fe.s[1]++;this._transaction=n;fe.s[2]++;this._accountsProof=e}static unserialize(n){fe.f[1]++;fe.s[3]++;Message.unserialize(n);const e=(fe.s[4]++,Transaction.unserialize(n)),l=(fe.s[5]++,n.readUint8());fe.s[6]++;if(1===l){fe.b[0][0]++;const l=(fe.s[7]++,AccountsProof.unserialize(n));fe.s[8]++;return new TxMessage(e,l)}fe.b[0][1]++;fe.s[9]++;return new TxMessage(e)}serialize(n){fe.f[2]++;fe.s[10]++;n=(fe.b[1][0]++,n)||(fe.b[1][1]++,new SerialBuffer(this.serializedSize));fe.s[11]++;super.serialize(n);fe.s[12]++;this._transaction.serialize(n);fe.s[13]++;n.writeUint8(this._accountsProof?(fe.b[2][0]++,1):(fe.b[2][1]++,0));fe.s[14]++;if(this._accountsProof){fe.b[3][0]++;fe.s[15]++;this._accountsProof.serialize(n)}else fe.b[3][1]++;fe.s[16]++;super._setChecksum(n);fe.s[17]++;return n}get serializedSize(){fe.f[3]++;let n=(fe.s[18]++,super.serializedSize+this._transaction.serializedSize+1);fe.s[19]++;if(this._accountsProof){fe.b[4][0]++;fe.s[20]++;n+=this._accountsProof.serializedSize}else fe.b[4][1]++;fe.s[21]++;return n}get transaction(){fe.f[4]++;fe.s[22]++;return this._transaction}get hasAccountsProof(){fe.f[5]++;fe.s[23]++;return!!this._accountsProof}get accountsProof(){fe.f[6]++;fe.s[24]++;return this._accountsProof}}fe.s[25]++;Class.register(TxMessage);var _e=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/VersionMessage.js",e="c3c669900517e8364e1fd3df98c6428f5406d40a",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/VersionMessage.js",statementMap:{0:{start:{line:10,column:8},end:{line:10,column:36}},1:{start:{line:11,column:8},end:{line:11,column:81}},2:{start:{line:11,column:44},end:{line:11,column:81}},3:{start:{line:12,column:8},end:{line:12,column:92}},4:{start:{line:12,column:51},end:{line:12,column:92}},5:{start:{line:13,column:8},end:{line:13,column:80}},6:{start:{line:13,column:39},end:{line:13,column:80}},7:{start:{line:14,column:8},end:{line:14,column:74}},8:{start:{line:14,column:36},end:{line:14,column:74}},9:{start:{line:15,column:8},end:{line:15,column:134}},10:{start:{line:15,column:89},end:{line:15,column:134}},11:{start:{line:18,column:8},end:{line:18,column:32}},12:{start:{line:20,column:8},end:{line:20,column:40}},13:{start:{line:22,column:8},end:{line:22,column:40}},14:{start:{line:24,column:8},end:{line:24,column:34}},15:{start:{line:26,column:8},end:{line:26,column:46}},16:{start:{line:34,column:8},end:{line:34,column:33}},17:{start:{line:35,column:24},end:{line:35,column:40}},18:{start:{line:36,column:28},end:{line:36,column:56}},19:{start:{line:37,column:28},end:{line:37,column:49}},20:{start:{line:38,column:25},end:{line:38,column:46}},21:{start:{line:39,column:31},end:{line:39,column:70}},22:{start:{line:40,column:8},end:{line:40,column:95}},23:{start:{line:48,column:8},end:{line:48,column:59}},24:{start:{line:49,column:8},end:{line:49,column:29}},25:{start:{line:50,column:8},end:{line:50,column:39}},26:{start:{line:51,column:8},end:{line:51,column:41}},27:{start:{line:52,column:8},end:{line:52,column:41}},28:{start:{line:53,column:8},end:{line:53,column:38}},29:{start:{line:54,column:8},end:{line:54,column:40}},30:{start:{line:55,column:8},end:{line:55,column:32}},31:{start:{line:56,column:8},end:{line:56,column:19}},32:{start:{line:61,column:8},end:{line:66,column:44}},33:{start:{line:71,column:8},end:{line:71,column:29}},34:{start:{line:76,column:8},end:{line:76,column:33}},35:{start:{line:81,column:8},end:{line:81,column:33}},36:{start:{line:86,column:8},end:{line:86,column:30}},37:{start:{line:91,column:8},end:{line:91,column:36}},38:{start:{line:95,column:0},end:{line:95,column:35}},39:{start:{line:96,column:0},end:{line:96,column:31}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:4},end:{line:9,column:5}},loc:{start:{line:9,column:77},end:{line:27,column:5}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:33,column:4},end:{line:33,column:5}},loc:{start:{line:33,column:28},end:{line:41,column:5}},line:33},2:{name:"(anonymous_2)",decl:{start:{line:47,column:4},end:{line:47,column:5}},loc:{start:{line:47,column:19},end:{line:57,column:5}},line:47},3:{name:"(anonymous_3)",decl:{start:{line:60,column:4},end:{line:60,column:5}},loc:{start:{line:60,column:25},end:{line:67,column:5}},line:60},4:{name:"(anonymous_4)",decl:{start:{line:70,column:4},end:{line:70,column:5}},loc:{start:{line:70,column:18},end:{line:72,column:5}},line:70},5:{name:"(anonymous_5)",decl:{start:{line:75,column:4},end:{line:75,column:5}},loc:{start:{line:75,column:22},end:{line:77,column:5}},line:75},6:{name:"(anonymous_6)",decl:{start:{line:80,column:4},end:{line:80,column:5}},loc:{start:{line:80,column:22},end:{line:82,column:5}},line:80},7:{name:"(anonymous_7)",decl:{start:{line:85,column:4},end:{line:85,column:5}},loc:{start:{line:85,column:19},end:{line:87,column:5}},line:85},8:{name:"(anonymous_8)",decl:{start:{line:90,column:4},end:{line:90,column:5}},loc:{start:{line:90,column:25},end:{line:92,column:5}},line:90}},branchMap:{0:{loc:{start:{line:11,column:8},end:{line:11,column:81}},type:"if",locations:[{start:{line:11,column:8},end:{line:11,column:81}},{start:{line:11,column:8},end:{line:11,column:81}}],line:11},1:{loc:{start:{line:12,column:8},end:{line:12,column:92}},type:"if",locations:[{start:{line:12,column:8},end:{line:12,column:92}},{start:{line:12,column:8},end:{line:12,column:92}}],line:12},2:{loc:{start:{line:13,column:8},end:{line:13,column:80}},type:"if",locations:[{start:{line:13,column:8},end:{line:13,column:80}},{start:{line:13,column:8},end:{line:13,column:80}}],line:13},3:{loc:{start:{line:14,column:8},end:{line:14,column:74}},type:"if",locations:[{start:{line:14,column:8},end:{line:14,column:74}},{start:{line:14,column:8},end:{line:14,column:74}}],line:14},4:{loc:{start:{line:15,column:8},end:{line:15,column:134}},type:"if",locations:[{start:{line:15,column:8},end:{line:15,column:134}},{start:{line:15,column:8},end:{line:15,column:134}}],line:15},5:{loc:{start:{line:15,column:12},end:{line:15,column:87}},type:"binary-expr",locations:[{start:{line:15,column:12},end:{line:15,column:51}},{start:{line:15,column:55},end:{line:15,column:87}}],line:15},6:{loc:{start:{line:48,column:14},end:{line:48,column:58}},type:"binary-expr",locations:[{start:{line:48,column:14},end:{line:48,column:17}},{start:{line:48,column:21},end:{line:48,column:58}}],line:48}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class VersionMessage extends Message{constructor(n,e,l,t,o){_e.f[0]++;_e.s[0]++;super(Message.Type.VERSION);_e.s[1]++;if(!NumberUtils.isUint32(n)){_e.b[0][0]++;_e.s[2]++;throw new Error("Malformed version")}_e.b[0][1]++;_e.s[3]++;if(!(e instanceof PeerAddress)){_e.b[1][0]++;_e.s[4]++;throw new Error("Malformed peerAddress")}_e.b[1][1]++;_e.s[5]++;if(!Hash.isHash(l)){_e.b[2][0]++;_e.s[6]++;throw new Error("Malformed genesisHash")}_e.b[2][1]++;_e.s[7]++;if(!Hash.isHash(t)){_e.b[3][0]++;_e.s[8]++;throw new Error("Malformed headHash")}_e.b[3][1]++;_e.s[9]++;if(!((_e.b[5][0]++,o instanceof Uint8Array)&&(_e.b[5][1]++,32===o.byteLength))){_e.b[4][0]++;_e.s[10]++;throw new Error("Malformed challenge nonce")}_e.b[4][1]++;_e.s[11]++;this._version=n;_e.s[12]++;this._peerAddress=e;_e.s[13]++;this._genesisHash=l;_e.s[14]++;this._headHash=t;_e.s[15]++;this._challengeNonce=o}static unserialize(n){_e.f[1]++;_e.s[16]++;Message.unserialize(n);const e=(_e.s[17]++,n.readUint32()),l=(_e.s[18]++,PeerAddress.unserialize(n)),t=(_e.s[19]++,Hash.unserialize(n)),o=(_e.s[20]++,Hash.unserialize(n)),i=(_e.s[21]++,n.read(VersionMessage.CHALLENGE_SIZE));_e.s[22]++;return new VersionMessage(e,l,t,o,i)}serialize(n){_e.f[2]++;_e.s[23]++;n=(_e.b[6][0]++,n)||(_e.b[6][1]++,new SerialBuffer(this.serializedSize));_e.s[24]++;super.serialize(n);_e.s[25]++;n.writeUint32(this._version);_e.s[26]++;this._peerAddress.serialize(n);_e.s[27]++;this._genesisHash.serialize(n);_e.s[28]++;this._headHash.serialize(n);_e.s[29]++;n.write(this._challengeNonce);_e.s[30]++;super._setChecksum(n);_e.s[31]++;return n}get serializedSize(){_e.f[3]++;_e.s[32]++;return super.serializedSize+4+this._peerAddress.serializedSize+this._genesisHash.serializedSize+this._headHash.serializedSize+VersionMessage.CHALLENGE_SIZE}get version(){_e.f[4]++;_e.s[33]++;return this._version}get peerAddress(){_e.f[5]++;_e.s[34]++;return this._peerAddress}get genesisHash(){_e.f[6]++;_e.s[35]++;return this._genesisHash}get headHash(){_e.f[7]++;_e.s[36]++;return this._headHash}get challengeNonce(){_e.f[8]++;_e.s[37]++;return this._challengeNonce}}_e.s[38]++;VersionMessage.CHALLENGE_SIZE=32;_e.s[39]++;Class.register(VersionMessage);var ye=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/VerAckMessage.js",e="9d47e1373cec4f1e5d5100fbee6ffeef44889a14",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/VerAckMessage.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:35}},1:{start:{line:9,column:8},end:{line:9,column:36}},2:{start:{line:11,column:8},end:{line:11,column:36}},3:{start:{line:19,column:8},end:{line:19,column:33}},4:{start:{line:20,column:26},end:{line:20,column:52}},5:{start:{line:21,column:26},end:{line:21,column:52}},6:{start:{line:22,column:8},end:{line:22,column:55}},7:{start:{line:30,column:8},end:{line:30,column:59}},8:{start:{line:31,column:8},end:{line:31,column:29}},9:{start:{line:32,column:8},end:{line:32,column:38}},10:{start:{line:33,column:8},end:{line:33,column:38}},11:{start:{line:34,column:8},end:{line:34,column:32}},12:{start:{line:35,column:8},end:{line:35,column:19}},13:{start:{line:40,column:8},end:{line:42,column:45}},14:{start:{line:47,column:8},end:{line:47,column:31}},15:{start:{line:52,column:8},end:{line:52,column:31}},16:{start:{line:55,column:0},end:{line:55,column:30}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:38},end:{line:12,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:18,column:4},end:{line:18,column:5}},loc:{start:{line:18,column:28},end:{line:23,column:5}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:29,column:4},end:{line:29,column:5}},loc:{start:{line:29,column:19},end:{line:36,column:5}},line:29},3:{name:"(anonymous_3)",decl:{start:{line:39,column:4},end:{line:39,column:5}},loc:{start:{line:39,column:25},end:{line:43,column:5}},line:39},4:{name:"(anonymous_4)",decl:{start:{line:46,column:4},end:{line:46,column:5}},loc:{start:{line:46,column:20},end:{line:48,column:5}},line:46},5:{name:"(anonymous_5)",decl:{start:{line:51,column:4},end:{line:51,column:5}},loc:{start:{line:51,column:20},end:{line:53,column:5}},line:51}},branchMap:{0:{loc:{start:{line:30,column:14},end:{line:30,column:58}},type:"binary-expr",locations:[{start:{line:30,column:14},end:{line:30,column:17}},{start:{line:30,column:21},end:{line:30,column:58}}],line:30}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class VerAckMessage extends Message{constructor(n,e){ye.f[0]++;ye.s[0]++;super(Message.Type.VERACK);ye.s[1]++;this._publicKey=n;ye.s[2]++;this._signature=e}static unserialize(n){ye.f[1]++;ye.s[3]++;Message.unserialize(n);const e=(ye.s[4]++,PublicKey.unserialize(n)),l=(ye.s[5]++,Signature.unserialize(n));ye.s[6]++;return new VerAckMessage(e,l)}serialize(n){ye.f[2]++;ye.s[7]++;n=(ye.b[0][0]++,n)||(ye.b[0][1]++,new SerialBuffer(this.serializedSize));ye.s[8]++;super.serialize(n);ye.s[9]++;this.publicKey.serialize(n);ye.s[10]++;this.signature.serialize(n);ye.s[11]++;super._setChecksum(n);ye.s[12]++;return n}get serializedSize(){ye.f[3]++;ye.s[13]++;return super.serializedSize+this._publicKey.serializedSize+this._signature.serializedSize}get publicKey(){ye.f[4]++;ye.s[14]++;return this._publicKey}get signature(){ye.f[5]++;ye.s[15]++;return this._signature}}ye.s[16]++;Class.register(VerAckMessage);var be=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/AccountsProofMessage.js",e="d09f9454ad6399fe70cbc1d865ac27e189f783e0",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/AccountsProofMessage.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:43}},1:{start:{line:8,column:8},end:{line:8,column:81}},2:{start:{line:8,column:42},end:{line:8,column:81}},3:{start:{line:9,column:8},end:{line:9,column:107}},4:{start:{line:9,column:72},end:{line:9,column:107}},5:{start:{line:11,column:8},end:{line:11,column:36}},6:{start:{line:13,column:8},end:{line:13,column:44}},7:{start:{line:21,column:8},end:{line:21,column:33}},8:{start:{line:22,column:26},end:{line:22,column:47}},9:{start:{line:23,column:25},end:{line:23,column:40}},10:{start:{line:24,column:28},end:{line:24,column:32}},11:{start:{line:25,column:8},end:{line:27,column:9}},12:{start:{line:26,column:12},end:{line:26,column:59}},13:{start:{line:28,column:8},end:{line:28,column:66}},14:{start:{line:36,column:8},end:{line:36,column:59}},15:{start:{line:37,column:8},end:{line:37,column:29}},16:{start:{line:38,column:8},end:{line:38,column:39}},17:{start:{line:39,column:8},end:{line:39,column:48}},18:{start:{line:40,column:8},end:{line:42,column:9}},19:{start:{line:41,column:12},end:{line:41,column:47}},20:{start:{line:43,column:8},end:{line:43,column:32}},21:{start:{line:44,column:8},end:{line:44,column:19}},22:{start:{line:49,column:8},end:{line:52,column:73}},23:{start:{line:59,column:8},end:{line:59,column:37}},24:{start:{line:64,column:8},end:{line:64,column:31}},25:{start:{line:69,column:8},end:{line:69,column:35}},26:{start:{line:72,column:0},end:{line:72,column:37}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:47},end:{line:14,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:20,column:4},end:{line:20,column:5}},loc:{start:{line:20,column:28},end:{line:29,column:5}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:35,column:4},end:{line:35,column:5}},loc:{start:{line:35,column:19},end:{line:45,column:5}},line:35},3:{name:"(anonymous_3)",decl:{start:{line:48,column:4},end:{line:48,column:5}},loc:{start:{line:48,column:25},end:{line:53,column:5}},line:48},4:{name:"(anonymous_4)",decl:{start:{line:58,column:4},end:{line:58,column:5}},loc:{start:{line:58,column:15},end:{line:60,column:5}},line:58},5:{name:"(anonymous_5)",decl:{start:{line:63,column:4},end:{line:63,column:5}},loc:{start:{line:63,column:20},end:{line:65,column:5}},line:63},6:{name:"(anonymous_6)",decl:{start:{line:68,column:4},end:{line:68,column:5}},loc:{start:{line:68,column:16},end:{line:70,column:5}},line:68}},branchMap:{0:{loc:{start:{line:6,column:27},end:{line:6,column:45}},type:"default-arg",locations:[{start:{line:6,column:41},end:{line:6,column:45}}],line:6},1:{loc:{start:{line:8,column:8},end:{line:8,column:81}},type:"if",locations:[{start:{line:8,column:8},end:{line:8,column:81}},{start:{line:8,column:8},end:{line:8,column:81}}],line:8},2:{loc:{start:{line:9,column:8},end:{line:9,column:107}},type:"if",locations:[{start:{line:9,column:8},end:{line:9,column:107}},{start:{line:9,column:8},end:{line:9,column:107}}],line:9},3:{loc:{start:{line:9,column:12},end:{line:9,column:70}},type:"binary-expr",locations:[{start:{line:9,column:12},end:{line:9,column:25}},{start:{line:9,column:29},end:{line:9,column:70}}],line:9},4:{loc:{start:{line:25,column:8},end:{line:27,column:9}},type:"if",locations:[{start:{line:25,column:8},end:{line:27,column:9}},{start:{line:25,column:8},end:{line:27,column:9}}],line:25},5:{loc:{start:{line:36,column:14},end:{line:36,column:58}},type:"binary-expr",locations:[{start:{line:36,column:14},end:{line:36,column:17}},{start:{line:36,column:21},end:{line:36,column:58}}],line:36},6:{loc:{start:{line:39,column:23},end:{line:39,column:46}},type:"cond-expr",locations:[{start:{line:39,column:41},end:{line:39,column:42}},{start:{line:39,column:45},end:{line:39,column:46}}],line:39},7:{loc:{start:{line:40,column:8},end:{line:42,column:9}},type:"if",locations:[{start:{line:40,column:8},end:{line:42,column:9}},{start:{line:40,column:8},end:{line:42,column:9}}],line:40},8:{loc:{start:{line:52,column:15},end:{line:52,column:71}},type:"cond-expr",locations:[{start:{line:52,column:33},end:{line:52,column:67}},{start:{line:52,column:70},end:{line:52,column:71}}],line:52}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class AccountsProofMessage extends Message{constructor(n,e=(be.b[0][0]++,null)){be.f[0]++;be.s[0]++;super(Message.Type.ACCOUNTS_PROOF);be.s[1]++;if(!(n instanceof Hash)){be.b[1][0]++;be.s[2]++;throw new Error("Malformed blockHash")}be.b[1][1]++;be.s[3]++;if((be.b[3][0]++,e)&&(be.b[3][1]++,!(e instanceof AccountsProof))){be.b[2][0]++;be.s[4]++;throw new Error("Malformed proof")}be.b[2][1]++;be.s[5]++;this._blockHash=n;be.s[6]++;this._accountsProof=e}static unserialize(n){be.f[1]++;be.s[7]++;Message.unserialize(n);const e=(be.s[8]++,Hash.unserialize(n)),l=(be.s[9]++,n.readUint8());let t=(be.s[10]++,null);be.s[11]++;if(0!==l){be.b[4][0]++;be.s[12]++;t=AccountsProof.unserialize(n)}else be.b[4][1]++;be.s[13]++;return new AccountsProofMessage(e,t)}serialize(n){be.f[2]++;be.s[14]++;n=(be.b[5][0]++,n)||(be.b[5][1]++,new SerialBuffer(this.serializedSize));be.s[15]++;super.serialize(n);be.s[16]++;this._blockHash.serialize(n);be.s[17]++;n.writeUint8(this.hasProof()?(be.b[6][0]++,1):(be.b[6][1]++,0));be.s[18]++;if(this.hasProof()){be.b[7][0]++;be.s[19]++;this._accountsProof.serialize(n)}else be.b[7][1]++;be.s[20]++;super._setChecksum(n);be.s[21]++;return n}get serializedSize(){be.f[3]++;be.s[22]++;return super.serializedSize+1+this._blockHash.serializedSize+(this.hasProof()?(be.b[8][0]++,this._accountsProof.serializedSize):(be.b[8][1]++,0))}hasProof(){be.f[4]++;be.s[23]++;return!!this._accountsProof}get blockHash(){be.f[5]++;be.s[24]++;return this._blockHash}get proof(){be.f[6]++;be.s[25]++;return this._accountsProof}}be.s[26]++;Class.register(AccountsProofMessage);var pe=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/GetAccountsProofMessage.js",e="81288f08ce3e6b2aece00ce8896ff182dc4939d4",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/GetAccountsProofMessage.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:47}},1:{start:{line:8,column:8},end:{line:8,column:96}},2:{start:{line:8,column:56},end:{line:8,column:96}},3:{start:{line:9,column:8},end:{line:11,column:102}},4:{start:{line:11,column:36},end:{line:11,column:60}},5:{start:{line:11,column:63},end:{line:11,column:102}},6:{start:{line:12,column:8},end:{line:12,column:36}},7:{start:{line:14,column:8},end:{line:14,column:36}},8:{start:{line:22,column:8},end:{line:22,column:33}},9:{start:{line:23,column:26},end:{line:23,column:47}},10:{start:{line:24,column:22},end:{line:24,column:38}},11:{start:{line:25,column:26},end:{line:25,column:28}},12:{start:{line:26,column:8},end:{line:28,column:9}},13:{start:{line:27,column:12},end:{line:27,column:53}},14:{start:{line:29,column:8},end:{line:29,column:65}},15:{start:{line:37,column:8},end:{line:37,column:59}},16:{start:{line:38,column:8},end:{line:38,column:29}},17:{start:{line:39,column:8},end:{line:39,column:39}},18:{start:{line:40,column:8},end:{line:40,column:48}},19:{start:{line:41,column:8},end:{line:43,column:9}},20:{start:{line:42,column:12},end:{line:42,column:35}},21:{start:{line:44,column:8},end:{line:44,column:32}},22:{start:{line:45,column:8},end:{line:45,column:19}},23:{start:{line:50,column:8},end:{line:53,column:88}},24:{start:{line:53,column:55},end:{line:53,column:83}},25:{start:{line:58,column:8},end:{line:58,column:31}},26:{start:{line:63,column:8},end:{line:63,column:31}},27:{start:{line:66,column:0},end:{line:66,column:40}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:38},end:{line:15,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:11,column:30},end:{line:11,column:31}},loc:{start:{line:11,column:36},end:{line:11,column:60}},line:11},2:{name:"(anonymous_2)",decl:{start:{line:21,column:4},end:{line:21,column:5}},loc:{start:{line:21,column:28},end:{line:30,column:5}},line:21},3:{name:"(anonymous_3)",decl:{start:{line:36,column:4},end:{line:36,column:5}},loc:{start:{line:36,column:19},end:{line:46,column:5}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:49,column:4},end:{line:49,column:5}},loc:{start:{line:49,column:25},end:{line:54,column:5}},line:49},5:{name:"(anonymous_5)",decl:{start:{line:53,column:37},end:{line:53,column:38}},loc:{start:{line:53,column:55},end:{line:53,column:83}},line:53},6:{name:"(anonymous_6)",decl:{start:{line:57,column:4},end:{line:57,column:5}},loc:{start:{line:57,column:20},end:{line:59,column:5}},line:57},7:{name:"(anonymous_7)",decl:{start:{line:62,column:4},end:{line:62,column:5}},loc:{start:{line:62,column:20},end:{line:64,column:5}},line:62}},branchMap:{0:{loc:{start:{line:8,column:8},end:{line:8,column:96}},type:"if",locations:[{start:{line:8,column:8},end:{line:8,column:96}},{start:{line:8,column:8},end:{line:8,column:96}}],line:8},1:{loc:{start:{line:8,column:12},end:{line:8,column:54}},type:"binary-expr",locations:[{start:{line:8,column:12},end:{line:8,column:22}},{start:{line:8,column:26},end:{line:8,column:54}}],line:8},2:{loc:{start:{line:9,column:8},end:{line:11,column:102}},type:"if",locations:[{start:{line:9,column:8},end:{line:11,column:102}},{start:{line:9,column:8},end:{line:11,column:102}}],line:9},3:{loc:{start:{line:9,column:12},end:{line:11,column:61}},type:"binary-expr",locations:[{start:{line:9,column:12},end:{line:9,column:22}},{start:{line:9,column:26},end:{line:9,column:65}},{start:{line:10,column:15},end:{line:10,column:35}},{start:{line:11,column:15},end:{line:11,column:61}}],line:9},4:{loc:{start:{line:37,column:14},end:{line:37,column:58}},type:"binary-expr",locations:[{start:{line:37,column:14},end:{line:37,column:17}},{start:{line:37,column:21},end:{line:37,column:58}}],line:37}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0,0,0],4:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class GetAccountsProofMessage extends Message{constructor(n,e){pe.f[0]++;pe.s[0]++;super(Message.Type.GET_ACCOUNTS_PROOF);pe.s[1]++;if(!((pe.b[1][0]++,n)&&(pe.b[1][1]++,n instanceof Hash))){pe.b[0][0]++;pe.s[2]++;throw new Error("Malformed block hash")}pe.b[0][1]++;pe.s[3]++;if((pe.b[3][0]++,!e)||(pe.b[3][1]++,!NumberUtils.isUint16(e.length))||(pe.b[3][2]++,e.length<1)||(pe.b[3][3]++,e.some(n=>{pe.f[1]++;pe.s[4]++;return!(n instanceof Address)}))){pe.b[2][0]++;pe.s[5]++;throw new Error("Malformed addresses")}pe.b[2][1]++;pe.s[6]++;this._blockHash=n;pe.s[7]++;this._addresses=e}static unserialize(n){pe.f[2]++;pe.s[8]++;Message.unserialize(n);const e=(pe.s[9]++,Hash.unserialize(n)),l=(pe.s[10]++,n.readUint16()),t=(pe.s[11]++,[]);pe.s[12]++;for(let o=0;o<l;o++){pe.s[13]++;t.push(Address.unserialize(n))}pe.s[14]++;return new GetAccountsProofMessage(e,t)}serialize(n){pe.f[3]++;pe.s[15]++;n=(pe.b[4][0]++,n)||(pe.b[4][1]++,new SerialBuffer(this.serializedSize));pe.s[16]++;super.serialize(n);pe.s[17]++;this._blockHash.serialize(n);pe.s[18]++;n.writeUint16(this._addresses.length);pe.s[19]++;for(const e of this._addresses){pe.s[20]++;e.serialize(n)}pe.s[21]++;super._setChecksum(n);pe.s[22]++;return n}get serializedSize(){pe.f[4]++;pe.s[23]++;return super.serializedSize+this._blockHash.serializedSize+2+this._addresses.reduce((n,e)=>{pe.f[5]++;pe.s[24]++;return n+e.serializedSize},0)}get addresses(){pe.f[6]++;pe.s[25]++;return this._addresses}get blockHash(){pe.f[7]++;pe.s[26]++;return this._blockHash}}pe.s[27]++;Class.register(GetAccountsProofMessage);var ge=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/ChainProofMessage.js",e="15e98efef273b367c145458bd62395191127f6f7",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/ChainProofMessage.js",statementMap:{0:{start:{line:6,column:8},end:{line:6,column:40}},1:{start:{line:7,column:8},end:{line:7,column:73}},2:{start:{line:7,column:44},end:{line:7,column:73}},3:{start:{line:10,column:8},end:{line:10,column:28}},4:{start:{line:18,column:8},end:{line:18,column:33}},5:{start:{line:19,column:22},end:{line:19,column:49}},6:{start:{line:20,column:8},end:{line:20,column:44}},7:{start:{line:28,column:8},end:{line:28,column:59}},8:{start:{line:29,column:8},end:{line:29,column:29}},9:{start:{line:30,column:8},end:{line:30,column:35}},10:{start:{line:31,column:8},end:{line:31,column:32}},11:{start:{line:32,column:8},end:{line:32,column:19}},12:{start:{line:37,column:8},end:{line:38,column:41}},13:{start:{line:43,column:8},end:{line:43,column:27}},14:{start:{line:46,column:0},end:{line:46,column:34}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:23},end:{line:11,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:28},end:{line:21,column:5}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:27,column:4},end:{line:27,column:5}},loc:{start:{line:27,column:19},end:{line:33,column:5}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:36,column:4},end:{line:36,column:5}},loc:{start:{line:36,column:25},end:{line:39,column:5}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:42,column:4},end:{line:42,column:5}},loc:{start:{line:42,column:16},end:{line:44,column:5}},line:42}},branchMap:{0:{loc:{start:{line:7,column:8},end:{line:7,column:73}},type:"if",locations:[{start:{line:7,column:8},end:{line:7,column:73}},{start:{line:7,column:8},end:{line:7,column:73}}],line:7},1:{loc:{start:{line:28,column:14},end:{line:28,column:58}},type:"binary-expr",locations:[{start:{line:28,column:14},end:{line:28,column:17}},{start:{line:28,column:21},end:{line:28,column:58}}],line:28}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class ChainProofMessage extends Message{constructor(n){ge.f[0]++;ge.s[0]++;super(Message.Type.CHAIN_PROOF);ge.s[1]++;if(!(n instanceof ChainProof)){ge.b[0][0]++;ge.s[2]++;throw"Malformed chainProof"}ge.b[0][1]++;ge.s[3]++;this._proof=n}static unserialize(n){ge.f[1]++;ge.s[4]++;Message.unserialize(n);const e=(ge.s[5]++,ChainProof.unserialize(n));ge.s[6]++;return new ChainProofMessage(e)}serialize(n){ge.f[2]++;ge.s[7]++;n=(ge.b[1][0]++,n)||(ge.b[1][1]++,new SerialBuffer(this.serializedSize));ge.s[8]++;super.serialize(n);ge.s[9]++;this._proof.serialize(n);ge.s[10]++;super._setChecksum(n);ge.s[11]++;return n}get serializedSize(){ge.f[3]++;ge.s[12]++;return super.serializedSize+this._proof.serializedSize}get proof(){ge.f[4]++;ge.s[13]++;return this._proof}}ge.s[14]++;Class.register(ChainProofMessage);var Ae=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/GetChainProofMessage.js",e="8f8f0698dd84b9bc0e3187f04309220920b846b0",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/GetChainProofMessage.js",statementMap:{0:{start:{line:3,column:8},end:{line:3,column:44}},1:{start:{line:11,column:8},end:{line:11,column:33}},2:{start:{line:12,column:8},end:{line:12,column:42}},3:{start:{line:20,column:8},end:{line:20,column:59}},4:{start:{line:21,column:8},end:{line:21,column:29}},5:{start:{line:22,column:8},end:{line:22,column:32}},6:{start:{line:23,column:8},end:{line:23,column:19}},7:{start:{line:28,column:8},end:{line:28,column:36}},8:{start:{line:31,column:0},end:{line:31,column:37}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:4},end:{line:2,column:5}},loc:{start:{line:2,column:18},end:{line:4,column:5}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:10,column:4},end:{line:10,column:5}},loc:{start:{line:10,column:28},end:{line:13,column:5}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:19,column:4},end:{line:19,column:5}},loc:{start:{line:19,column:19},end:{line:24,column:5}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:27,column:4},end:{line:27,column:5}},loc:{start:{line:27,column:25},end:{line:29,column:5}},line:27}},branchMap:{0:{loc:{start:{line:20,column:14},end:{line:20,column:58}},type:"binary-expr",locations:[{start:{line:20,column:14},end:{line:20,column:17}},{start:{line:20,column:21},end:{line:20,column:58}}],line:20}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class GetChainProofMessage extends Message{constructor(){Ae.f[0]++;Ae.s[0]++;super(Message.Type.GET_CHAIN_PROOF)}static unserialize(n){Ae.f[1]++;Ae.s[1]++;Message.unserialize(n);Ae.s[2]++;return new GetChainProofMessage}serialize(n){Ae.f[2]++;Ae.s[3]++;n=(Ae.b[0][0]++,n)||(Ae.b[0][1]++,new SerialBuffer(this.serializedSize));Ae.s[4]++;super.serialize(n);Ae.s[5]++;super._setChecksum(n);Ae.s[6]++;return n}get serializedSize(){Ae.f[3]++;Ae.s[7]++;return super.serializedSize}}Ae.s[8]++;Class.register(GetChainProofMessage);var we=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/AccountsTreeChunkMessage.js",e="6f527fdaac4128dd084f471faf5441b75a268f52",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/AccountsTreeChunkMessage.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:48}},1:{start:{line:8,column:8},end:{line:8,column:70}},2:{start:{line:8,column:42},end:{line:8,column:70}},3:{start:{line:9,column:8},end:{line:9,column:108}},4:{start:{line:9,column:84},end:{line:9,column:108}},5:{start:{line:11,column:8},end:{line:11,column:36}},6:{start:{line:13,column:8},end:{line:13,column:52}},7:{start:{line:21,column:8},end:{line:21,column:33}},8:{start:{line:22,column:26},end:{line:22,column:47}},9:{start:{line:23,column:25},end:{line:23,column:40}},10:{start:{line:24,column:32},end:{line:24,column:36}},11:{start:{line:25,column:8},end:{line:27,column:9}},12:{start:{line:26,column:12},end:{line:26,column:67}},13:{start:{line:28,column:8},end:{line:28,column:74}},14:{start:{line:36,column:8},end:{line:36,column:59}},15:{start:{line:37,column:8},end:{line:37,column:29}},16:{start:{line:38,column:8},end:{line:38,column:39}},17:{start:{line:39,column:8},end:{line:39,column:48}},18:{start:{line:40,column:8},end:{line:42,column:9}},19:{start:{line:41,column:12},end:{line:41,column:51}},20:{start:{line:43,column:8},end:{line:43,column:32}},21:{start:{line:44,column:8},end:{line:44,column:19}},22:{start:{line:49,column:8},end:{line:52,column:77}},23:{start:{line:59,column:8},end:{line:59,column:41}},24:{start:{line:64,column:8},end:{line:64,column:31}},25:{start:{line:69,column:8},end:{line:69,column:39}},26:{start:{line:72,column:0},end:{line:72,column:41}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:51},end:{line:14,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:20,column:4},end:{line:20,column:5}},loc:{start:{line:20,column:28},end:{line:29,column:5}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:35,column:4},end:{line:35,column:5}},loc:{start:{line:35,column:19},end:{line:45,column:5}},line:35},3:{name:"(anonymous_3)",decl:{start:{line:48,column:4},end:{line:48,column:5}},loc:{start:{line:48,column:25},end:{line:53,column:5}},line:48},4:{name:"(anonymous_4)",decl:{start:{line:58,column:4},end:{line:58,column:5}},loc:{start:{line:58,column:15},end:{line:60,column:5}},line:58},5:{name:"(anonymous_5)",decl:{start:{line:63,column:4},end:{line:63,column:5}},loc:{start:{line:63,column:20},end:{line:65,column:5}},line:63},6:{name:"(anonymous_6)",decl:{start:{line:68,column:4},end:{line:68,column:5}},loc:{start:{line:68,column:16},end:{line:70,column:5}},line:68}},branchMap:{0:{loc:{start:{line:6,column:27},end:{line:6,column:49}},type:"default-arg",locations:[{start:{line:6,column:45},end:{line:6,column:49}}],line:6},1:{loc:{start:{line:8,column:8},end:{line:8,column:70}},type:"if",locations:[{start:{line:8,column:8},end:{line:8,column:70}},{start:{line:8,column:8},end:{line:8,column:70}}],line:8},2:{loc:{start:{line:9,column:8},end:{line:9,column:108}},type:"if",locations:[{start:{line:9,column:8},end:{line:9,column:108}},{start:{line:9,column:8},end:{line:9,column:108}}],line:9},3:{loc:{start:{line:9,column:12},end:{line:9,column:82}},type:"binary-expr",locations:[{start:{line:9,column:12},end:{line:9,column:29}},{start:{line:9,column:33},end:{line:9,column:82}}],line:9},4:{loc:{start:{line:25,column:8},end:{line:27,column:9}},type:"if",locations:[{start:{line:25,column:8},end:{line:27,column:9}},{start:{line:25,column:8},end:{line:27,column:9}}],line:25},5:{loc:{start:{line:36,column:14},end:{line:36,column:58}},type:"binary-expr",locations:[{start:{line:36,column:14},end:{line:36,column:17}},{start:{line:36,column:21},end:{line:36,column:58}}],line:36},6:{loc:{start:{line:39,column:23},end:{line:39,column:46}},type:"cond-expr",locations:[{start:{line:39,column:41},end:{line:39,column:42}},{start:{line:39,column:45},end:{line:39,column:46}}],line:39},7:{loc:{start:{line:40,column:8},end:{line:42,column:9}},type:"if",locations:[{start:{line:40,column:8},end:{line:42,column:9}},{start:{line:40,column:8},end:{line:42,column:9}}],line:40},8:{loc:{start:{line:52,column:15},end:{line:52,column:75}},type:"cond-expr",locations:[{start:{line:52,column:33},end:{line:52,column:71}},{start:{line:52,column:74},end:{line:52,column:75}}],line:52}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class AccountsTreeChunkMessage extends Message{constructor(n,e=(we.b[0][0]++,null)){we.f[0]++;we.s[0]++;super(Message.Type.ACCOUNTS_TREE_CHUNK);we.s[1]++;if(!(n instanceof Hash)){we.b[1][0]++;we.s[2]++;throw"Malformed blockHash"}we.b[1][1]++;we.s[3]++;if((we.b[3][0]++,e)&&(we.b[3][1]++,!(e instanceof AccountsTreeChunk))){we.b[2][0]++;we.s[4]++;throw"Malformed chunk"}we.b[2][1]++;we.s[5]++;this._blockHash=n;we.s[6]++;this._accountsTreeChunk=e}static unserialize(n){we.f[1]++;we.s[7]++;Message.unserialize(n);const e=(we.s[8]++,Hash.unserialize(n)),l=(we.s[9]++,n.readUint8());let t=(we.s[10]++,null);we.s[11]++;if(0!==l){we.b[4][0]++;we.s[12]++;t=AccountsTreeChunk.unserialize(n)}else we.b[4][1]++;we.s[13]++;return new AccountsTreeChunkMessage(e,t)}serialize(n){we.f[2]++;we.s[14]++;n=(we.b[5][0]++,n)||(we.b[5][1]++,new SerialBuffer(this.serializedSize));we.s[15]++;super.serialize(n);we.s[16]++;this._blockHash.serialize(n);we.s[17]++;n.writeUint8(this.hasChunk()?(we.b[6][0]++,1):(we.b[6][1]++,0));we.s[18]++;if(this.hasChunk()){we.b[7][0]++;we.s[19]++;this._accountsTreeChunk.serialize(n)}else we.b[7][1]++;we.s[20]++;super._setChecksum(n);we.s[21]++;return n}get serializedSize(){we.f[3]++;we.s[22]++;return super.serializedSize+1+this._blockHash.serializedSize+(this.hasChunk()?(we.b[8][0]++,this._accountsTreeChunk.serializedSize):(we.b[8][1]++,0))}hasChunk(){we.f[4]++;we.s[23]++;return!!this._accountsTreeChunk}get blockHash(){we.f[5]++;we.s[24]++;return this._blockHash}get chunk(){we.f[6]++;we.s[25]++;return this._accountsTreeChunk}}we.s[26]++;Class.register(AccountsTreeChunkMessage);var Ce=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/GetAccountsTreeChunkMessage.js",e="ba04b7e9f8db75c4907ee3ff4bb0bcda1ee8f273",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/GetAccountsTreeChunkMessage.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:52}},1:{start:{line:8,column:8},end:{line:8,column:85}},2:{start:{line:8,column:56},end:{line:8,column:85}},3:{start:{line:9,column:8},end:{line:10,column:88}},4:{start:{line:10,column:57},end:{line:10,column:88}},5:{start:{line:12,column:8},end:{line:12,column:36}},6:{start:{line:13,column:8},end:{line:13,column:40}},7:{start:{line:21,column:8},end:{line:21,column:33}},8:{start:{line:22,column:26},end:{line:22,column:47}},9:{start:{line:23,column:28},end:{line:23,column:53}},10:{start:{line:24,column:8},end:{line:24,column:71}},11:{start:{line:32,column:8},end:{line:32,column:59}},12:{start:{line:33,column:8},end:{line:33,column:29}},13:{start:{line:34,column:8},end:{line:34,column:39}},14:{start:{line:35,column:8},end:{line:35,column:52}},15:{start:{line:36,column:8},end:{line:36,column:32}},16:{start:{line:37,column:8},end:{line:37,column:19}},17:{start:{line:42,column:8},end:{line:44,column:66}},18:{start:{line:49,column:8},end:{line:49,column:31}},19:{start:{line:54,column:8},end:{line:54,column:33}},20:{start:{line:57,column:0},end:{line:57,column:44}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:40},end:{line:14,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:20,column:4},end:{line:20,column:5}},loc:{start:{line:20,column:28},end:{line:25,column:5}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:31,column:4},end:{line:31,column:5}},loc:{start:{line:31,column:19},end:{line:38,column:5}},line:31},3:{name:"(anonymous_3)",decl:{start:{line:41,column:4},end:{line:41,column:5}},loc:{start:{line:41,column:25},end:{line:45,column:5}},line:41},4:{name:"(anonymous_4)",decl:{start:{line:48,column:4},end:{line:48,column:5}},loc:{start:{line:48,column:20},end:{line:50,column:5}},line:48},5:{name:"(anonymous_5)",decl:{start:{line:53,column:4},end:{line:53,column:5}},loc:{start:{line:53,column:22},end:{line:55,column:5}},line:53}},branchMap:{0:{loc:{start:{line:8,column:8},end:{line:8,column:85}},type:"if",locations:[{start:{line:8,column:8},end:{line:8,column:85}},{start:{line:8,column:8},end:{line:8,column:85}}],line:8},1:{loc:{start:{line:8,column:12},end:{line:8,column:54}},type:"binary-expr",locations:[{start:{line:8,column:12},end:{line:8,column:22}},{start:{line:8,column:26},end:{line:8,column:54}}],line:8},2:{loc:{start:{line:9,column:8},end:{line:10,column:88}},type:"if",locations:[{start:{line:9,column:8},end:{line:10,column:88}},{start:{line:9,column:8},end:{line:10,column:88}}],line:9},3:{loc:{start:{line:9,column:12},end:{line:10,column:55}},type:"binary-expr",locations:[{start:{line:9,column:12},end:{line:9,column:48}},{start:{line:10,column:15},end:{line:10,column:55}}],line:9},4:{loc:{start:{line:32,column:14},end:{line:32,column:58}},type:"binary-expr",locations:[{start:{line:32,column:14},end:{line:32,column:17}},{start:{line:32,column:21},end:{line:32,column:58}}],line:32}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class GetAccountsTreeChunkMessage extends Message{constructor(n,e){Ce.f[0]++;Ce.s[0]++;super(Message.Type.GET_ACCOUNTS_TREE_CHUNK);Ce.s[1]++;if(!((Ce.b[1][0]++,n)&&(Ce.b[1][1]++,n instanceof Hash))){Ce.b[0][0]++;Ce.s[2]++;throw"Malformed block hash"}Ce.b[0][1]++;Ce.s[3]++;if((Ce.b[3][0]++,StringUtils.isMultibyte(e))||(Ce.b[3][1]++,!NumberUtils.isUint8(e.length))){Ce.b[2][0]++;Ce.s[4]++;throw"Malformed start prefix"}Ce.b[2][1]++;Ce.s[5]++;this._blockHash=n;Ce.s[6]++;this._startPrefix=e}static unserialize(n){Ce.f[1]++;Ce.s[7]++;Message.unserialize(n);const e=(Ce.s[8]++,Hash.unserialize(n)),l=(Ce.s[9]++,n.readVarLengthString());Ce.s[10]++;return new GetAccountsTreeChunkMessage(e,l)}serialize(n){Ce.f[2]++;Ce.s[11]++;n=(Ce.b[4][0]++,n)||(Ce.b[4][1]++,new SerialBuffer(this.serializedSize));Ce.s[12]++;super.serialize(n);Ce.s[13]++;this._blockHash.serialize(n);Ce.s[14]++;n.writeVarLengthString(this._startPrefix);Ce.s[15]++;super._setChecksum(n);Ce.s[16]++;return n}get serializedSize(){Ce.f[3]++;Ce.s[17]++;return super.serializedSize+this._blockHash.serializedSize+SerialBuffer.varLengthStringSize(this._startPrefix)}get blockHash(){Ce.f[4]++;Ce.s[18]++;return this._blockHash}get startPrefix(){Ce.f[5]++;Ce.s[19]++;return this._startPrefix}}Ce.s[20]++;Class.register(GetAccountsTreeChunkMessage);var Se=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/TransactionsProofMessage.js",e="9123fd1449c1ad197c4b651b9fb09fc31ca3f6e4",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/TransactionsProofMessage.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:47}},1:{start:{line:8,column:8},end:{line:8,column:81}},2:{start:{line:8,column:42},end:{line:8,column:81}},3:{start:{line:9,column:8},end:{line:9,column:95}},4:{start:{line:9,column:60},end:{line:9,column:95}},5:{start:{line:11,column:8},end:{line:11,column:36}},6:{start:{line:13,column:8},end:{line:13,column:28}},7:{start:{line:21,column:8},end:{line:21,column:33}},8:{start:{line:22,column:26},end:{line:22,column:47}},9:{start:{line:23,column:25},end:{line:23,column:40}},10:{start:{line:24,column:20},end:{line:24,column:24}},11:{start:{line:25,column:8},end:{line:27,column:9}},12:{start:{line:26,column:12},end:{line:26,column:55}},13:{start:{line:28,column:8},end:{line:28,column:62}},14:{start:{line:36,column:8},end:{line:36,column:59}},15:{start:{line:37,column:8},end:{line:37,column:29}},16:{start:{line:38,column:8},end:{line:38,column:39}},17:{start:{line:39,column:8},end:{line:39,column:48}},18:{start:{line:40,column:8},end:{line:42,column:9}},19:{start:{line:41,column:12},end:{line:41,column:39}},20:{start:{line:43,column:8},end:{line:43,column:32}},21:{start:{line:44,column:8},end:{line:44,column:19}},22:{start:{line:49,column:8},end:{line:52,column:65}},23:{start:{line:59,column:8},end:{line:59,column:29}},24:{start:{line:64,column:8},end:{line:64,column:31}},25:{start:{line:69,column:8},end:{line:69,column:27}},26:{start:{line:72,column:0},end:{line:72,column:41}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:39},end:{line:14,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:20,column:4},end:{line:20,column:5}},loc:{start:{line:20,column:28},end:{line:29,column:5}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:35,column:4},end:{line:35,column:5}},loc:{start:{line:35,column:19},end:{line:45,column:5}},line:35},3:{name:"(anonymous_3)",decl:{start:{line:48,column:4},end:{line:48,column:5}},loc:{start:{line:48,column:25},end:{line:53,column:5}},line:48},4:{name:"(anonymous_4)",decl:{start:{line:58,column:4},end:{line:58,column:5}},loc:{start:{line:58,column:15},end:{line:60,column:5}},line:58},5:{name:"(anonymous_5)",decl:{start:{line:63,column:4},end:{line:63,column:5}},loc:{start:{line:63,column:20},end:{line:65,column:5}},line:63},6:{name:"(anonymous_6)",decl:{start:{line:68,column:4},end:{line:68,column:5}},loc:{start:{line:68,column:16},end:{line:70,column:5}},line:68}},branchMap:{0:{loc:{start:{line:6,column:27},end:{line:6,column:37}},type:"default-arg",locations:[{start:{line:6,column:33},end:{line:6,column:37}}],line:6},1:{loc:{start:{line:8,column:8},end:{line:8,column:81}},type:"if",locations:[{start:{line:8,column:8},end:{line:8,column:81}},{start:{line:8,column:8},end:{line:8,column:81}}],line:8},2:{loc:{start:{line:9,column:8},end:{line:9,column:95}},type:"if",locations:[{start:{line:9,column:8},end:{line:9,column:95}},{start:{line:9,column:8},end:{line:9,column:95}}],line:9},3:{loc:{start:{line:9,column:12},end:{line:9,column:58}},type:"binary-expr",locations:[{start:{line:9,column:12},end:{line:9,column:17}},{start:{line:9,column:21},end:{line:9,column:58}}],line:9},4:{loc:{start:{line:25,column:8},end:{line:27,column:9}},type:"if",locations:[{start:{line:25,column:8},end:{line:27,column:9}},{start:{line:25,column:8},end:{line:27,column:9}}],line:25},5:{loc:{start:{line:36,column:14},end:{line:36,column:58}},type:"binary-expr",locations:[{start:{line:36,column:14},end:{line:36,column:17}},{start:{line:36,column:21},end:{line:36,column:58}}],line:36},6:{loc:{start:{line:39,column:23},end:{line:39,column:46}},type:"cond-expr",locations:[{start:{line:39,column:41},end:{line:39,column:42}},{start:{line:39,column:45},end:{line:39,column:46}}],line:39},7:{loc:{start:{line:40,column:8},end:{line:42,column:9}},type:"if",locations:[{start:{line:40,column:8},end:{line:42,column:9}},{start:{line:40,column:8},end:{line:42,column:9}}],line:40},8:{loc:{start:{line:52,column:15},end:{line:52,column:63}},type:"cond-expr",locations:[{start:{line:52,column:33},end:{line:52,column:59}},{start:{line:52,column:62},end:{line:52,column:63}}],line:52}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class TransactionsProofMessage extends Message{constructor(n,e=(Se.b[0][0]++,null)){Se.f[0]++;Se.s[0]++;super(Message.Type.TRANSACTIONS_PROOF);Se.s[1]++;if(!(n instanceof Hash)){Se.b[1][0]++;Se.s[2]++;throw new Error("Malformed blockHash")}Se.b[1][1]++;Se.s[3]++;if((Se.b[3][0]++,e)&&(Se.b[3][1]++,!(e instanceof TransactionsProof))){Se.b[2][0]++;Se.s[4]++;throw new Error("Malformed proof")}Se.b[2][1]++;Se.s[5]++;this._blockHash=n;Se.s[6]++;this._proof=e}static unserialize(n){Se.f[1]++;Se.s[7]++;Message.unserialize(n);const e=(Se.s[8]++,Hash.unserialize(n)),l=(Se.s[9]++,n.readUint8());let t=(Se.s[10]++,null);Se.s[11]++;if(0!==l){Se.b[4][0]++;Se.s[12]++;t=TransactionsProof.unserialize(n)}else Se.b[4][1]++;Se.s[13]++;return new TransactionsProofMessage(e,t)}serialize(n){Se.f[2]++;Se.s[14]++;n=(Se.b[5][0]++,n)||(Se.b[5][1]++,new SerialBuffer(this.serializedSize));Se.s[15]++;super.serialize(n);Se.s[16]++;this._blockHash.serialize(n);Se.s[17]++;n.writeUint8(this.hasProof()?(Se.b[6][0]++,1):(Se.b[6][1]++,0));Se.s[18]++;if(this.hasProof()){Se.b[7][0]++;Se.s[19]++;this._proof.serialize(n)}else Se.b[7][1]++;Se.s[20]++;super._setChecksum(n);Se.s[21]++;return n}get serializedSize(){Se.f[3]++;Se.s[22]++;return super.serializedSize+1+this._blockHash.serializedSize+(this.hasProof()?(Se.b[8][0]++,this._proof.serializedSize):(Se.b[8][1]++,0))}hasProof(){Se.f[4]++;Se.s[23]++;return!!this._proof}get blockHash(){Se.f[5]++;Se.s[24]++;return this._blockHash}get proof(){Se.f[6]++;Se.s[25]++;return this._proof}}Se.s[26]++;Class.register(TransactionsProofMessage);var Ee=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/GetTransactionsProofMessage.js",e="cd301cb6beba04ccf673bd44cf56d74820a779ea",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/GetTransactionsProofMessage.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:51}},1:{start:{line:8,column:8},end:{line:8,column:96}},2:{start:{line:8,column:56},end:{line:8,column:96}},3:{start:{line:9,column:8},end:{line:10,column:102}},4:{start:{line:10,column:36},end:{line:10,column:60}},5:{start:{line:10,column:63},end:{line:10,column:102}},6:{start:{line:11,column:8},end:{line:11,column:36}},7:{start:{line:13,column:8},end:{line:13,column:36}},8:{start:{line:21,column:8},end:{line:21,column:33}},9:{start:{line:22,column:26},end:{line:22,column:47}},10:{start:{line:23,column:22},end:{line:23,column:38}},11:{start:{line:24,column:26},end:{line:24,column:28}},12:{start:{line:25,column:8},end:{line:27,column:9}},13:{start:{line:26,column:12},end:{line:26,column:53}},14:{start:{line:28,column:8},end:{line:28,column:69}},15:{start:{line:36,column:8},end:{line:36,column:59}},16:{start:{line:37,column:8},end:{line:37,column:29}},17:{start:{line:38,column:8},end:{line:38,column:39}},18:{start:{line:39,column:8},end:{line:39,column:48}},19:{start:{line:40,column:8},end:{line:42,column:9}},20:{start:{line:41,column:12},end:{line:41,column:35}},21:{start:{line:43,column:8},end:{line:43,column:32}},22:{start:{line:44,column:8},end:{line:44,column:19}},23:{start:{line:49,column:8},end:{line:52,column:88}},24:{start:{line:52,column:55},end:{line:52,column:83}},25:{start:{line:57,column:8},end:{line:57,column:31}},26:{start:{line:62,column:8},end:{line:62,column:31}},27:{start:{line:65,column:0},end:{line:65,column:44}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:38},end:{line:14,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:10,column:30},end:{line:10,column:31}},loc:{start:{line:10,column:36},end:{line:10,column:60}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:20,column:4},end:{line:20,column:5}},loc:{start:{line:20,column:28},end:{line:29,column:5}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:35,column:4},end:{line:35,column:5}},loc:{start:{line:35,column:19},end:{line:45,column:5}},line:35},4:{name:"(anonymous_4)",decl:{start:{line:48,column:4},end:{line:48,column:5}},loc:{start:{line:48,column:25},end:{line:53,column:5}},line:48},5:{name:"(anonymous_5)",decl:{start:{line:52,column:37},end:{line:52,column:38}},loc:{start:{line:52,column:55},end:{line:52,column:83}},line:52},6:{name:"(anonymous_6)",decl:{start:{line:56,column:4},end:{line:56,column:5}},loc:{start:{line:56,column:20},end:{line:58,column:5}},line:56},7:{name:"(anonymous_7)",decl:{start:{line:61,column:4},end:{line:61,column:5}},loc:{start:{line:61,column:20},end:{line:63,column:5}},line:61}},branchMap:{0:{loc:{start:{line:8,column:8},end:{line:8,column:96}},type:"if",locations:[{start:{line:8,column:8},end:{line:8,column:96}},{start:{line:8,column:8},end:{line:8,column:96}}],line:8},1:{loc:{start:{line:8,column:12},end:{line:8,column:54}},type:"binary-expr",locations:[{start:{line:8,column:12},end:{line:8,column:22}},{start:{line:8,column:26},end:{line:8,column:54}}],line:8},2:{loc:{start:{line:9,column:8},end:{line:10,column:102}},type:"if",locations:[{start:{line:9,column:8},end:{line:10,column:102}},{start:{line:9,column:8},end:{line:10,column:102}}],line:9},3:{loc:{start:{line:9,column:12},end:{line:10,column:61}},type:"binary-expr",locations:[{start:{line:9,column:12},end:{line:9,column:22}},{start:{line:9,column:26},end:{line:9,column:65}},{start:{line:10,column:15},end:{line:10,column:61}}],line:9},4:{loc:{start:{line:36,column:14},end:{line:36,column:58}},type:"binary-expr",locations:[{start:{line:36,column:14},end:{line:36,column:17}},{start:{line:36,column:21},end:{line:36,column:58}}],line:36}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0,0],4:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class GetTransactionsProofMessage extends Message{constructor(n,e){Ee.f[0]++;Ee.s[0]++;super(Message.Type.GET_TRANSACTIONS_PROOF);Ee.s[1]++;if(!((Ee.b[1][0]++,n)&&(Ee.b[1][1]++,n instanceof Hash))){Ee.b[0][0]++;Ee.s[2]++;throw new Error("Malformed block hash")}Ee.b[0][1]++;Ee.s[3]++;if((Ee.b[3][0]++,!e)||(Ee.b[3][1]++,!NumberUtils.isUint16(e.length))||(Ee.b[3][2]++,e.some(n=>{Ee.f[1]++;Ee.s[4]++;return!(n instanceof Address)}))){Ee.b[2][0]++;Ee.s[5]++;throw new Error("Malformed addresses")}Ee.b[2][1]++;Ee.s[6]++;this._blockHash=n;Ee.s[7]++;this._addresses=e}static unserialize(n){Ee.f[2]++;Ee.s[8]++;Message.unserialize(n);const e=(Ee.s[9]++,Hash.unserialize(n)),l=(Ee.s[10]++,n.readUint16()),t=(Ee.s[11]++,[]);Ee.s[12]++;for(let o=0;o<l;o++){Ee.s[13]++;t.push(Address.unserialize(n))}Ee.s[14]++;return new GetTransactionsProofMessage(e,t)}serialize(n){Ee.f[3]++;Ee.s[15]++;n=(Ee.b[4][0]++,n)||(Ee.b[4][1]++,new SerialBuffer(this.serializedSize));Ee.s[16]++;super.serialize(n);Ee.s[17]++;this._blockHash.serialize(n);Ee.s[18]++;n.writeUint16(this._addresses.length);Ee.s[19]++;for(const e of this._addresses){Ee.s[20]++;e.serialize(n)}Ee.s[21]++;super._setChecksum(n);Ee.s[22]++;return n}get serializedSize(){Ee.f[4]++;Ee.s[23]++;return super.serializedSize+this._blockHash.serializedSize+2+this._addresses.reduce((n,e)=>{Ee.f[5]++;Ee.s[24]++;return n+e.serializedSize},0)}get addresses(){Ee.f[6]++;Ee.s[25]++;return this._addresses}get blockHash(){Ee.f[7]++;Ee.s[26]++;return this._blockHash}}Ee.s[27]++;Class.register(GetTransactionsProofMessage);var Te=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/GetTransactionReceiptsMessage.js",e="6067a280c256d70ed8b0a907541f2160c5077ee7",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/GetTransactionReceiptsMessage.js",statementMap:{0:{start:{line:6,column:8},end:{line:6,column:53}},1:{start:{line:7,column:8},end:{line:7,column:80}},2:{start:{line:7,column:43},end:{line:7,column:80}},3:{start:{line:9,column:8},end:{line:9,column:32}},4:{start:{line:17,column:8},end:{line:17,column:33}},5:{start:{line:18,column:24},end:{line:18,column:48}},6:{start:{line:19,column:8},end:{line:19,column:58}},7:{start:{line:27,column:8},end:{line:27,column:59}},8:{start:{line:28,column:8},end:{line:28,column:29}},9:{start:{line:29,column:8},end:{line:29,column:37}},10:{start:{line:30,column:8},end:{line:30,column:32}},11:{start:{line:31,column:8},end:{line:31,column:19}},12:{start:{line:36,column:8},end:{line:37,column:43}},13:{start:{line:42,column:8},end:{line:42,column:29}},14:{start:{line:45,column:0},end:{line:45,column:46}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:25},end:{line:10,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:16,column:4},end:{line:16,column:5}},loc:{start:{line:16,column:28},end:{line:20,column:5}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:26,column:4},end:{line:26,column:5}},loc:{start:{line:26,column:19},end:{line:32,column:5}},line:26},3:{name:"(anonymous_3)",decl:{start:{line:35,column:4},end:{line:35,column:5}},loc:{start:{line:35,column:25},end:{line:38,column:5}},line:35},4:{name:"(anonymous_4)",decl:{start:{line:41,column:4},end:{line:41,column:5}},loc:{start:{line:41,column:18},end:{line:43,column:5}},line:41}},branchMap:{0:{loc:{start:{line:7,column:8},end:{line:7,column:80}},type:"if",locations:[{start:{line:7,column:8},end:{line:7,column:80}},{start:{line:7,column:8},end:{line:7,column:80}}],line:7},1:{loc:{start:{line:27,column:14},end:{line:27,column:58}},type:"binary-expr",locations:[{start:{line:27,column:14},end:{line:27,column:17}},{start:{line:27,column:21},end:{line:27,column:58}}],line:27}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class GetTransactionReceiptsMessage extends Message{constructor(n){Te.f[0]++;Te.s[0]++;super(Message.Type.GET_TRANSACTION_RECEIPTS);Te.s[1]++;if(!(n instanceof Address)){Te.b[0][0]++;Te.s[2]++;throw new Error("Malformed address")}Te.b[0][1]++;Te.s[3]++;this._address=n}static unserialize(n){Te.f[1]++;Te.s[4]++;Message.unserialize(n);const e=(Te.s[5]++,Address.unserialize(n));Te.s[6]++;return new GetTransactionReceiptsMessage(e)}serialize(n){Te.f[2]++;Te.s[7]++;n=(Te.b[1][0]++,n)||(Te.b[1][1]++,new SerialBuffer(this.serializedSize));Te.s[8]++;super.serialize(n);Te.s[9]++;this._address.serialize(n);Te.s[10]++;super._setChecksum(n);Te.s[11]++;return n}get serializedSize(){Te.f[3]++;Te.s[12]++;return super.serializedSize+this._address.serializedSize}get address(){Te.f[4]++;Te.s[13]++;return this._address}}Te.s[14]++;Class.register(GetTransactionReceiptsMessage);var ke=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/TransactionReceiptsMessage.js",e="22468829d25a5ea1b108ebe4adb89860b2aad161",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/TransactionReceiptsMessage.js",statementMap:{0:{start:{line:6,column:8},end:{line:6,column:49}},1:{start:{line:7,column:8},end:{line:9,column:140}},2:{start:{line:8,column:46},end:{line:8,column:81}},3:{start:{line:9,column:91},end:{line:9,column:140}},4:{start:{line:11,column:8},end:{line:11,column:56}},5:{start:{line:19,column:8},end:{line:19,column:33}},6:{start:{line:20,column:22},end:{line:20,column:38}},7:{start:{line:21,column:36},end:{line:21,column:38}},8:{start:{line:22,column:8},end:{line:24,column:9}},9:{start:{line:23,column:12},end:{line:23,column:74}},10:{start:{line:25,column:8},end:{line:25,column:67}},11:{start:{line:33,column:8},end:{line:33,column:59}},12:{start:{line:34,column:8},end:{line:34,column:29}},13:{start:{line:35,column:8},end:{line:35,column:58}},14:{start:{line:36,column:8},end:{line:38,column:9}},15:{start:{line:37,column:12},end:{line:37,column:35}},16:{start:{line:39,column:8},end:{line:39,column:32}},17:{start:{line:40,column:8},end:{line:40,column:19}},18:{start:{line:45,column:8},end:{line:47,column:98}},19:{start:{line:47,column:65},end:{line:47,column:93}},20:{start:{line:52,column:8},end:{line:52,column:41}},21:{start:{line:55,column:0},end:{line:55,column:43}},22:{start:{line:56,column:0},end:{line:56,column:52}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:37},end:{line:12,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:8,column:40},end:{line:8,column:41}},loc:{start:{line:8,column:46},end:{line:8,column:81}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:18,column:4},end:{line:18,column:5}},loc:{start:{line:18,column:28},end:{line:26,column:5}},line:18},3:{name:"(anonymous_3)",decl:{start:{line:32,column:4},end:{line:32,column:5}},loc:{start:{line:32,column:19},end:{line:41,column:5}},line:32},4:{name:"(anonymous_4)",decl:{start:{line:44,column:4},end:{line:44,column:5}},loc:{start:{line:44,column:25},end:{line:48,column:5}},line:44},5:{name:"(anonymous_5)",decl:{start:{line:47,column:47},end:{line:47,column:48}},loc:{start:{line:47,column:65},end:{line:47,column:93}},line:47},6:{name:"(anonymous_6)",decl:{start:{line:51,column:4},end:{line:51,column:5}},loc:{start:{line:51,column:30},end:{line:53,column:5}},line:51}},branchMap:{0:{loc:{start:{line:7,column:8},end:{line:9,column:140}},type:"if",locations:[{start:{line:7,column:8},end:{line:9,column:140}},{start:{line:7,column:8},end:{line:9,column:140}}],line:7},1:{loc:{start:{line:7,column:12},end:{line:9,column:89}},type:"binary-expr",locations:[{start:{line:7,column:12},end:{line:7,column:47}},{start:{line:7,column:51},end:{line:7,column:100}},{start:{line:8,column:15},end:{line:8,column:82}},{start:{line:9,column:15},end:{line:9,column:89}}],line:7},2:{loc:{start:{line:33,column:14},end:{line:33,column:58}},type:"binary-expr",locations:[{start:{line:33,column:14},end:{line:33,column:17}},{start:{line:33,column:21},end:{line:33,column:58}}],line:33}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0,0,0],2:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class TransactionReceiptsMessage extends Message{constructor(n){ke.f[0]++;ke.s[0]++;super(Message.Type.TRANSACTION_RECEIPTS);ke.s[1]++;if((ke.b[1][0]++,!Array.isArray(n))||(ke.b[1][1]++,!NumberUtils.isUint16(n.length))||(ke.b[1][2]++,n.some(n=>{ke.f[1]++;ke.s[2]++;return!(n instanceof TransactionReceipt)}))||(ke.b[1][3]++,n.length>TransactionReceiptsMessage.RECEIPTS_MAX_COUNT)){ke.b[0][0]++;ke.s[3]++;throw new Error("Malformed transactionReceipts")}ke.b[0][1]++;ke.s[4]++;this._transactionReceipts=n}static unserialize(n){ke.f[2]++;ke.s[5]++;Message.unserialize(n);const e=(ke.s[6]++,n.readUint16()),l=(ke.s[7]++,[]);ke.s[8]++;for(let t=0;t<e;++t){ke.s[9]++;l.push(TransactionReceipt.unserialize(n))}ke.s[10]++;return new TransactionReceiptsMessage(l)}serialize(n){ke.f[3]++;ke.s[11]++;n=(ke.b[2][0]++,n)||(ke.b[2][1]++,new SerialBuffer(this.serializedSize));ke.s[12]++;super.serialize(n);ke.s[13]++;n.writeUint16(this._transactionReceipts.length);ke.s[14]++;for(const e of this._transactionReceipts){ke.s[15]++;e.serialize(n)}ke.s[16]++;super._setChecksum(n);ke.s[17]++;return n}get serializedSize(){ke.f[4]++;ke.s[18]++;return super.serializedSize+2+this._transactionReceipts.reduce((n,e)=>{ke.f[5]++;ke.s[19]++;return n+e.serializedSize},0)}get transactionReceipts(){ke.f[6]++;ke.s[20]++;return this._transactionReceipts}}ke.s[21]++;Class.register(TransactionReceiptsMessage);ke.s[22]++;TransactionReceiptsMessage.RECEIPTS_MAX_COUNT=500;var Pe=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/GetBlockProofMessage.js",e="df112121d8934265b2a21b8b537755cb0b305bdb",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/GetBlockProofMessage.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:44}},1:{start:{line:8,column:8},end:{line:8,column:95}},2:{start:{line:8,column:49},end:{line:8,column:95}},3:{start:{line:9,column:8},end:{line:9,column:91}},4:{start:{line:9,column:47},end:{line:9,column:91}},5:{start:{line:11,column:8},end:{line:11,column:50}},6:{start:{line:13,column:8},end:{line:13,column:46}},7:{start:{line:21,column:8},end:{line:21,column:33}},8:{start:{line:22,column:33},end:{line:22,column:54}},9:{start:{line:23,column:31},end:{line:23,column:52}},10:{start:{line:24,column:8},end:{line:24,column:74}},11:{start:{line:32,column:8},end:{line:32,column:59}},12:{start:{line:33,column:8},end:{line:33,column:29}},13:{start:{line:34,column:8},end:{line:34,column:46}},14:{start:{line:35,column:8},end:{line:35,column:44}},15:{start:{line:36,column:8},end:{line:36,column:32}},16:{start:{line:37,column:8},end:{line:37,column:19}},17:{start:{line:42,column:8},end:{line:44,column:50}},18:{start:{line:49,column:8},end:{line:49,column:38}},19:{start:{line:54,column:8},end:{line:54,column:36}},20:{start:{line:57,column:0},end:{line:57,column:37}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:50},end:{line:14,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:20,column:4},end:{line:20,column:5}},loc:{start:{line:20,column:28},end:{line:25,column:5}},line:20},2:{name:"(anonymous_2)",decl:{start:{line:31,column:4},end:{line:31,column:5}},loc:{start:{line:31,column:19},end:{line:38,column:5}},line:31},3:{name:"(anonymous_3)",decl:{start:{line:41,column:4},end:{line:41,column:5}},loc:{start:{line:41,column:25},end:{line:45,column:5}},line:41},4:{name:"(anonymous_4)",decl:{start:{line:48,column:4},end:{line:48,column:5}},loc:{start:{line:48,column:27},end:{line:50,column:5}},line:48},5:{name:"(anonymous_5)",decl:{start:{line:53,column:4},end:{line:53,column:5}},loc:{start:{line:53,column:25},end:{line:55,column:5}},line:53}},branchMap:{0:{loc:{start:{line:8,column:8},end:{line:8,column:95}},type:"if",locations:[{start:{line:8,column:8},end:{line:8,column:95}},{start:{line:8,column:8},end:{line:8,column:95}}],line:8},1:{loc:{start:{line:9,column:8},end:{line:9,column:91}},type:"if",locations:[{start:{line:9,column:8},end:{line:9,column:91}},{start:{line:9,column:8},end:{line:9,column:91}}],line:9},2:{loc:{start:{line:32,column:14},end:{line:32,column:58}},type:"binary-expr",locations:[{start:{line:32,column:14},end:{line:32,column:17}},{start:{line:32,column:21},end:{line:32,column:58}}],line:32}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class GetBlockProofMessage extends Message{constructor(n,e){Pe.f[0]++;Pe.s[0]++;super(Message.Type.GET_BLOCK_PROOF);Pe.s[1]++;if(!(n instanceof Hash)){Pe.b[0][0]++;Pe.s[2]++;throw new Error("Malformed blockHashToProve")}Pe.b[0][1]++;Pe.s[3]++;if(!(e instanceof Hash)){Pe.b[1][0]++;Pe.s[4]++;throw new Error("Malformed knownBlockHash")}Pe.b[1][1]++;Pe.s[5]++;this._blockHashToProve=n;Pe.s[6]++;this._knownBlockHash=e}static unserialize(n){Pe.f[1]++;Pe.s[7]++;Message.unserialize(n);const e=(Pe.s[8]++,Hash.unserialize(n)),l=(Pe.s[9]++,Hash.unserialize(n));Pe.s[10]++;return new GetBlockProofMessage(e,l)}serialize(n){Pe.f[2]++;Pe.s[11]++;n=(Pe.b[2][0]++,n)||(Pe.b[2][1]++,new SerialBuffer(this.serializedSize));Pe.s[12]++;super.serialize(n);Pe.s[13]++;this._blockHashToProve.serialize(n);Pe.s[14]++;this._knownBlockHash.serialize(n);Pe.s[15]++;super._setChecksum(n);Pe.s[16]++;return n}get serializedSize(){Pe.f[3]++;Pe.s[17]++;return super.serializedSize+this._blockHashToProve.serializedSize+this._knownBlockHash.serializedSize}get blockHashToProve(){Pe.f[4]++;Pe.s[18]++;return this._blockHashToProve}get knownBlockHash(){Pe.f[5]++;Pe.s[19]++;return this._knownBlockHash}}Pe.s[20]++;Class.register(GetBlockProofMessage);var ve=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/BlockProofMessage.js",e="0755885dcb5dabe4040f11b2ba9918fd5e99ba3d",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/BlockProofMessage.js",statementMap:{0:{start:{line:6,column:8},end:{line:6,column:40}},1:{start:{line:7,column:8},end:{line:7,column:88}},2:{start:{line:7,column:53},end:{line:7,column:88}},3:{start:{line:9,column:8},end:{line:9,column:28}},4:{start:{line:17,column:8},end:{line:17,column:33}},5:{start:{line:18,column:25},end:{line:18,column:46}},6:{start:{line:19,column:8},end:{line:22,column:9}},7:{start:{line:20,column:26},end:{line:20,column:53}},8:{start:{line:21,column:12},end:{line:21,column:48}},9:{start:{line:23,column:8},end:{line:23,column:39}},10:{start:{line:31,column:8},end:{line:31,column:59}},11:{start:{line:32,column:8},end:{line:32,column:29}},12:{start:{line:33,column:8},end:{line:38,column:9}},13:{start:{line:34,column:12},end:{line:34,column:30}},14:{start:{line:35,column:12},end:{line:35,column:39}},15:{start:{line:37,column:12},end:{line:37,column:30}},16:{start:{line:39,column:8},end:{line:39,column:32}},17:{start:{line:40,column:8},end:{line:40,column:19}},18:{start:{line:45,column:8},end:{line:47,column:61}},19:{start:{line:54,column:8},end:{line:54,column:29}},20:{start:{line:59,column:8},end:{line:59,column:27}},21:{start:{line:62,column:0},end:{line:62,column:34}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:23},end:{line:10,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:16,column:4},end:{line:16,column:5}},loc:{start:{line:16,column:28},end:{line:24,column:5}},line:16},2:{name:"(anonymous_2)",decl:{start:{line:30,column:4},end:{line:30,column:5}},loc:{start:{line:30,column:19},end:{line:41,column:5}},line:30},3:{name:"(anonymous_3)",decl:{start:{line:44,column:4},end:{line:44,column:5}},loc:{start:{line:44,column:25},end:{line:48,column:5}},line:44},4:{name:"(anonymous_4)",decl:{start:{line:53,column:4},end:{line:53,column:5}},loc:{start:{line:53,column:15},end:{line:55,column:5}},line:53},5:{name:"(anonymous_5)",decl:{start:{line:58,column:4},end:{line:58,column:5}},loc:{start:{line:58,column:16},end:{line:60,column:5}},line:58}},branchMap:{0:{loc:{start:{line:7,column:8},end:{line:7,column:88}},type:"if",locations:[{start:{line:7,column:8},end:{line:7,column:88}},{start:{line:7,column:8},end:{line:7,column:88}}],line:7},1:{loc:{start:{line:7,column:12},end:{line:7,column:51}},type:"binary-expr",locations:[{start:{line:7,column:12},end:{line:7,column:17}},{start:{line:7,column:21},end:{line:7,column:51}}],line:7},2:{loc:{start:{line:19,column:8},end:{line:22,column:9}},type:"if",locations:[{start:{line:19,column:8},end:{line:22,column:9}},{start:{line:19,column:8},end:{line:22,column:9}}],line:19},3:{loc:{start:{line:31,column:14},end:{line:31,column:58}},type:"binary-expr",locations:[{start:{line:31,column:14},end:{line:31,column:17}},{start:{line:31,column:21},end:{line:31,column:58}}],line:31},4:{loc:{start:{line:33,column:8},end:{line:38,column:9}},type:"if",locations:[{start:{line:33,column:8},end:{line:38,column:9}},{start:{line:33,column:8},end:{line:38,column:9}}],line:33},5:{loc:{start:{line:47,column:15},end:{line:47,column:59}},type:"cond-expr",locations:[{start:{line:47,column:29},end:{line:47,column:55}},{start:{line:47,column:58},end:{line:47,column:59}}],line:47}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class BlockProofMessage extends Message{constructor(n){ve.f[0]++;ve.s[0]++;super(Message.Type.BLOCK_PROOF);ve.s[1]++;if((ve.b[1][0]++,n)&&(ve.b[1][1]++,!(n instanceof BlockChain))){ve.b[0][0]++;ve.s[2]++;throw new Error("Malformed proof")}ve.b[0][1]++;ve.s[3]++;this._proof=n}static unserialize(n){ve.f[1]++;ve.s[4]++;Message.unserialize(n);const e=(ve.s[5]++,1===n.readUint8());ve.s[6]++;if(e){ve.b[2][0]++;const e=(ve.s[7]++,BlockChain.unserialize(n));ve.s[8]++;return new BlockProofMessage(e)}ve.b[2][1]++;ve.s[9]++;return new BlockProofMessage}serialize(n){ve.f[2]++;ve.s[10]++;n=(ve.b[3][0]++,n)||(ve.b[3][1]++,new SerialBuffer(this.serializedSize));ve.s[11]++;super.serialize(n);ve.s[12]++;if(this._proof){ve.b[4][0]++;ve.s[13]++;n.writeUint8(1);ve.s[14]++;this._proof.serialize(n)}else{ve.b[4][1]++;ve.s[15]++;n.writeUint8(0)}ve.s[16]++;super._setChecksum(n);ve.s[17]++;return n}get serializedSize(){ve.f[3]++;ve.s[18]++;return super.serializedSize+1+(this._proof?(ve.b[5][0]++,this._proof.serializedSize):(ve.b[5][1]++,0))}hasProof(){ve.f[4]++;ve.s[19]++;return!!this._proof}get proof(){ve.f[5]++;ve.s[20]++;return this._proof}}ve.s[21]++;Class.register(BlockProofMessage);var Ie=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/GetHeadMessage.js",e="8a0c4de8bc663e443b7b8449c23228d497eb9e5e",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/GetHeadMessage.js",statementMap:{0:{start:{line:3,column:8},end:{line:3,column:37}},1:{start:{line:11,column:8},end:{line:11,column:33}},2:{start:{line:12,column:8},end:{line:12,column:36}},3:{start:{line:20,column:8},end:{line:20,column:59}},4:{start:{line:21,column:8},end:{line:21,column:29}},5:{start:{line:22,column:8},end:{line:22,column:32}},6:{start:{line:23,column:8},end:{line:23,column:19}},7:{start:{line:26,column:0},end:{line:26,column:31}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:4},end:{line:2,column:5}},loc:{start:{line:2,column:18},end:{line:4,column:5}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:10,column:4},end:{line:10,column:5}},loc:{start:{line:10,column:28},end:{line:13,column:5}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:19,column:4},end:{line:19,column:5}},loc:{start:{line:19,column:19},end:{line:24,column:5}},line:19}},branchMap:{0:{loc:{start:{line:20,column:14},end:{line:20,column:58}},type:"binary-expr",locations:[{start:{line:20,column:14},end:{line:20,column:17}},{start:{line:20,column:21},end:{line:20,column:58}}],line:20}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},f:{0:0,1:0,2:0},b:{0:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class GetHeadMessage extends Message{constructor(){Ie.f[0]++;Ie.s[0]++;super(Message.Type.GET_HEAD)}static unserialize(n){Ie.f[1]++;Ie.s[1]++;Message.unserialize(n);Ie.s[2]++;return new GetHeadMessage}serialize(n){Ie.f[2]++;Ie.s[3]++;n=(Ie.b[0][0]++,n)||(Ie.b[0][1]++,new SerialBuffer(this.serializedSize));Ie.s[4]++;super.serialize(n);Ie.s[5]++;super._setChecksum(n);Ie.s[6]++;return n}}Ie.s[7]++;Class.register(GetHeadMessage);var Me=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/HeadMessage.js",e="e76d3ec501ef6750b1c070449b9a7fdd23eca7aa",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/HeadMessage.js",statementMap:{0:{start:{line:6,column:8},end:{line:6,column:33}},1:{start:{line:8,column:8},end:{line:8,column:30}},2:{start:{line:16,column:8},end:{line:16,column:33}},3:{start:{line:17,column:23},end:{line:17,column:51}},4:{start:{line:18,column:8},end:{line:18,column:39}},5:{start:{line:26,column:8},end:{line:26,column:59}},6:{start:{line:27,column:8},end:{line:27,column:29}},7:{start:{line:28,column:8},end:{line:28,column:36}},8:{start:{line:29,column:8},end:{line:29,column:32}},9:{start:{line:30,column:8},end:{line:30,column:19}},10:{start:{line:35,column:8},end:{line:36,column:42}},11:{start:{line:41,column:8},end:{line:41,column:28}},12:{start:{line:44,column:0},end:{line:44,column:28}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:24},end:{line:9,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:15,column:4},end:{line:15,column:5}},loc:{start:{line:15,column:28},end:{line:19,column:5}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:25,column:4},end:{line:25,column:5}},loc:{start:{line:25,column:19},end:{line:31,column:5}},line:25},3:{name:"(anonymous_3)",decl:{start:{line:34,column:4},end:{line:34,column:5}},loc:{start:{line:34,column:25},end:{line:37,column:5}},line:34},4:{name:"(anonymous_4)",decl:{start:{line:40,column:4},end:{line:40,column:5}},loc:{start:{line:40,column:17},end:{line:42,column:5}},line:40}},branchMap:{0:{loc:{start:{line:26,column:14},end:{line:26,column:58}},type:"binary-expr",locations:[{start:{line:26,column:14},end:{line:26,column:17}},{start:{line:26,column:21},end:{line:26,column:58}}],line:26}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class HeadMessage extends Message{constructor(n){Me.f[0]++;Me.s[0]++;super(Message.Type.HEAD);Me.s[1]++;this._header=n}static unserialize(n){Me.f[1]++;Me.s[2]++;Message.unserialize(n);const e=(Me.s[3]++,BlockHeader.unserialize(n));Me.s[4]++;return new HeadMessage(e)}serialize(n){Me.f[2]++;Me.s[5]++;n=(Me.b[0][0]++,n)||(Me.b[0][1]++,new SerialBuffer(this.serializedSize));Me.s[6]++;super.serialize(n);Me.s[7]++;this._header.serialize(n);Me.s[8]++;super._setChecksum(n);Me.s[9]++;return n}get serializedSize(){Me.f[3]++;Me.s[10]++;return super.serializedSize+this._header.serializedSize}get header(){Me.f[4]++;Me.s[11]++;return this._header}}Me.s[12]++;Class.register(HeadMessage);var Ne=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/message/MessageFactory.js",e="652548e1375557b8d77cf23a34f5c80fff7968fd",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/message/MessageFactory.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:37}},1:{start:{line:15,column:21},end:{line:15,column:42}},2:{start:{line:16,column:22},end:{line:16,column:50}},3:{start:{line:17,column:8},end:{line:17,column:91}},4:{start:{line:17,column:42},end:{line:17,column:91}},5:{start:{line:18,column:8},end:{line:18,column:38}},6:{start:{line:25,column:0},end:{line:25,column:28}},7:{start:{line:26,column:0},end:{line:26,column:62}},8:{start:{line:27,column:0},end:{line:27,column:54}},9:{start:{line:28,column:0},end:{line:28,column:63}},10:{start:{line:29,column:0},end:{line:29,column:67}},11:{start:{line:30,column:0},end:{line:30,column:65}},12:{start:{line:31,column:0},end:{line:31,column:58}},13:{start:{line:32,column:0},end:{line:32,column:60}},14:{start:{line:33,column:0},end:{line:33,column:52}},15:{start:{line:34,column:0},end:{line:34,column:67}},16:{start:{line:35,column:0},end:{line:35,column:62}},17:{start:{line:36,column:0},end:{line:36,column:60}},18:{start:{line:37,column:0},end:{line:37,column:66}},19:{start:{line:38,column:0},end:{line:38,column:56}},20:{start:{line:39,column:0},end:{line:39,column:63}},21:{start:{line:40,column:0},end:{line:40,column:56}},22:{start:{line:41,column:0},end:{line:41,column:56}},23:{start:{line:42,column:0},end:{line:42,column:60}},24:{start:{line:43,column:0},end:{line:43,column:76}},25:{start:{line:44,column:0},end:{line:44,column:69}},26:{start:{line:45,column:0},end:{line:45,column:82}},27:{start:{line:46,column:0},end:{line:46,column:75}},28:{start:{line:47,column:0},end:{line:47,column:91}},29:{start:{line:48,column:0},end:{line:48,column:84}},30:{start:{line:49,column:0},end:{line:49,column:90}},31:{start:{line:50,column:0},end:{line:50,column:83}},32:{start:{line:51,column:0},end:{line:51,column:94}},33:{start:{line:52,column:0},end:{line:52,column:87}},34:{start:{line:53,column:0},end:{line:53,column:76}},35:{start:{line:54,column:0},end:{line:54,column:69}},36:{start:{line:55,column:0},end:{line:55,column:63}},37:{start:{line:56,column:0},end:{line:56,column:56}},38:{start:{line:57,column:0},end:{line:57,column:60}},39:{start:{line:58,column:0},end:{line:58,column:31}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:25},end:{line:8,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:14,column:4},end:{line:14,column:5}},loc:{start:{line:14,column:22},end:{line:19,column:5}},line:14}},branchMap:{0:{loc:{start:{line:17,column:8},end:{line:17,column:91}},type:"if",locations:[{start:{line:17,column:8},end:{line:17,column:91}},{start:{line:17,column:8},end:{line:17,column:91}}],line:17},1:{loc:{start:{line:17,column:12},end:{line:17,column:40}},type:"binary-expr",locations:[{start:{line:17,column:12},end:{line:17,column:18}},{start:{line:17,column:22},end:{line:17,column:40}}],line:17}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0},f:{0:0,1:0},b:{0:[0,0],1:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class MessageFactory{static peekType(n){Ne.f[0]++;Ne.s[0]++;return Message.peekType(n)}static parse(n){Ne.f[1]++;const e=(Ne.s[1]++,Message.peekType(n)),l=(Ne.s[2]++,MessageFactory.CLASSES[e]);Ne.s[3]++;if((Ne.b[1][0]++,!l)||(Ne.b[1][1]++,!l.unserialize)){Ne.b[0][0]++;Ne.s[4]++;throw new Error(`Invalid message type: ${e}`)}Ne.b[0][1]++;Ne.s[5]++;return l.unserialize(n)}}Ne.s[6]++;MessageFactory.CLASSES={};Ne.s[7]++;MessageFactory.CLASSES[Message.Type.VERSION]=VersionMessage;Ne.s[8]++;MessageFactory.CLASSES[Message.Type.INV]=InvMessage;Ne.s[9]++;MessageFactory.CLASSES[Message.Type.GET_DATA]=GetDataMessage;Ne.s[10]++;MessageFactory.CLASSES[Message.Type.GET_HEADER]=GetHeaderMessage;Ne.s[11]++;MessageFactory.CLASSES[Message.Type.NOT_FOUND]=NotFoundMessage;Ne.s[12]++;MessageFactory.CLASSES[Message.Type.BLOCK]=BlockMessage;Ne.s[13]++;MessageFactory.CLASSES[Message.Type.HEADER]=HeaderMessage;Ne.s[14]++;MessageFactory.CLASSES[Message.Type.TX]=TxMessage;Ne.s[15]++;MessageFactory.CLASSES[Message.Type.GET_BLOCKS]=GetBlocksMessage;Ne.s[16]++;MessageFactory.CLASSES[Message.Type.MEMPOOL]=MempoolMessage;Ne.s[17]++;MessageFactory.CLASSES[Message.Type.REJECT]=RejectMessage;Ne.s[18]++;MessageFactory.CLASSES[Message.Type.SUBSCRIBE]=SubscribeMessage;Ne.s[19]++;MessageFactory.CLASSES[Message.Type.ADDR]=AddrMessage;Ne.s[20]++;MessageFactory.CLASSES[Message.Type.GET_ADDR]=GetAddrMessage;Ne.s[21]++;MessageFactory.CLASSES[Message.Type.PING]=PingMessage;Ne.s[22]++;MessageFactory.CLASSES[Message.Type.PONG]=PongMessage;Ne.s[23]++;MessageFactory.CLASSES[Message.Type.SIGNAL]=SignalMessage;Ne.s[24]++;MessageFactory.CLASSES[Message.Type.GET_CHAIN_PROOF]=GetChainProofMessage;Ne.s[25]++;MessageFactory.CLASSES[Message.Type.CHAIN_PROOF]=ChainProofMessage;Ne.s[26]++;MessageFactory.CLASSES[Message.Type.GET_ACCOUNTS_PROOF]=GetAccountsProofMessage;Ne.s[27]++;MessageFactory.CLASSES[Message.Type.ACCOUNTS_PROOF]=AccountsProofMessage;Ne.s[28]++;MessageFactory.CLASSES[Message.Type.GET_ACCOUNTS_TREE_CHUNK]=GetAccountsTreeChunkMessage;Ne.s[29]++;MessageFactory.CLASSES[Message.Type.ACCOUNTS_TREE_CHUNK]=AccountsTreeChunkMessage;Ne.s[30]++;MessageFactory.CLASSES[Message.Type.GET_TRANSACTIONS_PROOF]=GetTransactionsProofMessage;Ne.s[31]++;MessageFactory.CLASSES[Message.Type.TRANSACTIONS_PROOF]=TransactionsProofMessage;Ne.s[32]++;MessageFactory.CLASSES[Message.Type.GET_TRANSACTION_RECEIPTS]=GetTransactionReceiptsMessage;Ne.s[33]++;MessageFactory.CLASSES[Message.Type.TRANSACTION_RECEIPTS]=TransactionReceiptsMessage;Ne.s[34]++;MessageFactory.CLASSES[Message.Type.GET_BLOCK_PROOF]=GetBlockProofMessage;Ne.s[35]++;MessageFactory.CLASSES[Message.Type.BLOCK_PROOF]=BlockProofMessage;Ne.s[36]++;MessageFactory.CLASSES[Message.Type.GET_HEAD]=GetHeadMessage;Ne.s[37]++;MessageFactory.CLASSES[Message.Type.HEAD]=HeadMessage;Ne.s[38]++;MessageFactory.CLASSES[Message.Type.VERACK]=VerAckMessage;Ne.s[39]++;Class.register(MessageFactory);var Be=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/webrtc/WebRtcConnector.js",e="9a2210a368133dfd10be0806e5f37ecf5dc19c4c",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/webrtc/WebRtcConnector.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:16}},1:{start:{line:10,column:8},end:{line:10,column:44}},2:{start:{line:13,column:8},end:{line:13,column:41}},3:{start:{line:16,column:8},end:{line:16,column:36}},4:{start:{line:25,column:8},end:{line:25,column:81}},5:{start:{line:25,column:51},end:{line:25,column:81}},6:{start:{line:27,column:23},end:{line:27,column:41}},7:{start:{line:28,column:8},end:{line:30,column:9}},8:{start:{line:29,column:12},end:{line:29,column:25}},9:{start:{line:32,column:26},end:{line:32,column:100}},10:{start:{line:33,column:8},end:{line:33,column:77}},11:{start:{line:33,column:43},end:{line:33,column:75}},12:{start:{line:34,column:8},end:{line:34,column:48}},13:{start:{line:36,column:8},end:{line:43,column:44}},14:{start:{line:37,column:12},end:{line:37,column:44}},15:{start:{line:38,column:12},end:{line:38,column:59}},16:{start:{line:40,column:12},end:{line:40,column:44}},17:{start:{line:42,column:12},end:{line:42,column:55}},18:{start:{line:45,column:8},end:{line:45,column:20}},19:{start:{line:49,column:8},end:{line:49,column:113}},20:{start:{line:54,column:8},end:{line:71,column:9}},21:{start:{line:56,column:12},end:{line:68,column:13}},22:{start:{line:57,column:34},end:{line:57,column:68}},23:{start:{line:58,column:36},end:{line:58,column:57}},24:{start:{line:60,column:16},end:{line:60,column:54}},25:{start:{line:61,column:16},end:{line:61,column:69}},26:{start:{line:63,column:16},end:{line:63,column:48}},27:{start:{line:66,column:31},end:{line:66,column:81}},28:{start:{line:67,column:16},end:{line:67,column:56}},29:{start:{line:70,column:12},end:{line:70,column:19}},30:{start:{line:74,column:8},end:{line:79,column:9}},31:{start:{line:75,column:12},end:{line:75,column:67}},32:{start:{line:77,column:12},end:{line:77,column:90}},33:{start:{line:78,column:12},end:{line:78,column:19}},34:{start:{line:81,column:8},end:{line:84,column:9}},35:{start:{line:82,column:12},end:{line:82,column:93}},36:{start:{line:83,column:12},end:{line:83,column:19}},37:{start:{line:86,column:8},end:{line:133,column:9}},38:{start:{line:93,column:28},end:{line:93,column:62}},39:{start:{line:94,column:12},end:{line:116,column:13}},40:{start:{line:95,column:16},end:{line:115,column:17}},41:{start:{line:97,column:20},end:{line:97,column:131}},42:{start:{line:98,column:20},end:{line:98,column:27}},43:{start:{line:99,column:23},end:{line:115,column:17}},44:{start:{line:101,column:20},end:{line:101,column:92}},45:{start:{line:102,column:20},end:{line:102,column:48}},46:{start:{line:103,column:20},end:{line:103,column:27}},47:{start:{line:107,column:20},end:{line:107,column:130}},48:{start:{line:108,column:20},end:{line:108,column:73}},49:{start:{line:111,column:20},end:{line:111,column:52}},50:{start:{line:114,column:20},end:{line:114,column:97}},51:{start:{line:119,column:12},end:{line:119,column:102}},52:{start:{line:120,column:12},end:{line:120,column:87}},53:{start:{line:120,column:47},end:{line:120,column:85}},54:{start:{line:121,column:12},end:{line:121,column:58}},55:{start:{line:123,column:12},end:{line:126,column:48}},56:{start:{line:124,column:16},end:{line:124,column:69}},57:{start:{line:125,column:16},end:{line:125,column:54}},58:{start:{line:131,column:13},end:{line:133,column:9}},59:{start:{line:132,column:12},end:{line:132,column:65}},60:{start:{line:140,column:8},end:{line:140,column:55}},61:{start:{line:143,column:8},end:{line:143,column:54}},62:{start:{line:143,column:31},end:{line:143,column:52}},63:{start:{line:146,column:8},end:{line:146,column:38}},64:{start:{line:150,column:8},end:{line:150,column:40}},65:{start:{line:151,column:8},end:{line:151,column:55}},66:{start:{line:154,column:0},end:{line:154,column:39}},67:{start:{line:155,column:0},end:{line:155,column:32}},68:{start:{line:165,column:8},end:{line:165,column:16}},69:{start:{line:167,column:8},end:{line:167,column:44}},70:{start:{line:169,column:8},end:{line:169,column:44}},71:{start:{line:171,column:8},end:{line:171,column:30}},72:{start:{line:173,column:8},end:{line:173,column:40}},73:{start:{line:176,column:8},end:{line:176,column:49}},74:{start:{line:179,column:8},end:{line:179,column:93}},75:{start:{line:180,column:8},end:{line:180,column:74}},76:{start:{line:180,column:50},end:{line:180,column:73}},77:{start:{line:182,column:8},end:{line:182,column:38}},78:{start:{line:183,column:8},end:{line:183,column:37}},79:{start:{line:187,column:8},end:{line:201,column:9}},80:{start:{line:188,column:12},end:{line:198,column:49}},81:{start:{line:190,column:20},end:{line:194,column:21}},82:{start:{line:191,column:24},end:{line:193,column:61}},83:{start:{line:192,column:49},end:{line:192,column:81}},84:{start:{line:196,column:20},end:{line:196,column:81}},85:{start:{line:199,column:15},end:{line:201,column:9}},86:{start:{line:200,column:12},end:{line:200,column:74}},87:{start:{line:210,column:8},end:{line:210,column:71}},88:{start:{line:213,column:8},end:{line:216,column:9}},89:{start:{line:214,column:12},end:{line:214,column:49}},90:{start:{line:215,column:12},end:{line:215,column:37}},91:{start:{line:218,column:8},end:{line:219,column:45}},92:{start:{line:224,column:8},end:{line:226,column:9}},93:{start:{line:225,column:12},end:{line:225,column:51}},94:{start:{line:227,column:8},end:{line:227,column:37}},95:{start:{line:231,column:24},end:{line:231,column:69}},96:{start:{line:232,column:24},end:{line:232,column:51}},97:{start:{line:233,column:23},end:{line:233,column:49}},98:{start:{line:234,column:8},end:{line:243,column:10}},99:{start:{line:247,column:8},end:{line:249,column:9}},100:{start:{line:248,column:12},end:{line:248,column:42}},101:{start:{line:253,column:8},end:{line:255,column:45}},102:{start:{line:254,column:24},end:{line:254,column:74}},103:{start:{line:259,column:24},end:{line:259,column:76}},104:{start:{line:264,column:25},end:{line:264,column:29}},105:{start:{line:265,column:8},end:{line:274,column:9}},106:{start:{line:266,column:12},end:{line:270,column:13}},107:{start:{line:267,column:16},end:{line:267,column:87}},108:{start:{line:269,column:16},end:{line:269,column:105}},109:{start:{line:273,column:12},end:{line:273,column:81}},110:{start:{line:276,column:21},end:{line:276,column:96}},111:{start:{line:277,column:8},end:{line:277,column:38}},112:{start:{line:281,column:8},end:{line:281,column:27}},113:{start:{line:285,column:8},end:{line:285,column:33}},114:{start:{line:289,column:8},end:{line:289,column:35}},115:{start:{line:292,column:0},end:{line:292,column:30}},116:{start:{line:296,column:8},end:{line:296,column:76}},117:{start:{line:297,column:8},end:{line:297,column:40}},118:{start:{line:300,column:24},end:{line:300,column:77}},119:{start:{line:301,column:8},end:{line:301,column:43}},120:{start:{line:302,column:8},end:{line:302,column:53}},121:{start:{line:302,column:30},end:{line:302,column:52}},122:{start:{line:303,column:8},end:{line:305,column:53}},123:{start:{line:304,column:33},end:{line:304,column:65}},124:{start:{line:308,column:0},end:{line:308,column:38}},125:{start:{line:312,column:8},end:{line:312,column:57}},126:{start:{line:313,column:8},end:{line:315,column:10}},127:{start:{line:314,column:12},end:{line:314,column:63}},128:{start:{line:314,column:40},end:{line:314,column:62}},129:{start:{line:316,column:8},end:{line:316,column:29}},130:{start:{line:319,column:0},end:{line:319,column:37}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:31},end:{line:17,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:24,column:4},end:{line:24,column:5}},loc:{start:{line:24,column:40},end:{line:46,column:5}},line:24},2:{name:"(anonymous_2)",decl:{start:{line:33,column:35},end:{line:33,column:36}},loc:{start:{line:33,column:43},end:{line:33,column:75}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:36,column:53},end:{line:36,column:54}},loc:{start:{line:36,column:59},end:{line:43,column:9}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:48,column:4},end:{line:48,column:5}},loc:{start:{line:48,column:23},end:{line:50,column:5}},line:48},5:{name:"(anonymous_5)",decl:{start:{line:52,column:4},end:{line:52,column:5}},loc:{start:{line:52,column:27},end:{line:136,column:5}},line:52},6:{name:"(anonymous_6)",decl:{start:{line:120,column:39},end:{line:120,column:40}},loc:{start:{line:120,column:47},end:{line:120,column:85}},line:120},7:{name:"(anonymous_7)",decl:{start:{line:123,column:63},end:{line:123,column:64}},loc:{start:{line:123,column:69},end:{line:126,column:13}},line:123},8:{name:"(anonymous_8)",decl:{start:{line:138,column:4},end:{line:138,column:5}},loc:{start:{line:138,column:32},end:{line:147,column:5}},line:138},9:{name:"(anonymous_9)",decl:{start:{line:143,column:25},end:{line:143,column:26}},loc:{start:{line:143,column:31},end:{line:143,column:52}},line:143},10:{name:"(anonymous_10)",decl:{start:{line:149,column:4},end:{line:149,column:5}},loc:{start:{line:149,column:21},end:{line:152,column:5}},line:149},11:{name:"(anonymous_11)",decl:{start:{line:164,column:4},end:{line:164,column:5}},loc:{start:{line:164,column:67},end:{line:184,column:5}},line:164},12:{name:"(anonymous_12)",decl:{start:{line:180,column:45},end:{line:180,column:46}},loc:{start:{line:180,column:50},end:{line:180,column:73}},line:180},13:{name:"(anonymous_13)",decl:{start:{line:186,column:4},end:{line:186,column:5}},loc:{start:{line:186,column:21},end:{line:202,column:5}},line:186},14:{name:"(anonymous_14)",decl:{start:{line:189,column:22},end:{line:189,column:23}},loc:{start:{line:189,column:28},end:{line:197,column:17}},line:189},15:{name:"(anonymous_15)",decl:{start:{line:192,column:34},end:{line:192,column:35}},loc:{start:{line:192,column:49},end:{line:192,column:81}},line:192},16:{name:"(anonymous_16)",decl:{start:{line:209,column:4},end:{line:209,column:5}},loc:{start:{line:209,column:29},end:{line:220,column:5}},line:209},17:{name:"(anonymous_17)",decl:{start:{line:222,column:4},end:{line:222,column:5}},loc:{start:{line:222,column:34},end:{line:228,column:5}},line:222},18:{name:"(anonymous_18)",decl:{start:{line:230,column:4},end:{line:230,column:5}},loc:{start:{line:230,column:20},end:{line:244,column:5}},line:230},19:{name:"(anonymous_19)",decl:{start:{line:246,column:4},end:{line:246,column:5}},loc:{start:{line:246,column:27},end:{line:250,column:5}},line:246},20:{name:"(anonymous_20)",decl:{start:{line:252,column:4},end:{line:252,column:5}},loc:{start:{line:252,column:32},end:{line:256,column:5}},line:252},21:{name:"(anonymous_21)",decl:{start:{line:254,column:18},end:{line:254,column:19}},loc:{start:{line:254,column:24},end:{line:254,column:74}},line:254},22:{name:"(anonymous_22)",decl:{start:{line:258,column:4},end:{line:258,column:5}},loc:{start:{line:258,column:26},end:{line:278,column:5}},line:258},23:{name:"(anonymous_23)",decl:{start:{line:280,column:4},end:{line:280,column:5}},loc:{start:{line:280,column:16},end:{line:282,column:5}},line:280},24:{name:"(anonymous_24)",decl:{start:{line:284,column:4},end:{line:284,column:5}},loc:{start:{line:284,column:22},end:{line:286,column:5}},line:284},25:{name:"(anonymous_25)",decl:{start:{line:288,column:4},end:{line:288,column:5}},loc:{start:{line:288,column:24},end:{line:290,column:5}},line:288},26:{name:"(anonymous_26)",decl:{start:{line:295,column:4},end:{line:295,column:5}},loc:{start:{line:295,column:58},end:{line:306,column:5}},line:295},27:{name:"(anonymous_27)",decl:{start:{line:302,column:25},end:{line:302,column:26}},loc:{start:{line:302,column:30},end:{line:302,column:52}},line:302},28:{name:"(anonymous_28)",decl:{start:{line:304,column:18},end:{line:304,column:19}},loc:{start:{line:304,column:33},end:{line:304,column:65}},line:304},29:{name:"(anonymous_29)",decl:{start:{line:311,column:4},end:{line:311,column:5}},loc:{start:{line:311,column:60},end:{line:317,column:5}},line:311},30:{name:"(anonymous_30)",decl:{start:{line:313,column:44},end:{line:313,column:45}},loc:{start:{line:313,column:53},end:{line:315,column:9}},line:313},31:{name:"(anonymous_31)",decl:{start:{line:314,column:35},end:{line:314,column:36}},loc:{start:{line:314,column:40},end:{line:314,column:62}},line:314}},branchMap:{0:{loc:{start:{line:25,column:8},end:{line:25,column:81}},type:"if",locations:[{start:{line:25,column:8},end:{line:25,column:81}},{start:{line:25,column:8},end:{line:25,column:81}}],line:25},1:{loc:{start:{line:28,column:8},end:{line:30,column:9}},type:"if",locations:[{start:{line:28,column:8},end:{line:30,column:9}},{start:{line:28,column:8},end:{line:30,column:9}}],line:28},2:{loc:{start:{line:49,column:15},end:{line:49,column:112}},type:"binary-expr",locations:[{start:{line:49,column:15},end:{line:49,column:54}},{start:{line:49,column:58},end:{line:49,column:112}}],line:49},3:{loc:{start:{line:54,column:8},end:{line:71,column:9}},type:"if",locations:[{start:{line:54,column:8},end:{line:71,column:9}},{start:{line:54,column:8},end:{line:71,column:9}}],line:54},4:{loc:{start:{line:54,column:12},end:{line:54,column:53}},type:"binary-expr",locations:[{start:{line:54,column:12},end:{line:54,column:30}},{start:{line:54,column:34},end:{line:54,column:53}}],line:54},5:{loc:{start:{line:56,column:12},end:{line:68,column:13}},type:"if",locations:[{start:{line:56,column:12},end:{line:68,column:13}},{start:{line:56,column:12},end:{line:68,column:13}}],line:56},6:{loc:{start:{line:56,column:16},end:{line:56,column:110}},type:"binary-expr",locations:[{start:{line:56,column:16},end:{line:56,column:39}},{start:{line:56,column:43},end:{line:56,column:110}}],line:56},7:{loc:{start:{line:66,column:31},end:{line:66,column:81}},type:"cond-expr",locations:[{start:{line:66,column:52},end:{line:66,column:64}},{start:{line:66,column:67},end:{line:66,column:81}}],line:66},8:{loc:{start:{line:81,column:8},end:{line:84,column:9}},type:"if",locations:[{start:{line:81,column:8},end:{line:84,column:9}},{start:{line:81,column:8},end:{line:84,column:9}}],line:81},9:{loc:{start:{line:86,column:8},end:{line:133,column:9}},type:"if",locations:[{start:{line:86,column:8},end:{line:133,column:9}},{start:{line:86,column:8},end:{line:133,column:9}}],line:86},10:{loc:{start:{line:94,column:12},end:{line:116,column:13}},type:"if",locations:[{start:{line:94,column:12},end:{line:116,column:13}},{start:{line:94,column:12},end:{line:116,column:13}}],line:94},11:{loc:{start:{line:95,column:16},end:{line:115,column:17}},type:"if",locations:[{start:{line:95,column:16},end:{line:115,column:17}},{start:{line:95,column:16},end:{line:115,column:17}}],line:95},12:{loc:{start:{line:99,column:23},end:{line:115,column:17}},type:"if",locations:[{start:{line:99,column:23},end:{line:115,column:17}},{start:{line:99,column:23},end:{line:115,column:17}}],line:99},13:{loc:{start:{line:131,column:13},end:{line:133,column:9}},type:"if",locations:[{start:{line:131,column:13},end:{line:133,column:9}},{start:{line:131,column:13},end:{line:133,column:9}}],line:131},14:{loc:{start:{line:187,column:8},end:{line:201,column:9}},type:"if",locations:[{start:{line:187,column:8},end:{line:201,column:9}},{start:{line:187,column:8},end:{line:201,column:9}}],line:187},15:{loc:{start:{line:190,column:20},end:{line:194,column:21}},type:"if",locations:[{start:{line:190,column:20},end:{line:194,column:21}},{start:{line:190,column:20},end:{line:194,column:21}}],line:190},16:{loc:{start:{line:199,column:15},end:{line:201,column:9}},type:"if",locations:[{start:{line:199,column:15},end:{line:201,column:9}},{start:{line:199,column:15},end:{line:201,column:9}}],line:199},17:{loc:{start:{line:213,column:8},end:{line:216,column:9}},type:"if",locations:[{start:{line:213,column:8},end:{line:216,column:9}},{start:{line:213,column:8},end:{line:216,column:9}}],line:213},18:{loc:{start:{line:213,column:12},end:{line:213,column:97}},type:"binary-expr",locations:[{start:{line:213,column:12},end:{line:213,column:50}},{start:{line:213,column:54},end:{line:213,column:97}}],line:213},19:{loc:{start:{line:247,column:8},end:{line:249,column:9}},type:"if",locations:[{start:{line:247,column:8},end:{line:249,column:9}},{start:{line:247,column:8},end:{line:249,column:9}}],line:247},20:{loc:{start:{line:259,column:46},end:{line:259,column:75}},type:"binary-expr",locations:[{start:{line:259,column:46},end:{line:259,column:59}},{start:{line:259,column:63},end:{line:259,column:75}}],line:259},21:{loc:{start:{line:265,column:8},end:{line:274,column:9}},type:"if",locations:[{start:{line:265,column:8},end:{line:274,column:9}},{start:{line:265,column:8},end:{line:274,column:9}}],line:265}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class WebRtcConnector extends Observable{constructor(n){Be.f[0]++;Be.s[0]++;super();Be.s[1]++;this._networkConfig=n;Be.s[2]++;this._connectors=new HashMap;Be.s[3]++;this._timers=new Timers}connect(n,e){Be.f[1]++;Be.s[4]++;if(n.protocol!==Protocol.RTC){Be.b[0][0]++;Be.s[5]++;throw"Malformed peerAddress"}Be.b[0][1]++;const l=(Be.s[6]++,n.peerId);Be.s[7]++;if(this._connectors.contains(l)){Be.b[1][0]++;Be.s[8]++;return!1}Be.b[1][1]++;const t=(Be.s[9]++,new OutboundPeerConnector(this._networkConfig,n,e));Be.s[10]++;t.on("connection",n=>{Be.f[2]++;Be.s[11]++;return this._onConnection(n,l)});Be.s[12]++;this._connectors.put(l,t);Be.s[13]++;this._timers.setTimeout(`connect_${l}`,()=>{Be.f[3]++;Be.s[14]++;this._connectors.remove(l);Be.s[15]++;this._timers.clearTimeout(`connect_${l}`);Be.s[16]++;t.rtcConnection.close();Be.s[17]++;this.fire("error",n,"timeout")},WebRtcConnector.CONNECT_TIMEOUT);Be.s[18]++;return!0}isValidSignal(n){Be.f[4]++;Be.s[19]++;return(Be.b[2][0]++,this._connectors.contains(n.senderId))&&(Be.b[2][1]++,this._connectors.get(n.senderId).nonce===n.nonce)}onSignal(n,e){Be.f[5]++;Be.s[20]++;if((Be.b[4][0]++,e.isUnroutable())||(Be.b[4][1]++,e.isTtlExceeded())){Be.b[3][0]++;Be.s[21]++;if((Be.b[6][0]++,this.isValidSignal(e))&&(Be.b[6][1]++,this._connectors.get(e.senderId)instanceof OutboundPeerConnector)){Be.b[5][0]++;const n=(Be.s[22]++,this._connectors.get(e.senderId)),l=(Be.s[23]++,n.peerAddress);Be.s[24]++;this._connectors.remove(e.senderId);Be.s[25]++;this._timers.clearTimeout(`connect_${e.senderId}`);Be.s[26]++;n.rtcConnection.close();const t=(Be.s[27]++,e.isUnroutable()?(Be.b[7][0]++,"unroutable"):(Be.b[7][1]++,"ttl exceeded"));Be.s[28]++;this.fire("error",l,t)}else Be.b[5][1]++;Be.s[29]++;return}Be.b[3][1]++;let l;Be.s[30]++;try{Be.s[31]++;l=JSON.parse(BufferUtils.toAscii(e.payload))}catch(t){Be.s[32]++;Log.e(WebRtcConnector,`Failed to parse signal payload from ${e.senderId}`);Be.s[33]++;return}Be.s[34]++;if(l){Be.b[8][1]++;Be.s[37]++;if("offer"===l.type){Be.b[9][0]++;let t=(Be.s[38]++,this._connectors.get(e.senderId));Be.s[39]++;if(t){Be.b[10][0]++;Be.s[40]++;if(e.recipientId.compare(e.senderId)>0){Be.b[11][0]++;Be.s[41]++;Log.d(WebRtcConnector,`Simultaneous connection, discarding offer from ${e.senderId} (<${e.recipientId})`);Be.s[42]++;return}Be.b[11][1]++;Be.s[43]++;if(t instanceof InboundPeerConnector){Be.b[12][0]++;Be.s[44]++;Log.w(WebRtcConnector,`Duplicate offer received from ${e.senderId}`);Be.s[45]++;t.onSignal(l);Be.s[46]++;return}Be.b[12][1]++;Be.s[47]++;Log.d(WebRtcConnector,`Simultaneous connection, accepting offer from ${e.senderId} (>${e.recipientId})`);Be.s[48]++;this._timers.clearTimeout(`connect_${e.senderId}`);Be.s[49]++;t.rtcConnection.close();Be.s[50]++;this.fire("error",t.peerAddress,"simultaneous inbound connection")}else Be.b[10][1]++;Be.s[51]++;t=new InboundPeerConnector(this._networkConfig,n,e.senderId,l);Be.s[52]++;t.on("connection",n=>{Be.f[6]++;Be.s[53]++;return this._onConnection(n,e.senderId)});Be.s[54]++;this._connectors.put(e.senderId,t);Be.s[55]++;this._timers.setTimeout(`connect_${e.senderId}`,()=>{Be.f[7]++;Be.s[56]++;this._timers.clearTimeout(`connect_${e.senderId}`);Be.s[57]++;this._connectors.remove(e.senderId)},WebRtcConnector.CONNECT_TIMEOUT)}else{Be.b[9][1]++;Be.s[58]++;if(this._connectors.contains(e.senderId)){Be.b[13][0]++;Be.s[59]++;this._connectors.get(e.senderId).onSignal(l)}else Be.b[13][1]++}}else{Be.b[8][0]++;Be.s[35]++;Log.d(WebRtcConnector,`Discarding signal from ${e.senderId} - empty payload`);Be.s[36]++}}_onConnection(n,e){Be.f[8]++;Be.s[60]++;this._timers.clearTimeout(`connect_${e}`);Be.s[61]++;n.on("close",()=>{Be.f[9]++;Be.s[62]++;return this._onClose(e)});Be.s[63]++;this.fire("connection",n)}_onClose(n){Be.f[10]++;Be.s[64]++;this._connectors.remove(n);Be.s[65]++;this._timers.clearTimeout(`connect_${n}`)}}Be.s[66]++;WebRtcConnector.CONNECT_TIMEOUT=8e3;Be.s[67]++;Class.register(WebRtcConnector);class PeerConnector extends Observable{constructor(n,e,l,t){Be.f[11]++;Be.s[68]++;super();Be.s[69]++;this._networkConfig=n;Be.s[70]++;this._signalChannel=e;Be.s[71]++;this._peerId=l;Be.s[72]++;this._peerAddress=t;Be.s[73]++;this._nonce=NumberUtils.randomUint32();Be.s[74]++;this._rtcConnection=WebRtcFactory.newPeerConnection(this._networkConfig.rtcConfig);Be.s[75]++;this._rtcConnection.onicecandidate=(n=>{Be.f[12]++;Be.s[76]++;return this._onIceCandidate(n)});Be.s[77]++;this._lastIceCandidate=null;Be.s[78]++;this._iceCandidateQueue=[]}onSignal(n){Be.f[13]++;Be.s[79]++;if(n.sdp){Be.b[14][0]++;Be.s[80]++;this._rtcConnection.setRemoteDescription(WebRtcFactory.newSessionDescription(n)).then(()=>{Be.f[14]++;Be.s[81]++;if("offer"===n.type){Be.b[15][0]++;Be.s[82]++;this._rtcConnection.createAnswer().then(n=>{Be.f[15]++;Be.s[83]++;return this._onDescription(n)})["catch"](Log.e.tag(PeerConnector))}else Be.b[15][1]++;Be.s[84]++;this._handleCandidateQueue()["catch"](Log.w.tag(PeerConnector))})["catch"](Log.e.tag(PeerConnector))}else{Be.b[14][1]++;Be.s[85]++;if(n.candidate){Be.b[16][0]++;Be.s[86]++;this._addIceCandidate(n)["catch"](Log.w.tag(PeerConnector))}else Be.b[16][1]++}}_addIceCandidate(n){Be.f[16]++;Be.s[87]++;this._lastIceCandidate=WebRtcFactory.newIceCandidate(n);Be.s[88]++;if((Be.b[18][0]++,!this._rtcConnection.remoteDescription)||(Be.b[18][1]++,!this._rtcConnection.remoteDescription.type)){Be.b[17][0]++;Be.s[89]++;this._iceCandidateQueue.push(n);Be.s[90]++;return Promise.resolve()}Be.b[17][1]++;Be.s[91]++;return this._rtcConnection.addIceCandidate(this._lastIceCandidate)["catch"](Log.e.tag(PeerConnector))}async _handleCandidateQueue(){Be.f[17]++;Be.s[92]++;for(const n of this._iceCandidateQueue){Be.s[93]++;await this._addIceCandidate(n)}Be.s[94]++;this._iceCandidateQueue=[]}_signal(n){Be.f[18]++;const e=(Be.s[95]++,BufferUtils.fromAscii(JSON.stringify(n))),l=(Be.s[96]++,this._networkConfig.keyPair),t=(Be.s[97]++,this._networkConfig.peerId);Be.s[98]++;this._signalChannel.signal(t,this._peerId,this._nonce,Network.SIGNAL_TTL_INITIAL,0,e,l.publicKey,Signature.create(l.privateKey,l.publicKey,e))}_onIceCandidate(n){Be.f[19]++;Be.s[99]++;if(null!==n.candidate){Be.b[19][0]++;Be.s[100]++;this._signal(n.candidate)}else Be.b[19][1]++}_onDescription(n){Be.f[20]++;Be.s[101]++;this._rtcConnection.setLocalDescription(n).then(()=>{Be.f[21]++;Be.s[102]++;return this._signal(this._rtcConnection.localDescription)})["catch"](Log.e.tag(PeerConnector))}_onDataChannel(n){Be.f[22]++;const e=(Be.s[103]++,new WebRtcDataChannel((Be.b[20][0]++,n.channel)||(Be.b[20][1]++,n.target)));let l=(Be.s[104]++,null);Be.s[105]++;if(this._lastIceCandidate){Be.b[21][0]++;Be.s[106]++;try{Be.s[107]++;l=WebRtcUtils.candidateToNetAddress(this._lastIceCandidate)}catch(o){Be.s[108]++;Log.w(PeerConnector,`Failed to parse IP from ICE candidate: ${this._lastIceCandidate}`)}}else{Be.b[21][1]++;Be.s[109]++;Log.w(PeerConnector,"No ICE candidate seen for inbound connection")}const t=(Be.s[110]++,new NetworkConnection(e,Protocol.RTC,l,this._peerAddress));Be.s[111]++;this.fire("connection",t)}get nonce(){Be.f[23]++;Be.s[112]++;return this._nonce}get peerAddress(){Be.f[24]++;Be.s[113]++;return this._peerAddress}get rtcConnection(){Be.f[25]++;Be.s[114]++;return this._rtcConnection}}Be.s[115]++;Class.register(PeerConnector);class OutboundPeerConnector extends PeerConnector{constructor(n,e,l){Be.f[26]++;Be.s[116]++;super(n,l,e.peerId,e);Be.s[117]++;this._peerAddress=e;const t=(Be.s[118]++,this._rtcConnection.createDataChannel("data-channel"));Be.s[119]++;t.binaryType="arraybuffer";Be.s[120]++;t.onopen=(n=>{Be.f[27]++;Be.s[121]++;return this._onDataChannel(n)});Be.s[122]++;this._rtcConnection.createOffer().then(n=>{Be.f[28]++;Be.s[123]++;return this._onDescription(n)})["catch"](Log.e.tag(OutboundPeerConnector))}}Be.s[124]++;Class.register(OutboundPeerConnector);class InboundPeerConnector extends PeerConnector{constructor(n,e,l,t){Be.f[29]++;Be.s[125]++;super(n,e,l,null);Be.s[126]++;this._rtcConnection.ondatachannel=(n=>{Be.f[30]++;Be.s[127]++;n.channel.onopen=(n=>{Be.f[31]++;Be.s[128]++;return this._onDataChannel(n)})});Be.s[129]++;this.onSignal(t)}}Be.s[130]++;Class.register(InboundPeerConnector);var Re=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/webrtc/WebRtcDataChannel.js",e="329434483361b7926dfd79fd850255bd148cb1f6",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/webrtc/WebRtcDataChannel.js",statementMap:{0:{start:{line:6,column:8},end:{line:6,column:16}},1:{start:{line:8,column:8},end:{line:8,column:78}},2:{start:{line:10,column:8},end:{line:10,column:38}},3:{start:{line:12,column:8},end:{line:12,column:74}},4:{start:{line:12,column:41},end:{line:12,column:73}},5:{start:{line:13,column:8},end:{line:13,column:54}},6:{start:{line:13,column:38},end:{line:13,column:53}},7:{start:{line:14,column:8},end:{line:14,column:65}},8:{start:{line:14,column:37},end:{line:14,column:64}},9:{start:{line:25,column:8},end:{line:31,column:9}},10:{start:{line:26,column:27},end:{line:26,column:43}},11:{start:{line:27,column:12},end:{line:27,column:69}},12:{start:{line:27,column:37},end:{line:27,column:68}},13:{start:{line:28,column:12},end:{line:28,column:42}},14:{start:{line:30,column:12},end:{line:30,column:34}},15:{start:{line:37,column:8},end:{line:37,column:32}},16:{start:{line:44,column:8},end:{line:44,column:30}},17:{start:{line:51,column:8},end:{line:51,column:75}},18:{start:{line:55,column:0},end:{line:55,column:34}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:31},end:{line:15,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:12,column:34},end:{line:12,column:35}},loc:{start:{line:12,column:41},end:{line:12,column:73}},line:12},2:{name:"(anonymous_2)",decl:{start:{line:13,column:32},end:{line:13,column:33}},loc:{start:{line:13,column:38},end:{line:13,column:53}},line:13},3:{name:"(anonymous_3)",decl:{start:{line:14,column:32},end:{line:14,column:33}},loc:{start:{line:14,column:37},end:{line:14,column:64}},line:14},4:{name:"(anonymous_4)",decl:{start:{line:22,column:4},end:{line:22,column:5}},loc:{start:{line:22,column:20},end:{line:32,column:5}},line:22},5:{name:"(anonymous_5)",decl:{start:{line:27,column:31},end:{line:27,column:32}},loc:{start:{line:27,column:37},end:{line:27,column:68}},line:27},6:{name:"(anonymous_6)",decl:{start:{line:36,column:4},end:{line:36,column:5}},loc:{start:{line:36,column:19},end:{line:38,column:5}},line:36},7:{name:"(anonymous_7)",decl:{start:{line:43,column:4},end:{line:43,column:5}},loc:{start:{line:43,column:12},end:{line:45,column:5}},line:43},8:{name:"(anonymous_8)",decl:{start:{line:50,column:4},end:{line:50,column:5}},loc:{start:{line:50,column:21},end:{line:52,column:5}},line:50}},branchMap:{0:{loc:{start:{line:12,column:57},end:{line:12,column:72}},type:"binary-expr",locations:[{start:{line:12,column:57},end:{line:12,column:65}},{start:{line:12,column:69},end:{line:12,column:72}}],line:12},1:{loc:{start:{line:25,column:8},end:{line:31,column:9}},type:"if",locations:[{start:{line:25,column:8},end:{line:31,column:9}},{start:{line:25,column:8},end:{line:31,column:9}}],line:25}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class WebRtcDataChannel extends DataChannel{constructor(n){Re.f[0]++;Re.s[0]++;super();Re.s[1]++;Assert.that(n.ordered,"WebRtc data channel not ordered");Re.s[2]++;this._channel=n;Re.s[3]++;this._channel.onmessage=(n=>{Re.f[1]++;Re.s[4]++;return this._onMessage((Re.b[0][0]++,n.data)||(Re.b[0][1]++,n))});Re.s[5]++;this._channel.onclose=(()=>{Re.f[2]++;Re.s[6]++;return this._onClose()});Re.s[7]++;this._channel.onerror=(n=>{Re.f[3]++;Re.s[8]++;return this.fire("error",n,this)})}_onMessage(n){Re.f[4]++;Re.s[9]++;if(n instanceof Blob){Re.b[1][0]++;const e=(Re.s[10]++,new FileReader);Re.s[11]++;e.onloadend=(()=>{Re.f[5]++;Re.s[12]++;return super._onMessage(e.result)});Re.s[13]++;e.readAsArrayBuffer(n)}else{Re.b[1][1]++;Re.s[14]++;super._onMessage(n)}}sendChunk(n){Re.f[6]++;Re.s[15]++;this._channel.send(n)}close(){Re.f[7]++;Re.s[16]++;this._channel.close()}get readyState(){Re.f[8]++;Re.s[17]++;return DataChannel.ReadyState.fromString(this._channel.readyState)}}Re.s[18]++;Class.register(WebRtcDataChannel);var Oe=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/webrtc/WebRtcUtils.js",e="84652d5de30411adc21145dc071dd72b594157df",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/webrtc/WebRtcUtils.js",statementMap:{0:{start:{line:4,column:22},end:{line:4,column:52}},1:{start:{line:5,column:8},end:{line:7,column:9}},2:{start:{line:6,column:12},end:{line:6,column:24}},3:{start:{line:11,column:8},end:{line:11,column:49}},4:{start:{line:14,column:0},end:{line:14,column:28}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:4},end:{line:2,column:5}},loc:{start:{line:2,column:44},end:{line:12,column:5}},line:2}},branchMap:{0:{loc:{start:{line:5,column:8},end:{line:7,column:9}},type:"if",locations:[{start:{line:5,column:8},end:{line:7,column:9}},{start:{line:5,column:8},end:{line:7,column:9}}],line:5}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0},b:{0:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class WebRtcUtils{static candidateToNetAddress(n){Oe.f[0]++;const e=(Oe.s[0]++,n.candidate.split(" "));Oe.s[1]++;if(e.length<6){Oe.b[0][0]++;Oe.s[2]++;return null}Oe.b[0][1]++;Oe.s[3]++;return NetAddress.fromIP(e[4],!0)}}Oe.s[4]++;Class.register(WebRtcUtils);var Le=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/websocket/WebSocketConnector.js",e="80b54d220fa06ba097905916fc224d24d505de89",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/websocket/WebSocketConnector.js",statementMap:{0:{start:{line:8,column:8},end:{line:8,column:16}},1:{start:{line:9,column:8},end:{line:9,column:44}},2:{start:{line:11,column:8},end:{line:16,column:9}},3:{start:{line:12,column:12},end:{line:12,column:75}},4:{start:{line:13,column:12},end:{line:13,column:69}},5:{start:{line:13,column:45},end:{line:13,column:67}},6:{start:{line:15,column:12},end:{line:15,column:112}},7:{start:{line:19,column:8},end:{line:19,column:38}},8:{start:{line:22,column:8},end:{line:22,column:36}},9:{start:{line:32,column:8},end:{line:32,column:80}},10:{start:{line:32,column:50},end:{line:32,column:80}},11:{start:{line:34,column:27},end:{line:34,column:51}},12:{start:{line:35,column:8},end:{line:38,column:9}},13:{start:{line:36,column:12},end:{line:36,column:78}},14:{start:{line:37,column:12},end:{line:37,column:25}},15:{start:{line:40,column:19},end:{line:42,column:31}},16:{start:{line:43,column:8},end:{line:43,column:38}},17:{start:{line:44,column:8},end:{line:55,column:10}},18:{start:{line:45,column:12},end:{line:45,column:50}},19:{start:{line:46,column:12},end:{line:46,column:46}},20:{start:{line:49,column:12},end:{line:49,column:34}},21:{start:{line:52,column:31},end:{line:52,column:130}},22:{start:{line:53,column:25},end:{line:53,column:114}},23:{start:{line:54,column:12},end:{line:54,column:42}},24:{start:{line:56,column:8},end:{line:65,column:10}},25:{start:{line:57,column:12},end:{line:57,column:50}},26:{start:{line:58,column:12},end:{line:58,column:46}},27:{start:{line:64,column:12},end:{line:64,column:47}},28:{start:{line:67,column:8},end:{line:67,column:43}},29:{start:{line:69,column:8},end:{line:89,column:47}},30:{start:{line:70,column:12},end:{line:70,column:50}},31:{start:{line:71,column:12},end:{line:71,column:46}},32:{start:{line:75,column:12},end:{line:75,column:34}},33:{start:{line:79,column:12},end:{line:82,column:14}},34:{start:{line:80,column:16},end:{line:80,column:117}},35:{start:{line:80,column:48},end:{line:80,column:115}},36:{start:{line:81,column:16},end:{line:81,column:27}},37:{start:{line:88,column:12},end:{line:88,column:55}},38:{start:{line:91,column:8},end:{line:91,column:20}},39:{start:{line:100,column:19},end:{line:100,column:49}},40:{start:{line:101,column:8},end:{line:103,column:9}},41:{start:{line:102,column:12},end:{line:102,column:19}},42:{start:{line:105,column:8},end:{line:105,column:60}},43:{start:{line:106,column:8},end:{line:106,column:42}},44:{start:{line:108,column:8},end:{line:108,column:30}},45:{start:{line:109,column:8},end:{line:112,column:10}},46:{start:{line:110,column:12},end:{line:110,column:114}},47:{start:{line:110,column:44},end:{line:110,column:112}},48:{start:{line:111,column:12},end:{line:111,column:23}},49:{start:{line:113,column:8},end:{line:113,column:19}},50:{start:{line:119,column:8},end:{line:119,column:51}},51:{start:{line:128,column:27},end:{line:128,column:76}},52:{start:{line:129,column:21},end:{line:129,column:119}},53:{start:{line:135,column:8},end:{line:135,column:38}},54:{start:{line:138,column:0},end:{line:138,column:46}},55:{start:{line:139,column:0},end:{line:139,column:35}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:31},end:{line:23,column:5}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:13,column:39},end:{line:13,column:40}},loc:{start:{line:13,column:45},end:{line:13,column:67}},line:13},2:{name:"(anonymous_2)",decl:{start:{line:31,column:4},end:{line:31,column:5}},loc:{start:{line:31,column:25},end:{line:92,column:5}},line:31},3:{name:"(anonymous_3)",decl:{start:{line:44,column:20},end:{line:44,column:21}},loc:{start:{line:44,column:26},end:{line:55,column:9}},line:44},4:{name:"(anonymous_4)",decl:{start:{line:49,column:25},end:{line:49,column:26}},loc:{start:{line:49,column:31},end:{line:49,column:33}},line:49},5:{name:"(anonymous_5)",decl:{start:{line:56,column:21},end:{line:56,column:22}},loc:{start:{line:56,column:26},end:{line:65,column:9}},line:56},6:{name:"(anonymous_6)",decl:{start:{line:69,column:44},end:{line:69,column:45}},loc:{start:{line:69,column:50},end:{line:89,column:9}},line:69},7:{name:"(anonymous_7)",decl:{start:{line:75,column:25},end:{line:75,column:26}},loc:{start:{line:75,column:31},end:{line:75,column:33}},line:75},8:{name:"(anonymous_8)",decl:{start:{line:79,column:24},end:{line:79,column:25}},loc:{start:{line:79,column:30},end:{line:82,column:13}},line:79},9:{name:"(anonymous_9)",decl:{start:{line:80,column:42},end:{line:80,column:43}},loc:{start:{line:80,column:48},end:{line:80,column:115}},line:80},10:{name:"(anonymous_10)",decl:{start:{line:99,column:4},end:{line:99,column:5}},loc:{start:{line:99,column:23},end:{line:120,column:5}},line:99},11:{name:"(anonymous_11)",decl:{start:{line:108,column:21},end:{line:108,column:22}},loc:{start:{line:108,column:27},end:{line:108,column:29}},line:108},12:{name:"(anonymous_12)",decl:{start:{line:109,column:20},end:{line:109,column:21}},loc:{start:{line:109,column:26},end:{line:112,column:9}},line:109},13:{name:"(anonymous_13)",decl:{start:{line:110,column:38},end:{line:110,column:39}},loc:{start:{line:110,column:44},end:{line:110,column:112}},line:110},14:{name:"(anonymous_14)",decl:{start:{line:127,column:4},end:{line:127,column:5}},loc:{start:{line:127,column:22},end:{line:136,column:5}},line:127}},branchMap:{0:{loc:{start:{line:11,column:8},end:{line:16,column:9}},type:"if",locations:[{start:{line:11,column:8},end:{line:16,column:9}},{start:{line:11,column:8},end:{line:16,column:9}}],line:11},1:{loc:{start:{line:32,column:8},end:{line:32,column:80}},type:"if",locations:[{start:{line:32,column:8},end:{line:32,column:80}},{start:{line:32,column:8},end:{line:32,column:80}}],line:32},2:{loc:{start:{line:35,column:8},end:{line:38,column:9}},type:"if",locations:[{start:{line:35,column:8},end:{line:38,column:9}},{start:{line:35,column:8},end:{line:38,column:9}}],line:35},3:{loc:{start:{line:52,column:31},end:{line:52,column:130}},type:"cond-expr",locations:[{start:{line:52,column:74},end:{line:52,column:123}},{start:{line:52,column:126},end:{line:52,column:130}}],line:52},4:{loc:{start:{line:52,column:32},end:{line:52,column:70}},type:"binary-expr",locations:[{start:{line:52,column:32},end:{line:52,column:42}},{start:{line:52,column:46},end:{line:52,column:70}}],line:52},5:{loc:{start:{line:101,column:8},end:{line:103,column:9}},type:"if",locations:[{start:{line:101,column:8},end:{line:103,column:9}},{start:{line:101,column:8},end:{line:103,column:9}}],line:101}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class WebSocketConnector extends Observable{constructor(n){Le.f[0]++;Le.s[0]++;super();Le.s[1]++;this._networkConfig=n;Le.s[2]++;if(n.peerAddress.protocol===Protocol.WS){Le.b[0][0]++;Le.s[3]++;this._wss=WebSocketFactory.newWebSocketServer(n);Le.s[4]++;this._wss.on("connection",n=>{Le.f[1]++;Le.s[5]++;return this._onConnection(n)});Le.s[6]++;Log.d(WebSocketConnector,`WebSocketConnector listening on port ${n.peerAddress.port}`)}else Le.b[0][1]++;Le.s[7]++;this._sockets=new HashMap;Le.s[8]++;this._timers=new Timers}connect(n){Le.f[2]++;Le.s[9]++;if(n.protocol!==Protocol.WS){Le.b[1][0]++;Le.s[10]++;throw"Malformed peerAddress"}Le.b[1][1]++;const e=(Le.s[11]++,`connect_${n}`);Le.s[12]++;if(this._timers.timeoutExists(e)){Le.b[2][0]++;Le.s[13]++;Log.w(WebSocketConnector,`Already connecting to ${n}`);Le.s[14]++;return!1}Le.b[2][1]++;const l=(Le.s[15]++,WebSocketFactory.newWebSocket(`wss://${n.host}:${n.port}`,{handshakeTimeout:WebSocketConnector.CONNECT_TIMEOUT},this._networkConfig));Le.s[16]++;l.binaryType="arraybuffer";Le.s[17]++;l.onopen=(()=>{Le.f[3]++;Le.s[18]++;this._timers.clearTimeout(e);Le.s[19]++;this._sockets.remove(n);Le.s[20]++;l.onerror=(()=>{Le.f[4]++});const t=(Le.s[21]++,(Le.b[4][0]++,l._socket)&&(Le.b[4][1]++,l._socket.remoteAddress)?(Le.b[3][0]++,NetAddress.fromIP(l._socket.remoteAddress,!0)):(Le.b[3][1]++,null)),o=(Le.s[22]++,new NetworkConnection(new WebSocketDataChannel(l),Protocol.WS,t,n));Le.s[23]++;this.fire("connection",o)});Le.s[24]++;l.onerror=(l=>{Le.f[5]++;Le.s[25]++;this._timers.clearTimeout(e);Le.s[26]++;this._sockets.remove(n);Le.s[27]++;this.fire("error",n,l)});Le.s[28]++;this._sockets.put(n,l);Le.s[29]++;this._timers.setTimeout(e,()=>{Le.f[6]++;Le.s[30]++;this._timers.clearTimeout(e);Le.s[31]++;this._sockets.remove(n);Le.s[32]++;l.onerror=(()=>{Le.f[7]++});Le.s[33]++;l.onopen=(()=>{Le.f[8]++;Le.s[34]++;Log.d(WebSocketConnector,()=>{Le.f[9]++;Le.s[35]++;return`Connection to ${n} succeeded after timeout - closing it`});Le.s[36]++;l.close()});Le.s[37]++;this.fire("error",n,"timeout")},WebSocketConnector.CONNECT_TIMEOUT);Le.s[38]++;return!0}abort(n){Le.f[10]++;const e=(Le.s[39]++,this._sockets.get(n));Le.s[40]++;if(e){Le.b[5][1]++;Le.s[42]++;this._timers.clearTimeout(`connect_${n}`);Le.s[43]++;this._sockets.remove(n);Le.s[44]++;e.onerror=(()=>{Le.f[11]++});Le.s[45]++;e.onopen=(()=>{Le.f[12]++;Le.s[46]++;Log.d(WebSocketConnector,()=>{Le.f[13]++;Le.s[47]++;return`Connection to ${n} succeeded after aborting - closing it`});Le.s[48]++;e.close()});Le.s[49]++;e.close();Le.s[50]++;this.fire("error",n,"aborted")}else{Le.b[5][0]++;Le.s[41]++}}_onConnection(n){Le.f[14]++;const e=(Le.s[51]++,NetAddress.fromIP(n._socket.remoteAddress,!0)),l=(Le.s[52]++,new NetworkConnection(new WebSocketDataChannel(n),Protocol.WS,e,null));Le.s[53]++;this.fire("connection",l)}}Le.s[54]++;WebSocketConnector.CONNECT_TIMEOUT=5e3;Le.s[55]++;Class.register(WebSocketConnector);var Ue=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/websocket/WebSocketDataChannel.js",e="51087e3431790edcf587909409c6d3603e03f449",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/websocket/WebSocketDataChannel.js",statementMap:{0:{start:{line:6,column:8},end:{line:6,column:16}},1:{start:{line:8,column:8},end:{line:8,column:22}},2:{start:{line:9,column:8},end:{line:9,column:69}},3:{start:{line:9,column:36},end:{line:9,column:68}},4:{start:{line:10,column:8},end:{line:10,column:49}},5:{start:{line:10,column:33},end:{line:10,column:48}},6:{start:{line:11,column:8},end:{line:11,column:54}},7:{start:{line:11,column:32},end:{line:11,column:53}},8:{start:{line:18,column:8},end:{line:18,column:25}},9:{start:{line:26,column:8},end:{line:26,column:27}},10:{start:{line:34,column:8},end:{line:34,column:73}},11:{start:{line:38,column:0},end:{line:38,column:37}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:20},end:{line:12,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:9,column:29},end:{line:9,column:30}},loc:{start:{line:9,column:36},end:{line:9,column:68}},line:9},2:{name:"(anonymous_2)",decl:{start:{line:10,column:27},end:{line:10,column:28}},loc:{start:{line:10,column:33},end:{line:10,column:48}},line:10},3:{name:"(anonymous_3)",decl:{start:{line:11,column:27},end:{line:11,column:28}},loc:{start:{line:11,column:32},end:{line:11,column:53}},line:11},4:{name:"(anonymous_4)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:12},end:{line:19,column:5}},line:17},5:{name:"(anonymous_5)",decl:{start:{line:25,column:4},end:{line:25,column:5}},loc:{start:{line:25,column:19},end:{line:27,column:5}},line:25},6:{name:"(anonymous_6)",decl:{start:{line:33,column:4},end:{line:33,column:5}},loc:{start:{line:33,column:21},end:{line:35,column:5}},line:33}},branchMap:{0:{loc:{start:{line:9,column:52},end:{line:9,column:67}},type:"binary-expr",locations:[{start:{line:9,column:52},end:{line:9,column:60}},{start:{line:9,column:64},end:{line:9,column:67}}],line:9}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class WebSocketDataChannel extends DataChannel{constructor(n){Ue.f[0]++;Ue.s[0]++;super();Ue.s[1]++;this._ws=n;Ue.s[2]++;this._ws.onmessage=(n=>{Ue.f[1]++;Ue.s[3]++;return this._onMessage((Ue.b[0][0]++,n.data)||(Ue.b[0][1]++,n))});Ue.s[4]++;this._ws.onclose=(()=>{Ue.f[2]++;Ue.s[5]++;return this._onClose()});Ue.s[6]++;this._ws.onerror=(n=>{Ue.f[3]++;Ue.s[7]++;return this.fire("error",n)})}close(){Ue.f[4]++;Ue.s[8]++;this._ws.close()}sendChunk(n){Ue.f[5]++;Ue.s[9]++;this._ws.send(n)}get readyState(){Ue.f[6]++;Ue.s[10]++;return this._ws.readyState}}Ue.s[11]++;Class.register(WebSocketDataChannel);var xe=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/address/NetAddress.js",e="395101d0bdb53abade481078fff87c6ffb77786e",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/address/NetAddress.js",statementMap:{0:{start:{line:8,column:23},end:{line:8,column:66}},1:{start:{line:9,column:21},end:{line:9,column:97}},2:{start:{line:10,column:8},end:{line:10,column:54}},3:{start:{line:19,column:8},end:{line:32,column:9}},4:{start:{line:21,column:16},end:{line:21,column:129}},5:{start:{line:21,column:97},end:{line:21,column:129}},6:{start:{line:22,column:16},end:{line:22,column:22}},7:{start:{line:24,column:16},end:{line:24,column:129}},8:{start:{line:24,column:97},end:{line:24,column:129}},9:{start:{line:25,column:16},end:{line:25,column:22}},10:{start:{line:28,column:16},end:{line:28,column:31}},11:{start:{line:29,column:16},end:{line:29,column:22}},12:{start:{line:31,column:16},end:{line:31,column:50}},13:{start:{line:35,column:8},end:{line:35,column:26}},14:{start:{line:37,column:8},end:{line:37,column:27}},15:{start:{line:39,column:8},end:{line:39,column:34}},16:{start:{line:47,column:52},end:{line:47,column:67}},17:{start:{line:49,column:22},end:{line:49,column:26}},18:{start:{line:50,column:8},end:{line:57,column:9}},19:{start:{line:52,column:16},end:{line:52,column:57}},20:{start:{line:53,column:16},end:{line:53,column:22}},21:{start:{line:55,column:16},end:{line:55,column:57}},22:{start:{line:56,column:16},end:{line:56,column:22}},23:{start:{line:59,column:8},end:{line:59,column:45}},24:{start:{line:67,column:8},end:{line:67,column:59}},25:{start:{line:68,column:8},end:{line:68,column:35}},26:{start:{line:69,column:8},end:{line:71,column:9}},27:{start:{line:70,column:12},end:{line:70,column:32}},28:{start:{line:72,column:8},end:{line:72,column:19}},29:{start:{line:77,column:8},end:{line:78,column:47}},30:{start:{line:86,column:8},end:{line:88,column:50}},31:{start:{line:92,column:8},end:{line:92,column:31}},32:{start:{line:99,column:8},end:{line:99,column:71}},33:{start:{line:99,column:52},end:{line:99,column:71}},34:{start:{line:100,column:8},end:{line:100,column:66}},35:{start:{line:100,column:56},end:{line:100,column:66}},36:{start:{line:101,column:8},end:{line:101,column:44}},37:{start:{line:106,column:8},end:{line:106,column:24}},38:{start:{line:111,column:8},end:{line:111,column:26}},39:{start:{line:116,column:8},end:{line:116,column:30}},40:{start:{line:123,column:8},end:{line:123,column:25}},41:{start:{line:130,column:8},end:{line:130,column:65}},42:{start:{line:137,column:8},end:{line:137,column:60}},43:{start:{line:144,column:8},end:{line:144,column:60}},44:{start:{line:152,column:19},end:{line:152,column:76}},45:{start:{line:153,column:8},end:{line:153,column:62}},46:{start:{line:157,column:0},end:{line:162,column:2}},47:{start:{line:163,column:0},end:{line:163,column:69}},48:{start:{line:164,column:0},end:{line:164,column:61}},49:{start:{line:165,column:0},end:{line:165,column:27}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:40},end:{line:11,column:5}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:18,column:4},end:{line:18,column:5}},loc:{start:{line:18,column:56},end:{line:40,column:5}},line:18},2:{name:"(anonymous_2)",decl:{start:{line:46,column:4},end:{line:46,column:5}},loc:{start:{line:46,column:28},end:{line:60,column:5}},line:46},3:{name:"(anonymous_3)",decl:{start:{line:66,column:4},end:{line:66,column:5}},loc:{start:{line:66,column:19},end:{line:73,column:5}},line:66},4:{name:"(anonymous_4)",decl:{start:{line:76,column:4},end:{line:76,column:5}},loc:{start:{line:76,column:25},end:{line:79,column:5}},line:76},5:{name:"(anonymous_5)",decl:{start:{line:85,column:4},end:{line:85,column:5}},loc:{start:{line:85,column:14},end:{line:89,column:5}},line:85},6:{name:"(anonymous_6)",decl:{start:{line:91,column:4},end:{line:91,column:5}},loc:{start:{line:91,column:15},end:{line:93,column:5}},line:91},7:{name:"(anonymous_7)",decl:{start:{line:98,column:4},end:{line:98,column:5}},loc:{start:{line:98,column:15},end:{line:102,column:5}},line:98},8:{name:"(anonymous_8)",decl:{start:{line:105,column:4},end:{line:105,column:5}},loc:{start:{line:105,column:13},end:{line:107,column:5}},line:105},9:{name:"(anonymous_9)",decl:{start:{line:110,column:4},end:{line:110,column:5}},loc:{start:{line:110,column:15},end:{line:112,column:5}},line:110},10:{name:"(anonymous_10)",decl:{start:{line:115,column:4},end:{line:115,column:5}},loc:{start:{line:115,column:19},end:{line:117,column:5}},line:115},11:{name:"(anonymous_11)",decl:{start:{line:122,column:4},end:{line:122,column:5}},loc:{start:{line:122,column:15},end:{line:124,column:5}},line:122},12:{name:"(anonymous_12)",decl:{start:{line:129,column:4},end:{line:129,column:5}},loc:{start:{line:129,column:16},end:{line:131,column:5}},line:129},13:{name:"(anonymous_13)",decl:{start:{line:136,column:4},end:{line:136,column:5}},loc:{start:{line:136,column:13},end:{line:138,column:5}},line:136},14:{name:"(anonymous_14)",decl:{start:{line:143,column:4},end:{line:143,column:5}},loc:{start:{line:143,column:13},end:{line:145,column:5}},line:143},15:{name:"(anonymous_15)",decl:{start:{line:151,column:4},end:{line:151,column:5}},loc:{start:{line:151,column:21},end:{line:154,column:5}},line:151}},branchMap:{0:{loc:{start:{line:7,column:22},end:{line:7,column:38}},type:"default-arg",locations:[{start:{line:7,column:33},end:{line:7,column:38}}],line:7},1:{loc:{start:{line:9,column:21},end:{line:9,column:97}},type:"cond-expr",locations:[{start:{line:9,column:54},end:{line:9,column:74}},{start:{line:9,column:77},end:{line:9,column:97}}],line:9},2:{loc:{start:{line:18,column:22},end:{line:18,column:36}},type:"default-arg",locations:[{start:{line:18,column:32},end:{line:18,column:36}}],line:18},3:{loc:{start:{line:18,column:38},end:{line:18,column:54}},type:"default-arg",locations:[{start:{line:18,column:49},end:{line:18,column:54}}],line:18},4:{loc:{start:{line:19,column:8},end:{line:32,column:9}},type:"switch",locations:[{start:{line:20,column:12},end:{line:22,column:22}},{start:{line:23,column:12},end:{line:25,column:22}},{start:{line:26,column:12},end:{line:26,column:41}},{start:{line:27,column:12},end:{line:29,column:22}},{start:{line:30,column:12},end:{line:31,column:50}}],line:19},5:{loc:{start:{line:21,column:16},end:{line:21,column:129}},type:"if",locations:[{start:{line:21,column:16},end:{line:21,column:129}},{start:{line:21,column:16},end:{line:21,column:129}}],line:21},6:{loc:{start:{line:21,column:20},end:{line:21,column:95}},type:"binary-expr",locations:[{start:{line:21,column:20},end:{line:21,column:52}},{start:{line:21,column:56},end:{line:21,column:95}}],line:21},7:{loc:{start:{line:24,column:16},end:{line:24,column:129}},type:"if",locations:[{start:{line:24,column:16},end:{line:24,column:129}},{start:{line:24,column:16},end:{line:24,column:129}}],line:24},8:{loc:{start:{line:24,column:20},end:{line:24,column:95}},type:"binary-expr",locations:[{start:{line:24,column:20},end:{line:24,column:52}},{start:{line:24,column:56},end:{line:24,column:95}}],line:24},9:{loc:{start:{line:50,column:8},end:{line:57,column:9}},type:"switch",locations:[{start:{line:51,column:12},end:{line:53,column:22}},{start:{line:54,column:12},end:{line:56,column:22}}],line:50},10:{loc:{start:{line:67,column:14},end:{line:67,column:58}},type:"binary-expr",locations:[{start:{line:67,column:14},end:{line:67,column:17}},{start:{line:67,column:21},end:{line:67,column:58}}],line:67},11:{loc:{start:{line:69,column:8},end:{line:71,column:9}},type:"if",locations:[{start:{line:69,column:8},end:{line:71,column:9}},{start:{line:69,column:8},end:{line:71,column:9}}],line:69},12:{loc:{start:{line:78,column:15},end:{line:78,column:45}},type:"cond-expr",locations:[{start:{line:78,column:26},end:{line:78,column:41}},{start:{line:78,column:44},end:{line:78,column:45}}],line:78},13:{loc:{start:{line:86,column:15},end:{line:88,column:49}},type:"binary-expr",locations:[{start:{line:86,column:15},end:{line:86,column:38}},{start:{line:87,column:15},end:{line:87,column:37}},{start:{line:88,column:15},end:{line:88,column:49}}],line:86},14:{loc:{start:{line:99,column:8},end:{line:99,column:71}},type:"if",locations:[{start:{line:99,column:8},end:{line:99,column:71}},{start:{line:99,column:8},end:{line:99,column:71}}],line:99},15:{loc:{start:{line:100,column:8},end:{line:100,column:66}},type:"if",locations:[{start:{line:100,column:8},end:{line:100,column:66}},{start:{line:100,column:8},end:{line:100,column:66}}],line:100},16:{loc:{start:{line:130,column:15},end:{line:130,column:64}},type:"binary-expr",locations:[{start:{line:130,column:15},end:{line:130,column:30}},{start:{line:130,column:34},end:{line:130,column:64}}],line:130},17:{loc:{start:{line:137,column:15},end:{line:137,column:59}},type:"binary-expr",locations:[{start:{line:137,column:15},end:{line:137,column:23}},{start:{line:137,column:27},end:{line:137,column:59}}],line:137},18:{loc:{start:{line:144,column:15},end:{line:144,column:59}},type:"binary-expr",locations:[{start:{line:144,column:15},end:{line:144,column:23}},{start:{line:144,column:27},end:{line:144,column:59}}],line:144},19:{loc:{start:{line:152,column:19},end:{line:152,column:76}},type:"cond-expr",locations:[{start:{line:152,column:30},end:{line:152,column:69}},{start:{line:152,column:72},end:{line:152,column:76}}],line:152}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0],1:[0,0],2:[0],3:[0],4:[0,0,0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class NetAddress{static fromIP(n,e=(xe.b[0][0]++,!1)){xe.f[0]++;const l=(xe.s[0]++,NetUtils.ipToBytes(NetUtils.sanitizeIP(n))),t=(xe.s[1]++,NetUtils.isIPv4Address(l)?(xe.b[1][0]++,NetAddress.Type.IPv4):(xe.b[1][1]++,NetAddress.Type.IPv6));xe.s[2]++;return new NetAddress(t,l,e)}constructor(n,e=(xe.b[2][0]++,null),l=(xe.b[3][0]++,!1)){xe.f[1]++;xe.s[3]++;switch(n){case NetAddress.Type.IPv4:xe.b[4][0]++;xe.s[4]++;if(!((xe.b[6][0]++,e instanceof Uint8Array)&&(xe.b[6][1]++,e.length===NetUtils.IPv4_LENGTH))){xe.b[5][0]++;xe.s[5]++;throw new Error("Malformed ip")}xe.b[5][1]++;xe.s[6]++;break;case NetAddress.Type.IPv6:xe.b[4][1]++;xe.s[7]++;if(!((xe.b[8][0]++,e instanceof Uint8Array)&&(xe.b[8][1]++,e.length===NetUtils.IPv6_LENGTH))){xe.b[7][0]++;xe.s[8]++;throw new Error("Malformed ip")}xe.b[7][1]++;xe.s[9]++;break;case NetAddress.Type.UNKNOWN:xe.b[4][2]++;case NetAddress.Type.UNSPECIFIED:xe.b[4][3]++;xe.s[10]++;e=null;xe.s[11]++;break;default:xe.b[4][4]++;xe.s[12]++;throw new Error("Malformed type")}xe.s[13]++;this._type=n;xe.s[14]++;this._ip=e;xe.s[15]++;this._reliable=l}static unserialize(n){xe.f[2]++;const e=(xe.s[16]++,n.readUint8());let l=(xe.s[17]++,null);xe.s[18]++;switch(e){case NetAddress.Type.IPv4:xe.b[9][0]++;xe.s[19]++;l=n.read(NetUtils.IPv4_LENGTH);xe.s[20]++;break;case NetAddress.Type.IPv6:xe.b[9][1]++;xe.s[21]++;l=n.read(NetUtils.IPv6_LENGTH);xe.s[22]++}xe.s[23]++;return new NetAddress(e,l)}serialize(n){xe.f[3]++;xe.s[24]++;n=(xe.b[10][0]++,n)||(xe.b[10][1]++,new SerialBuffer(this.serializedSize));xe.s[25]++;n.writeUint8(this._type);xe.s[26]++;if(this._ip){xe.b[11][0]++;xe.s[27]++;n.write(this._ip)}else xe.b[11][1]++;xe.s[28]++;return n}get serializedSize(){xe.f[4]++;xe.s[29]++;return 1+(this._ip?(xe.b[12][0]++,this._ip.length):(xe.b[12][1]++,0))}equals(n){xe.f[5]++;xe.s[30]++;return(xe.b[13][0]++,n instanceof NetAddress)&&(xe.b[13][1]++,this._type===n._type)&&(xe.b[13][2]++,BufferUtils.equals(this._ip,n.ip))}hashCode(){xe.f[6]++;xe.s[31]++;return this.toString()}toString(){xe.f[7]++;xe.s[32]++;if(this._type===NetAddress.Type.UNKNOWN){xe.b[14][0]++;xe.s[33]++;return"<unknown>"}xe.b[14][1]++;xe.s[34]++;if(this._type===NetAddress.Type.UNSPECIFIED){xe.b[15][0]++;xe.s[35]++;return""}xe.b[15][1]++;xe.s[36]++;return NetUtils.bytesToIp(this._ip)}get ip(){xe.f[8]++;xe.s[37]++;return this._ip}get type(){xe.f[9]++;xe.s[38]++;return this._type}get reliable(){xe.f[10]++;xe.s[39]++;return this._reliable}isPseudo(){xe.f[11]++;xe.s[40]++;return!this._ip}isPrivate(){xe.f[12]++;xe.s[41]++;return(xe.b[16][0]++,this.isPseudo())||(xe.b[16][1]++,NetUtils.isPrivateIP(this._ip))}isIPv6(){xe.f[13]++;xe.s[42]++;return(xe.b[17][0]++,this._ip)&&(xe.b[17][1]++,NetUtils.isIPv6Address(this._ip))}isIPv4(){xe.f[14]++;xe.s[43]++;return(xe.b[18][0]++,this._ip)&&(xe.b[18][1]++,NetUtils.isIPv4Address(this._ip))}subnet(n){xe.f[15]++;const e=(xe.s[44]++,this._ip?(xe.b[19][0]++,NetUtils.ipToSubnet(this._ip,n)):(xe.b[19][1]++,null));xe.s[45]++;return new NetAddress(this._type,e,this._reliable)}}xe.s[46]++;NetAddress.Type={IPv4:0,IPv6:1,UNSPECIFIED:2,UNKNOWN:3};xe.s[47]++;NetAddress.UNSPECIFIED=new NetAddress(NetAddress.Type.UNSPECIFIED);xe.s[48]++;NetAddress.UNKNOWN=new NetAddress(NetAddress.Type.UNKNOWN);xe.s[49]++;Class.register(NetAddress);var De=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/address/PeerId.js",e="b82d0278570764ae8445563c48a79111221b9aa2",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/address/PeerId.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:25}},1:{start:{line:7,column:16},end:{line:7,column:25}},2:{start:{line:8,column:20},end:{line:8,column:42}},3:{start:{line:9,column:8},end:{line:9,column:31}},4:{start:{line:13,column:8},end:{line:13,column:16}},5:{start:{line:14,column:8},end:{line:14,column:85}},6:{start:{line:14,column:42},end:{line:14,column:85}},7:{start:{line:15,column:8},end:{line:15,column:96}},8:{start:{line:15,column:51},end:{line:15,column:96}},9:{start:{line:16,column:8},end:{line:16,column:24}},10:{start:{line:25,column:8},end:{line:25,column:60}},11:{start:{line:34,column:8},end:{line:34,column:59}},12:{start:{line:35,column:8},end:{line:35,column:29}},13:{start:{line:36,column:8},end:{line:36,column:19}},14:{start:{line:40,column:8},end:{line:40,column:46}},15:{start:{line:47,column:8},end:{line:47,column:38}},16:{start:{line:55,column:8},end:{line:56,column:31}},17:{start:{line:64,column:8},end:{line:64,column:28}},18:{start:{line:72,column:8},end:{line:72,column:58}},19:{start:{line:80,column:8},end:{line:80,column:52}},20:{start:{line:84,column:0},end:{line:84,column:28}},21:{start:{line:85,column:0},end:{line:85,column:23}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:19},end:{line:10,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:12,column:4},end:{line:12,column:5}},loc:{start:{line:12,column:21},end:{line:17,column:5}},line:12},2:{name:"(anonymous_2)",decl:{start:{line:24,column:4},end:{line:24,column:5}},loc:{start:{line:24,column:28},end:{line:26,column:5}},line:24},3:{name:"(anonymous_3)",decl:{start:{line:33,column:4},end:{line:33,column:5}},loc:{start:{line:33,column:19},end:{line:37,column:5}},line:33},4:{name:"(anonymous_4)",decl:{start:{line:39,column:4},end:{line:39,column:5}},loc:{start:{line:39,column:25},end:{line:41,column:5}},line:39},5:{name:"(anonymous_5)",decl:{start:{line:46,column:4},end:{line:46,column:5}},loc:{start:{line:46,column:25},end:{line:48,column:5}},line:46},6:{name:"(anonymous_6)",decl:{start:{line:54,column:4},end:{line:54,column:5}},loc:{start:{line:54,column:14},end:{line:57,column:5}},line:54},7:{name:"(anonymous_7)",decl:{start:{line:63,column:4},end:{line:63,column:5}},loc:{start:{line:63,column:15},end:{line:65,column:5}},line:63},8:{name:"(anonymous_8)",decl:{start:{line:71,column:4},end:{line:71,column:5}},loc:{start:{line:71,column:30},end:{line:73,column:5}},line:71},9:{name:"(anonymous_9)",decl:{start:{line:79,column:4},end:{line:79,column:5}},loc:{start:{line:79,column:24},end:{line:81,column:5}},line:79}},branchMap:{0:{loc:{start:{line:7,column:8},end:{line:7,column:25}},type:"if",locations:[{start:{line:7,column:8},end:{line:7,column:25}},{start:{line:7,column:8},end:{line:7,column:25}}],line:7},1:{loc:{start:{line:14,column:8},end:{line:14,column:85}},type:"if",locations:[{start:{line:14,column:8},end:{line:14,column:85}},{start:{line:14,column:8},end:{line:14,column:85}}],line:14},2:{loc:{start:{line:15,column:8},end:{line:15,column:96}},type:"if",locations:[{start:{line:15,column:8},end:{line:15,column:96}},{start:{line:15,column:8},end:{line:15,column:96}}],line:15},3:{loc:{start:{line:34,column:14},end:{line:34,column:58}},type:"binary-expr",locations:[{start:{line:34,column:14},end:{line:34,column:17}},{start:{line:34,column:21},end:{line:34,column:58}}],line:34},4:{loc:{start:{line:55,column:15},end:{line:56,column:30}},type:"binary-expr",locations:[{start:{line:55,column:15},end:{line:55,column:34}},{start:{line:56,column:15},end:{line:56,column:30}}],line:55}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class PeerId extends Serializable{static copy(n){De.f[0]++;De.s[0]++;if(!n){De.b[0][0]++;De.s[1]++;return n}De.b[0][1]++;const e=(De.s[2]++,new Uint8Array(n._obj));De.s[3]++;return new PeerId(e)}constructor(n){De.f[1]++;De.s[4]++;super();De.s[5]++;if(!(n instanceof Uint8Array)){De.b[1][0]++;De.s[6]++;throw new Error("Primitive: Invalid type")}De.b[1][1]++;De.s[7]++;if(n.length!==PeerId.SERIALIZED_SIZE){De.b[2][0]++;De.s[8]++;throw new Error("Primitive: Invalid length")}De.b[2][1]++;De.s[9]++;this._obj=n}static unserialize(n){De.f[2]++;De.s[10]++;return new PeerId(n.read(PeerId.SERIALIZED_SIZE))}serialize(n){De.f[3]++;De.s[11]++;n=(De.b[3][0]++,n)||(De.b[3][1]++,new SerialBuffer(this.serializedSize));De.s[12]++;n.write(this._obj);De.s[13]++;return n}subarray(n,e){De.f[4]++;De.s[14]++;return this._obj.subarray(n,e)}get serializedSize(){De.f[5]++;De.s[15]++;return PeerId.SERIALIZED_SIZE}equals(n){De.f[6]++;De.s[16]++;return(De.b[4][0]++,n instanceof PeerId)&&(De.b[4][1]++,super.equals(n))}toString(){De.f[7]++;De.s[17]++;return this.toHex()}static fromBase64(n){De.f[8]++;De.s[18]++;return new PeerId(BufferUtils.fromBase64(n))}static fromHex(n){De.f[9]++;De.s[19]++;return new PeerId(BufferUtils.fromHex(n))}}De.s[20]++;PeerId.SERIALIZED_SIZE=16;De.s[21]++;Class.register(PeerId);var ze=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/address/PeerAddress.js",e="5afbb3c3c74f3aaa613bcc3ebd9e12b9cb366dd0",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/address/PeerAddress.js",statementMap:{0:{start:{line:12,column:8},end:{line:12,column:82}},1:{start:{line:12,column:44},end:{line:12,column:82}},2:{start:{line:13,column:8},end:{line:13,column:108}},3:{start:{line:13,column:69},end:{line:13,column:108}},4:{start:{line:16,column:8},end:{line:16,column:34}},5:{start:{line:18,column:8},end:{line:18,column:34}},6:{start:{line:20,column:8},end:{line:20,column:36}},7:{start:{line:22,column:8},end:{line:22,column:64}},8:{start:{line:24,column:8},end:{line:24,column:36}},9:{start:{line:26,column:8},end:{line:26,column:34}},10:{start:{line:28,column:8},end:{line:28,column:36}},11:{start:{line:36,column:25},end:{line:36,column:40}},12:{start:{line:37,column:8},end:{line:49,column:9}},13:{start:{line:39,column:16},end:{line:39,column:54}},14:{start:{line:42,column:16},end:{line:42,column:55}},15:{start:{line:45,column:16},end:{line:45,column:56}},16:{start:{line:48,column:16},end:{line:48,column:67}},17:{start:{line:57,column:8},end:{line:57,column:102}},18:{start:{line:57,column:30},end:{line:57,column:102}},19:{start:{line:58,column:8},end:{line:58,column:102}},20:{start:{line:58,column:30},end:{line:58,column:102}},21:{start:{line:60,column:8},end:{line:60,column:59}},22:{start:{line:61,column:8},end:{line:61,column:39}},23:{start:{line:62,column:8},end:{line:62,column:40}},24:{start:{line:63,column:8},end:{line:63,column:41}},25:{start:{line:66,column:8},end:{line:70,column:9}},26:{start:{line:67,column:12},end:{line:67,column:50}},27:{start:{line:69,column:12},end:{line:69,column:44}},28:{start:{line:72,column:8},end:{line:72,column:39}},29:{start:{line:73,column:8},end:{line:73,column:39}},30:{start:{line:74,column:8},end:{line:74,column:39}},31:{start:{line:76,column:8},end:{line:76,column:19}},32:{start:{line:80,column:8},end:{line:80,column:66}},33:{start:{line:82,column:8},end:{line:82,column:39}},34:{start:{line:83,column:8},end:{line:83,column:40}},35:{start:{line:84,column:8},end:{line:84,column:41}},36:{start:{line:86,column:8},end:{line:86,column:19}},37:{start:{line:91,column:8},end:{line:97,column:45}},38:{start:{line:102,column:8},end:{line:104,column:30}},39:{start:{line:115,column:8},end:{line:122,column:38}},40:{start:{line:129,column:8},end:{line:131,column:9}},41:{start:{line:130,column:12},end:{line:130,column:101}},42:{start:{line:132,column:8},end:{line:132,column:39}},43:{start:{line:137,column:8},end:{line:137,column:30}},44:{start:{line:142,column:8},end:{line:142,column:30}},45:{start:{line:147,column:8},end:{line:147,column:31}},46:{start:{line:152,column:8},end:{line:152,column:69}},47:{start:{line:157,column:8},end:{line:157,column:59}},48:{start:{line:162,column:8},end:{line:162,column:31}},49:{start:{line:167,column:8},end:{line:167,column:67}},50:{start:{line:172,column:8},end:{line:172,column:30}},51:{start:{line:177,column:8},end:{line:177,column:31}},52:{start:{line:183,column:8},end:{line:185,column:9}},53:{start:{line:184,column:12},end:{line:184,column:19}},54:{start:{line:187,column:8},end:{line:187,column:36}},55:{start:{line:188,column:8},end:{line:188,column:44}},56:{start:{line:194,column:8},end:{line:194,column:31}},57:{start:{line:201,column:8},end:{line:201,column:37}},58:{start:{line:209,column:8},end:{line:211,column:9}},59:{start:{line:210,column:12},end:{line:210,column:25}},60:{start:{line:213,column:20},end:{line:213,column:47}},61:{start:{line:214,column:8},end:{line:223,column:9}},62:{start:{line:216,column:16},end:{line:216,column:63}},63:{start:{line:219,column:16},end:{line:219,column:60}},64:{start:{line:222,column:16},end:{line:222,column:58}},65:{start:{line:224,column:8},end:{line:224,column:21}},66:{start:{line:229,column:0},end:{line:229,column:28}},67:{start:{line:239,column:26},end:{line:239,column:96}},68:{start:{line:240,column:8},end:{line:240,column:115}},69:{start:{line:254,column:8},end:{line:254,column:92}},70:{start:{line:255,column:8},end:{line:255,column:53}},71:{start:{line:255,column:19},end:{line:255,column:53}},72:{start:{line:256,column:8},end:{line:256,column:75}},73:{start:{line:256,column:41},end:{line:256,column:75}},74:{start:{line:257,column:8},end:{line:257,column:26}},75:{start:{line:258,column:8},end:{line:258,column:26}},76:{start:{line:266,column:25},end:{line:266,column:41}},77:{start:{line:267,column:26},end:{line:267,column:42}},78:{start:{line:268,column:27},end:{line:268,column:54}},79:{start:{line:269,column:26},end:{line:269,column:52}},80:{start:{line:270,column:25},end:{line:270,column:40}},81:{start:{line:271,column:26},end:{line:271,column:52}},82:{start:{line:272,column:21},end:{line:272,column:46}},83:{start:{line:273,column:21},end:{line:273,column:37}},84:{start:{line:274,column:8},end:{line:274,column:110}},85:{start:{line:282,column:8},end:{line:282,column:59}},86:{start:{line:283,column:8},end:{line:283,column:29}},87:{start:{line:284,column:8},end:{line:284,column:45}},88:{start:{line:285,column:8},end:{line:285,column:36}},89:{start:{line:286,column:8},end:{line:286,column:19}},90:{start:{line:294,column:8},end:{line:294,column:66}},91:{start:{line:295,column:8},end:{line:295,column:36}},92:{start:{line:296,column:8},end:{line:296,column:45}},93:{start:{line:297,column:8},end:{line:297,column:36}},94:{start:{line:298,column:8},end:{line:298,column:19}},95:{start:{line:305,column:8},end:{line:305,column:57}},96:{start:{line:310,column:8},end:{line:312,column:25}},97:{start:{line:317,column:8},end:{line:319,column:25}},98:{start:{line:328,column:8},end:{line:330,column:99}},99:{start:{line:337,column:8},end:{line:339,column:51}},100:{start:{line:346,column:8},end:{line:346,column:85}},101:{start:{line:353,column:8},end:{line:353,column:124}},102:{start:{line:358,column:8},end:{line:358,column:26}},103:{start:{line:363,column:8},end:{line:363,column:26}},104:{start:{line:367,column:0},end:{line:367,column:30}},105:{start:{line:379,column:8},end:{line:379,column:93}},106:{start:{line:387,column:25},end:{line:387,column:41}},107:{start:{line:388,column:26},end:{line:388,column:42}},108:{start:{line:389,column:27},end:{line:389,column:54}},109:{start:{line:390,column:26},end:{line:390,column:52}},110:{start:{line:391,column:25},end:{line:391,column:40}},111:{start:{line:392,column:26},end:{line:392,column:52}},112:{start:{line:393,column:8},end:{line:393,column:99}},113:{start:{line:401,column:8},end:{line:401,column:59}},114:{start:{line:402,column:8},end:{line:402,column:29}},115:{start:{line:403,column:8},end:{line:403,column:19}},116:{start:{line:408,column:8},end:{line:408,column:36}},117:{start:{line:417,column:8},end:{line:418,column:43}},118:{start:{line:425,column:8},end:{line:425,column:31}},119:{start:{line:432,column:8},end:{line:432,column:39}},120:{start:{line:436,column:0},end:{line:436,column:31}},121:{start:{line:448,column:8},end:{line:448,column:94}},122:{start:{line:456,column:25},end:{line:456,column:41}},123:{start:{line:457,column:26},end:{line:457,column:42}},124:{start:{line:458,column:27},end:{line:458,column:54}},125:{start:{line:459,column:26},end:{line:459,column:52}},126:{start:{line:460,column:25},end:{line:460,column:40}},127:{start:{line:461,column:26},end:{line:461,column:52}},128:{start:{line:462,column:8},end:{line:462,column:100}},129:{start:{line:470,column:8},end:{line:470,column:59}},130:{start:{line:471,column:8},end:{line:471,column:29}},131:{start:{line:472,column:8},end:{line:472,column:19}},132:{start:{line:477,column:8},end:{line:477,column:36}},133:{start:{line:486,column:8},end:{line:487,column:44}},134:{start:{line:494,column:8},end:{line:494,column:31}},135:{start:{line:501,column:8},end:{line:501,column:40}},136:{start:{line:505,column:0},end:{line:505,column:32}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:11,column:4},end:{line:11,column:5}},loc:{start:{line:11,column:91},end:{line:29,column:5}},line:11},1:{name:"(anonymous_1)",decl:{start:{line:35,column:4},end:{line:35,column:5}},loc:{start:{line:35,column:28},end:{line:50,column:5}},line:35},2:{name:"(anonymous_2)",decl:{start:{line:56,column:4},end:{line:56,column:5}},loc:{start:{line:56,column:19},end:{line:77,column:5}},line:56},3:{name:"(anonymous_3)",decl:{start:{line:79,column:4},end:{line:79,column:5}},loc:{start:{line:79,column:26},end:{line:87,column:5}},line:79},4:{name:"(anonymous_4)",decl:{start:{line:90,column:4},end:{line:90,column:5}},loc:{start:{line:90,column:25},end:{line:98,column:5}},line:90},5:{name:"(anonymous_5)",decl:{start:{line:101,column:4},end:{line:101,column:5}},loc:{start:{line:101,column:32},end:{line:105,column:5}},line:101},6:{name:"(anonymous_6)",decl:{start:{line:111,column:4},end:{line:111,column:5}},loc:{start:{line:111,column:14},end:{line:123,column:5}},line:111},7:{name:"(anonymous_7)",decl:{start:{line:128,column:4},end:{line:128,column:5}},loc:{start:{line:128,column:22},end:{line:133,column:5}},line:128},8:{name:"(anonymous_8)",decl:{start:{line:136,column:4},end:{line:136,column:5}},loc:{start:{line:136,column:19},end:{line:138,column:5}},line:136},9:{name:"(anonymous_9)",decl:{start:{line:141,column:4},end:{line:141,column:5}},loc:{start:{line:141,column:19},end:{line:143,column:5}},line:141},10:{name:"(anonymous_10)",decl:{start:{line:146,column:4},end:{line:146,column:5}},loc:{start:{line:146,column:20},end:{line:148,column:5}},line:146},11:{name:"(anonymous_11)",decl:{start:{line:151,column:4},end:{line:151,column:5}},loc:{start:{line:151,column:21},end:{line:153,column:5}},line:151},12:{name:"(anonymous_12)",decl:{start:{line:156,column:4},end:{line:156,column:5}},loc:{start:{line:156,column:26},end:{line:158,column:5}},line:156},13:{name:"(anonymous_13)",decl:{start:{line:161,column:4},end:{line:161,column:5}},loc:{start:{line:161,column:20},end:{line:163,column:5}},line:161},14:{name:"(anonymous_14)",decl:{start:{line:166,column:4},end:{line:166,column:5}},loc:{start:{line:166,column:17},end:{line:168,column:5}},line:166},15:{name:"(anonymous_15)",decl:{start:{line:171,column:4},end:{line:171,column:5}},loc:{start:{line:171,column:19},end:{line:173,column:5}},line:171},16:{name:"(anonymous_16)",decl:{start:{line:176,column:4},end:{line:176,column:5}},loc:{start:{line:176,column:20},end:{line:178,column:5}},line:176},17:{name:"(anonymous_17)",decl:{start:{line:181,column:4},end:{line:181,column:5}},loc:{start:{line:181,column:29},end:{line:189,column:5}},line:181},18:{name:"(anonymous_18)",decl:{start:{line:193,column:4},end:{line:193,column:5}},loc:{start:{line:193,column:24},end:{line:195,column:5}},line:193},19:{name:"(anonymous_19)",decl:{start:{line:200,column:4},end:{line:200,column:5}},loc:{start:{line:200,column:13},end:{line:202,column:5}},line:200},20:{name:"(anonymous_20)",decl:{start:{line:207,column:4},end:{line:207,column:5}},loc:{start:{line:207,column:17},end:{line:225,column:5}},line:207},21:{name:"(anonymous_21)",decl:{start:{line:238,column:4},end:{line:238,column:5}},loc:{start:{line:238,column:42},end:{line:241,column:5}},line:238},22:{name:"(anonymous_22)",decl:{start:{line:253,column:4},end:{line:253,column:5}},loc:{start:{line:253,column:93},end:{line:259,column:5}},line:253},23:{name:"(anonymous_23)",decl:{start:{line:265,column:4},end:{line:265,column:5}},loc:{start:{line:265,column:28},end:{line:275,column:5}},line:265},24:{name:"(anonymous_24)",decl:{start:{line:281,column:4},end:{line:281,column:5}},loc:{start:{line:281,column:19},end:{line:287,column:5}},line:281},25:{name:"(anonymous_25)",decl:{start:{line:293,column:4},end:{line:293,column:5}},loc:{start:{line:293,column:26},end:{line:299,column:5}},line:293},26:{name:"(anonymous_26)",decl:{start:{line:304,column:4},end:{line:304,column:5}},loc:{start:{line:304,column:24},end:{line:306,column:5}},line:304},27:{name:"(anonymous_27)",decl:{start:{line:309,column:4},end:{line:309,column:5}},loc:{start:{line:309,column:25},end:{line:313,column:5}},line:309},28:{name:"(anonymous_28)",decl:{start:{line:316,column:4},end:{line:316,column:5}},loc:{start:{line:316,column:32},end:{line:320,column:5}},line:316},29:{name:"(anonymous_29)",decl:{start:{line:327,column:4},end:{line:327,column:5}},loc:{start:{line:327,column:14},end:{line:331,column:5}},line:327},30:{name:"(anonymous_30)",decl:{start:{line:336,column:4},end:{line:336,column:5}},loc:{start:{line:336,column:15},end:{line:340,column:5}},line:336},31:{name:"(anonymous_31)",decl:{start:{line:345,column:4},end:{line:345,column:5}},loc:{start:{line:345,column:15},end:{line:347,column:5}},line:345},32:{name:"(anonymous_32)",decl:{start:{line:352,column:4},end:{line:352,column:5}},loc:{start:{line:352,column:16},end:{line:354,column:5}},line:352},33:{name:"(anonymous_33)",decl:{start:{line:357,column:4},end:{line:357,column:5}},loc:{start:{line:357,column:15},end:{line:359,column:5}},line:357},34:{name:"(anonymous_34)",decl:{start:{line:362,column:4},end:{line:362,column:5}},loc:{start:{line:362,column:15},end:{line:364,column:5}},line:362},35:{name:"(anonymous_35)",decl:{start:{line:378,column:4},end:{line:378,column:5}},loc:{start:{line:378,column:81},end:{line:380,column:5}},line:378},36:{name:"(anonymous_36)",decl:{start:{line:386,column:4},end:{line:386,column:5}},loc:{start:{line:386,column:28},end:{line:394,column:5}},line:386},37:{name:"(anonymous_37)",decl:{start:{line:400,column:4},end:{line:400,column:5}},loc:{start:{line:400,column:19},end:{line:404,column:5}},line:400},38:{name:"(anonymous_38)",decl:{start:{line:407,column:4},end:{line:407,column:5}},loc:{start:{line:407,column:25},end:{line:409,column:5}},line:407},39:{name:"(anonymous_39)",decl:{start:{line:416,column:4},end:{line:416,column:5}},loc:{start:{line:416,column:14},end:{line:419,column:5}},line:416},40:{name:"(anonymous_40)",decl:{start:{line:424,column:4},end:{line:424,column:5}},loc:{start:{line:424,column:15},end:{line:426,column:5}},line:424},41:{name:"(anonymous_41)",decl:{start:{line:431,column:4},end:{line:431,column:5}},loc:{start:{line:431,column:15},end:{line:433,column:5}},line:431},42:{name:"(anonymous_42)",decl:{start:{line:447,column:4},end:{line:447,column:5}},loc:{start:{line:447,column:81},end:{line:449,column:5}},line:447},43:{name:"(anonymous_43)",decl:{start:{line:455,column:4},end:{line:455,column:5}},loc:{start:{line:455,column:28},end:{line:463,column:5}},line:455},44:{name:"(anonymous_44)",decl:{start:{line:469,column:4},end:{line:469,column:5}},loc:{start:{line:469,column:19},end:{line:473,column:5}},line:469},45:{name:"(anonymous_45)",decl:{start:{line:476,column:4},end:{line:476,column:5}},loc:{start:{line:476,column:25},end:{line:478,column:5}},line:476},46:{name:"(anonymous_46)",decl:{start:{line:485,column:4},end:{line:485,column:5}},loc:{start:{line:485,column:14},end:{line:488,column:5}},line:485},47:{name:"(anonymous_47)",decl:{start:{line:493,column:4},end:{line:493,column:5}},loc:{start:{line:493,column:15},end:{line:495,column:5}},line:493},48:{name:"(anonymous_48)",decl:{start:{line:500,column:4},end:{line:500,column:5}},loc:{start:{line:500,column:15},end:{line:502,column:5}},line:500}},branchMap:{0:{loc:{start:{line:12,column:8},end:{line:12,column:82}},type:"if",locations:[{start:{line:12,column:8},end:{line:12,column:82}},{start:{line:12,column:8},end:{line:12,column:82}}],line:12},1:{loc:{start:{line:13,column:8},end:{line:13,column:108}},type:"if",locations:[{start:{line:13,column:8},end:{line:13,column:108}},{start:{line:13,column:8},end:{line:13,column:108}}],line:13},2:{loc:{start:{line:13,column:12},end:{line:13,column:67}},type:"binary-expr",locations:[{start:{line:13,column:12},end:{line:13,column:30}},{start:{line:13,column:34},end:{line:13,column:67}}],line:13},3:{loc:{start:{line:22,column:27},end:{line:22,column:63}},type:"binary-expr",locations:[{start:{line:22,column:27},end:{line:22,column:37}},{start:{line:22,column:41},end:{line:22,column:63}}],line:22},4:{loc:{start:{line:37,column:8},end:{line:49,column:9}},type:"switch",locations:[{start:{line:38,column:12},end:{line:39,column:54}},{start:{line:41,column:12},end:{line:42,column:55}},{start:{line:44,column:12},end:{line:45,column:56}},{start:{line:47,column:12},end:{line:48,column:67}}],line:37},5:{loc:{start:{line:57,column:8},end:{line:57,column:102}},type:"if",locations:[{start:{line:57,column:8},end:{line:57,column:102}},{start:{line:57,column:8},end:{line:57,column:102}}],line:57},6:{loc:{start:{line:58,column:8},end:{line:58,column:102}},type:"if",locations:[{start:{line:58,column:8},end:{line:58,column:102}},{start:{line:58,column:8},end:{line:58,column:102}}],line:58},7:{loc:{start:{line:60,column:14},end:{line:60,column:58}},type:"binary-expr",locations:[{start:{line:60,column:14},end:{line:60,column:17}},{start:{line:60,column:21},end:{line:60,column:58}}],line:60},8:{loc:{start:{line:66,column:8},end:{line:70,column:9}},type:"if",locations:[{start:{line:66,column:8},end:{line:70,column:9}},{start:{line:66,column:8},end:{line:70,column:9}}],line:66},9:{loc:{start:{line:80,column:14},end:{line:80,column:65}},type:"binary-expr",locations:[{start:{line:80,column:14},end:{line:80,column:17}},{start:{line:80,column:21},end:{line:80,column:65}}],line:80},10:{loc:{start:{line:115,column:15},end:{line:118,column:74}},type:"binary-expr",locations:[{start:{line:115,column:15},end:{line:115,column:39}},{start:{line:116,column:15},end:{line:116,column:43}},{start:{line:117,column:16},end:{line:117,column:31}},{start:{line:117,column:35},end:{line:117,column:47}},{start:{line:117,column:51},end:{line:117,column:85}},{start:{line:118,column:16},end:{line:118,column:28}},{start:{line:118,column:32},end:{line:118,column:41}},{start:{line:118,column:45},end:{line:118,column:73}}],line:115},11:{loc:{start:{line:129,column:8},end:{line:131,column:9}},type:"if",locations:[{start:{line:129,column:8},end:{line:131,column:9}},{start:{line:129,column:8},end:{line:131,column:9}}],line:129},12:{loc:{start:{line:152,column:15},end:{line:152,column:68}},type:"cond-expr",locations:[{start:{line:152,column:45},end:{line:152,column:49}},{start:{line:152,column:52},end:{line:152,column:68}}],line:152},13:{loc:{start:{line:157,column:27},end:{line:157,column:58}},type:"binary-expr",locations:[{start:{line:157,column:27},end:{line:157,column:32}},{start:{line:157,column:36},end:{line:157,column:58}}],line:157},14:{loc:{start:{line:167,column:15},end:{line:167,column:66}},type:"cond-expr",locations:[{start:{line:167,column:33},end:{line:167,column:59}},{start:{line:167,column:62},end:{line:167,column:66}}],line:167},15:{loc:{start:{line:183,column:8},end:{line:185,column:9}},type:"if",locations:[{start:{line:183,column:8},end:{line:185,column:9}},{start:{line:183,column:8},end:{line:185,column:9}}],line:183},16:{loc:{start:{line:209,column:8},end:{line:211,column:9}},type:"if",locations:[{start:{line:209,column:8},end:{line:211,column:9}},{start:{line:209,column:8},end:{line:211,column:9}}],line:209},17:{loc:{start:{line:214,column:8},end:{line:223,column:9}},type:"switch",locations:[{start:{line:215,column:12},end:{line:216,column:63}},{start:{line:218,column:12},end:{line:219,column:60}},{start:{line:221,column:12},end:{line:222,column:58}}],line:214},18:{loc:{start:{line:239,column:26},end:{line:239,column:96}},type:"cond-expr",locations:[{start:{line:239,column:41},end:{line:239,column:89}},{start:{line:239,column:92},end:{line:239,column:96}}],line:239},19:{loc:{start:{line:255,column:8},end:{line:255,column:53}},type:"if",locations:[{start:{line:255,column:8},end:{line:255,column:53}},{start:{line:255,column:8},end:{line:255,column:53}}],line:255},20:{loc:{start:{line:256,column:8},end:{line:256,column:75}},type:"if",locations:[{start:{line:256,column:8},end:{line:256,column:75}},{start:{line:256,column:8},end:{line:256,column:75}}],line:256},21:{loc:{start:{line:282,column:14},end:{line:282,column:58}},type:"binary-expr",locations:[{start:{line:282,column:14},end:{line:282,column:17}},{start:{line:282,column:21},end:{line:282,column:58}}],line:282},22:{loc:{start:{line:294,column:14},end:{line:294,column:65}},type:"binary-expr",locations:[{start:{line:294,column:14},end:{line:294,column:17}},{start:{line:294,column:21},end:{line:294,column:65}}],line:294},23:{loc:{start:{line:328,column:15},end:{line:330,column:98}},type:"binary-expr",locations:[{start:{line:328,column:15},end:{line:328,column:30}},{start:{line:329,column:15},end:{line:329,column:41}},{start:{line:330,column:17},end:{line:330,column:30}},{start:{line:330,column:34},end:{line:330,column:44}},{start:{line:330,column:50},end:{line:330,column:71}},{start:{line:330,column:75},end:{line:330,column:96}}],line:328},24:{loc:{start:{line:337,column:15},end:{line:339,column:50}},type:"cond-expr",locations:[{start:{line:338,column:14},end:{line:338,column:37}},{start:{line:339,column:14},end:{line:339,column:50}}],line:337},25:{loc:{start:{line:346,column:52},end:{line:346,column:82}},type:"cond-expr",locations:[{start:{line:346,column:66},end:{line:346,column:77}},{start:{line:346,column:80},end:{line:346,column:82}}],line:346},26:{loc:{start:{line:401,column:14},end:{line:401,column:58}},type:"binary-expr",locations:[{start:{line:401,column:14},end:{line:401,column:17}},{start:{line:401,column:21},end:{line:401,column:58}}],line:401},27:{loc:{start:{line:417,column:15},end:{line:418,column:42}},type:"binary-expr",locations:[{start:{line:417,column:15},end:{line:417,column:30}},{start:{line:418,column:15},end:{line:418,column:42}}],line:417},28:{loc:{start:{line:470,column:14},end:{line:470,column:58}},type:"binary-expr",locations:[{start:{line:470,column:14},end:{line:470,column:17}},{start:{line:470,column:21},end:{line:470,column:58}}],line:470},29:{loc:{start:{line:486,column:15},end:{line:487,column:43}},type:"binary-expr",locations:[{start:{line:486,column:15},end:{line:486,column:30}},{start:{line:487,column:15},end:{line:487,column:43}}],line:486}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0,0,0,0,0,0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0,0,0,0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class PeerAddress{constructor(n,e,l,t,o,i,c){ze.f[0]++;ze.s[0]++;if(!NumberUtils.isUint8(i)){ze.b[0][0]++;ze.s[1]++;throw new Error("Malformed distance")}ze.b[0][1]++;ze.s[2]++;if(!((ze.b[2][0]++,null===o)||(ze.b[2][1]++,o instanceof PublicKey))){ze.b[1][0]++;ze.s[3]++;throw new Error("Malformed publicKey")}ze.b[1][1]++;ze.s[4]++;this._protocol=n;ze.s[5]++;this._services=e;ze.s[6]++;this._timestamp=l;ze.s[7]++;this._netAddress=(ze.b[3][0]++,t)||(ze.b[3][1]++,NetAddress.UNSPECIFIED);ze.s[8]++;this._publicKey=o;ze.s[9]++;this._distance=i;ze.s[10]++;this._signature=c}static unserialize(n){ze.f[1]++;const e=(ze.s[11]++,n.readUint8());ze.s[12]++;switch(e){case Protocol.WS:ze.b[4][0]++;ze.s[13]++;return WsPeerAddress.unserialize(n);case Protocol.RTC:ze.b[4][1]++;ze.s[14]++;return RtcPeerAddress.unserialize(n);case Protocol.DUMB:ze.b[4][2]++;ze.s[15]++;return DumbPeerAddress.unserialize(n);default:ze.b[4][3]++;ze.s[16]++;throw`Malformed PeerAddress protocol ${e}`}}serialize(n){ze.f[2]++;ze.s[17]++;if(!this._publicKey){ze.b[5][0]++;ze.s[18]++;throw new Error("PeerAddress without publicKey may not be serialized.")}ze.b[5][1]++;ze.s[19]++;if(!this._signature){ze.b[6][0]++;ze.s[20]++;throw new Error("PeerAddress without signature may not be serialized.")}ze.b[6][1]++;ze.s[21]++;n=(ze.b[7][0]++,n)||(ze.b[7][1]++,new SerialBuffer(this.serializedSize));ze.s[22]++;n.writeUint8(this._protocol);ze.s[23]++;n.writeUint32(this._services);ze.s[24]++;n.writeUint64(this._timestamp);ze.s[25]++;if(this._netAddress.isPrivate()){ze.b[8][0]++;ze.s[26]++;NetAddress.UNSPECIFIED.serialize(n)}else{ze.b[8][1]++;ze.s[27]++;this._netAddress.serialize(n)}ze.s[28]++;this._publicKey.serialize(n);ze.s[29]++;n.writeUint8(this._distance);ze.s[30]++;this._signature.serialize(n);ze.s[31]++;return n}serializeContent(n){ze.f[3]++;ze.s[32]++;n=(ze.b[9][0]++,n)||(ze.b[9][1]++,new SerialBuffer(this.serializedContentSize));ze.s[33]++;n.writeUint8(this._protocol);ze.s[34]++;n.writeUint32(this._services);ze.s[35]++;n.writeUint64(this._timestamp);ze.s[36]++;return n}get serializedSize(){ze.f[4]++;ze.s[37]++;return 13+this._netAddress.serializedSize+this._publicKey.serializedSize+1+this._signature.serializedSize}get serializedContentSize(){ze.f[5]++;ze.s[38]++;return 13}equals(n){ze.f[6]++;ze.s[39]++;return(ze.b[10][0]++,n instanceof PeerAddress)&&(ze.b[10][1]++,this.protocol===n.protocol)&&((ze.b[10][2]++,!this.publicKey)||(ze.b[10][3]++,!n.publicKey)||(ze.b[10][4]++,this.publicKey.equals(n.publicKey)))&&((ze.b[10][5]++,!this.peerId)||(ze.b[10][6]++,!n.peerId)||(ze.b[10][7]++,this.peerId.equals(n.peerId)))}verifySignature(){ze.f[7]++;ze.s[40]++;if(this._signatureVerified===undefined){ze.b[11][0]++;ze.s[41]++;this._signatureVerified=this.signature.verify(this.publicKey,this.serializeContent())}else ze.b[11][1]++;ze.s[42]++;return this._signatureVerified}get protocol(){ze.f[8]++;ze.s[43]++;return this._protocol}get services(){ze.f[9]++;ze.s[44]++;return this._services}get timestamp(){ze.f[10]++;ze.s[45]++;return this._timestamp}get netAddress(){ze.f[11]++;ze.s[46]++;return this._netAddress.isPseudo()?(ze.b[12][0]++,null):(ze.b[12][1]++,this._netAddress)}set netAddress(n){ze.f[12]++;ze.s[47]++;this._netAddress=(ze.b[13][0]++,n)||(ze.b[13][1]++,NetAddress.UNSPECIFIED)}get publicKey(){ze.f[13]++;ze.s[48]++;return this._publicKey}get peerId(){ze.f[14]++;ze.s[49]++;return this._publicKey?(ze.b[14][0]++,this._publicKey.toPeerId()):(ze.b[14][1]++,null)}get distance(){ze.f[15]++;ze.s[50]++;return this._distance}get signature(){ze.f[16]++;ze.s[51]++;return this._signature}set signature(n){ze.f[17]++;ze.s[52]++;if(0===this._distance){ze.b[15][1]++;ze.s[54]++;this._signature=n;ze.s[55]++;this._signatureVerified=undefined}else{ze.b[15][0]++;ze.s[53]++}}set distance(n){ze.f[18]++;ze.s[56]++;this._distance=n}isSeed(){ze.f[19]++;ze.s[57]++;return 0===this._timestamp}exceedsAge(){ze.f[20]++;ze.s[58]++;if(this.isSeed()){ze.b[16][0]++;ze.s[59]++;return!1}ze.b[16][1]++;const n=(ze.s[60]++,Date.now()-this.timestamp);ze.s[61]++;switch(this.protocol){case Protocol.WS:ze.b[17][0]++;ze.s[62]++;return n>PeerAddressBook.MAX_AGE_WEBSOCKET;case Protocol.RTC:ze.b[17][1]++;ze.s[63]++;return n>PeerAddressBook.MAX_AGE_WEBRTC;case Protocol.DUMB:ze.b[17][2]++;ze.s[64]++;return n>PeerAddressBook.MAX_AGE_DUMB}ze.s[65]++;return!1}}ze.s[66]++;Class.register(PeerAddress);class WsPeerAddress extends PeerAddress{static seed(n,e,l){ze.f[21]++;const t=(ze.s[67]++,l?(ze.b[18][0]++,new PublicKey(BufferUtils.fromHex(l))):(ze.b[18][1]++,null));ze.s[68]++;return new WsPeerAddress(Services.FULL,0,NetAddress.UNSPECIFIED,t,0,n,e)}constructor(n,e,l,t,o,i,c,s){ze.f[22]++;ze.s[69]++;super(Protocol.WS,n,e,l,t,o,s);ze.s[70]++;if(!i){ze.b[19][0]++;ze.s[71]++;throw new Error("Malformed host")}ze.b[19][1]++;ze.s[72]++;if(!NumberUtils.isUint16(c)){ze.b[20][0]++;ze.s[73]++;throw new Error("Malformed port")}ze.b[20][1]++;ze.s[74]++;this._host=i;ze.s[75]++;this._port=c}static unserialize(n){ze.f[23]++;const e=(ze.s[76]++,n.readUint32()),l=(ze.s[77]++,n.readUint64()),t=(ze.s[78]++,NetAddress.unserialize(n)),o=(ze.s[79]++,PublicKey.unserialize(n)),i=(ze.s[80]++,n.readUint8()),c=(ze.s[81]++,Signature.unserialize(n)),s=(ze.s[82]++,n.readVarLengthString()),u=(ze.s[83]++,n.readUint16());ze.s[84]++;return new WsPeerAddress(e,l,t,o,i,s,u,c)}serialize(n){ze.f[24]++;ze.s[85]++;n=(ze.b[21][0]++,n)||(ze.b[21][1]++,new SerialBuffer(this.serializedSize));ze.s[86]++;super.serialize(n);ze.s[87]++;n.writeVarLengthString(this._host);ze.s[88]++;n.writeUint16(this._port);ze.s[89]++;return n}serializeContent(n){ze.f[25]++;ze.s[90]++;n=(ze.b[22][0]++,n)||(ze.b[22][1]++,new SerialBuffer(this.serializedContentSize));ze.s[91]++;super.serializeContent(n);ze.s[92]++;n.writeVarLengthString(this._host);ze.s[93]++;n.writeUint16(this._port);ze.s[94]++;return n}globallyReachable(){ze.f[26]++;ze.s[95]++;return NetUtils.hostGloballyReachable(this.host)}get serializedSize(){ze.f[27]++;ze.s[96]++;return super.serializedSize+SerialBuffer.varLengthStringSize(this._host)+2}get serializedContentSize(){ze.f[28]++;ze.s[97]++;return super.serializedContentSize+SerialBuffer.varLengthStringSize(this._host)+2}equals(n){ze.f[29]++;ze.s[98]++;return(ze.b[23][0]++,super.equals(n))&&(ze.b[23][1]++,n instanceof WsPeerAddress)&&((ze.b[23][2]++,!!this.peerId)&&(ze.b[23][3]++,!!n.peerId)||(ze.b[23][4]++,this._host===n.host)&&(ze.b[23][5]++,this._port===n.port))}hashCode(){ze.f[30]++;ze.s[99]++;return this.peerId?(ze.b[24][0]++,`wss:///${this.peerId}`):(ze.b[24][1]++,`wss://${this._host}:${this._port}/`)}toString(){ze.f[31]++;ze.s[100]++;return`wss://${this._host}:${this._port}/${this.peerId?(ze.b[25][0]++,this.peerId):(ze.b[25][1]++,"")}`}withoutId(){ze.f[32]++;ze.s[101]++;return new WsPeerAddress(this.services,this.timestamp,this.netAddress,null,this.distance,this.host,this.port)}get host(){ze.f[33]++;ze.s[102]++;return this._host}get port(){ze.f[34]++;ze.s[103]++;return this._port}}ze.s[104]++;Class.register(WsPeerAddress);class RtcPeerAddress extends PeerAddress{constructor(n,e,l,t,o,i){ze.f[35]++;ze.s[105]++;super(Protocol.RTC,n,e,l,t,o,i)}static unserialize(n){ze.f[36]++;const e=(ze.s[106]++,n.readUint32()),l=(ze.s[107]++,n.readUint64()),t=(ze.s[108]++,NetAddress.unserialize(n)),o=(ze.s[109]++,PublicKey.unserialize(n)),i=(ze.s[110]++,n.readUint8()),c=(ze.s[111]++,Signature.unserialize(n));ze.s[112]++;return new RtcPeerAddress(e,l,t,o,i,c)}serialize(n){ze.f[37]++;ze.s[113]++;n=(ze.b[26][0]++,n)||(ze.b[26][1]++,new SerialBuffer(this.serializedSize));ze.s[114]++;super.serialize(n);ze.s[115]++;return n}get serializedSize(){ze.f[38]++;ze.s[116]++;return super.serializedSize}equals(n){ze.f[39]++;ze.s[117]++;return(ze.b[27][0]++,super.equals(n))&&(ze.b[27][1]++,n instanceof RtcPeerAddress)}hashCode(){ze.f[40]++;ze.s[118]++;return this.toString()}toString(){ze.f[41]++;ze.s[119]++;return`rtc:///${this.peerId}`}}ze.s[120]++;Class.register(RtcPeerAddress);class DumbPeerAddress extends PeerAddress{constructor(n,e,l,t,o,i){ze.f[42]++;ze.s[121]++;super(Protocol.DUMB,n,e,l,t,o,i)}static unserialize(n){ze.f[43]++;const e=(ze.s[122]++,n.readUint32()),l=(ze.s[123]++,n.readUint64()),t=(ze.s[124]++,NetAddress.unserialize(n)),o=(ze.s[125]++,PublicKey.unserialize(n)),i=(ze.s[126]++,n.readUint8()),c=(ze.s[127]++,Signature.unserialize(n));ze.s[128]++;return new DumbPeerAddress(e,l,t,o,i,c)}serialize(n){ze.f[44]++;ze.s[129]++;n=(ze.b[28][0]++,n)||(ze.b[28][1]++,new SerialBuffer(this.serializedSize));ze.s[130]++;super.serialize(n);ze.s[131]++;return n}get serializedSize(){ze.f[45]++;ze.s[132]++;return super.serializedSize}equals(n){ze.f[46]++;ze.s[133]++;return(ze.b[29][0]++,super.equals(n))&&(ze.b[29][1]++,n instanceof DumbPeerAddress)}hashCode(){ze.f[47]++;ze.s[134]++;return this.toString()}toString(){ze.f[48]++;ze.s[135]++;return`dumb:///${this.peerId}`}}ze.s[136]++;Class.register(DumbPeerAddress);var He=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/address/PeerAddressState.js",e="30165efe0bcc786fb713ed79369a09067f2fbd1a",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/address/PeerAddressState.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:39}},1:{start:{line:10,column:8},end:{line:10,column:42}},2:{start:{line:12,column:8},end:{line:12,column:32}},3:{start:{line:14,column:8},end:{line:14,column:30}},4:{start:{line:16,column:8},end:{line:16,column:65}},5:{start:{line:19,column:8},end:{line:19,column:59}},6:{start:{line:22,column:8},end:{line:22,column:33}},7:{start:{line:29,column:8},end:{line:29,column:37}},8:{start:{line:35,column:8},end:{line:35,column:38}},9:{start:{line:40,column:8},end:{line:40,column:34}},10:{start:{line:45,column:8},end:{line:52,column:9}},11:{start:{line:47,column:16},end:{line:47,column:63}},12:{start:{line:49,column:16},end:{line:49,column:62}},13:{start:{line:51,column:16},end:{line:51,column:25}},14:{start:{line:57,column:8},end:{line:61,column:9}},15:{start:{line:58,column:12},end:{line:58,column:63}},16:{start:{line:60,column:12},end:{line:60,column:40}},17:{start:{line:66,column:8},end:{line:71,column:9}},18:{start:{line:67,column:12},end:{line:67,column:64}},19:{start:{line:68,column:12},end:{line:68,column:49}},20:{start:{line:70,column:12},end:{line:70,column:41}},21:{start:{line:78,column:8},end:{line:78,column:26}},22:{start:{line:78,column:19},end:{line:78,column:26}},23:{start:{line:80,column:8},end:{line:84,column:9}},24:{start:{line:81,column:12},end:{line:81,column:71}},25:{start:{line:83,column:12},end:{line:83,column:42}},26:{start:{line:86,column:8},end:{line:88,column:9}},27:{start:{line:87,column:12},end:{line:87,column:19}},28:{start:{line:90,column:8},end:{line:96,column:9}},29:{start:{line:91,column:12},end:{line:91,column:49}},30:{start:{line:92,column:15},end:{line:96,column:9}},31:{start:{line:93,column:12},end:{line:93,column:49}},32:{start:{line:95,column:12},end:{line:95,column:48}},33:{start:{line:104,column:8},end:{line:105,column:54}},34:{start:{line:112,column:8},end:{line:112,column:43}},35:{start:{line:119,column:8},end:{line:121,column:49}},36:{start:{line:126,column:8},end:{line:126,column:29}},37:{start:{line:129,column:0},end:{line:129,column:25}},38:{start:{line:130,column:0},end:{line:130,column:33}},39:{start:{line:131,column:0},end:{line:131,column:27}},40:{start:{line:132,column:0},end:{line:132,column:28}},41:{start:{line:133,column:0},end:{line:133,column:28}},42:{start:{line:134,column:0},end:{line:134,column:33}},43:{start:{line:143,column:8},end:{line:143,column:39}},44:{start:{line:146,column:8},end:{line:146,column:31}},45:{start:{line:148,column:8},end:{line:148,column:37}},46:{start:{line:153,column:8},end:{line:153,column:31}},47:{start:{line:163,column:25},end:{line:163,column:56}},48:{start:{line:164,column:25},end:{line:164,column:76}},49:{start:{line:166,column:8},end:{line:169,column:9}},50:{start:{line:168,column:12},end:{line:168,column:62}},51:{start:{line:170,column:8},end:{line:170,column:35}},52:{start:{line:172,column:8},end:{line:178,column:9}},53:{start:{line:175,column:12},end:{line:175,column:39}},54:{start:{line:176,column:12},end:{line:176,column:65}},55:{start:{line:177,column:12},end:{line:177,column:24}},56:{start:{line:179,column:8},end:{line:179,column:21}},57:{start:{line:186,column:8},end:{line:188,column:9}},58:{start:{line:187,column:12},end:{line:187,column:60}},59:{start:{line:196,column:8},end:{line:196,column:43}},60:{start:{line:197,column:8},end:{line:199,column:9}},61:{start:{line:198,column:12},end:{line:198,column:35}},62:{start:{line:206,column:8},end:{line:206,column:31}},63:{start:{line:207,column:8},end:{line:207,column:37}},64:{start:{line:214,column:8},end:{line:214,column:39}},65:{start:{line:222,column:24},end:{line:222,column:28}},66:{start:{line:224,column:8},end:{line:230,column:9}},67:{start:{line:225,column:12},end:{line:229,column:13}},68:{start:{line:228,column:16},end:{line:228,column:34}},69:{start:{line:231,column:8},end:{line:231,column:36}},70:{start:{line:232,column:8},end:{line:236,column:9}},71:{start:{line:233,column:12},end:{line:233,column:65}},72:{start:{line:235,column:12},end:{line:235,column:73}},73:{start:{line:244,column:8},end:{line:245,column:54}},74:{start:{line:252,column:8},end:{line:252,column:43}},75:{start:{line:259,column:8},end:{line:261,column:49}},76:{start:{line:264,column:0},end:{line:264,column:29}},77:{start:{line:273,column:8},end:{line:273,column:32}},78:{start:{line:274,column:8},end:{line:274,column:35}},79:{start:{line:275,column:8},end:{line:275,column:44}},80:{start:{line:276,column:8},end:{line:276,column:34}},81:{start:{line:281,column:8},end:{line:281,column:35}},82:{start:{line:286,column:8},end:{line:286,column:30}},83:{start:{line:291,column:8},end:{line:291,column:141}},84:{start:{line:299,column:8},end:{line:300,column:60}},85:{start:{line:307,column:8},end:{line:307,column:46}},86:{start:{line:314,column:8},end:{line:314,column:163}},87:{start:{line:317,column:0},end:{line:317,column:28}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:29},end:{line:36,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:39,column:4},end:{line:39,column:5}},loc:{start:{line:39,column:23},end:{line:41,column:5}},line:39},2:{name:"(anonymous_2)",decl:{start:{line:44,column:4},end:{line:44,column:5}},loc:{start:{line:44,column:28},end:{line:53,column:5}},line:44},3:{name:"(anonymous_3)",decl:{start:{line:56,column:4},end:{line:56,column:5}},loc:{start:{line:56,column:25},end:{line:62,column:5}},line:56},4:{name:"(anonymous_4)",decl:{start:{line:65,column:4},end:{line:65,column:5}},loc:{start:{line:65,column:30},end:{line:72,column:5}},line:65},5:{name:"(anonymous_5)",decl:{start:{line:77,column:4},end:{line:77,column:5}},loc:{start:{line:77,column:16},end:{line:97,column:5}},line:77},6:{name:"(anonymous_6)",decl:{start:{line:103,column:4},end:{line:103,column:5}},loc:{start:{line:103,column:14},end:{line:106,column:5}},line:103},7:{name:"(anonymous_7)",decl:{start:{line:111,column:4},end:{line:111,column:5}},loc:{start:{line:111,column:15},end:{line:113,column:5}},line:111},8:{name:"(anonymous_8)",decl:{start:{line:118,column:4},end:{line:118,column:5}},loc:{start:{line:118,column:15},end:{line:122,column:5}},line:118},9:{name:"(anonymous_9)",decl:{start:{line:125,column:4},end:{line:125,column:5}},loc:{start:{line:125,column:18},end:{line:127,column:5}},line:125},10:{name:"(anonymous_10)",decl:{start:{line:141,column:4},end:{line:141,column:5}},loc:{start:{line:141,column:29},end:{line:149,column:5}},line:141},11:{name:"(anonymous_11)",decl:{start:{line:152,column:4},end:{line:152,column:5}},loc:{start:{line:152,column:20},end:{line:154,column:5}},line:152},12:{name:"(anonymous_12)",decl:{start:{line:162,column:4},end:{line:162,column:5}},loc:{start:{line:162,column:49},end:{line:180,column:5}},line:162},13:{name:"(anonymous_13)",decl:{start:{line:185,column:4},end:{line:185,column:5}},loc:{start:{line:185,column:22},end:{line:189,column:5}},line:185},14:{name:"(anonymous_14)",decl:{start:{line:195,column:4},end:{line:195,column:5}},loc:{start:{line:195,column:31},end:{line:200,column:5}},line:195},15:{name:"(anonymous_15)",decl:{start:{line:205,column:4},end:{line:205,column:5}},loc:{start:{line:205,column:22},end:{line:208,column:5}},line:205},16:{name:"(anonymous_16)",decl:{start:{line:213,column:4},end:{line:213,column:5}},loc:{start:{line:213,column:15},end:{line:215,column:5}},line:213},17:{name:"(anonymous_17)",decl:{start:{line:221,column:4},end:{line:221,column:5}},loc:{start:{line:221,column:22},end:{line:237,column:5}},line:221},18:{name:"(anonymous_18)",decl:{start:{line:243,column:4},end:{line:243,column:5}},loc:{start:{line:243,column:14},end:{line:246,column:5}},line:243},19:{name:"(anonymous_19)",decl:{start:{line:251,column:4},end:{line:251,column:5}},loc:{start:{line:251,column:15},end:{line:253,column:5}},line:251},20:{name:"(anonymous_20)",decl:{start:{line:258,column:4},end:{line:258,column:5}},loc:{start:{line:258,column:15},end:{line:262,column:5}},line:258},21:{name:"(anonymous_21)",decl:{start:{line:272,column:4},end:{line:272,column:5}},loc:{start:{line:272,column:52},end:{line:277,column:5}},line:272},22:{name:"(anonymous_22)",decl:{start:{line:280,column:4},end:{line:280,column:5}},loc:{start:{line:280,column:24},end:{line:282,column:5}},line:280},23:{name:"(anonymous_23)",decl:{start:{line:285,column:4},end:{line:285,column:5}},loc:{start:{line:285,column:19},end:{line:287,column:5}},line:285},24:{name:"(anonymous_24)",decl:{start:{line:290,column:4},end:{line:290,column:5}},loc:{start:{line:290,column:16},end:{line:292,column:5}},line:290},25:{name:"(anonymous_25)",decl:{start:{line:298,column:4},end:{line:298,column:5}},loc:{start:{line:298,column:14},end:{line:301,column:5}},line:298},26:{name:"(anonymous_26)",decl:{start:{line:306,column:4},end:{line:306,column:5}},loc:{start:{line:306,column:15},end:{line:308,column:5}},line:306},27:{name:"(anonymous_27)",decl:{start:{line:313,column:4},end:{line:313,column:5}},loc:{start:{line:313,column:15},end:{line:315,column:5}},line:313}},branchMap:{0:{loc:{start:{line:45,column:8},end:{line:52,column:9}},type:"switch",locations:[{start:{line:46,column:12},end:{line:47,column:63}},{start:{line:48,column:12},end:{line:49,column:62}},{start:{line:50,column:12},end:{line:51,column:25}}],line:45},1:{loc:{start:{line:57,column:8},end:{line:61,column:9}},type:"if",locations:[{start:{line:57,column:8},end:{line:61,column:9}},{start:{line:57,column:8},end:{line:61,column:9}}],line:57},2:{loc:{start:{line:66,column:8},end:{line:71,column:9}},type:"if",locations:[{start:{line:66,column:8},end:{line:71,column:9}},{start:{line:66,column:8},end:{line:71,column:9}}],line:66},3:{loc:{start:{line:78,column:8},end:{line:78,column:26}},type:"if",locations:[{start:{line:78,column:8},end:{line:78,column:26}},{start:{line:78,column:8},end:{line:78,column:26}}],line:78},4:{loc:{start:{line:80,column:8},end:{line:84,column:9}},type:"if",locations:[{start:{line:80,column:8},end:{line:84,column:9}},{start:{line:80,column:8},end:{line:84,column:9}}],line:80},5:{loc:{start:{line:86,column:8},end:{line:88,column:9}},type:"if",locations:[{start:{line:86,column:8},end:{line:88,column:9}},{start:{line:86,column:8},end:{line:88,column:9}}],line:86},6:{loc:{start:{line:90,column:8},end:{line:96,column:9}},type:"if",locations:[{start:{line:90,column:8},end:{line:96,column:9}},{start:{line:90,column:8},end:{line:96,column:9}}],line:90},7:{loc:{start:{line:92,column:15},end:{line:96,column:9}},type:"if",locations:[{start:{line:92,column:15},end:{line:96,column:9}},{start:{line:92,column:15},end:{line:96,column:9}}],line:92},8:{loc:{start:{line:104,column:15},end:{line:105,column:53}},type:"binary-expr",locations:[{start:{line:104,column:15},end:{line:104,column:44}},{start:{line:105,column:15},end:{line:105,column:53}}],line:104},9:{loc:{start:{line:166,column:8},end:{line:169,column:9}},type:"if",locations:[{start:{line:166,column:8},end:{line:169,column:9}},{start:{line:166,column:8},end:{line:169,column:9}}],line:166},10:{loc:{start:{line:172,column:8},end:{line:178,column:9}},type:"if",locations:[{start:{line:172,column:8},end:{line:178,column:9}},{start:{line:172,column:8},end:{line:178,column:9}}],line:172},11:{loc:{start:{line:172,column:12},end:{line:173,column:98}},type:"binary-expr",locations:[{start:{line:172,column:12},end:{line:172,column:28}},{start:{line:172,column:32},end:{line:172,column:70}},{start:{line:173,column:16},end:{line:173,column:56}},{start:{line:173,column:60},end:{line:173,column:97}}],line:172},12:{loc:{start:{line:186,column:8},end:{line:188,column:9}},type:"if",locations:[{start:{line:186,column:8},end:{line:188,column:9}},{start:{line:186,column:8},end:{line:188,column:9}}],line:186},13:{loc:{start:{line:197,column:8},end:{line:199,column:9}},type:"if",locations:[{start:{line:197,column:8},end:{line:199,column:9}},{start:{line:197,column:8},end:{line:199,column:9}}],line:197},14:{loc:{start:{line:197,column:12},end:{line:197,column:82}},type:"binary-expr",locations:[{start:{line:197,column:12},end:{line:197,column:27}},{start:{line:197,column:31},end:{line:197,column:82}}],line:197},15:{loc:{start:{line:225,column:12},end:{line:229,column:13}},type:"if",locations:[{start:{line:225,column:12},end:{line:229,column:13}},{start:{line:225,column:12},end:{line:229,column:13}}],line:225},16:{loc:{start:{line:225,column:16},end:{line:226,column:93}},type:"binary-expr",locations:[{start:{line:225,column:16},end:{line:225,column:34}},{start:{line:225,column:38},end:{line:225,column:67}},{start:{line:226,column:20},end:{line:226,column:51}},{start:{line:226,column:55},end:{line:226,column:92}}],line:225},17:{loc:{start:{line:232,column:8},end:{line:236,column:9}},type:"if",locations:[{start:{line:232,column:8},end:{line:236,column:9}},{start:{line:232,column:8},end:{line:236,column:9}}],line:232},18:{loc:{start:{line:244,column:15},end:{line:245,column:53}},type:"binary-expr",locations:[{start:{line:244,column:15},end:{line:244,column:44}},{start:{line:245,column:15},end:{line:245,column:53}}],line:244},19:{loc:{start:{line:299,column:15},end:{line:300,column:59}},type:"binary-expr",locations:[{start:{line:299,column:15},end:{line:299,column:39}},{start:{line:300,column:15},end:{line:300,column:59}}],line:299}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0,0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0,0,0],17:[0,0],18:[0,0],19:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class PeerAddressState{constructor(n){He.f[0]++;He.s[0]++;this.peerAddress=n;He.s[1]++;this.state=PeerAddressState.NEW;He.s[2]++;this.lastConnected=-1;He.s[3]++;this.bannedUntil=-1;He.s[4]++;this.banBackoff=PeerAddressBook.INITIAL_FAILED_BACKOFF;He.s[5]++;this._signalRouter=new SignalRouter(n);He.s[6]++;this._failedAttempts=0;He.s[7]++;this._closeTypes=new Map;He.s[8]++;this._addedBy=new HashSet}get signalRouter(){He.f[1]++;He.s[9]++;return this._signalRouter}get maxFailedAttempts(){He.f[2]++;He.s[10]++;switch(this.peerAddress.protocol){case Protocol.RTC:He.b[0][0]++;He.s[11]++;return PeerAddressBook.MAX_FAILED_ATTEMPTS_RTC;case Protocol.WS:He.b[0][1]++;He.s[12]++;return PeerAddressBook.MAX_FAILED_ATTEMPTS_WS;default:He.b[0][2]++;He.s[13]++;return 0}}get failedAttempts(){He.f[3]++;He.s[14]++;if(this._signalRouter.bestRoute){He.b[1][0]++;He.s[15]++;return this._signalRouter.bestRoute.failedAttempts}He.b[1][1]++;He.s[16]++;return this._failedAttempts}set failedAttempts(n){He.f[4]++;He.s[17]++;if(this._signalRouter.bestRoute){He.b[2][0]++;He.s[18]++;this._signalRouter.bestRoute.failedAttempts=n;He.s[19]++;this._signalRouter.updateBestRoute()}else{He.b[2][1]++;He.s[20]++;this._failedAttempts=n}}close(n){He.f[5]++;He.s[21]++;if(n){He.b[3][1]++;He.s[23]++;if(this._closeTypes.has(n)){He.b[4][0]++;He.s[24]++;this._closeTypes.set(n,this._closeTypes.get(n)+1)}else{He.b[4][1]++;He.s[25]++;this._closeTypes.set(n,1)}He.s[26]++;if(this.state!==PeerAddressState.BANNED){He.b[5][1]++;He.s[28]++;if(CloseType.isBanningType(n)){He.b[6][0]++;He.s[29]++;this.state=PeerAddressState.BANNED}else{He.b[6][1]++;He.s[30]++;if(CloseType.isFailingType(n)){He.b[7][0]++;He.s[31]++;this.state=PeerAddressState.FAILED}else{He.b[7][1]++;He.s[32]++;this.state=PeerAddressState.TRIED}}}else{He.b[5][0]++;He.s[27]++}}else{He.b[3][0]++;He.s[22]++}}equals(n){He.f[6]++;He.s[33]++;return(He.b[8][0]++,n instanceof PeerAddressState)&&(He.b[8][1]++,this.peerAddress.equals(n.peerAddress))}hashCode(){He.f[7]++;He.s[34]++;return this.peerAddress.hashCode()}toString(){He.f[8]++;He.s[35]++;return`PeerAddressState{peerAddress=${this.peerAddress}, state=${this.state}, `+`lastConnected=${this.lastConnected}, failedAttempts=${this.failedAttempts}, `+`bannedUntil=${this.bannedUntil}}`}get addedBy(){He.f[9]++;He.s[36]++;return this._addedBy}}He.s[37]++;PeerAddressState.NEW=1;He.s[38]++;PeerAddressState.ESTABLISHED=2;He.s[39]++;PeerAddressState.TRIED=3;He.s[40]++;PeerAddressState.FAILED=4;He.s[41]++;PeerAddressState.BANNED=5;He.s[42]++;Class.register(PeerAddressState);class SignalRouter{constructor(n){He.f[10]++;He.s[43]++;this.peerAddress=n;He.s[44]++;this._bestRoute=null;He.s[45]++;this._routes=new HashSet}get bestRoute(){He.f[11]++;He.s[46]++;return this._bestRoute}addRoute(n,e,l){He.f[12]++;const t=(He.s[47]++,this._routes.get(n)),o=(He.s[48]++,new SignalRoute(n,e,l));He.s[49]++;if(t){He.b[9][0]++;He.s[50]++;o.failedAttempts=t.failedAttempts}else He.b[9][1]++;He.s[51]++;this._routes.add(o);He.s[52]++;if((He.b[11][0]++,!this._bestRoute)||(He.b[11][1]++,o.score>this._bestRoute.score)||(He.b[11][2]++,o.score===this._bestRoute.score)&&(He.b[11][3]++,l>this._bestRoute.timestamp)){He.b[10][0]++;He.s[53]++;this._bestRoute=o;He.s[54]++;this.peerAddress.distance=this._bestRoute.distance;He.s[55]++;return!0}He.b[10][1]++;He.s[56]++;return!1}deleteBestRoute(){He.f[13]++;He.s[57]++;if(this._bestRoute){He.b[12][0]++;He.s[58]++;this.deleteRoute(this._bestRoute.signalChannel)}else He.b[12][1]++}deleteRoute(n){He.f[14]++;He.s[59]++;this._routes.remove(n);He.s[60]++;if((He.b[14][0]++,this._bestRoute)&&(He.b[14][1]++,this._bestRoute.signalChannel.equals(n))){He.b[13][0]++;He.s[61]++;this.updateBestRoute()}else He.b[13][1]++}deleteAllRoutes(){He.f[15]++;He.s[62]++;this._bestRoute=null;He.s[63]++;this._routes=new HashSet}hasRoute(){He.f[16]++;He.s[64]++;return this._routes.length>0}updateBestRoute(){He.f[17]++;let n=(He.s[65]++,null);He.s[66]++;for(const e of this._routes.values()){He.s[67]++;if((He.b[16][0]++,null===n)||(He.b[16][1]++,e.score>n.score)||(He.b[16][2]++,e.score===n.score)&&(He.b[16][3]++,e.timestamp>n.timestamp)){He.b[15][0]++;He.s[68]++;n=e}else He.b[15][1]++}He.s[69]++;this._bestRoute=n;He.s[70]++;if(this._bestRoute){He.b[17][0]++;He.s[71]++;this.peerAddress.distance=this._bestRoute.distance}else{He.b[17][1]++;He.s[72]++;this.peerAddress.distance=PeerAddressBook.MAX_DISTANCE+1}}equals(n){He.f[18]++;He.s[73]++;return(He.b[18][0]++,n instanceof PeerAddressState)&&(He.b[18][1]++,this.peerAddress.equals(n.peerAddress))}hashCode(){He.f[19]++;He.s[74]++;return this.peerAddress.hashCode()}toString(){He.f[20]++;He.s[75]++;return`PeerAddressState{peerAddress=${this.peerAddress}, state=${this.state}, `+`lastConnected=${this.lastConnected}, failedAttempts=${this.failedAttempts}, `+`bannedUntil=${this.bannedUntil}}`}}He.s[76]++;Class.register(SignalRouter);class SignalRoute{constructor(n,e,l){He.f[21]++;He.s[77]++;this.failedAttempts=0;He.s[78]++;this.timestamp=l;He.s[79]++;this._signalChannel=n;He.s[80]++;this._distance=e}get signalChannel(){He.f[22]++;He.s[81]++;return this._signalChannel}get distance(){He.f[23]++;He.s[82]++;return this._distance}get score(){He.f[24]++;He.s[83]++;return(PeerAddressBook.MAX_DISTANCE-this._distance)/2*(1-this.failedAttempts/PeerAddressBook.MAX_FAILED_ATTEMPTS_RTC)}equals(n){He.f[25]++;He.s[84]++;return(He.b[19][0]++,n instanceof SignalRoute)&&(He.b[19][1]++,this._signalChannel.equals(n._signalChannel))}hashCode(){He.f[26]++;He.s[85]++;return this._signalChannel.hashCode()}toString(){He.f[27]++;He.s[86]++;return`SignalRoute{signalChannel=${this._signalChannel}, distance=${this._distance}, timestamp=${this.timestamp}, failedAttempts=${this.failedAttempts}}`}}He.s[87]++;Class.register(SignalRoute);var qe=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/address/PeerAddressBook.js",e="a73d6a4ba20baa7b029f726062a573569b1cfbc7",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/address/PeerAddressBook.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:16}},1:{start:{line:13,column:8},end:{line:13,column:40}},2:{start:{line:20,column:8},end:{line:20,column:36}},3:{start:{line:27,column:8},end:{line:27,column:44}},4:{start:{line:33,column:8},end:{line:33,column:49}},5:{start:{line:36,column:8},end:{line:36,column:61}},6:{start:{line:39,column:8},end:{line:39,column:87}},7:{start:{line:39,column:26},end:{line:39,column:46}},8:{start:{line:46,column:8},end:{line:46,column:36}},9:{start:{line:55,column:8},end:{line:58,column:9}},10:{start:{line:56,column:37},end:{line:56,column:77}},11:{start:{line:57,column:12},end:{line:57,column:58}},12:{start:{line:57,column:34},end:{line:57,column:58}},13:{start:{line:59,column:8},end:{line:59,column:44}},14:{start:{line:67,column:8},end:{line:67,column:38}},15:{start:{line:76,column:33},end:{line:76,column:55}},16:{start:{line:77,column:8},end:{line:77,column:70}},17:{start:{line:86,column:33},end:{line:86,column:64}},18:{start:{line:87,column:8},end:{line:87,column:70}},19:{start:{line:95,column:33},end:{line:95,column:64}},20:{start:{line:96,column:8},end:{line:98,column:9}},21:{start:{line:97,column:12},end:{line:97,column:73}},22:{start:{line:99,column:8},end:{line:99,column:20}},23:{start:{line:109,column:30},end:{line:109,column:50}},24:{start:{line:110,column:29},end:{line:110,column:49}},25:{start:{line:113,column:22},end:{line:113,column:62}},26:{start:{line:116,column:20},end:{line:116,column:30}},27:{start:{line:117,column:26},end:{line:117,column:28}},28:{start:{line:118,column:8},end:{line:164,column:9}},29:{start:{line:119,column:24},end:{line:119,column:50}},30:{start:{line:120,column:37},end:{line:120,column:55}},31:{start:{line:123,column:12},end:{line:126,column:13}},32:{start:{line:125,column:16},end:{line:125,column:25}},33:{start:{line:129,column:28},end:{line:129,column:56}},34:{start:{line:130,column:12},end:{line:132,column:13}},35:{start:{line:131,column:16},end:{line:131,column:25}},36:{start:{line:135,column:12},end:{line:137,column:13}},37:{start:{line:136,column:16},end:{line:136,column:25}},38:{start:{line:140,column:12},end:{line:142,column:13}},39:{start:{line:141,column:16},end:{line:141,column:25}},40:{start:{line:145,column:12},end:{line:150,column:13}},41:{start:{line:147,column:16},end:{line:149,column:17}},42:{start:{line:148,column:20},end:{line:148,column:76}},43:{start:{line:153,column:12},end:{line:155,column:13}},44:{start:{line:154,column:16},end:{line:154,column:25}},45:{start:{line:158,column:12},end:{line:158,column:36}},46:{start:{line:161,column:12},end:{line:163,column:13}},47:{start:{line:162,column:16},end:{line:162,column:22}},48:{start:{line:165,column:8},end:{line:165,column:25}},49:{start:{line:174,column:30},end:{line:174,column:62}},50:{start:{line:175,column:29},end:{line:175,column:31}},51:{start:{line:177,column:8},end:{line:181,column:9}},52:{start:{line:178,column:12},end:{line:180,column:13}},53:{start:{line:179,column:16},end:{line:179,column:40}},54:{start:{line:184,column:8},end:{line:186,column:9}},55:{start:{line:185,column:12},end:{line:185,column:51}},56:{start:{line:197,column:8},end:{line:199,column:9}},57:{start:{line:198,column:12},end:{line:198,column:25}},58:{start:{line:202,column:8},end:{line:204,column:9}},59:{start:{line:203,column:12},end:{line:203,column:25}},60:{start:{line:208,column:8},end:{line:211,column:9}},61:{start:{line:209,column:12},end:{line:209,column:117}},62:{start:{line:210,column:12},end:{line:210,column:25}},63:{start:{line:214,column:8},end:{line:217,column:9}},64:{start:{line:215,column:12},end:{line:215,column:98}},65:{start:{line:216,column:12},end:{line:216,column:25}},66:{start:{line:220,column:8},end:{line:233,column:9}},67:{start:{line:221,column:12},end:{line:221,column:35}},68:{start:{line:224,column:12},end:{line:232,column:13}},69:{start:{line:225,column:16},end:{line:225,column:98}},70:{start:{line:227,column:41},end:{line:227,column:63}},71:{start:{line:228,column:16},end:{line:230,column:17}},72:{start:{line:229,column:20},end:{line:229,column:71}},73:{start:{line:231,column:16},end:{line:231,column:29}},74:{start:{line:236,column:27},end:{line:236,column:115}},75:{start:{line:239,column:31},end:{line:239,column:53}},76:{start:{line:240,column:27},end:{line:240,column:31}},77:{start:{line:241,column:22},end:{line:241,column:27}},78:{start:{line:242,column:8},end:{line:277,column:9}},79:{start:{line:243,column:12},end:{line:243,column:56}},80:{start:{line:246,column:12},end:{line:248,column:13}},81:{start:{line:247,column:16},end:{line:247,column:29}},82:{start:{line:251,column:12},end:{line:253,column:13}},83:{start:{line:252,column:16},end:{line:252,column:29}},84:{start:{line:256,column:12},end:{line:258,column:13}},85:{start:{line:257,column:16},end:{line:257,column:65}},86:{start:{line:261,column:12},end:{line:267,column:13}},87:{start:{line:262,column:31},end:{line:262,column:71}},88:{start:{line:263,column:16},end:{line:266,column:17}},89:{start:{line:264,column:20},end:{line:264,column:119}},90:{start:{line:265,column:20},end:{line:265,column:33}},91:{start:{line:270,column:12},end:{line:270,column:65}},92:{start:{line:271,column:12},end:{line:271,column:46}},93:{start:{line:272,column:12},end:{line:275,column:13}},94:{start:{line:274,column:16},end:{line:274,column:78}},95:{start:{line:276,column:12},end:{line:276,column:27}},96:{start:{line:280,column:8},end:{line:283,column:9}},97:{start:{line:281,column:12},end:{line:281,column:55}},98:{start:{line:282,column:12},end:{line:282,column:27}},99:{start:{line:286,column:8},end:{line:288,column:9}},100:{start:{line:287,column:12},end:{line:287,column:126}},101:{start:{line:291,column:8},end:{line:300,column:9}},102:{start:{line:292,column:12},end:{line:292,column:61}},103:{start:{line:294,column:25},end:{line:294,column:73}},104:{start:{line:295,column:12},end:{line:298,column:13}},105:{start:{line:296,column:16},end:{line:296,column:35}},106:{start:{line:297,column:16},end:{line:297,column:73}},107:{start:{line:299,column:12},end:{line:299,column:41}},108:{start:{line:302,column:8},end:{line:302,column:23}},109:{start:{line:315,column:31},end:{line:315,column:53}},110:{start:{line:317,column:8},end:{line:321,column:9}},111:{start:{line:318,column:12},end:{line:318,column:65}},112:{start:{line:320,column:12},end:{line:320,column:46}},113:{start:{line:323,column:8},end:{line:325,column:9}},114:{start:{line:324,column:12},end:{line:324,column:74}},115:{start:{line:327,column:8},end:{line:327,column:62}},116:{start:{line:328,column:8},end:{line:328,column:52}},117:{start:{line:329,column:8},end:{line:329,column:44}},118:{start:{line:330,column:8},end:{line:330,column:42}},119:{start:{line:331,column:8},end:{line:331,column:77}},120:{start:{line:333,column:8},end:{line:335,column:9}},121:{start:{line:334,column:12},end:{line:334,column:55}},122:{start:{line:338,column:8},end:{line:340,column:9}},123:{start:{line:339,column:12},end:{line:339,column:105}},124:{start:{line:351,column:33},end:{line:351,column:55}},125:{start:{line:352,column:8},end:{line:354,column:9}},126:{start:{line:353,column:12},end:{line:353,column:19}},127:{start:{line:357,column:8},end:{line:357,column:37}},128:{start:{line:360,column:8},end:{line:362,column:9}},129:{start:{line:361,column:12},end:{line:361,column:49}},130:{start:{line:364,column:8},end:{line:379,column:9}},131:{start:{line:365,column:12},end:{line:365,column:35}},132:{start:{line:367,column:13},end:{line:379,column:9}},133:{start:{line:368,column:12},end:{line:368,column:46}},134:{start:{line:370,column:12},end:{line:378,column:13}},135:{start:{line:372,column:16},end:{line:377,column:17}},136:{start:{line:373,column:20},end:{line:373,column:46}},137:{start:{line:375,column:20},end:{line:375,column:92}},138:{start:{line:376,column:20},end:{line:376,column:128}},139:{start:{line:382,column:8},end:{line:384,column:9}},140:{start:{line:383,column:12},end:{line:383,column:38}},141:{start:{line:394,column:8},end:{line:396,column:9}},142:{start:{line:395,column:12},end:{line:395,column:19}},143:{start:{line:398,column:33},end:{line:398,column:55}},144:{start:{line:399,column:8},end:{line:401,column:9}},145:{start:{line:400,column:12},end:{line:400,column:19}},146:{start:{line:403,column:8},end:{line:406,column:9}},147:{start:{line:404,column:12},end:{line:404,column:112}},148:{start:{line:405,column:12},end:{line:405,column:19}},149:{start:{line:408,column:8},end:{line:408,column:56}},150:{start:{line:409,column:8},end:{line:411,column:9}},151:{start:{line:410,column:12},end:{line:410,column:55}},152:{start:{line:421,column:31},end:{line:421,column:53}},153:{start:{line:422,column:8},end:{line:425,column:9}},154:{start:{line:423,column:12},end:{line:423,column:65}},155:{start:{line:424,column:12},end:{line:424,column:46}},156:{start:{line:427,column:8},end:{line:427,column:57}},157:{start:{line:428,column:8},end:{line:428,column:61}},158:{start:{line:431,column:8},end:{line:431,column:56}},159:{start:{line:439,column:33},end:{line:439,column:55}},160:{start:{line:440,column:8},end:{line:446,column:54}},161:{start:{line:455,column:33},end:{line:455,column:55}},162:{start:{line:456,column:8},end:{line:458,column:9}},163:{start:{line:457,column:12},end:{line:457,column:19}},164:{start:{line:461,column:8},end:{line:464,column:9}},165:{start:{line:462,column:12},end:{line:462,column:64}},166:{start:{line:463,column:12},end:{line:463,column:19}},167:{start:{line:467,column:8},end:{line:469,column:9}},168:{start:{line:468,column:12},end:{line:468,column:59}},169:{start:{line:472,column:8},end:{line:480,column:9}},170:{start:{line:473,column:27},end:{line:473,column:67}},171:{start:{line:474,column:12},end:{line:479,column:13}},172:{start:{line:475,column:16},end:{line:475,column:48}},173:{start:{line:476,column:16},end:{line:478,column:17}},174:{start:{line:477,column:20},end:{line:477,column:64}},175:{start:{line:483,column:8},end:{line:485,column:9}},176:{start:{line:484,column:12},end:{line:484,column:19}},177:{start:{line:488,column:8},end:{line:488,column:40}},178:{start:{line:499,column:8},end:{line:506,column:9}},179:{start:{line:500,column:12},end:{line:505,column:13}},180:{start:{line:501,column:16},end:{line:501,column:67}},181:{start:{line:502,column:16},end:{line:504,column:17}},182:{start:{line:503,column:20},end:{line:503,column:63}},183:{start:{line:514,column:20},end:{line:514,column:30}},184:{start:{line:515,column:34},end:{line:515,column:36}},185:{start:{line:517,column:8},end:{line:569,column:9}},186:{start:{line:518,column:25},end:{line:518,column:53}},187:{start:{line:520,column:12},end:{line:568,column:13}},188:{start:{line:525,column:20},end:{line:528,column:21}},189:{start:{line:526,column:24},end:{line:526,column:43}},190:{start:{line:527,column:24},end:{line:527,column:33}},191:{start:{line:531,column:20},end:{line:538,column:21}},192:{start:{line:535,column:24},end:{line:535,column:58}},193:{start:{line:536,column:24},end:{line:536,column:60}},194:{start:{line:537,column:24},end:{line:537,column:53}},195:{start:{line:540,column:20},end:{line:540,column:26}},196:{start:{line:543,column:20},end:{line:555,column:21}},197:{start:{line:545,column:24},end:{line:554,column:25}},198:{start:{line:547,column:28},end:{line:547,column:74}},199:{start:{line:548,column:28},end:{line:548,column:64}},200:{start:{line:549,column:28},end:{line:549,column:62}},201:{start:{line:550,column:28},end:{line:550,column:57}},202:{start:{line:553,column:28},end:{line:553,column:53}},203:{start:{line:556,column:20},end:{line:556,column:26}},204:{start:{line:560,column:20},end:{line:562,column:21}},205:{start:{line:561,column:24},end:{line:561,column:80}},206:{start:{line:563,column:20},end:{line:563,column:26}},207:{start:{line:571,column:8},end:{line:573,column:9}},208:{start:{line:572,column:12},end:{line:572,column:56}},209:{start:{line:578,column:8},end:{line:578,column:34}},210:{start:{line:581,column:0},end:{line:581,column:51}},211:{start:{line:582,column:0},end:{line:582,column:48}},212:{start:{line:583,column:0},end:{line:583,column:41}},213:{start:{line:584,column:0},end:{line:584,column:33}},214:{start:{line:585,column:0},end:{line:585,column:43}},215:{start:{line:586,column:0},end:{line:586,column:44}},216:{start:{line:587,column:0},end:{line:587,column:53}},217:{start:{line:588,column:0},end:{line:588,column:50}},218:{start:{line:589,column:0},end:{line:589,column:50}},219:{start:{line:590,column:0},end:{line:590,column:51}},220:{start:{line:591,column:0},end:{line:591,column:52}},221:{start:{line:592,column:0},end:{line:592,column:70}},222:{start:{line:593,column:0},end:{line:593,column:38}},223:{start:{line:594,column:0},end:{line:594,column:32}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:27},end:{line:40,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:39,column:20},end:{line:39,column:21}},loc:{start:{line:39,column:26},end:{line:39,column:46}},line:39},2:{name:"(anonymous_2)",decl:{start:{line:45,column:4},end:{line:45,column:5}},loc:{start:{line:45,column:13},end:{line:47,column:5}},line:45},3:{name:"(anonymous_3)",decl:{start:{line:54,column:4},end:{line:54,column:5}},loc:{start:{line:54,column:22},end:{line:60,column:5}},line:54},4:{name:"(anonymous_4)",decl:{start:{line:66,column:4},end:{line:66,column:5}},loc:{start:{line:66,column:26},end:{line:68,column:5}},line:66},5:{name:"(anonymous_5)",decl:{start:{line:74,column:4},end:{line:74,column:5}},loc:{start:{line:74,column:21},end:{line:78,column:5}},line:74},6:{name:"(anonymous_6)",decl:{start:{line:84,column:4},end:{line:84,column:5}},loc:{start:{line:84,column:24},end:{line:88,column:5}},line:84},7:{name:"(anonymous_7)",decl:{start:{line:94,column:4},end:{line:94,column:5}},loc:{start:{line:94,column:31},end:{line:100,column:5}},line:94},8:{name:"(anonymous_8)",decl:{start:{line:108,column:4},end:{line:108,column:5}},loc:{start:{line:108,column:58},end:{line:166,column:5}},line:108},9:{name:"(anonymous_9)",decl:{start:{line:173,column:4},end:{line:173,column:5}},loc:{start:{line:173,column:22},end:{line:187,column:5}},line:173},10:{name:"(anonymous_10)",decl:{start:{line:195,column:4},end:{line:195,column:5}},loc:{start:{line:195,column:31},end:{line:303,column:5}},line:195},11:{name:"(anonymous_11)",decl:{start:{line:314,column:4},end:{line:314,column:5}},loc:{start:{line:314,column:38},end:{line:341,column:5}},line:314},12:{name:"(anonymous_12)",decl:{start:{line:350,column:4},end:{line:350,column:5}},loc:{start:{line:350,column:45},end:{line:385,column:5}},line:350},13:{name:"(anonymous_13)",decl:{start:{line:393,column:4},end:{line:393,column:5}},loc:{start:{line:393,column:37},end:{line:412,column:5}},line:393},14:{name:"(anonymous_14)",decl:{start:{line:420,column:4},end:{line:420,column:5}},loc:{start:{line:420,column:67},end:{line:432,column:5}},line:420},15:{name:"(anonymous_15)",decl:{start:{line:438,column:4},end:{line:438,column:5}},loc:{start:{line:438,column:26},end:{line:447,column:5}},line:438},16:{name:"(anonymous_16)",decl:{start:{line:454,column:4},end:{line:454,column:5}},loc:{start:{line:454,column:25},end:{line:489,column:5}},line:454},17:{name:"(anonymous_17)",decl:{start:{line:497,column:4},end:{line:497,column:5}},loc:{start:{line:497,column:36},end:{line:507,column:5}},line:497},18:{name:"(anonymous_18)",decl:{start:{line:513,column:4},end:{line:513,column:5}},loc:{start:{line:513,column:20},end:{line:574,column:5}},line:513},19:{name:"(anonymous_19)",decl:{start:{line:577,column:4},end:{line:577,column:5}},loc:{start:{line:577,column:30},end:{line:579,column:5}},line:577}},branchMap:{0:{loc:{start:{line:55,column:8},end:{line:58,column:9}},type:"if",locations:[{start:{line:55,column:8},end:{line:58,column:9}},{start:{line:55,column:8},end:{line:58,column:9}}],line:55},1:{loc:{start:{line:57,column:12},end:{line:57,column:58}},type:"if",locations:[{start:{line:57,column:12},end:{line:57,column:58}},{start:{line:57,column:12},end:{line:57,column:58}}],line:57},2:{loc:{start:{line:77,column:15},end:{line:77,column:69}},type:"cond-expr",locations:[{start:{line:77,column:34},end:{line:77,column:62}},{start:{line:77,column:65},end:{line:77,column:69}}],line:77},3:{loc:{start:{line:87,column:15},end:{line:87,column:69}},type:"cond-expr",locations:[{start:{line:87,column:34},end:{line:87,column:62}},{start:{line:87,column:65},end:{line:87,column:69}}],line:87},4:{loc:{start:{line:96,column:8},end:{line:98,column:9}},type:"if",locations:[{start:{line:96,column:8},end:{line:98,column:9}},{start:{line:96,column:8},end:{line:98,column:9}}],line:96},5:{loc:{start:{line:96,column:12},end:{line:96,column:71}},type:"binary-expr",locations:[{start:{line:96,column:12},end:{line:96,column:28}},{start:{line:96,column:32},end:{line:96,column:71}}],line:96},6:{loc:{start:{line:108,column:37},end:{line:108,column:56}},type:"default-arg",locations:[{start:{line:108,column:52},end:{line:108,column:56}}],line:108},7:{loc:{start:{line:123,column:12},end:{line:126,column:13}},type:"if",locations:[{start:{line:123,column:12},end:{line:126,column:13}},{start:{line:123,column:12},end:{line:126,column:13}}],line:123},8:{loc:{start:{line:123,column:16},end:{line:124,column:73}},type:"binary-expr",locations:[{start:{line:123,column:16},end:{line:123,column:66}},{start:{line:124,column:23},end:{line:124,column:73}}],line:123},9:{loc:{start:{line:130,column:12},end:{line:132,column:13}},type:"if",locations:[{start:{line:130,column:12},end:{line:132,column:13}},{start:{line:130,column:12},end:{line:132,column:13}}],line:130},10:{loc:{start:{line:135,column:12},end:{line:137,column:13}},type:"if",locations:[{start:{line:135,column:12},end:{line:137,column:13}},{start:{line:135,column:12},end:{line:137,column:13}}],line:135},11:{loc:{start:{line:140,column:12},end:{line:142,column:13}},type:"if",locations:[{start:{line:140,column:12},end:{line:142,column:13}},{start:{line:140,column:12},end:{line:142,column:13}}],line:140},12:{loc:{start:{line:145,column:12},end:{line:150,column:13}},type:"if",locations:[{start:{line:145,column:12},end:{line:150,column:13}},{start:{line:145,column:12},end:{line:150,column:13}}],line:145},13:{loc:{start:{line:147,column:16},end:{line:149,column:17}},type:"if",locations:[{start:{line:147,column:16},end:{line:149,column:17}},{start:{line:147,column:16},end:{line:149,column:17}}],line:147},14:{loc:{start:{line:153,column:12},end:{line:155,column:13}},type:"if",locations:[{start:{line:153,column:12},end:{line:155,column:13}},{start:{line:153,column:12},end:{line:155,column:13}}],line:153},15:{loc:{start:{line:161,column:12},end:{line:163,column:13}},type:"if",locations:[{start:{line:161,column:12},end:{line:163,column:13}},{start:{line:161,column:12},end:{line:163,column:13}}],line:161},16:{loc:{start:{line:174,column:30},end:{line:174,column:62}},type:"cond-expr",locations:[{start:{line:174,column:51},end:{line:174,column:54}},{start:{line:174,column:57},end:{line:174,column:62}}],line:174},17:{loc:{start:{line:178,column:12},end:{line:180,column:13}},type:"if",locations:[{start:{line:178,column:12},end:{line:180,column:13}},{start:{line:178,column:12},end:{line:180,column:13}}],line:178},18:{loc:{start:{line:184,column:8},end:{line:186,column:9}},type:"if",locations:[{start:{line:184,column:8},end:{line:186,column:9}},{start:{line:184,column:8},end:{line:186,column:9}}],line:184},19:{loc:{start:{line:197,column:8},end:{line:199,column:9}},type:"if",locations:[{start:{line:197,column:8},end:{line:199,column:9}},{start:{line:197,column:8},end:{line:199,column:9}}],line:197},20:{loc:{start:{line:202,column:8},end:{line:204,column:9}},type:"if",locations:[{start:{line:202,column:8},end:{line:204,column:9}},{start:{line:202,column:8},end:{line:204,column:9}}],line:202},21:{loc:{start:{line:208,column:8},end:{line:211,column:9}},type:"if",locations:[{start:{line:208,column:8},end:{line:211,column:9}},{start:{line:208,column:8},end:{line:211,column:9}}],line:208},22:{loc:{start:{line:208,column:12},end:{line:208,column:47}},type:"binary-expr",locations:[{start:{line:208,column:12},end:{line:208,column:19}},{start:{line:208,column:23},end:{line:208,column:47}}],line:208},23:{loc:{start:{line:214,column:8},end:{line:217,column:9}},type:"if",locations:[{start:{line:214,column:8},end:{line:217,column:9}},{start:{line:214,column:8},end:{line:217,column:9}}],line:214},24:{loc:{start:{line:220,column:8},end:{line:233,column:9}},type:"if",locations:[{start:{line:220,column:8},end:{line:233,column:9}},{start:{line:220,column:8},end:{line:233,column:9}}],line:220},25:{loc:{start:{line:224,column:12},end:{line:232,column:13}},type:"if",locations:[{start:{line:224,column:12},end:{line:232,column:13}},{start:{line:224,column:12},end:{line:232,column:13}}],line:224},26:{loc:{start:{line:228,column:16},end:{line:230,column:17}},type:"if",locations:[{start:{line:228,column:16},end:{line:230,column:17}},{start:{line:228,column:16},end:{line:230,column:17}}],line:228},27:{loc:{start:{line:236,column:27},end:{line:236,column:115}},type:"cond-expr",locations:[{start:{line:236,column:90},end:{line:236,column:108}},{start:{line:236,column:111},end:{line:236,column:115}}],line:236},28:{loc:{start:{line:236,column:27},end:{line:236,column:87}},type:"binary-expr",locations:[{start:{line:236,column:27},end:{line:236,column:34}},{start:{line:236,column:38},end:{line:236,column:56}},{start:{line:236,column:60},end:{line:236,column:87}}],line:236},29:{loc:{start:{line:242,column:8},end:{line:277,column:9}},type:"if",locations:[{start:{line:242,column:8},end:{line:277,column:9}},{start:{line:242,column:8},end:{line:277,column:9}}],line:242},30:{loc:{start:{line:246,column:12},end:{line:248,column:13}},type:"if",locations:[{start:{line:246,column:12},end:{line:248,column:13}},{start:{line:246,column:12},end:{line:248,column:13}}],line:246},31:{loc:{start:{line:251,column:12},end:{line:253,column:13}},type:"if",locations:[{start:{line:251,column:12},end:{line:253,column:13}},{start:{line:251,column:12},end:{line:253,column:13}}],line:251},32:{loc:{start:{line:256,column:12},end:{line:258,column:13}},type:"if",locations:[{start:{line:256,column:12},end:{line:258,column:13}},{start:{line:256,column:12},end:{line:258,column:13}}],line:256},33:{loc:{start:{line:256,column:16},end:{line:256,column:104}},type:"binary-expr",locations:[{start:{line:256,column:16},end:{line:256,column:39}},{start:{line:256,column:44},end:{line:256,column:67}},{start:{line:256,column:71},end:{line:256,column:103}}],line:256},34:{loc:{start:{line:261,column:12},end:{line:267,column:13}},type:"if",locations:[{start:{line:261,column:12},end:{line:267,column:13}},{start:{line:261,column:12},end:{line:267,column:13}}],line:261},35:{loc:{start:{line:263,column:16},end:{line:266,column:17}},type:"if",locations:[{start:{line:263,column:16},end:{line:266,column:17}},{start:{line:263,column:16},end:{line:266,column:17}}],line:263},36:{loc:{start:{line:263,column:20},end:{line:263,column:76}},type:"binary-expr",locations:[{start:{line:263,column:20},end:{line:263,column:26}},{start:{line:263,column:30},end:{line:263,column:76}}],line:263},37:{loc:{start:{line:272,column:12},end:{line:275,column:13}},type:"if",locations:[{start:{line:272,column:12},end:{line:275,column:13}},{start:{line:272,column:12},end:{line:275,column:13}}],line:272},38:{loc:{start:{line:280,column:8},end:{line:283,column:9}},type:"if",locations:[{start:{line:280,column:8},end:{line:283,column:9}},{start:{line:280,column:8},end:{line:283,column:9}}],line:280},39:{loc:{start:{line:280,column:12},end:{line:280,column:75}},type:"binary-expr",locations:[{start:{line:280,column:12},end:{line:280,column:25}},{start:{line:280,column:29},end:{line:280,column:75}}],line:280},40:{loc:{start:{line:286,column:8},end:{line:288,column:9}},type:"if",locations:[{start:{line:286,column:8},end:{line:288,column:9}},{start:{line:286,column:8},end:{line:288,column:9}}],line:286},41:{loc:{start:{line:287,column:22},end:{line:287,column:125}},type:"binary-expr",locations:[{start:{line:287,column:22},end:{line:287,column:114}},{start:{line:287,column:118},end:{line:287,column:125}}],line:287},42:{loc:{start:{line:291,column:8},end:{line:300,column:9}},type:"if",locations:[{start:{line:291,column:8},end:{line:300,column:9}},{start:{line:291,column:8},end:{line:300,column:9}}],line:291},43:{loc:{start:{line:295,column:12},end:{line:298,column:13}},type:"if",locations:[{start:{line:295,column:12},end:{line:298,column:13}},{start:{line:295,column:12},end:{line:298,column:13}}],line:295},44:{loc:{start:{line:317,column:8},end:{line:321,column:9}},type:"if",locations:[{start:{line:317,column:8},end:{line:321,column:9}},{start:{line:317,column:8},end:{line:321,column:9}}],line:317},45:{loc:{start:{line:323,column:8},end:{line:325,column:9}},type:"if",locations:[{start:{line:323,column:8},end:{line:325,column:9}},{start:{line:323,column:8},end:{line:325,column:9}}],line:323},46:{loc:{start:{line:333,column:8},end:{line:335,column:9}},type:"if",locations:[{start:{line:333,column:8},end:{line:335,column:9}},{start:{line:333,column:8},end:{line:335,column:9}}],line:333},47:{loc:{start:{line:338,column:8},end:{line:340,column:9}},type:"if",locations:[{start:{line:338,column:8},end:{line:340,column:9}},{start:{line:338,column:8},end:{line:340,column:9}}],line:338},48:{loc:{start:{line:350,column:32},end:{line:350,column:43}},type:"default-arg",locations:[{start:{line:350,column:39},end:{line:350,column:43}}],line:350},49:{loc:{start:{line:352,column:8},end:{line:354,column:9}},type:"if",locations:[{start:{line:352,column:8},end:{line:354,column:9}},{start:{line:352,column:8},end:{line:354,column:9}}],line:352},50:{loc:{start:{line:360,column:8},end:{line:362,column:9}},type:"if",locations:[{start:{line:360,column:8},end:{line:362,column:9}},{start:{line:360,column:8},end:{line:362,column:9}}],line:360},51:{loc:{start:{line:364,column:8},end:{line:379,column:9}},type:"if",locations:[{start:{line:364,column:8},end:{line:379,column:9}},{start:{line:364,column:8},end:{line:379,column:9}}],line:364},52:{loc:{start:{line:367,column:13},end:{line:379,column:9}},type:"if",locations:[{start:{line:367,column:13},end:{line:379,column:9}},{start:{line:367,column:13},end:{line:379,column:9}}],line:367},53:{loc:{start:{line:370,column:12},end:{line:378,column:13}},type:"if",locations:[{start:{line:370,column:12},end:{line:378,column:13}},{start:{line:370,column:12},end:{line:378,column:13}}],line:370},54:{loc:{start:{line:372,column:16},end:{line:377,column:17}},type:"if",locations:[{start:{line:372,column:16},end:{line:377,column:17}},{start:{line:372,column:16},end:{line:377,column:17}}],line:372},55:{loc:{start:{line:382,column:8},end:{line:384,column:9}},type:"if",locations:[{start:{line:382,column:8},end:{line:384,column:9}},{start:{line:382,column:8},end:{line:384,column:9}}],line:382},56:{loc:{start:{line:394,column:8},end:{line:396,column:9}},type:"if",locations:[{start:{line:394,column:8},end:{line:396,column:9}},{start:{line:394,column:8},end:{line:396,column:9}}],line:394},57:{loc:{start:{line:399,column:8},end:{line:401,column:9}},type:"if",locations:[{start:{line:399,column:8},end:{line:401,column:9}},{start:{line:399,column:8},end:{line:401,column:9}}],line:399},58:{loc:{start:{line:403,column:8},end:{line:406,column:9}},type:"if",locations:[{start:{line:403,column:8},end:{line:406,column:9}},{start:{line:403,column:8},end:{line:406,column:9}}],line:403},59:{loc:{start:{line:403,column:12},end:{line:403,column:126}},type:"binary-expr",locations:[{start:{line:403,column:12},end:{line:403,column:52}},{start:{line:403,column:56},end:{line:403,column:126}}],line:403},60:{loc:{start:{line:409,column:8},end:{line:411,column:9}},type:"if",locations:[{start:{line:409,column:8},end:{line:411,column:9}},{start:{line:409,column:8},end:{line:411,column:9}}],line:409},61:{loc:{start:{line:420,column:22},end:{line:420,column:65}},type:"default-arg",locations:[{start:{line:420,column:33},end:{line:420,column:65}}],line:420},62:{loc:{start:{line:422,column:8},end:{line:425,column:9}},type:"if",locations:[{start:{line:422,column:8},end:{line:425,column:9}},{start:{line:422,column:8},end:{line:425,column:9}}],line:422},63:{loc:{start:{line:440,column:15},end:{line:446,column:53}},type:"binary-expr",locations:[{start:{line:440,column:15},end:{line:440,column:31}},{start:{line:441,column:15},end:{line:441,column:65}},{start:{line:446,column:15},end:{line:446,column:53}}],line:440},64:{loc:{start:{line:456,column:8},end:{line:458,column:9}},type:"if",locations:[{start:{line:456,column:8},end:{line:458,column:9}},{start:{line:456,column:8},end:{line:458,column:9}}],line:456},65:{loc:{start:{line:461,column:8},end:{line:464,column:9}},type:"if",locations:[{start:{line:461,column:8},end:{line:464,column:9}},{start:{line:461,column:8},end:{line:464,column:9}}],line:461},66:{loc:{start:{line:467,column:8},end:{line:469,column:9}},type:"if",locations:[{start:{line:467,column:8},end:{line:469,column:9}},{start:{line:467,column:8},end:{line:469,column:9}}],line:467},67:{loc:{start:{line:474,column:12},end:{line:479,column:13}},type:"if",locations:[{start:{line:474,column:12},end:{line:479,column:13}},{start:{line:474,column:12},end:{line:479,column:13}}],line:474},68:{loc:{start:{line:476,column:16},end:{line:478,column:17}},type:"if",locations:[{start:{line:476,column:16},end:{line:478,column:17}},{start:{line:476,column:16},end:{line:478,column:17}}],line:476},69:{loc:{start:{line:483,column:8},end:{line:485,column:9}},type:"if",locations:[{start:{line:483,column:8},end:{line:485,column:9}},{start:{line:483,column:8},end:{line:485,column:9}}],line:483},70:{loc:{start:{line:500,column:12},end:{line:505,column:13}},type:"if",locations:[{start:{line:500,column:12},end:{line:505,column:13}},{start:{line:500,column:12},end:{line:505,column:13}}],line:500},71:{loc:{start:{line:502,column:16},end:{line:504,column:17}},type:"if",locations:[{start:{line:502,column:16},end:{line:504,column:17}},{start:{line:502,column:16},end:{line:504,column:17}}],line:502},72:{loc:{start:{line:520,column:12},end:{line:568,column:13}},type:"switch",locations:[{start:{line:521,column:16},end:{line:521,column:42}},{start:{line:522,column:16},end:{line:522,column:44}},{start:{line:523,column:16},end:{line:540,column:26}},{start:{line:542,column:16},end:{line:556,column:26}},{start:{line:558,column:16},end:{line:563,column:26}},{start:{line:565,column:16},end:{line:565,column:24}}],line:520},73:{loc:{start:{line:525,column:20},end:{line:528,column:21}},type:"if",locations:[{start:{line:525,column:20},end:{line:528,column:21}},{start:{line:525,column:20},end:{line:528,column:21}}],line:525},74:{loc:{start:{line:531,column:20},end:{line:538,column:21}},type:"if",locations:[{start:{line:531,column:20},end:{line:538,column:21}},{start:{line:531,column:20},end:{line:538,column:21}}],line:531},75:{loc:{start:{line:531,column:24},end:{line:533,column:98}},type:"binary-expr",locations:[{start:{line:531,column:24},end:{line:531,column:74}},{start:{line:532,column:27},end:{line:532,column:96}},{start:{line:533,column:27},end:{line:533,column:59}},{start:{line:533,column:63},end:{line:533,column:98}}],line:531},76:{loc:{start:{line:543,column:20},end:{line:555,column:21}},type:"if",locations:[{start:{line:543,column:20},end:{line:555,column:21}},{start:{line:543,column:20},end:{line:555,column:21}}],line:543},77:{loc:{start:{line:545,column:24},end:{line:554,column:25}},type:"if",locations:[{start:{line:545,column:24},end:{line:554,column:25}},{start:{line:545,column:24},end:{line:554,column:25}}],line:545},78:{loc:{start:{line:560,column:20},end:{line:562,column:21}},type:"if",locations:[{start:{line:560,column:20},end:{line:562,column:21}},{start:{line:560,column:20},end:{line:562,column:21}}],line:560},79:{loc:{start:{line:571,column:8},end:{line:573,column:9}},type:"if",locations:[{start:{line:571,column:8},end:{line:573,column:9}},{start:{line:571,column:8},end:{line:573,column:9}}],line:571},80:{loc:{start:{line:592,column:27},end:{line:592,column:69}},type:"cond-expr",locations:[{start:{line:592,column:55},end:{line:592,column:60}},{start:{line:592,column:63},end:{line:592,column:69}}],line:592}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0],46:[0,0],47:[0,0],48:[0],49:[0,0],50:[0,0],51:[0,0],52:[0,0],53:[0,0],54:[0,0],55:[0,0],56:[0,0],57:[0,0],58:[0,0],59:[0,0],60:[0,0],61:[0],62:[0,0],63:[0,0,0],64:[0,0],65:[0,0],66:[0,0],67:[0,0],68:[0,0],69:[0,0],70:[0,0],71:[0,0],72:[0,0,0,0,0,0],73:[0,0],74:[0,0],75:[0,0,0,0],76:[0,0],77:[0,0],78:[0,0],79:[0,0],80:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class PeerAddressBook extends Observable{constructor(n){qe.f[0]++;qe.s[0]++;super();qe.s[1]++;this._networkConfig=n;qe.s[2]++;this._store=new HashSet;qe.s[3]++;this._stateByPeerId=new HashMap;qe.s[4]++;this._statesByNetAddress=new HashMap;qe.s[5]++;this.add(null,GenesisConfig.SEED_PEERS);qe.s[6]++;setInterval(()=>{qe.f[1]++;qe.s[7]++;return this._housekeeping()},PeerAddressBook.HOUSEKEEPING_INTERVAL)}values(){qe.f[2]++;qe.s[8]++;return this._store.values()}_get(n){qe.f[3]++;qe.s[9]++;if(n instanceof WsPeerAddress){qe.b[0][0]++;const e=(qe.s[10]++,this._store.get(n.withoutId()));qe.s[11]++;if(e){qe.b[1][0]++;qe.s[12]++;return e}qe.b[1][1]++}else qe.b[0][1]++;qe.s[13]++;return this._store.get(n)}getState(n){qe.f[4]++;qe.s[14]++;return this._get(n)}get(n){qe.f[5]++;const e=(qe.s[15]++,this._get(n));qe.s[16]++;return e?(qe.b[2][0]++,e.peerAddress):(qe.b[2][1]++,null)}getByPeerId(n){qe.f[6]++;const e=(qe.s[17]++,this._stateByPeerId.get(n));qe.s[18]++;return e?(qe.b[3][0]++,e.peerAddress):(qe.b[3][1]++,null)}getChannelByPeerId(n){qe.f[7]++;const e=(qe.s[19]++,this._stateByPeerId.get(n));qe.s[20]++;if((qe.b[5][0]++,e)&&(qe.b[5][1]++,e.signalRouter.bestRoute)){qe.b[4][0]++;qe.s[21]++;return e.signalRouter.bestRoute.signalChannel}qe.b[4][1]++;qe.s[22]++;return null}query(n,e,l=(qe.b[6][0]++,1e3)){qe.f[8]++;const t=(qe.s[23]++,this._store.values()),o=(qe.s[24]++,t.length),i=(qe.s[25]++,Math.floor(Math.random()*o)),c=(qe.s[26]++,Date.now()),s=(qe.s[27]++,[]);qe.s[28]++;for(let u=0;u<o;u++){const m=(qe.s[29]++,(i+u)%o),r=(qe.s[30]++,t[m]);qe.s[31]++;if((qe.b[8][0]++,r.state===PeerAddressState.BANNED)||(qe.b[8][1]++,r.state===PeerAddressState.FAILED)){qe.b[7][0]++;qe.s[32]++;continue}qe.b[7][1]++;const a=(qe.s[33]++,r.peerAddress);qe.s[34]++;if(a.isSeed()){qe.b[9][0]++;qe.s[35]++}else{qe.b[9][1]++;qe.s[36]++;if(0!=(a.protocol&n)){qe.b[10][1]++;qe.s[38]++;if(0!=(a.services&e)){qe.b[11][1]++;qe.s[40]++;if(r.state===PeerAddressState.ESTABLISHED){qe.b[12][0]++;qe.s[41]++;if(r.signalRouter.bestRoute){qe.b[13][0]++;qe.s[42]++;r.signalRouter.bestRoute.timestamp=c}else qe.b[13][1]++}else qe.b[12][1]++;qe.s[43]++;if(a.exceedsAge()){qe.b[14][0]++;qe.s[44]++}else{qe.b[14][1]++;qe.s[45]++;s.push(a);qe.s[46]++;if(s.length>=l){qe.b[15][0]++;qe.s[47]++;break}qe.b[15][1]++}}else{qe.b[11][0]++;qe.s[39]++}}else{qe.b[10][0]++;qe.s[37]++}}}qe.s[48]++;return s}add(n,e){qe.f[9]++;const l=(qe.s[49]++,Array.isArray(e)?(qe.b[16][0]++,e):(qe.b[16][1]++,[e])),t=(qe.s[50]++,[]);qe.s[51]++;for(const o of l){qe.s[52]++;if(this._add(n,o)){qe.b[17][0]++;qe.s[53]++;t.push(o)}else qe.b[17][1]++}qe.s[54]++;if(t.length){qe.b[18][0]++;qe.s[55]++;this.fire("added",t,this)}else qe.b[18][1]++}_add(n,e){qe.f[10]++;qe.s[56]++;if(this._store.length>=PeerAddressBook.MAX_SIZE){qe.b[19][0]++;qe.s[57]++;return!1}qe.b[19][1]++;qe.s[58]++;if(this._networkConfig.peerAddress.equals(e)){qe.b[20][0]++;qe.s[59]++;return!1}qe.b[20][1]++;qe.s[60]++;if((qe.b[22][0]++,n)&&(qe.b[22][1]++,e.exceedsAge())){qe.b[21][0]++;qe.s[61]++;Log.d(PeerAddressBook,`Ignoring address ${e} - too old (${new Date(e.timestamp)})`);qe.s[62]++;return!1}qe.b[21][1]++;qe.s[63]++;if(e.timestamp>Date.now()+PeerAddressBook.MAX_TIMESTAMP_DRIFT){qe.b[23][0]++;qe.s[64]++;Log.d(PeerAddressBook,`Ignoring addresses ${e} - timestamp in the future`);qe.s[65]++;return!1}qe.b[23][1]++;qe.s[66]++;if(e.protocol===Protocol.RTC){qe.b[24][0]++;qe.s[67]++;e.distance++;qe.s[68]++;if(e.distance>PeerAddressBook.MAX_DISTANCE){qe.b[25][0]++;qe.s[69]++;Log.d(PeerAddressBook,`Ignoring address ${e} - max distance exceeded`);const l=(qe.s[70]++,this._get(e));qe.s[71]++;if(l){qe.b[26][0]++;qe.s[72]++;l.signalRouter.deleteRoute(n)}else qe.b[26][1]++;qe.s[73]++;return!1}qe.b[25][1]++}else qe.b[24][1]++;const l=(qe.s[74]++,(qe.b[28][0]++,n)&&(qe.b[28][1]++,n.netAddress)&&(qe.b[28][2]++,n.netAddress.reliable)?(qe.b[27][0]++,n.netAddress):(qe.b[27][1]++,null));let t=(qe.s[75]++,this._get(e)),o=(qe.s[76]++,null),i=(qe.s[77]++,!1);qe.s[78]++;if(t){qe.b[29][0]++;qe.s[79]++;o=t.peerAddress;qe.s[80]++;if(t.state===PeerAddressState.BANNED){qe.b[30][0]++;qe.s[81]++;return!1}qe.b[30][1]++;qe.s[82]++;if(o.isSeed()){qe.b[31][0]++;qe.s[83]++;return!1}qe.b[31][1]++;qe.s[84]++;if((qe.b[33][0]++,!o.netAddress)||(qe.b[33][1]++,e.netAddress)&&(qe.b[33][2]++,!o.netAddress.reliable))qe.b[32][1]++;else{qe.b[32][0]++;qe.s[85]++;e.netAddress=o.netAddress}}else{qe.b[29][1]++;qe.s[86]++;if(l){qe.b[34][0]++;const n=(qe.s[87]++,this._statesByNetAddress.get(l));qe.s[88]++;if((qe.b[36][0]++,n)&&(qe.b[36][1]++,n.size>=PeerAddressBook.MAX_SIZE_PER_IP)){qe.b[35][0]++;qe.s[89]++;Log.d(PeerAddressBook,`Ignoring address ${e} - max count per IP ${l} reached`);qe.s[90]++;return!1}qe.b[35][1]++}else qe.b[34][1]++;qe.s[91]++;t=new PeerAddressState(e);qe.s[92]++;this._store.add(t);qe.s[93]++;if(e.peerId){qe.b[37][0]++;qe.s[94]++;this._stateByPeerId.put(e.peerId,t)}else qe.b[37][1]++;qe.s[95]++;i=!0}qe.s[96]++;if((qe.b[39][0]++,!o)||(qe.b[39][1]++,o.timestamp<e.timestamp)){qe.b[38][0]++;qe.s[97]++;t.peerAddress=e;qe.s[98]++;i=!0}else qe.b[38][1]++;qe.s[99]++;if(e.protocol===Protocol.RTC){qe.b[40][0]++;qe.s[100]++;i=(qe.b[41][0]++,t.signalRouter.addRoute(n,e.distance,e.timestamp))||(qe.b[41][1]++,i)}else qe.b[40][1]++;qe.s[101]++;if(l){qe.b[42][0]++;qe.s[102]++;t.addedBy.add(n.netAddress);let e=(qe.s[103]++,this._statesByNetAddress.get(n.netAddress));qe.s[104]++;if(e)qe.b[43][1]++;else{qe.b[43][0]++;qe.s[105]++;e=new Set;qe.s[106]++;this._statesByNetAddress.put(n.netAddress,e)}qe.s[107]++;e.add(t)}else qe.b[42][1]++;qe.s[108]++;return i}established(n,e){qe.f[11]++;let l=(qe.s[109]++,this._get(e));qe.s[110]++;if(l)qe.b[44][1]++;else{qe.b[44][0]++;qe.s[111]++;l=new PeerAddressState(e);qe.s[112]++;this._store.add(l)}qe.s[113]++;if(e.peerId){qe.b[45][0]++;qe.s[114]++;this._stateByPeerId.put(e.peerId,l)}else qe.b[45][1]++;qe.s[115]++;l.state=PeerAddressState.ESTABLISHED;qe.s[116]++;l.lastConnected=Date.now();qe.s[117]++;l.failedAttempts=0;qe.s[118]++;l.bannedUntil=-1;qe.s[119]++;l.banBackoff=PeerAddressBook.INITIAL_FAILED_BACKOFF;qe.s[120]++;if(l.peerAddress.isSeed())qe.b[46][1]++;else{qe.b[46][0]++;qe.s[121]++;l.peerAddress=e}qe.s[122]++;if(e.protocol===Protocol.RTC){qe.b[47][0]++;qe.s[123]++;l.signalRouter.addRoute(n,e.distance,e.timestamp)}else qe.b[47][1]++}close(n,e,l=(qe.b[48][0]++,null)){qe.f[12]++;const t=(qe.s[124]++,this._get(e));qe.s[125]++;if(t){qe.b[49][1]++;qe.s[127]++;t.close(l);qe.s[128]++;if(n){qe.b[50][0]++;qe.s[129]++;this._removeBySignalChannel(n)}else qe.b[50][1]++;qe.s[130]++;if(CloseType.isBanningType(l)){qe.b[51][0]++;qe.s[131]++;this._ban(e)}else{qe.b[51][1]++;qe.s[132]++;if(CloseType.isFailingType(l)){qe.b[52][0]++;qe.s[133]++;t.failedAttempts++;qe.s[134]++;if(t.failedAttempts>=t.maxFailedAttempts){qe.b[53][0]++;qe.s[135]++;if(t.banBackoff>=PeerAddressBook.MAX_FAILED_BACKOFF){qe.b[54][0]++;qe.s[136]++;this._remove(e)}else{qe.b[54][1]++;qe.s[137]++;t.bannedUntil=Date.now()+t.banBackoff;qe.s[138]++;t.banBackoff=Math.min(PeerAddressBook.MAX_FAILED_BACKOFF,2*t.banBackoff)}}else qe.b[53][1]++}else qe.b[52][1]++}qe.s[139]++;if(e.protocol===Protocol.DUMB){qe.b[55][0]++;qe.s[140]++;this._remove(e)}else qe.b[55][1]++}else{qe.b[49][0]++;qe.s[126]++}}unroutable(n,e){qe.f[13]++;qe.s[141]++;if(!e){qe.b[56][0]++;qe.s[142]++;return}qe.b[56][1]++;const l=(qe.s[143]++,this._get(e));qe.s[144]++;if(l){qe.b[57][1]++;qe.s[146]++;if((qe.b[59][0]++,l.signalRouter.bestRoute)&&(qe.b[59][1]++,l.signalRouter.bestRoute.signalChannel.equals(n))){qe.b[58][1]++;qe.s[149]++;l.signalRouter.deleteBestRoute();qe.s[150]++;if(l.signalRouter.hasRoute())qe.b[60][1]++;else{qe.b[60][0]++;qe.s[151]++;this._remove(l.peerAddress)}}else{qe.b[58][0]++;qe.s[147]++;Log.w(PeerAddressBook,`Got unroutable for ${e} on a channel other than the best route.`);qe.s[148]++}}else{qe.b[57][0]++;qe.s[145]++}}_ban(n,e=(qe.b[61][0]++,PeerAddressBook.DEFAULT_BAN_TIME)){qe.f[14]++;let l=(qe.s[152]++,this._get(n));qe.s[153]++;if(l)qe.b[62][1]++;else{qe.b[62][0]++;qe.s[154]++;l=new PeerAddressState(n);qe.s[155]++;this._store.add(l)}qe.s[156]++;l.state=PeerAddressState.BANNED;qe.s[157]++;l.bannedUntil=Date.now()+e;qe.s[158]++;l.signalRouter.deleteAllRoutes()}isBanned(n){qe.f[15]++;const e=(qe.s[159]++,this._get(n));qe.s[160]++;return(qe.b[63][0]++,e)&&(qe.b[63][1]++,e.state===PeerAddressState.BANNED)&&(qe.b[63][2]++,!e.peerAddress.isSeed())}_remove(n){qe.f[16]++;const e=(qe.s[161]++,this._get(n));qe.s[162]++;if(e){qe.b[64][1]++;qe.s[164]++;if(e.peerAddress.isSeed()){qe.b[65][0]++;qe.s[165]++;this._ban(n,e.banBackoff);qe.s[166]++}else{qe.b[65][1]++;qe.s[167]++;if(n.peerId){qe.b[66][0]++;qe.s[168]++;this._stateByPeerId.remove(n.peerId)}else qe.b[66][1]++;qe.s[169]++;for(const n of e.addedBy){const l=(qe.s[170]++,this._statesByNetAddress.get(n));qe.s[171]++;if(l){qe.b[67][0]++;qe.s[172]++;l["delete"](e);qe.s[173]++;if(0===l.size){qe.b[68][0]++;qe.s[174]++;this._statesByNetAddress.remove(n)}else qe.b[68][1]++}else qe.b[67][1]++}qe.s[175]++;if(e.state!==PeerAddressState.BANNED){qe.b[69][1]++;qe.s[177]++;this._store.remove(n)}else{qe.b[69][0]++;qe.s[176]++}}}else{qe.b[64][0]++;qe.s[163]++}}_removeBySignalChannel(n){qe.f[17]++;qe.s[178]++;for(const e of this._store.values()){qe.s[179]++;if(e.peerAddress.protocol===Protocol.RTC){qe.b[70][0]++;qe.s[180]++;e.signalRouter.deleteRoute(n);qe.s[181]++;if(e.signalRouter.hasRoute())qe.b[71][1]++;else{qe.b[71][0]++;qe.s[182]++;this._remove(e.peerAddress)}}else qe.b[70][1]++}}_housekeeping(){qe.f[18]++;const n=(qe.s[183]++,Date.now()),e=(qe.s[184]++,[]);qe.s[185]++;for(const l of this._store.values()){const t=(qe.s[186]++,l.peerAddress);qe.s[187]++;switch(l.state){case PeerAddressState.NEW:qe.b[72][0]++;case PeerAddressState.TRIED:qe.b[72][1]++;case PeerAddressState.FAILED:qe.b[72][2]++;qe.s[188]++;if(t.exceedsAge()){qe.b[73][0]++;qe.s[189]++;this._remove(t);qe.s[190]++;continue}qe.b[73][1]++;qe.s[191]++;if((qe.b[75][0]++,l.state===PeerAddressState.FAILED)&&(qe.b[75][1]++,l.failedAttempts>=l.maxFailedAttempts)&&(qe.b[75][2]++,l.bannedUntil>0)&&(qe.b[75][3]++,l.bannedUntil<=n)){qe.b[74][0]++;qe.s[192]++;l.bannedUntil=-1;qe.s[193]++;l.failedAttempts=0;qe.s[194]++;e.push(t)}else qe.b[74][1]++;qe.s[195]++;break;case PeerAddressState.BANNED:qe.b[72][3]++;qe.s[196]++;if(l.bannedUntil<=n){qe.b[76][0]++;qe.s[197]++;if(t.isSeed()){qe.b[77][0]++;qe.s[198]++;l.state=PeerAddressState.NEW;qe.s[199]++;l.failedAttempts=0;qe.s[200]++;l.bannedUntil=-1;qe.s[201]++;e.push(t)}else{qe.b[77][1]++;qe.s[202]++;this._store.remove(t)}}else qe.b[76][1]++;qe.s[203]++;break;case PeerAddressState.ESTABLISHED:qe.b[72][4]++;qe.s[204]++;if(l.signalRouter.bestRoute){qe.b[78][0]++;qe.s[205]++;l.signalRouter.bestRoute.timestamp=n}else qe.b[78][1]++;qe.s[206]++;break;default:qe.b[72][5]++}}qe.s[207]++;if(e.length){qe.b[79][0]++;qe.s[208]++;this.fire("added",e,this)}else qe.b[79][1]++}get knownAddressesCount(){qe.f[19]++;qe.s[209]++;return this._store.length}}qe.s[210]++;PeerAddressBook.MAX_AGE_WEBSOCKET=18e5;qe.s[211]++;PeerAddressBook.MAX_AGE_WEBRTC=6e5;qe.s[212]++;PeerAddressBook.MAX_AGE_DUMB=6e4;qe.s[213]++;PeerAddressBook.MAX_DISTANCE=4;qe.s[214]++;PeerAddressBook.MAX_FAILED_ATTEMPTS_WS=3;qe.s[215]++;PeerAddressBook.MAX_FAILED_ATTEMPTS_RTC=2;qe.s[216]++;PeerAddressBook.MAX_TIMESTAMP_DRIFT=6e5;qe.s[217]++;PeerAddressBook.HOUSEKEEPING_INTERVAL=6e4;qe.s[218]++;PeerAddressBook.DEFAULT_BAN_TIME=6e5;qe.s[219]++;PeerAddressBook.INITIAL_FAILED_BACKOFF=3e4;qe.s[220]++;PeerAddressBook.MAX_FAILED_BACKOFF=6e5;qe.s[221]++;PeerAddressBook.MAX_SIZE=PlatformUtils.isBrowser()?(qe.b[80][0]++,15e3):(qe.b[80][1]++,1e5);qe.s[222]++;PeerAddressBook.MAX_SIZE_PER_IP=250;qe.s[223]++;Class.register(PeerAddressBook);var Ke=function(){var n="/home/soeren/nimiq/core/src/main/generic/consensus/GenesisConfig.js",e="6f854c472803235cb926323f5ba98e62fd148375",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/consensus/GenesisConfig.js",statementMap:{0:{start:{line:3,column:8},end:{line:3,column:57}},1:{start:{line:7,column:8},end:{line:7,column:60}},2:{start:{line:14,column:8},end:{line:14,column:88}},3:{start:{line:14,column:35},end:{line:14,column:88}},4:{start:{line:15,column:8},end:{line:15,column:80}},5:{start:{line:15,column:32},end:{line:15,column:80}},6:{start:{line:16,column:8},end:{line:16,column:87}},7:{start:{line:16,column:34},end:{line:16,column:87}},8:{start:{line:17,column:8},end:{line:17,column:86}},9:{start:{line:17,column:35},end:{line:17,column:86}},10:{start:{line:18,column:8},end:{line:18,column:92}},11:{start:{line:18,column:38},end:{line:18,column:92}},12:{start:{line:19,column:8},end:{line:19,column:80}},13:{start:{line:19,column:32},end:{line:19,column:80}},14:{start:{line:21,column:8},end:{line:21,column:39}},15:{start:{line:28,column:8},end:{line:28,column:85}},16:{start:{line:28,column:36},end:{line:28,column:85}},17:{start:{line:29,column:8},end:{line:29,column:48}},18:{start:{line:36,column:8},end:{line:36,column:85}},19:{start:{line:36,column:36},end:{line:36,column:85}},20:{start:{line:37,column:8},end:{line:37,column:50}},21:{start:{line:44,column:8},end:{line:44,column:85}},22:{start:{line:44,column:36},end:{line:44,column:85}},23:{start:{line:45,column:8},end:{line:45,column:51}},24:{start:{line:52,column:8},end:{line:52,column:85}},25:{start:{line:52,column:36},end:{line:52,column:85}},26:{start:{line:53,column:8},end:{line:55,column:9}},27:{start:{line:54,column:12},end:{line:54,column:92}},28:{start:{line:56,column:8},end:{line:56,column:50}},29:{start:{line:63,column:8},end:{line:63,column:85}},30:{start:{line:63,column:36},end:{line:63,column:85}},31:{start:{line:64,column:8},end:{line:64,column:54}},32:{start:{line:71,column:8},end:{line:71,column:85}},33:{start:{line:71,column:36},end:{line:71,column:85}},34:{start:{line:72,column:8},end:{line:72,column:48}},35:{start:{line:75,column:0},end:{line:75,column:30}},36:{start:{line:77,column:0},end:{line:320,column:2}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:4},end:{line:2,column:5}},loc:{start:{line:2,column:17},end:{line:4,column:5}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:20},end:{line:8,column:5}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:13,column:4},end:{line:13,column:5}},loc:{start:{line:13,column:24},end:{line:22,column:5}},line:13},3:{name:"(anonymous_3)",decl:{start:{line:27,column:4},end:{line:27,column:5}},loc:{start:{line:27,column:28},end:{line:30,column:5}},line:27},4:{name:"(anonymous_4)",decl:{start:{line:35,column:4},end:{line:35,column:5}},loc:{start:{line:35,column:30},end:{line:38,column:5}},line:35},5:{name:"(anonymous_5)",decl:{start:{line:43,column:4},end:{line:43,column:5}},loc:{start:{line:43,column:31},end:{line:46,column:5}},line:43},6:{name:"(anonymous_6)",decl:{start:{line:51,column:4},end:{line:51,column:5}},loc:{start:{line:51,column:30},end:{line:57,column:5}},line:51},7:{name:"(anonymous_7)",decl:{start:{line:62,column:4},end:{line:62,column:5}},loc:{start:{line:62,column:34},end:{line:65,column:5}},line:62},8:{name:"(anonymous_8)",decl:{start:{line:70,column:4},end:{line:70,column:5}},loc:{start:{line:70,column:28},end:{line:73,column:5}},line:70}},branchMap:{0:{loc:{start:{line:14,column:8},end:{line:14,column:88}},type:"if",locations:[{start:{line:14,column:8},end:{line:14,column:88}},{start:{line:14,column:8},end:{line:14,column:88}}],line:14},1:{loc:{start:{line:15,column:8},end:{line:15,column:80}},type:"if",locations:[{start:{line:15,column:8},end:{line:15,column:80}},{start:{line:15,column:8},end:{line:15,column:80}}],line:15},2:{loc:{start:{line:16,column:8},end:{line:16,column:87}},type:"if",locations:[{start:{line:16,column:8},end:{line:16,column:87}},{start:{line:16,column:8},end:{line:16,column:87}}],line:16},3:{loc:{start:{line:17,column:8},end:{line:17,column:86}},type:"if",locations:[{start:{line:17,column:8},end:{line:17,column:86}},{start:{line:17,column:8},end:{line:17,column:86}}],line:17},4:{loc:{start:{line:18,column:8},end:{line:18,column:92}},type:"if",locations:[{start:{line:18,column:8},end:{line:18,column:92}},{start:{line:18,column:8},end:{line:18,column:92}}],line:18},5:{loc:{start:{line:19,column:8},end:{line:19,column:80}},type:"if",locations:[{start:{line:19,column:8},end:{line:19,column:80}},{start:{line:19,column:8},end:{line:19,column:80}}],line:19},6:{loc:{start:{line:28,column:8},end:{line:28,column:85}},type:"if",locations:[{start:{line:28,column:8},end:{line:28,column:85}},{start:{line:28,column:8},end:{line:28,column:85}}],line:28},7:{loc:{start:{line:36,column:8},end:{line:36,column:85}},type:"if",locations:[{start:{line:36,column:8},end:{line:36,column:85}},{start:{line:36,column:8},end:{line:36,column:85}}],line:36},8:{loc:{start:{line:44,column:8},end:{line:44,column:85}},type:"if",locations:[{start:{line:44,column:8},end:{line:44,column:85}},{start:{line:44,column:8},end:{line:44,column:85}}],line:44},9:{loc:{start:{line:52,column:8},end:{line:52,column:85}},type:"if",locations:[{start:{line:52,column:8},end:{line:52,column:85}},{start:{line:52,column:8},end:{line:52,column:85}}],line:52},10:{loc:{start:{line:53,column:8},end:{line:55,column:9}},type:"if",locations:[{start:{line:53,column:8},end:{line:55,column:9}},{start:{line:53,column:8},end:{line:55,column:9}}],line:53},11:{loc:{start:{line:63,column:8},end:{line:63,column:85}},type:"if",locations:[{start:{line:63,column:8},end:{line:63,column:85}},{start:{line:63,column:8},end:{line:63,column:85}}],line:63},12:{loc:{start:{line:71,column:8},end:{line:71,column:85}},type:"if",locations:[{start:{line:71,column:8},end:{line:71,column:85}},{start:{line:71,column:8},end:{line:71,column:85}}],line:71}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class GenesisConfig{static dev(){Ke.f[0]++;Ke.s[0]++;GenesisConfig.init(GenesisConfig.CONFIGS.dev)}static bounty(){Ke.f[1]++;Ke.s[1]++;GenesisConfig.init(GenesisConfig.CONFIGS.bounty)}static init(n){Ke.f[2]++;Ke.s[2]++;if(GenesisConfig._config){Ke.b[0][0]++;Ke.s[3]++;throw new Error("GenesisConfig already initialized")}Ke.b[0][1]++;Ke.s[4]++;if(!n.NETWORK_ID){Ke.b[1][0]++;Ke.s[5]++;throw new Error("Config is missing network id")}Ke.b[1][1]++;Ke.s[6]++;if(!n.NETWORK_NAME){Ke.b[2][0]++;Ke.s[7]++;throw new Error("Config is missing database prefix")}Ke.b[2][1]++;Ke.s[8]++;if(!n.GENESIS_BLOCK){Ke.b[3][0]++;Ke.s[9]++;throw new Error("Config is missing genesis block")}Ke.b[3][1]++;Ke.s[10]++;if(!n.GENESIS_ACCOUNTS){Ke.b[4][0]++;Ke.s[11]++;throw new Error("Config is missing genesis accounts")}Ke.b[4][1]++;Ke.s[12]++;if(!n.SEED_PEERS){Ke.b[5][0]++;Ke.s[13]++;throw new Error("Config is missing seed peers")}Ke.b[5][1]++;Ke.s[14]++;GenesisConfig._config=n}static get NETWORK_ID(){Ke.f[3]++;Ke.s[15]++;if(!GenesisConfig._config){Ke.b[6][0]++;Ke.s[16]++;throw new Error("GenesisConfig not initialized")}Ke.b[6][1]++;Ke.s[17]++;return GenesisConfig._config.NETWORK_ID}static get NETWORK_NAME(){Ke.f[4]++;Ke.s[18]++;if(!GenesisConfig._config){Ke.b[7][0]++;Ke.s[19]++;throw new Error("GenesisConfig not initialized")}Ke.b[7][1]++;Ke.s[20]++;return GenesisConfig._config.NETWORK_NAME}static get GENESIS_BLOCK(){Ke.f[5]++;Ke.s[21]++;if(!GenesisConfig._config){Ke.b[8][0]++;Ke.s[22]++;throw new Error("GenesisConfig not initialized")}Ke.b[8][1]++;Ke.s[23]++;return GenesisConfig._config.GENESIS_BLOCK}static get GENESIS_HASH(){Ke.f[6]++;Ke.s[24]++;if(!GenesisConfig._config){Ke.b[9][0]++;Ke.s[25]++;throw new Error("GenesisConfig not initialized")}Ke.b[9][1]++;Ke.s[26]++;if(GenesisConfig._config.GENESIS_HASH)Ke.b[10][1]++;else{Ke.b[10][0]++;Ke.s[27]++;GenesisConfig._config.GENESIS_HASH=GenesisConfig._config.GENESIS_BLOCK.hash()}Ke.s[28]++;return GenesisConfig._config.GENESIS_HASH}static get GENESIS_ACCOUNTS(){Ke.f[7]++;Ke.s[29]++;if(!GenesisConfig._config){Ke.b[11][0]++;Ke.s[30]++;throw new Error("GenesisConfig not initialized")}Ke.b[11][1]++;Ke.s[31]++;return GenesisConfig._config.GENESIS_ACCOUNTS}static get SEED_PEERS(){Ke.f[8]++;Ke.s[32]++;if(!GenesisConfig._config){Ke.b[12][0]++;Ke.s[33]++;throw new Error("GenesisConfig not initialized")}Ke.b[12][1]++;Ke.s[34]++;return GenesisConfig._config.SEED_PEERS}}Ke.s[35]++;Class.register(GenesisConfig);Ke.s[36]++;GenesisConfig.CONFIGS={dev:{NETWORK_ID:2,NETWORK_NAME:"dev",SEED_PEERS:[WsPeerAddress.seed("dev.nimiq-network.com",8080,"e65e39616662f2c16d62dc08915e5a1d104619db8c2b9cf9b389f96c8dce9837")],GENESIS_BLOCK:new Block(new BlockHeader(new Hash(null),new Hash(null),Hash.fromBase64("JvMr9c9l2m8HWNdFAGTEastKH+aDZvln9EopXelhVIg="),Hash.fromBase64("1t/Zm91tN0p178+ePcxyR5bPxvC6jFLskqiidFFO3wY="),BlockUtils.difficultyToCompact(1),1,1522338300,12432,BlockHeader.Version.V1),new BlockInterlink([],new Hash(null)),new BlockBody(Address.fromBase64("AAAAAAAAAAAAAAAAAAAAAAAAAAA="),[],BufferUtils.fromBase64("RGV2TmV0"))),GENESIS_ACCOUNTS:"AGTHyaGKKYtMW9zm81Nw2UYCIWr2bQAAAAOO9hgWyh/5Ezv+1Ldw9Oid2zwaY+LjRXAjAQAAAdpxepGoTVTy25Dj9WOZXg1SAyoCtCmEkgYAAAABAAAWgAAAAdpxepGoAAAB2nF6kagxFAXrnWawCibXmNIocpENbY2M4QAAAACPgR32bdaFsm6G5Bg4H96UDFtJMFclfA8rAQAAA+Z8YTcn7eJ7xhfBV9k79a2bDLpb0SWEgSIAAAABAAALQAAAAKZqEDPcAAAD5nxhNyfiENwK3NNQGB6fxKS62kvoApoe4gEAAAKLbf59cM8P40JXyIKzSkr749mOqp5n1/ruAAAAAQAAC0AAAABsklUU6AAAAott/n1wZs9N9eWbNeUSLDy5qbhe6CW7Q94BAAADLsSIL0WLcA6Nt5Ji+Pu2j2p4wJgN8lpIVwAAAAEAABaAAAADLsSIL0UAAAMuxIgvRXGosRRWBkjiIyWOFAzp3WZYGhQvAAAAAN+ByO6LKclRKAD8iueyAPGY/ZnTIbM5CbUBAAAAMXEUVZ+h9Kb5BH+lzQTKHdVMiFfmRsJBWAAAAAEAAAtAAAAACD2DY5sAAAAxcRRVn+hB476I0A6qQDjCSzzvumwsQHf9AQAAA03B6LO6vHPfpZtbnDWtPlN7WlO0l+aw1KIAAAABAAALQAAAAIz1psifAAADTcHos7qSQrji3cQRvdhZEyJaa9OF/pUTGwEAAAEJawwO04GTmnyPT2hcnepKTWwqUe3rBlVwAAAAAQAAC0AAAAAsPIICeQAAAQlrDA7TKd6Wv+nDz7vTAMDCu39sALbKiawBAAABJAr6aFtkUf/rcih9aUVHVigY+8UIy2/+QQAAAAEAAAtAAAAAMKx/EWUAAAEkCvpoW4oaIYhRvV3BULo9azzYYyKeeCxrAQAAA03cDnJSDjUiPbhnHIY/7aooMW/Y0EpeT58AAAABAAAWgAAAA03cDnJSAAADTdwOclKFF7HkvjRHt0g5nwPzP59X9Uge9wEAAAGGEgl7kg2aSBjn4A5Od5+0Lh5sBpm6dar7AAAAAQAAFoAAAAGGEgl7kgAAAYYSCXuSk87IwlS6e4YT+koCY6/lL28D3sYBAAACjIEYqGyFuGHIpbQDcibbuM8kkiHguhEKAwAAAAEAABaAAAACjIEYqGwAAAKMgRiobCUh+XSo0plb6NrVoCXHLwt7XzNZAAAAA1fLvw67icCbQBBXoglPtPMRkeln1StoiSYAAAACFc2B9ywrb3evyXkRn2lIr99+cUgwAipdwwEAAAPxDMrFsmKBEu04Bg6LEqHvrJj2ewKnZ3qmAAAAAQAAFoAAAAPxDMrFsgAAA/EMysWyc3iG9qZDzL/uCLJEdhmwKaAHgIMBAAACPUMNm/Uu1vSoi1gBseNjIp1mp154Sw79UAAAAAEAABaAAAACPUMNm/UAAAI9Qw2b9YcCc88Iyrx0NUbMZOK3rJdc/ggmAQAAAnsptOZZhrhJa+5Z89rK+wkxjzUthAHVfDoAAAABAAAWgAAAAnsptOZZAAACeym05lkhopvGoZgAsJ38XeT+KI6VFZ6HVQEAAAKZNR0cZ3N/V/VlAJ1g1vBkidPGJBfIBQZcAAAAAQAAC0AAAABu3i+EvAAAApk1HRxnwWGEqi7rwr6bZ9df8Uhr5cG3nAUAAAAB+ett5xJRyHYmu80aIhgssCKeD9KYKNlI+gEAAAHcmaAZJKAMxD+5u1O+u5ALn65VT4HGDIxwAAAAAQAAC0AAAABPbvAEMQAAAdyZoBkkTOyyimPzT9JghHBHVSBRqHTY6qMBAAABMiMv3v3Fqy0Rq/yOBHu3RlPy/l121QrKAwAAAAEAABaAAAABMiMv3v0AAAEyIy/e/TyTgfm1ATlfv11vqgZ2mGgLp5I3AAAABB6+ivcGqPmcXVPR6jFzANQ/oHcfYAbWLCAAAAACEUzY24RQtw7fskPYnAuOCrVYvYWjy/Sq2QEAAAA1ejIu8T103OAjQ6dOO7R1qdl9voiJTyMzAAAAAQAAC0AAAAAI6bMH0wAAADV6Mi7xMF78LO+AmQt47Q2F8lJOtFmP+8sBAAADIrN3lvTLTPW10LenULSqINB8dhRMCjZoqgAAAAEAAAtAAAAAhciT7n4AAAMis3eW9PfpWIeCkAqinftTYf+jyT/iAxE2AAAAACtXQrrG1ENyC6MF0IZJhxjw1atz1xqHhPwBAAAAvi3c14rVVkylvnz2LXDSnAd0Ap9o6EcHkwAAAAEAAAtAAAAAH7JPeUIAAAC+LdzXityvfksBfLlWNu3IzdEXOAKKjuLqAAAAAWKGyagmDA2tPlgh/4bnCAHEUTy6X43XlxYAAAABpZApuaLoMq3LP2zjV1NWvIyyZ9WXhbjKrgAAAAOSnw31GpWdLCHuiuqqRiU+c6/7QpNNu415AQAAA/PO43ur9pEsqZCx+ctQ0uLZPiPcQtZ4AtoAAAABAAALQAAAAKiiez9IAAAD887je6ty7kyqfDlYpexa6zO61+OPc7PemgEAAAFVhN0jTzdIVM9Xza9gEHJEU/NTXLDe1iXFAAAAAQAAC0AAAAA463owjgAAAVWE3SNP895JOb/wZK4ieF/UWFZvxGiH5yMAAAABWtMtyhV1iFBda1GZC0OkOSwt9AADUTkavAEAAAGLTWokGsi+QGXG5VciJh0XKhgY2Ffw3nFhAAAAAQAAC0AAAABB4jxbWgAAAYtNaiQaxyj4UkPRXmdB4RUJOmY0/+DGi2sAAAABmtptM00N3PW8TiZSDGq75w65ENAqIvV17gEAAAPVauIkr0eeRNW8s9uvLImxBON8OZc+nrJLAAAAAQAAC0AAAACjkdBbcwAAA9Vq4iSvLMTqFpsInyV7LXX07AVlLB4LwK8AAAACVOJQdF94lWhUD0pOtwPsSpOcOfVM4c3lYAEAAAJZhQlPED5vd70C9VJcR9E0/6kVRjND3chpAAAAAQAAC0AAAABkQNbigwAAAlmFCU8Q5+bT5k92M+EdyU87fjVCIOHgJvQBAAABLAh445G4HY/gCBp8Ww86DjZzqu2656S1WwAAAAEAABaAAAABLAh445EAAAEsCHjjkfGu/x1GALyflu5s6H/RjA0uF2FJAQAAAfUQ1yISxqLt9R+tekR4gPOI6gjm8GCCewkAAAABAAAWgAAAAfUQ1yISAAAB9RDXIhLmoPJPmFOfClWZtRtz8SIHZV+RYgEAAAGb6NZw6ik9LhWvYkCsjo753C4xml4yhuLkAAAAAQAAFoAAAAGb6NZw6gAAAZvo1nDq0lWfSarsXeQhGik+Wy00hFQPYNIBAAAC4wlfg1nMx6ncdUeIXQp/MHyEH0Q1GZoNiAAAAAEAAAtAAAAAeyw6leUAAALjCV+DWRJzvcMi6fQ+RMgH4p3thxoZkT3KAQAAAploxifaQHmEokpWgPZUy2JkLz0fIsjxIz4AAAABAAALQAAAAG7my7FPAAACmWjGJ9ojMPo7C9y8Ib/ncXPhwUC60bh5vwAAAACNnQv2v4inBpnu2xVZInd7VAlMXKKdYgukAQAAApBN6CyLt+TdIz09e58DxUKFW4PK6+lckmcAAAABAAALQAAAAG1iUVzCAAACkE3oLIs/W2vCON/csGZ+BrXXzOfPf3+nwgAAAABdcEFzteZaaSm87wyRZwS2rvearhLJb0wSAQAAA5l3BvfWMZXszk+sOGOzYCH6Scso0530ACEAAAABAAAWgAAAA5l3BvfWAAADmXcG99Yn1+CSxVm0b9VEmdXSPU9MLZ6euQEAAACc7CZPBZWabWnc3dRvBQIYMyDgLCyx2AtMAAAAAQAAC0AAAAAaJ1u31wAAAJzsJk8FMsv+RNrEAeMhkxQQ7swlQm/MWcsBAAAEFqz9ZzfxBC8ZD/h5XbP5/TW158EyNFjtDwAAAAEAAAtAAAAArnIqO98AAAQWrP1nN9WW44AbwcH3rC9B0LDZEGH/6LGWAAAAA0/mTvNyq+e4MxN7UI6LWMDrHl4bIjVbRqkBAAAADwRE4OfGbkb1M4LvJTsug5Guwv4UipUglQAAAAEAAAtAAAAAAoC2JXwAAAAPBETg5xXn4XxmjRL8H7qyrMKtPOQ68d9gAQAAA+kpJjZRO8ds5r5Z15bsaAvUz1Hi+igym+wAAAABAAALQAAAAKbcMQkOAAAD6SkmNlFtNRkkOze3mxqbEGn8LmugDYG9AAEAAAIeKgo/6Q3VK9Fh4+5mvtU/qnCGKcL5eZe6AAAAAQAAC0AAAABaXFcKpwAAAh4qCj/pVkOr82XeobTRYSqMwBit+DK26L0AAAADExdE1KGweTGwMNtOUr0mkTMuJZPdUx/lFgEAAAIYnmRDO5Us7NZLbPKbfSqFz9Qcz12xp7EIAAAAAQAAC0AAAABZb7tgigAAAhieZEM7QJBbpsW5TySU3AOaRq0w6StqDbkBAAAAQYtUtY+neTkGp0FX3yBWlI9VfXL9rY2T0AAAAAEAABaAAAAAQYtUtY8AAABBi1S1j6CfjxyppAST/5j+yNsnpZ4mb+LMAQAAAwd7a4MeZabvmCauqJUxc/dnJt9Qdbu0C+sAAAABAAALQAAAAIE/PJXbAAADB3trgx6XwCRFCATy6PT5xzl/tTynPq+pVwEAAAP3RVI223cMsae0V7OPJkgsuqVbHiDuSfwpAAAAAQAAFoAAAAP3RVI22wAAA/dFUjbbqciNZ2beiMn+kVcprmWvCo0qNNYAAAAAp/x8AiuP0gOSmGXc+PyW+ma3l4h07YsKpAEAAAKhuMUSlEiZItBpeLfj6hIFvBR6t0/1Zyh2AAAAAQAAFoAAAAKhuMUSlAAAAqG4xRKUMbR0l40dlxXJiTEFuHD29zmRDB8BAAAC0qDOUYnujJP0QRa7dQ2AJ0h1cIE0IkEehgAAAAEAABaAAAAC0qDOUYkAAALSoM5RiepA5phgkMYQo9vghvEMs6W2EXiXAQAAAsKfyTSX6ZAOU+orXNxOz0wdBuAqVHbOiV0AAAABAAAWgAAAAsKfyTSXAAACwp/JNJcBVoZ5gIarGpvmG5G4a1OXW3821QEAAANETmvLWBcBCeyCAd6ZLaV8GnQ8Da54gAyrAAAAAQAAFoAAAANETmvLWAAAA0ROa8tY+JrQTn9k06PB7If9N0CfYchk/C0BAAACrhSVuS2ezk3SZrOTLlI6dWuGTC76mwagfAAAAAEAAAtAAAAAcljDnt0AAAKuFJW5LYlQAlhiQPsfkWnHfepiRbygaVcwAQAAAbh/Gb8NJqE45Cy7l+FzX6ekgF3R/5Mtr+4AAAABAAAWgAAAAbh/Gb8NAAABuH8Zvw0P094GHr/6AsV1AwxF7c61Qq2RSAAAAAJQwqsff2pLw8MLHSdj/TYI/vua9S1qFloyAQAAAZMy1gvR0p1S/3oRAOZ8nDanLv73M3Fv150AAAABAAAWgAAAAZMy1gvRAAABkzLWC9F4DlJe82PbL79kI4++HW6Glhr8OAEAAAAcKk11+SFNxI4R9S/ebQHQO2V5jHpCMS1hAAAAAQAAC0AAAAAEsbeTqgAAABwqTXX5sSvBMuNoUTbS19UmetiaDp8t/vsBAAABkaKnSL2M6hWXx8/DUkVUtGxAV3Xd9gtcfAAAAAEAABaAAAABkaKnSL0AAAGRoqdIvTi9K8WL24O90wK1LIuwvNvkRR9iAQAAAQ5MDkLw77e4PHxSapULV3EHaCWnRV0ELfQAAAABAAAWgAAAAQ5MDkLwAAABDkwOQvB45gZiCw5zStBMXeShepM6iLltkgAAAAHfl0LN8u7wC1h8uhyRIY5s1I1gZPfF1qn+AAAAA8xCKTupigAMUEItvNB1XfJi5d20TA4oijkBAAABheDAya/Vr7/+aeXTjjrLIAY/8G9+ps7jDAAAAAEAAAtAAAAAQPrKzEgAAAGF4MDJrySGgRI77yf0Ksrs7U5YU1v43lFrAAAAAkrmY2OrF77xscYdoQqK/Kr8Sc5nR/w91goBAAADoIlPx03C0gM7wMgvzaUglns4BJzvq8fWUQAAAAEAABaAAAADoIlPx00AAAOgiU/HTR059QJNJ6egySnjQ5ssU/g987fwAQAAAOSjwgS4txd+4xsScIOZ2jJ8gm6PFGb4IPcAAAABAAALQAAAACYbSwDKAAAA5KPCBLgEEiPQ5L80JKvaQkZUqVTQVFocRQEAAAAgrZivoOKiOJFwOp94dsp2dceiRnJRp2BDAAAAAQAAC0AAAAAFckQdRgAAACCtmK+gCouuvquET79GQpJvlDjxodZmWlIBAAADdflmIVtOxwzhUy9DP2U/1dg443ziW+44fAAAAAEAAAtAAAAAk6mRBZAAAAN1+WYhW7W78iEqRWPDm9L0+nV1sgxvC7aAAAAAAnjT5GbwylWQC2KwtxExw7D10y49vKcooJ0AAAADf6VG1QRSW6oEqsV40bK3bkmqzoXdot6i4gEAAAEy6r22pwWExn95sjo6xoCdI0e/eYKD/GftAAAAAQAAFoAAAAEy6r22pwAAATLqvbanD5Iv+2lMo8wGu38cLQnhQWGpZEoBAAAB3Wk4Pnb/keSDfMbiKmBGXEB/R75Sm81yZQAAAAEAABaAAAAB3Wk4PnYAAAHdaTg+dlD3NG/nQX9YueouG07G0GevJx2cAQAAASDQ25ZqoHTmauLeC1uxbbJc9puYK7ibUGQAAAABAAAWgAAAASDQ25ZqAAABINDblmrDxe/R9ACThqXry6xBd28gwzmBbAAAAAA3JtwFy7gOad2nnAuf4c9a2JDr8h65bBqxAQAAApIfgNiYaB9nad26DD093xiYPxcQq2fLUB0AAAABAAALQAAAAG2v6s7EAAACkh+A2JhP0wpVAIQo7aaYGJz1q+BQ/JvaAQEAAAELaF0K71KfkeqRPM7T8QipPJ8FVXyve5YUAAAAAQAAFoAAAAELaF0K7wAAAQtoXQrvJ/jj56GUsaHxN9mDMXP5RsX08l8AAAADE1QMtlVNL/Tr3lfTfZGZ4SRd7Ko1EbsleAEAAAKN3l0bwt3bQiKYf+QXt0o8YjRC4DeZwDgRAAAAAQAAC0AAAABs+mTZ9gAAAo3eXRvCVJEHZ0qy+F1pvTVulg0P1CdMCToAAAACfGL6o0cNbRO/RL5C/tljM1b4X9GibgKJhgEAAAPEPtTYFS70hIR9vGG5Bss2KK0fyL/Q7ZfwAAAAAQAAFoAAAAPEPtTYFQAAA8Q+1NgVjxMxbNwbSqmxFnDEgA2J2Io6Q14AAAAB0Fl8OgAV2mEYfjb3jRucPYtRg9szNOY5LAEAAADjj9fBEDJIdjKxmX0e1aiPEla5rtes80LhAAAAAQAAC0AAAAAl7U6gLgAAAOOP18EQBkYuU4gvkHTrVpgVrymqlmeIV3cBAAAA2NjC3v910c484H8ciZmr9lYIo66SCeFyQwAAAAEAAAtAAAAAJCQgeoAAAADY2MLe/1PF67K3QcuQJ+m4P7tOiIrVmdFhAQAAAukCHDJUZrnHmLoVULR6r8HDBaygNH/gNE8AAAABAAAWgAAAAukCHDJUAAAC6QIcMlS4diPveIAR8ciqf6WfLVCvxGQ1MQAAAAJlQHbfixmoGC8hAefMDjnblFS989zLCxhKAQAAA+519/AhViOdiXDAAdtc5/ueTM0syon8VYoAAAABAAAWgAAAA+519/AhAAAD7nX38CH0clyiOijE/jV+sOwm6ZB5i5GvYQEAAAGy/GNMTQyzah076TeqMT+jyMJhGgese8vbAAAAAQAAC0AAAABIf2XiDQAAAbL8Y0xNr/JNzMvTszgQcqMcDBEztfKONfgAAAARpIlShW0="},bounty:{NETWORK_ID:3,NETWORK_NAME:"bounty",SEED_PEERS:[WsPeerAddress.seed("bug-bounty1.nimiq-network.com",8080,"7e825872ee12a71bda50cba9f230c760c84ee50eef0a3e435467e8d5307c0b4e"),WsPeerAddress.seed("bug-bounty2.nimiq-network.com",8080,"ea876175c8b693c0db38b7c17d66e9c510020fceb4634f04e281af30438f8787"),WsPeerAddress.seed("bug-bounty3.nimiq-network.com",8080,"5c0d5d801e85ebd42f25a45b2cb7f3b39b9ce14002d4662f5ed0cd79ce25165a")],GENESIS_BLOCK:new Block(new BlockHeader(new Hash(null),new Hash(null),Hash.fromBase64("nPcJa/7i0KYsiPQ8FPOgvLYgpP3m05UMwPfIPJAdAvI="),Hash.fromBase64("sXZsIZDV40vD7NDdrnSk2tOsPMKKit/vH0xvz1RXmQo="),BlockUtils.difficultyToCompact(1),1,1522338300,67058,BlockHeader.Version.V1),new BlockInterlink([],new Hash(null)),new BlockBody(Address.fromBase64("AAAAAAAAAAAAAAAAAAAAAAAAAAA="),[],BufferUtils.fromBase64("Qm91bnR5TmV0"))),GENESIS_ACCOUNTS:"AGROsO8mYpEUdwzEGQ0O6vnlpVKChwEAAAPgjSSR4LB4qqj8ygd5C6xKRfXafhN7T5fmAAAAAQAAC0AAAAClbNttpgAAA+CNJJHgvj7dWIwWkgYczXTXDMe9WDwe7PIAAAABuvV0Xzr7uF1SMm0j0okevxuwhMCFRbOerwEAAAAzj75naNS5u7vg6bLNCTc+tc++nDMzSMxcAAAAAQAAFoAAAAAzj75naAAAADOPvmdoLCurwI3RXio3O082uOONNCaOL5EAAAAArvAV+ORfFg1aBKGWGk19uDxpWkV+fiIkWwEAAAJR5PbT4MvZdtuHjLiimcdnhbNI6TKH2m4GAAAAAQAAC0AAAABi+354pgAAAlHk9tPgpgOUfVePZWnuO69XlvZf8BzHjTsAAAACuA/6/UZ+myPLTv0rQR48yVjdYBj+xnx0gQEAAAH38jLPmHhUCPYh7IdSdeq5grLJ7N3/9k7oAAAAAQAAC0AAAABT/bMimgAAAffyMs+YTpbsTx+qRTynShhe/OncI3F8UJUBAAACY7QNrF0kaFoknkqcBjWINhgkiICcLaGFqQAAAAEAABaAAAACY7QNrF0AAAJjtA2sXYy5yceBWd2UZHzOlLJ8bJT3XnkiAQAAAet+mSFo/V6xEWOKhdqqy8rbsGtb0IpSTjsAAAABAAAWgAAAAet+mSFoAAAB636ZIWisTPQqBlMhdavdoB1dJg4hNeIzSQAAAAM9NgN2R9lbltBpK4dHZ0tyJFuWFqFXycS6AQAAABDdCzYOg7v1ZL/YGtYz6n/pqZ7kBscS9EAAAAABAAALQAAAAALPgd5YAAAAEN0LNg4jeClst35OziQr18E8ongjqdUwkAAAAACSi46KoSGZZZgRFEG1UmNVvuGnXlr/p8tLAAAAAo2Y+VdN6KsTS3g0BfG/5A2WO23wvPTR1wQBAAAABjp3o4OXWcPNeS7zgUtJ1ZtdWMlPrUCjQQAAAAEAABaAAAAABjp3o4MAAAAGOnejg0HbqTyPwzbBbmZKac+AJldb1K8SAQAAA2xCJZEUiCvMiRHOWl0TPvfiopaGoWuy/1MAAAABAAAWgAAAA2xCJZEUAAADbEIlkRSW5uOyFaGBeE9iLFclv4dkn0b8hAEAAAAaof6tJK4CoBvPyIm5zYNslaFa0I0DAXdNAAAAAQAAC0AAAAAEcFUc3AAAABqh/q0k7md7N7SMnce8u1qZ7zza/iG1Tn4AAAAC2fbY76DyEhIrSQASeAudDPtSCBr5cZuxUwEAAADk0kARBJH5qFOo09UHXzNlMp6yjMHoBVicAAAAAQAAFoAAAADk0kARBAAAAOTSQBEEBGm9ERoB+XwvUDmCog0GIMYSA/0BAAACzQJNz/Z6A5yDJeNdyNSW1L+irfZN+NpYRQAAAAEAABaAAAACzQJNz/YAAALNAk3P9grte35IRZZFznMf1gpDH0fsbgh6AAAAANIlCqNKBUnIybVhKsuJHiMrgaeH+72CipcAAAAArp3v7lubymFcF+x8X6sQer1ayMp1jrlWiwEAAAQQfjLXJ7IS3Zq3na6MsYcufha2Tm5gvr2xAAAAAQAAFoAAAAQQfjLXJwAABBB+Mtcn5XPFpovekv8bgRGTV2LSeiZleJUAAAACXoxQT4M7+VL2b5FDeiL8Y1dHlO1boy196AEAAAOcBs1QJwsPNgV1uujn9YRrWXf23JR0QKsvAAAAAQAAC0AAAACaASI4BwAAA5wGzVAnhdNFqitT85qR1j+u1sme41jJRfkAAAAC6ttvlJrkUQTtZt4IVpXGMPPbiOARbrgajgAAAAHVpCh2w6PvV+HiS5PL5s4wdjHd6qKO6i8PAAAAA2qxFnjjJl5FHtoCQxEJfO0uyXaCj9MG+OkBAAADFiD2hCtcPDqv69GPrUF7J1ufmM68/Ru99gAAAAEAAAtAAAAAg7ApFggAAAMWIPaEK5BnIwlb6NRmmDQzimYNOTKOVNPjAAAAAY1Fx02zSd3uF8Vj4S/TaoBuM///DSp0gSwAAAADZ5wnyoHktQhKTfw0OpLTgiwg53rMarO+LQEAAAJflxqPfHUakyXzvQFuqMGCr6xa8pbx1MG2AAAAAQAAFoAAAAJflxqPfAAAAl+XGo98TtdEztipo0zyipnMocYle2VSHzsAAAAB8OIqY4ZJ40Xz0UiBI4UHWjeUanUuMMH5qwEAAAIKm7AwSvDbPaXscFKMfNoshmPOuji4FyTgAAAAAQAAFoAAAAIKm7AwSgAAAgqbsDBKluoH0jINLWuByiQ+CAG3gMo+8JgAAAAA1uRP/GEF1BOx7I2paX5fa/wEkQDcMJcCTQEAAAH5Z+cQz7kBi6Rgajd3MHk58AA3NwBGMyJiAAAAAQAAC0AAAABUO/vYIwAAAfln5xDP/3+ug/4aXTjAo5YwpNMt+nZ+lB0AAAAC4xiGzk8p0EDsMgk7BZ2Lp/Ipqs/8QkvT6wEAAAGe+TeyjXZtAVYZPw0/Wm+gH1sTuonDC+zdAAAAAQAAFoAAAAGe+TeyjQAAAZ75N7KNxcAvQyI0dTnEOU4b5XGOOLIXrOYBAAADvPpJRzblSEO08l6xF6oGQvBQPB7VBBg0cwAAAAEAAAtAAAAAn38MNokAAAO8+klHNocR7UAAXunjaoZ8raL1kqQqMhaBAQAAA8avedwClf/LVcuz9RkrElWM+SyAjp8k+1sAAAABAAALQAAAAKEdPvoBAAADxq953ALOttlrLzsnbOrQj8LjeGNjY8MCmAEAAAEeregRRXA2d50cqQgJcXF4rsQ1Iy0wCdkPAAAAAQAAC0AAAAAvx6atjAAAAR6t6BFF5pw0DA0RHO6/7cAqKwohgusbMJ4BAAABnR1KdPepyuvGAvBWqAB0Mij3qHXgmM3pQgAAAAEAABaAAAABnR1KdPcAAAGdHUp092IPe5Uo8L6bEBfIcBszCCaU3ZCFAQAAAlApip6i7sSV9Xf/cZOWcSnR3lvQ6qnjYiEAAAABAAALQAAAAGKxlxpxAAACUCmKnqLHZ87+742b7VCY+mdcXgUivnErUQEAAAJc6SBPCXsPV1cyJmrWJbyix0y0MGvNdAxnAAAAAQAAC0AAAABk0YViggAAAlzpIE8JJhdSTzJWBddPXWISNCnXKQbdSOEAAAAAshscJDuUrLmff96PmMXSHjv6iLnuakcuEQEAAAF3oHpkI8BjHIpOQcNWshd7j/h9mICI5myBAAAAAQAAC0AAAAA+mr8QsQAAAXegemQjbgkIzm9ttUgaXm481y+qKRjSeqwBAAAB7DzablqAf2gbs+/9SYhcADbIRJbS7G3c+QAAAAEAABaAAAAB7DzabloAAAHsPNpuWtJEhwUaSZ9Tg+yvkFZ242oTVaxrAQAAA8zovmmlJrUqvQ9XKD75Ql3t/wHtYw/hqi4AAAABAAALQAAAAKImymbxAAADzOi+aaUscN6LWAC41YIiEiyUFT4nl8DbwwEAAAJrqfvqURra+7HArgPHeoZuZGfBnZxo4oZcAAAAAQAAC0AAAABnRv9RuQAAAmup++pRZ77cbnKDpVQw4BL39bEWeOSwHw0AAAACC47Ibf40xdAvwpS6spKJEDfGUOP0dfLvNgEAAADExu0Of/wIe/ktutHQJVsqBotvETusEBk8AAAAAQAAFoAAAADExu0OfwAAAMTG7Q5/npgGH2YQ5O69Zb8InpcJ+3Xb3hMAAAABGivkj2P3t+w3wcJlDbqHHLeZjaGprCzmFwAAAAFfg6V+9IxjkTpCkTZ2heqwjjcQb3GjCEZTAQAAAZIMcUVqJ0k1ifmmNQt79Rs1dX0L2Mq+MloAAAABAAAWgAAAAZIMcUVqAAABkgxxRWp9VLAV2l/GjEWTAZzpxeDaUsxNkgEAAAN2uVrw4g9W2DDeukSzTyLxYqm5KFcw72fJAAAAAQAAFoAAAAN2uVrw4gAAA3a5WvDii7RScEJSU1x6ZmCL5M3F50xRHfQAAAAC+CK5BiiMrHZJ7TrhEFQ8n0YRfoLMUczX2QAAAAJNvBcYruLQJ2TltxpinmOSf13f+cXn3J3jAAAAA5w4C/BjVTkfE0Phx+Rb2fsm3J8RI3wFwTsBAAAAC+MMUH8dzPNaHQGQKnjqTKs7aWbbdH7dEwAAAAEAAAtAAAAAAfssuBYAAAAL4wxQf4FwpwRoMuHItz9YGBRc6x1o3amtAQAAACwQMTvDUlbrOHxQG5guU3iG0q9/+CrDFXMAAAABAAALQAAAAAdYCDShAAAALBAxO8MhD4gQOrLQfWJGyCsI5ZUmVdh8pQAAAADdRRBrv3G4F2Tq3ImF+xUVZz2gqjVpGdAaAQAAAZYf2OJvN1smnhwcM8c/aZznmfFtvxDRU9gAAAABAAAWgAAAAZYf2OJvAAABlh/Y4m8eR91nBeBI9qdg1mlPf8ZIzFLPmQEAAAI3vx7Pa5ty9e+2jB6gL+lO95IuG4TdDN1vAAAAAQAAFoAAAAI3vx7PawAAAje/Hs9rgCRUm9RKMk+J4Mqy1pCGgnExdFcAAAAAUWefBW7kQ4xPetD+/je2JzS83YLr60juHAEAAAGA5ARRy0KuCQ/K40H+qr7fyuDRlNACqSihAAAAAQAAC0AAAABAJgC4TQAAAYDkBFHLlRXf6DznkAPPYQG5bSgjCxCB6WIBAAAB0PAwzsvj1VjB3iefUVXm0uENgye1iH8GWgAAAAEAABaAAAAB0PAwzssAAAHQ8DDOy2SmQ0XvARmN17wy1azFVYOFl8LmAAAAAuymvWJbap1uaBnvqo22bGoCcg9XRK1olasAAAAA/lMYYTxyjHLVR/Pxkp4el+dp5sGYw2CyNwAAAANzjeaeP6Vn5Qo6zPTuJbEby9W8yGOUlpj0AAAAAGJvsBrGU9LXiImw0pNsAfYsGPpChDfzxqUAAAACnha01XkWHT3K98ZVf4qFZ+eVZk69HXgTZAAAAADG+hJMiXbLXYotByvgurHAZkCIfeoD4j/GAQAAAnwS195BXMR4RF6S2HEut98KOu46WyAnMgUAAAABAAAWgAAAAnwS195BAAACfBLX3kGB7YYZXaVHVYpvlS5pPB0rTmAdhgEAAAOw7V2WAkTXOeZBhAQ3gO4hKDzaPoI/obIIAAAAAQAAFoAAAAOw7V2WAgAAA7DtXZYCexCLXdJmUo3et6zTrM4JHLAHvHcBAAAAo52G7qeniYMBQPn2IGmF4SyZvtqO5T3j8QAAAAEAAAtAAAAAG0Tr0nIAAACjnYbup/82u4K2pI3Zh8SrLR0y1SaJZ5l2AQAAAM0wkaKTtJYt5lBGk9KdUOfTPfmHPMJYvIwAAAABAAAWgAAAAM0wkaKTAAAAzTCRopP8K2cAplRi+V/cwUxuZsSR4QZlJQEAAAFrnAUfbjFv4oFVJrnxAqoTAfT+ir0cddG8AAAAAQAAC0AAAAA8mgDakwAAAWucBR9uS6QEmO4u5Y4uSMXTZDH8ysKkgeUAAAABJql00I3a+i/3sQxVGNO8jvSHNvKIDDwpCAAAAAG5PG0zfZL63kNtVx8yC/1rU/YJ+beMCq/MAQAAAfyrrlYeV08n7pDCSKBTHhoQtuofLbLc5vIAAAABAAAWgAAAAfyrrlYeAAAB/KuuVh6t32k0jFALkuXmJTd3CVbsSVqr9gAAAAJGVwd4qfoE4hQZ0AIEtzoGqvhfroylPD7hAAAAATCkdqWwldyF7Ow6kOLADIO7fufoY/2MCtwBAAADn+uup3jSsj0K3MSzvXONYK4E0E+ydYu0MQAAAAEAABaAAAADn+uup3gAAAOf666neJlIQtZB2w+EQBPHLR9hU4c7Pc8pAQAAAHrMSxVGaFi1A/Bg67LMchAQLHHATlbxJ1oAAAABAAALQAAAABR3YdjhAAAAesxLFUaL9KQCAqp4Q5SOagEaGjf7lDpynQAAAABBumWs5OROJv8K/JWHN97QVURIoPj96+bXAQAAAzOvVCYV6OmPb3ZVZhDThuOTXPAGcUPCMUAAAAABAAAWgAAAAzOvVCYVAAADM69UJhWOjYkDOqh2GLtyhACzalkqt6i5GAAAAABkHOEzHn2NueFUN/i1nufAJm5Ac7Whv/IvAQAAAnaJFcF5fLjdbjLqfgEZqSxvEzn1UcW6XekAAAABAAALQAAAAGkW2PWVAAACdokVwXmQSClXUuSIAuzoqKB4jFwZAJuMdgEAAAHsD0/gGtLI0Rhf68pXNo8w6tkeDbl7/leEAAAAAQAAFoAAAAHsD0/gGgAAAewPT+AaCOUy0dRimkU3sK1J9IqLyEwVekoBAAAD1asYkCaILiY2H+HviJLKv8bvJpZp3yEU5AAAAAEAAAtAAAAAo5yEGAcAAAPVqxiQJviZYUNe7PwjCxRRwmdn2qbLShqZAQAAAj7b2zm/blSYRSUbnvVCJTGqqdqvIGdeXlIAAAABAAAWgAAAAj7b2zm/AAACPtvbOb9X+fT74TMZImyXLXIuIgWFUyD5uAEAAAIPegL2Y5UScwJ9ZTWVekf09n4XUKQhwkvjAAAAAQAAC0AAAABX6aspEQAAAg96AvZjv7BLmwd9zQiXxIRalCtzU+r8G3wBAAAEBj9a7W52WYLujJxZpIibUJZrq7ka4SDDEQAAAAEAABaAAAAEBj9a7W4AAAQGP1rtbvPLOoPC9Vea1GXBedP3t7MHPoMsAQAAAgBURMd+ePmpTRjQCgCi5pVFGkD2qs/bOPIAAAABAAAWgAAAAgBURMd+AAACAFREx35sf7kDiNf4hPKBPARdgY4/AAtsaAEAAAEII2jMolR1W14pluv9x/6myqzxn3ZUEenzAAAAAQAAFoAAAAEII2jMogAAAQgjaMyiEIZJWfKO8Y1GoDU9rEsVumVGFgEAAAABDnO2+5f7Yo9xYe4kL5omlRWQaOFVp1fkRwEAAABQ82mtvY9XMFguE8guQcqN7PcZaP59u73nAAAAAQAAFoAAAABQ82mtvQAAAFDzaa29HbkxrjlvrxypwVCKBXGLscWZxBsBAAACbbcPl4DZq3f07ciGYXAPXG+EQbptqwEXgAAAAAEAAAtAAAAAZ56CmUAAAAJttw+XgKh3+qgc1B4nsn6iKBWKH8/1k3DaAQAAAygH/3wfau3GDF2ltpK1zQVT/YbUHG1O6BUAAAABAAAWgAAAAygH/3wfAAADKAf/fB8SWgnhKY7eEBq1dn7EdblSHhwwiAEAAAMiqJ4ySyyTQbUeHOhqhls8J6pSa9FOTdORAAAAAQAAC0AAAACFxsUIYgAAAyKonjJL13wA6mHCW2/OQD28IMlARXIpkYABAAAiUPS1kYdh8z8IT9HgqMC1auELaAZIShQtEgAAAAEAAAtAAAAFuCjI7ZcAACJQ9LWRhw=="}};var Fe=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/connection/CloseType.js",e="687a084366371e8648e0c30afd19a19a1da53ce9",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/connection/CloseType.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:51}},1:{start:{line:15,column:8},end:{line:15,column:32}},2:{start:{line:21,column:0},end:{line:21,column:33}},3:{start:{line:22,column:0},end:{line:22,column:38}},4:{start:{line:23,column:0},end:{line:23,column:46}},5:{start:{line:24,column:0},end:{line:24,column:33}},6:{start:{line:25,column:0},end:{line:25,column:42}},7:{start:{line:26,column:0},end:{line:26,column:54}},8:{start:{line:27,column:0},end:{line:27,column:34}},9:{start:{line:28,column:0},end:{line:28,column:36}},10:{start:{line:29,column:0},end:{line:29,column:43}},11:{start:{line:31,column:0},end:{line:31,column:42}},12:{start:{line:32,column:0},end:{line:32,column:46}},13:{start:{line:33,column:0},end:{line:33,column:48}},14:{start:{line:34,column:0},end:{line:34,column:38}},15:{start:{line:35,column:0},end:{line:35,column:49}},16:{start:{line:36,column:0},end:{line:36,column:41}},17:{start:{line:37,column:0},end:{line:37,column:29}},18:{start:{line:38,column:0},end:{line:38,column:35}},19:{start:{line:39,column:0},end:{line:39,column:41}},20:{start:{line:40,column:0},end:{line:40,column:35}},21:{start:{line:42,column:0},end:{line:42,column:43}},22:{start:{line:43,column:0},end:{line:43,column:49}},23:{start:{line:45,column:0},end:{line:45,column:39}},24:{start:{line:46,column:0},end:{line:46,column:36}},25:{start:{line:47,column:0},end:{line:47,column:30}},26:{start:{line:48,column:0},end:{line:48,column:41}},27:{start:{line:49,column:0},end:{line:49,column:43}},28:{start:{line:50,column:0},end:{line:50,column:38}},29:{start:{line:52,column:0},end:{line:52,column:40}},30:{start:{line:53,column:0},end:{line:53,column:57}},31:{start:{line:54,column:0},end:{line:54,column:43}},32:{start:{line:56,column:0},end:{line:56,column:38}},33:{start:{line:60,column:0},end:{line:60,column:39}},34:{start:{line:61,column:0},end:{line:61,column:39}},35:{start:{line:62,column:0},end:{line:62,column:40}},36:{start:{line:63,column:0},end:{line:63,column:67}},37:{start:{line:64,column:0},end:{line:64,column:39}},38:{start:{line:65,column:0},end:{line:65,column:29}},39:{start:{line:66,column:0},end:{line:66,column:44}},40:{start:{line:67,column:0},end:{line:67,column:35}},41:{start:{line:68,column:0},end:{line:68,column:34}},42:{start:{line:69,column:0},end:{line:69,column:61}},43:{start:{line:71,column:0},end:{line:71,column:37}},44:{start:{line:72,column:0},end:{line:72,column:40}},45:{start:{line:73,column:0},end:{line:73,column:56}},46:{start:{line:74,column:0},end:{line:74,column:59}},47:{start:{line:75,column:0},end:{line:75,column:53}},48:{start:{line:76,column:0},end:{line:76,column:52}},49:{start:{line:77,column:0},end:{line:77,column:26}},50:{start:{line:79,column:0},end:{line:79,column:36}},51:{start:{line:81,column:0},end:{line:81,column:32}},52:{start:{line:85,column:0},end:{line:85,column:33}},53:{start:{line:86,column:0},end:{line:86,column:29}},54:{start:{line:87,column:0},end:{line:87,column:34}},55:{start:{line:88,column:0},end:{line:88,column:30}},56:{start:{line:89,column:0},end:{line:89,column:32}},57:{start:{line:90,column:0},end:{line:90,column:31}},58:{start:{line:91,column:0},end:{line:91,column:29}},59:{start:{line:92,column:0},end:{line:92,column:45}},60:{start:{line:93,column:0},end:{line:93,column:40}},61:{start:{line:94,column:0},end:{line:94,column:32}},62:{start:{line:96,column:0},end:{line:96,column:33}},63:{start:{line:98,column:0},end:{line:98,column:26}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:35},end:{line:8,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:14,column:4},end:{line:14,column:5}},loc:{start:{line:14,column:35},end:{line:16,column:5}},line:14}},branchMap:{0:{loc:{start:{line:7,column:15},end:{line:7,column:50}},type:"binary-expr",locations:[{start:{line:7,column:15},end:{line:7,column:31}},{start:{line:7,column:35},end:{line:7,column:50}}],line:7}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0},f:{0:0,1:0},b:{0:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class CloseType{static isBanningType(n){Fe.f[0]++;Fe.s[0]++;return(Fe.b[0][0]++,n>=100)&&(Fe.b[0][1]++,n<200)}static isFailingType(n){Fe.f[1]++;Fe.s[1]++;return n>=200}}Fe.s[2]++;CloseType.GET_BLOCKS_TIMEOUT=1;Fe.s[3]++;CloseType.GET_CHAIN_PROOF_TIMEOUT=2;Fe.s[4]++;CloseType.GET_ACCOUNTS_TREE_CHUNK_TIMEOUT=3;Fe.s[5]++;CloseType.GET_HEADER_TIMEOUT=4;Fe.s[6]++;CloseType.INVALID_ACCOUNTS_TREE_CHUNK=5;Fe.s[7]++;CloseType.ACCOUNTS_TREE_CHUNCK_ROOT_HASH_MISMATCH=6;Fe.s[8]++;CloseType.INVALID_CHAIN_PROOF=7;Fe.s[9]++;CloseType.RECEIVED_WRONG_HEADER=8;Fe.s[10]++;CloseType.DID_NOT_GET_REQUESTED_HEADER=9;Fe.s[11]++;CloseType.GET_ACCOUNTS_PROOF_TIMEOUT=11;Fe.s[12]++;CloseType.GET_TRANSACTIONS_PROOF_TIMEOUT=12;Fe.s[13]++;CloseType.GET_TRANSACTION_RECEIPTS_TIMEOUT=13;Fe.s[14]++;CloseType.INVALID_ACCOUNTS_PROOF=14;Fe.s[15]++;CloseType.ACCOUNTS_PROOF_ROOT_HASH_MISMATCH=15;Fe.s[16]++;CloseType.INCOMPLETE_ACCOUNTS_PROOF=16;Fe.s[17]++;CloseType.INVALID_BLOCK=17;Fe.s[18]++;CloseType.INVALID_CHAIN_PROOF=18;Fe.s[19]++;CloseType.INVALID_TRANSACTION_PROOF=19;Fe.s[20]++;CloseType.INVALID_BLOCK_PROOF=20;Fe.s[21]++;CloseType.SENDING_PING_MESSAGE_FAILED=22;Fe.s[22]++;CloseType.SENDING_OF_VERSION_MESSAGE_FAILED=23;Fe.s[23]++;CloseType.SIMULTANEOUS_CONNECTION=29;Fe.s[24]++;CloseType.DUPLICATE_CONNECTION=30;Fe.s[25]++;CloseType.PEER_IS_BANNED=31;Fe.s[26]++;CloseType.MANUAL_NETWORK_DISCONNECT=33;Fe.s[27]++;CloseType.MANUAL_WEBSOCKET_DISCONNECT=34;Fe.s[28]++;CloseType.MAX_PEER_COUNT_REACHED=35;Fe.s[29]++;CloseType.PEER_CONNECTION_RECYCLED=36;Fe.s[30]++;CloseType.PEER_CONNECTION_RECYCLED_INBOUND_EXCHANGE=37;Fe.s[31]++;CloseType.INBOUND_CONNECTIONS_BLOCKED=38;Fe.s[32]++;CloseType.MANUAL_PEER_DISCONNECT=90;Fe.s[33]++;CloseType.RECEIVED_INVALID_BLOCK=100;Fe.s[34]++;CloseType.BLOCKCHAIN_SYNC_FAILED=101;Fe.s[35]++;CloseType.RECEIVED_INVALID_HEADER=102;Fe.s[36]++;CloseType.RECEIVED_TRANSACTION_NOT_MATCHING_OUR_SUBSCRIPTION=103;Fe.s[37]++;CloseType.ADDR_MESSAGE_TOO_LARGE=104;Fe.s[38]++;CloseType.INVALID_ADDR=105;Fe.s[39]++;CloseType.ADDR_NOT_GLOBALLY_REACHABLE=106;Fe.s[40]++;CloseType.INVALID_SIGNAL_TTL=107;Fe.s[41]++;CloseType.INVALID_SIGNATURE=108;Fe.s[42]++;CloseType.RECEIVED_BLOCK_NOT_MATCHING_OUR_SUBSCRIPTION=109;Fe.s[43]++;CloseType.INCOMPATIBLE_VERSION=110;Fe.s[44]++;CloseType.DIFFERENT_GENESIS_BLOCK=111;Fe.s[45]++;CloseType.INVALID_PEER_ADDRESS_IN_VERSION_MESSAGE=112;Fe.s[46]++;CloseType.UNEXPECTED_PEER_ADDRESS_IN_VERSION_MESSAGE=113;Fe.s[47]++;CloseType.INVALID_PUBLIC_KEY_IN_VERACK_MESSAGE=114;Fe.s[48]++;CloseType.INVALID_SIGNATURE_IN_VERACK_MESSAGE=115;Fe.s[49]++;CloseType.BANNED_IP=116;Fe.s[50]++;CloseType.RATE_LIMIT_EXCEEDED=120;Fe.s[51]++;CloseType.MANUAL_PEER_BAN=190;Fe.s[52]++;CloseType.CLOSED_BY_REMOTE=200;Fe.s[53]++;CloseType.PING_TIMEOUT=201;Fe.s[54]++;CloseType.CONNECTION_FAILED=202;Fe.s[55]++;CloseType.NETWORK_ERROR=203;Fe.s[56]++;CloseType.VERSION_TIMEOUT=204;Fe.s[57]++;CloseType.VERACK_TIMEOUT=205;Fe.s[58]++;CloseType.ABORTED_SYNC=206;Fe.s[59]++;CloseType.FAILED_TO_PARSE_MESSAGE_TYPE=207;Fe.s[60]++;CloseType.CONNECTION_LIMIT_PER_IP=208;Fe.s[61]++;CloseType.CHANNEL_CLOSING=209;Fe.s[62]++;CloseType.MANUAL_PEER_FAIL=290;Fe.s[63]++;Class.register(CloseType);var je=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/connection/NetworkConnection.js",e="643351ad66dd08af2373b9ab14e70467568d75be",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/connection/NetworkConnection.js",statementMap:{0:{start:{line:9,column:8},end:{line:9,column:16}},1:{start:{line:11,column:8},end:{line:11,column:32}},2:{start:{line:14,column:8},end:{line:14,column:34}},3:{start:{line:16,column:8},end:{line:16,column:38}},4:{start:{line:18,column:8},end:{line:18,column:40}},5:{start:{line:21,column:8},end:{line:21,column:28}},6:{start:{line:23,column:8},end:{line:23,column:32}},7:{start:{line:26,column:8},end:{line:26,column:37}},8:{start:{line:29,column:8},end:{line:29,column:29}},9:{start:{line:32,column:8},end:{line:32,column:31}},10:{start:{line:36,column:8},end:{line:36,column:54}},11:{start:{line:38,column:8},end:{line:38,column:65}},12:{start:{line:38,column:43},end:{line:38,column:63}},13:{start:{line:39,column:8},end:{line:39,column:103}},14:{start:{line:39,column:40},end:{line:39,column:101}},15:{start:{line:40,column:8},end:{line:40,column:57}},16:{start:{line:40,column:39},end:{line:40,column:55}},17:{start:{line:49,column:8},end:{line:51,column:9}},18:{start:{line:50,column:12},end:{line:50,column:19}},19:{start:{line:53,column:8},end:{line:53,column:60}},20:{start:{line:54,column:8},end:{line:54,column:40}},21:{start:{line:62,column:8},end:{line:62,column:28}},22:{start:{line:63,column:8},end:{line:63,column:36}},23:{start:{line:73,column:8},end:{line:75,column:9}},24:{start:{line:74,column:12},end:{line:74,column:19}},25:{start:{line:78,column:8},end:{line:78,column:28}},26:{start:{line:81,column:8},end:{line:84,column:9}},27:{start:{line:82,column:12},end:{line:82,column:43}},28:{start:{line:83,column:12},end:{line:83,column:37}},29:{start:{line:87,column:8},end:{line:87,column:47}},30:{start:{line:97,column:8},end:{line:97,column:36}},31:{start:{line:100,column:8},end:{line:100,column:30}},32:{start:{line:108,column:8},end:{line:108,column:72}},33:{start:{line:116,column:8},end:{line:116,column:75}},34:{start:{line:124,column:8},end:{line:124,column:74}},35:{start:{line:132,column:27},end:{line:132,column:64}},36:{start:{line:133,column:8},end:{line:135,column:9}},37:{start:{line:134,column:12},end:{line:134,column:25}},38:{start:{line:138,column:8},end:{line:142,column:9}},39:{start:{line:139,column:12},end:{line:139,column:129}},40:{start:{line:140,column:12},end:{line:140,column:72}},41:{start:{line:141,column:12},end:{line:141,column:25}},42:{start:{line:145,column:8},end:{line:148,column:9}},43:{start:{line:146,column:12},end:{line:146,column:123}},44:{start:{line:147,column:12},end:{line:147,column:25}},45:{start:{line:150,column:8},end:{line:157,column:9}},46:{start:{line:151,column:12},end:{line:151,column:36}},47:{start:{line:152,column:12},end:{line:152,column:60}},48:{start:{line:153,column:12},end:{line:153,column:24}},49:{start:{line:155,column:12},end:{line:155,column:96}},50:{start:{line:156,column:12},end:{line:156,column:25}},51:{start:{line:167,column:8},end:{line:167,column:86}},52:{start:{line:175,column:8},end:{line:175,column:54}},53:{start:{line:183,column:8},end:{line:183,column:60}},54:{start:{line:191,column:8},end:{line:194,column:9}},55:{start:{line:192,column:29},end:{line:192,column:67}},56:{start:{line:193,column:12},end:{line:193,column:173}},57:{start:{line:195,column:8},end:{line:195,column:34}},58:{start:{line:203,column:8},end:{line:204,column:33}},59:{start:{line:211,column:8},end:{line:211,column:35}},60:{start:{line:218,column:8},end:{line:218,column:145}},61:{start:{line:223,column:8},end:{line:223,column:24}},62:{start:{line:228,column:8},end:{line:228,column:30}},63:{start:{line:233,column:8},end:{line:233,column:33}},64:{start:{line:238,column:8},end:{line:238,column:34}},65:{start:{line:243,column:8},end:{line:243,column:32}},66:{start:{line:248,column:8},end:{line:248,column:33}},67:{start:{line:253,column:8},end:{line:253,column:31}},68:{start:{line:258,column:8},end:{line:258,column:35}},69:{start:{line:263,column:8},end:{line:263,column:29}},70:{start:{line:268,column:8},end:{line:268,column:30}},71:{start:{line:273,column:8},end:{line:273,column:28}},72:{start:{line:277,column:0},end:{line:277,column:37}},73:{start:{line:278,column:0},end:{line:278,column:34}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:4},end:{line:8,column:5}},loc:{start:{line:8,column:60},end:{line:41,column:5}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:38,column:36},end:{line:38,column:37}},loc:{start:{line:38,column:43},end:{line:38,column:63}},line:38},2:{name:"(anonymous_2)",decl:{start:{line:39,column:34},end:{line:39,column:35}},loc:{start:{line:39,column:40},end:{line:39,column:101}},line:39},3:{name:"(anonymous_3)",decl:{start:{line:40,column:34},end:{line:40,column:35}},loc:{start:{line:40,column:39},end:{line:40,column:55}},line:40},4:{name:"(anonymous_4)",decl:{start:{line:47,column:4},end:{line:47,column:5}},loc:{start:{line:47,column:20},end:{line:55,column:5}},line:47},5:{name:"(anonymous_5)",decl:{start:{line:61,column:4},end:{line:61,column:5}},loc:{start:{line:61,column:16},end:{line:64,column:5}},line:61},6:{name:"(anonymous_6)",decl:{start:{line:71,column:4},end:{line:71,column:5}},loc:{start:{line:71,column:27},end:{line:88,column:5}},line:71},7:{name:"(anonymous_7)",decl:{start:{line:95,column:4},end:{line:95,column:5}},loc:{start:{line:95,column:25},end:{line:101,column:5}},line:95},8:{name:"(anonymous_8)",decl:{start:{line:107,column:4},end:{line:107,column:5}},loc:{start:{line:107,column:21},end:{line:109,column:5}},line:107},9:{name:"(anonymous_9)",decl:{start:{line:115,column:4},end:{line:115,column:5}},loc:{start:{line:115,column:24},end:{line:117,column:5}},line:115},10:{name:"(anonymous_10)",decl:{start:{line:123,column:4},end:{line:123,column:5}},loc:{start:{line:123,column:23},end:{line:125,column:5}},line:123},11:{name:"(anonymous_11)",decl:{start:{line:131,column:4},end:{line:131,column:5}},loc:{start:{line:131,column:14},end:{line:158,column:5}},line:131},12:{name:"(anonymous_12)",decl:{start:{line:166,column:4},end:{line:166,column:5}},loc:{start:{line:166,column:68},end:{line:168,column:5}},line:166},13:{name:"(anonymous_13)",decl:{start:{line:174,column:4},end:{line:174,column:5}},loc:{start:{line:174,column:29},end:{line:176,column:5}},line:174},14:{name:"(anonymous_14)",decl:{start:{line:182,column:4},end:{line:182,column:5}},loc:{start:{line:182,column:42},end:{line:184,column:5}},line:182},15:{name:"(anonymous_15)",decl:{start:{line:190,column:4},end:{line:190,column:5}},loc:{start:{line:190,column:24},end:{line:196,column:5}},line:190},16:{name:"(anonymous_16)",decl:{start:{line:202,column:4},end:{line:202,column:5}},loc:{start:{line:202,column:14},end:{line:205,column:5}},line:202},17:{name:"(anonymous_17)",decl:{start:{line:210,column:4},end:{line:210,column:5}},loc:{start:{line:210,column:15},end:{line:212,column:5}},line:210},18:{name:"(anonymous_18)",decl:{start:{line:217,column:4},end:{line:217,column:5}},loc:{start:{line:217,column:15},end:{line:219,column:5}},line:217},19:{name:"(anonymous_19)",decl:{start:{line:222,column:4},end:{line:222,column:5}},loc:{start:{line:222,column:13},end:{line:224,column:5}},line:222},20:{name:"(anonymous_20)",decl:{start:{line:227,column:4},end:{line:227,column:5}},loc:{start:{line:227,column:19},end:{line:229,column:5}},line:227},21:{name:"(anonymous_21)",decl:{start:{line:232,column:4},end:{line:232,column:5}},loc:{start:{line:232,column:22},end:{line:234,column:5}},line:232},22:{name:"(anonymous_22)",decl:{start:{line:237,column:4},end:{line:237,column:5}},loc:{start:{line:237,column:27},end:{line:239,column:5}},line:237},23:{name:"(anonymous_23)",decl:{start:{line:242,column:4},end:{line:242,column:5}},loc:{start:{line:242,column:21},end:{line:244,column:5}},line:242},24:{name:"(anonymous_24)",decl:{start:{line:247,column:4},end:{line:247,column:5}},loc:{start:{line:247,column:26},end:{line:249,column:5}},line:247},25:{name:"(anonymous_25)",decl:{start:{line:252,column:4},end:{line:252,column:5}},loc:{start:{line:252,column:20},end:{line:254,column:5}},line:252},26:{name:"(anonymous_26)",decl:{start:{line:257,column:4},end:{line:257,column:5}},loc:{start:{line:257,column:24},end:{line:259,column:5}},line:257},27:{name:"(anonymous_27)",decl:{start:{line:262,column:4},end:{line:262,column:5}},loc:{start:{line:262,column:18},end:{line:264,column:5}},line:262},28:{name:"(anonymous_28)",decl:{start:{line:267,column:4},end:{line:267,column:5}},loc:{start:{line:267,column:19},end:{line:269,column:5}},line:267},29:{name:"(anonymous_29)",decl:{start:{line:272,column:4},end:{line:272,column:5}},loc:{start:{line:272,column:17},end:{line:274,column:5}},line:272}},branchMap:{0:{loc:{start:{line:49,column:8},end:{line:51,column:9}},type:"if",locations:[{start:{line:49,column:8},end:{line:51,column:9}},{start:{line:49,column:8},end:{line:51,column:9}}],line:49},1:{loc:{start:{line:53,column:31},end:{line:53,column:59}},type:"binary-expr",locations:[{start:{line:53,column:31},end:{line:53,column:45}},{start:{line:53,column:49},end:{line:53,column:59}}],line:53},2:{loc:{start:{line:73,column:8},end:{line:75,column:9}},type:"if",locations:[{start:{line:73,column:8},end:{line:75,column:9}},{start:{line:73,column:8},end:{line:75,column:9}}],line:73},3:{loc:{start:{line:81,column:8},end:{line:84,column:9}},type:"if",locations:[{start:{line:81,column:8},end:{line:84,column:9}},{start:{line:81,column:8},end:{line:84,column:9}}],line:81},4:{loc:{start:{line:81,column:12},end:{line:81,column:66}},type:"binary-expr",locations:[{start:{line:81,column:12},end:{line:81,column:47}},{start:{line:81,column:51},end:{line:81,column:66}}],line:81},5:{loc:{start:{line:132,column:27},end:{line:132,column:64}},type:"binary-expr",locations:[{start:{line:132,column:27},end:{line:132,column:44}},{start:{line:132,column:48},end:{line:132,column:64}}],line:132},6:{loc:{start:{line:133,column:8},end:{line:135,column:9}},type:"if",locations:[{start:{line:133,column:8},end:{line:135,column:9}},{start:{line:133,column:8},end:{line:135,column:9}}],line:133},7:{loc:{start:{line:138,column:8},end:{line:142,column:9}},type:"if",locations:[{start:{line:138,column:8},end:{line:142,column:9}},{start:{line:138,column:8},end:{line:142,column:9}}],line:138},8:{loc:{start:{line:138,column:12},end:{line:138,column:63}},type:"binary-expr",locations:[{start:{line:138,column:12},end:{line:138,column:36}},{start:{line:138,column:40},end:{line:138,column:63}}],line:138},9:{loc:{start:{line:145,column:8},end:{line:148,column:9}},type:"if",locations:[{start:{line:145,column:8},end:{line:148,column:9}},{start:{line:145,column:8},end:{line:148,column:9}}],line:145},10:{loc:{start:{line:152,column:31},end:{line:152,column:59}},type:"binary-expr",locations:[{start:{line:152,column:31},end:{line:152,column:45}},{start:{line:152,column:49},end:{line:152,column:59}}],line:152},11:{loc:{start:{line:155,column:78},end:{line:155,column:92}},type:"binary-expr",locations:[{start:{line:155,column:78},end:{line:155,column:87}},{start:{line:155,column:91},end:{line:155,column:92}}],line:155},12:{loc:{start:{line:191,column:8},end:{line:194,column:9}},type:"if",locations:[{start:{line:191,column:8},end:{line:194,column:9}},{start:{line:191,column:8},end:{line:194,column:9}}],line:191},13:{loc:{start:{line:192,column:29},end:{line:192,column:67}},type:"cond-expr",locations:[{start:{line:192,column:45},end:{line:192,column:54}},{start:{line:192,column:57},end:{line:192,column:67}}],line:192},14:{loc:{start:{line:193,column:84},end:{line:193,column:121}},type:"binary-expr",locations:[{start:{line:193,column:84},end:{line:193,column:101}},{start:{line:193,column:105},end:{line:193,column:121}}],line:193},15:{loc:{start:{line:193,column:127},end:{line:193,column:155}},type:"cond-expr",locations:[{start:{line:193,column:136},end:{line:193,column:150}},{start:{line:193,column:153},end:{line:193,column:155}}],line:193},16:{loc:{start:{line:203,column:15},end:{line:204,column:32}},type:"binary-expr",locations:[{start:{line:203,column:15},end:{line:203,column:45}},{start:{line:204,column:15},end:{line:204,column:32}}],line:203}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class NetworkConnection extends Observable{constructor(n,e,l,t){je.f[0]++;je.s[0]++;super();je.s[1]++;this._channel=n;je.s[2]++;this._protocol=e;je.s[3]++;this._netAddress=l;je.s[4]++;this._peerAddress=t;je.s[5]++;this._bytesSent=0;je.s[6]++;this._bytesReceived=0;je.s[7]++;this._inbound=!t;je.s[8]++;this._closed=!1;je.s[9]++;this._lastError=null;je.s[10]++;this._id=NetworkConnection._instanceCount++;je.s[11]++;this._channel.on("message",n=>{je.f[1]++;je.s[12]++;return this._onMessage(n)});je.s[13]++;this._channel.on("close",()=>{je.f[2]++;je.s[14]++;return this._onClose(CloseType.CLOSED_BY_REMOTE,"Closed by remote")});je.s[15]++;this._channel.on("error",n=>{je.f[3]++;je.s[16]++;return this._onError(n)})}_onMessage(n){je.f[4]++;je.s[17]++;if(this._closed){je.b[0][0]++;je.s[18]++}else{je.b[0][1]++;je.s[19]++;this._bytesReceived+=(je.b[1][0]++,n.byteLength)||(je.b[1][1]++,n.length);je.s[20]++;this.fire("message",n,this)}}_onError(n){je.f[5]++;je.s[21]++;this._lastError=n;je.s[22]++;this.fire("error",n,this)}_onClose(n,e){je.f[6]++;je.s[23]++;if(this._closed){je.b[2][0]++;je.s[24]++}else{je.b[2][1]++;je.s[25]++;this._closed=!0;je.s[26]++;if((je.b[4][0]++,n===CloseType.CLOSED_BY_REMOTE)&&(je.b[4][1]++,this._lastError)){je.b[3][0]++;je.s[27]++;n=CloseType.NETWORK_ERROR;je.s[28]++;e=this._lastError}else je.b[3][1]++;je.s[29]++;this.fire("close",n,e,this)}}_close(n,e){je.f[7]++;je.s[30]++;this._onClose(n,e);je.s[31]++;this._channel.close()}_isChannelOpen(){je.f[8]++;je.s[32]++;return this._channel.readyState===DataChannel.ReadyState.OPEN}_isChannelClosing(){je.f[9]++;je.s[33]++;return this._channel.readyState===DataChannel.ReadyState.CLOSING}_isChannelClosed(){je.f[10]++;je.s[34]++;return this._channel.readyState===DataChannel.ReadyState.CLOSED}send(n){je.f[11]++;const e=(je.s[35]++,(je.b[5][0]++,this._peerAddress)||(je.b[5][1]++,this._netAddress));je.s[36]++;if(this._closed){je.b[6][0]++;je.s[37]++;return!1}je.b[6][1]++;je.s[38]++;if((je.b[8][0]++,this._isChannelClosing())||(je.b[8][1]++,this._isChannelClosed())){je.b[7][0]++;je.s[39]++;Log.w(NetworkConnection,`Not sending data to ${e} - channel closing/closed (${this._channel.readyState})`);je.s[40]++;this._onClose(CloseType.CHANNEL_CLOSING,"channel closing");je.s[41]++;return!1}je.b[7][1]++;je.s[42]++;if(!this._isChannelOpen()){je.b[9][0]++;je.s[43]++;Log.w(NetworkConnection,`Not sending data to ${e} - channel not open (${this._channel.readyState})`);je.s[44]++;return!1}je.b[9][1]++;je.s[45]++;try{je.s[46]++;this._channel.send(n);je.s[47]++;this._bytesSent+=(je.b[10][0]++,n.byteLength)||(je.b[10][1]++,n.length);je.s[48]++;return!0}catch(l){je.s[49]++;Log.e(NetworkConnection,`Failed to send data to ${e}: ${(je.b[11][0]++,l.message)||(je.b[11][1]++,l)}`);je.s[50]++;return!1}}expectMessage(n,e,l,t){je.f[12]++;je.s[51]++;this._channel.expectMessage(n,e,l,t)}isExpectingMessage(n){je.f[13]++;je.s[52]++;return this._channel.isExpectingMessage(n)}confirmExpectedMessage(n,e){je.f[14]++;je.s[53]++;this._channel.confirmExpectedMessage(n,e)}close(n,e){je.f[15]++;je.s[54]++;if(this._closed)je.b[12][1]++;else{je.b[12][0]++;const l=(je.s[55]++,this._inbound?(je.b[13][0]++,"inbound"):(je.b[13][1]++,"outbound"));je.s[56]++;Log.d(NetworkConnection,`Closing ${l} connection #${this._id} ${(je.b[14][0]++,this._peerAddress)||(je.b[14][1]++,this._netAddress)}`+(e?(je.b[15][0]++,` - ${e}`):(je.b[15][1]++,""))+` (${n})`)}je.s[57]++;this._close(n,e)}equals(n){je.f[16]++;je.s[58]++;return(je.b[16][0]++,n instanceof NetworkConnection)&&(je.b[16][1]++,this._id===n.id)}hashCode(){je.f[17]++;je.s[59]++;return this._id.toString()}toString(){je.f[18]++;je.s[60]++;return`NetworkConnection{id=${this._id}, protocol=${this._protocol}, peerAddress=${this._peerAddress}, netAddress=${this._netAddress}}`}get id(){je.f[19]++;je.s[61]++;return this._id}get protocol(){je.f[20]++;je.s[62]++;return this._protocol}get peerAddress(){je.f[21]++;je.s[63]++;return this._peerAddress}set peerAddress(n){je.f[22]++;je.s[64]++;this._peerAddress=n}get netAddress(){je.f[23]++;je.s[65]++;return this._netAddress}set netAddress(n){je.f[24]++;je.s[66]++;this._netAddress=n}get bytesSent(){je.f[25]++;je.s[67]++;return this._bytesSent}get bytesReceived(){je.f[26]++;je.s[68]++;return this._bytesReceived}get inbound(){je.f[27]++;je.s[69]++;return this._inbound}get outbound(){je.f[28]++;je.s[70]++;return!this._inbound}get closed(){je.f[29]++;je.s[71]++;return this._closed}}je.s[72]++;NetworkConnection._instanceCount=0;je.s[73]++;Class.register(NetworkConnection);var Ge=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/connection/PeerChannel.js",e="4e9a97fe68ced8406bb5504e49e3b27426944f9b",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/connection/PeerChannel.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:16}},1:{start:{line:8,column:8},end:{line:8,column:32}},2:{start:{line:9,column:8},end:{line:9,column:62}},3:{start:{line:9,column:40},end:{line:9,column:60}},4:{start:{line:12,column:8},end:{line:12,column:50}},5:{start:{line:20,column:18},end:{line:20,column:22}},6:{start:{line:20,column:31},end:{line:20,column:35}},7:{start:{line:22,column:8},end:{line:47,column:9}},8:{start:{line:23,column:24},end:{line:23,column:48}},9:{start:{line:24,column:12},end:{line:24,column:48}},10:{start:{line:25,column:12},end:{line:25,column:44}},11:{start:{line:27,column:12},end:{line:27,column:147}},12:{start:{line:30,column:12},end:{line:30,column:59}},13:{start:{line:39,column:12},end:{line:42,column:13}},14:{start:{line:40,column:16},end:{line:40,column:99}},15:{start:{line:41,column:16},end:{line:41,column:23}},16:{start:{line:45,column:12},end:{line:45,column:83}},17:{start:{line:46,column:12},end:{line:46,column:19}},18:{start:{line:49,column:8},end:{line:49,column:25}},19:{start:{line:49,column:18},end:{line:49,column:25}},20:{start:{line:52,column:8},end:{line:52,column:54}},21:{start:{line:54,column:8},end:{line:59,column:9}},22:{start:{line:55,column:12},end:{line:55,column:62}},23:{start:{line:56,column:12},end:{line:56,column:48}},24:{start:{line:58,column:12},end:{line:58,column:148}},25:{start:{line:69,column:8},end:{line:69,column:83}},26:{start:{line:77,column:8},end:{line:77,column:51}},27:{start:{line:86,column:8},end:{line:86,column:48}},28:{start:{line:94,column:8},end:{line:94,column:39}},29:{start:{line:104,column:8},end:{line:104,column:127}},30:{start:{line:113,column:8},end:{line:113,column:67}},31:{start:{line:121,column:8},end:{line:121,column:51}},32:{start:{line:129,column:8},end:{line:129,column:56}},33:{start:{line:137,column:8},end:{line:137,column:55}},34:{start:{line:145,column:8},end:{line:145,column:57}},35:{start:{line:153,column:8},end:{line:153,column:51}},36:{start:{line:161,column:8},end:{line:161,column:53}},37:{start:{line:170,column:8},end:{line:170,column:69}},38:{start:{line:180,column:8},end:{line:180,column:156}},39:{start:{line:187,column:8},end:{line:187,column:48}},40:{start:{line:198,column:8},end:{line:198,column:83}},41:{start:{line:206,column:8},end:{line:206,column:62}},42:{start:{line:214,column:8},end:{line:214,column:54}},43:{start:{line:223,column:8},end:{line:223,column:73}},44:{start:{line:231,column:8},end:{line:231,column:50}},45:{start:{line:239,column:8},end:{line:239,column:50}},46:{start:{line:254,column:8},end:{line:254,column:121}},47:{start:{line:263,column:8},end:{line:263,column:77}},48:{start:{line:272,column:8},end:{line:272,column:70}},49:{start:{line:279,column:8},end:{line:279,column:54}},50:{start:{line:287,column:8},end:{line:287,column:56}},51:{start:{line:296,column:8},end:{line:296,column:83}},52:{start:{line:305,column:8},end:{line:305,column:74}},53:{start:{line:314,column:8},end:{line:314,column:81}},54:{start:{line:323,column:8},end:{line:323,column:74}},55:{start:{line:331,column:8},end:{line:331,column:70}},56:{start:{line:339,column:8},end:{line:339,column:79}},57:{start:{line:348,column:8},end:{line:348,column:86}},58:{start:{line:356,column:8},end:{line:356,column:56}},59:{start:{line:363,column:8},end:{line:363,column:48}},60:{start:{line:371,column:8},end:{line:371,column:51}},61:{start:{line:379,column:8},end:{line:380,column:47}},62:{start:{line:387,column:8},end:{line:387,column:37}},63:{start:{line:394,column:8},end:{line:394,column:49}},64:{start:{line:399,column:8},end:{line:399,column:26}},65:{start:{line:404,column:8},end:{line:404,column:29}},66:{start:{line:409,column:8},end:{line:409,column:35}},67:{start:{line:414,column:8},end:{line:414,column:38}},68:{start:{line:419,column:8},end:{line:419,column:39}},69:{start:{line:424,column:8},end:{line:424,column:37}},70:{start:{line:429,column:8},end:{line:429,column:38}},71:{start:{line:434,column:8},end:{line:434,column:33}},72:{start:{line:437,column:0},end:{line:437,column:28}},73:{start:{line:439,column:0},end:{line:439,column:23}},74:{start:{line:440,column:0},end:{line:440,column:52}},75:{start:{line:441,column:0},end:{line:441,column:44}},76:{start:{line:442,column:0},end:{line:442,column:54}},77:{start:{line:443,column:0},end:{line:443,column:58}},78:{start:{line:444,column:0},end:{line:444,column:56}},79:{start:{line:445,column:0},end:{line:445,column:58}},80:{start:{line:446,column:0},end:{line:446,column:48}},81:{start:{line:447,column:0},end:{line:447,column:50}},82:{start:{line:448,column:0},end:{line:448,column:42}},83:{start:{line:449,column:0},end:{line:449,column:52}},84:{start:{line:450,column:0},end:{line:450,column:50}},85:{start:{line:451,column:0},end:{line:451,column:56}},86:{start:{line:452,column:0},end:{line:452,column:46}},87:{start:{line:453,column:0},end:{line:453,column:54}},88:{start:{line:454,column:0},end:{line:454,column:46}},89:{start:{line:455,column:0},end:{line:455,column:46}},90:{start:{line:456,column:0},end:{line:456,column:50}},91:{start:{line:457,column:0},end:{line:457,column:68}},92:{start:{line:458,column:0},end:{line:458,column:60}},93:{start:{line:459,column:0},end:{line:459,column:74}},94:{start:{line:460,column:0},end:{line:460,column:66}},95:{start:{line:461,column:0},end:{line:461,column:84}},96:{start:{line:462,column:0},end:{line:462,column:76}},97:{start:{line:463,column:0},end:{line:463,column:82}},98:{start:{line:464,column:0},end:{line:464,column:74}},99:{start:{line:465,column:0},end:{line:465,column:86}},100:{start:{line:466,column:0},end:{line:466,column:78}},101:{start:{line:467,column:0},end:{line:467,column:68}},102:{start:{line:468,column:0},end:{line:468,column:60}},103:{start:{line:469,column:0},end:{line:469,column:54}},104:{start:{line:470,column:0},end:{line:470,column:46}},105:{start:{line:471,column:0},end:{line:471,column:50}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:28},end:{line:13,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:9,column:33},end:{line:9,column:34}},loc:{start:{line:9,column:40},end:{line:9,column:60}},line:9},2:{name:"(anonymous_2)",decl:{start:{line:19,column:4},end:{line:19,column:5}},loc:{start:{line:19,column:23},end:{line:60,column:5}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:68,column:4},end:{line:68,column:5}},loc:{start:{line:68,column:68},end:{line:70,column:5}},line:68},4:{name:"(anonymous_4)",decl:{start:{line:76,column:4},end:{line:76,column:5}},loc:{start:{line:76,column:29},end:{line:78,column:5}},line:76},5:{name:"(anonymous_5)",decl:{start:{line:85,column:4},end:{line:85,column:5}},loc:{start:{line:85,column:15},end:{line:87,column:5}},line:85},6:{name:"(anonymous_6)",decl:{start:{line:93,column:4},end:{line:93,column:5}},loc:{start:{line:93,column:24},end:{line:95,column:5}},line:93},7:{name:"(anonymous_7)",decl:{start:{line:103,column:4},end:{line:103,column:5}},loc:{start:{line:103,column:51},end:{line:105,column:5}},line:103},8:{name:"(anonymous_8)",decl:{start:{line:112,column:4},end:{line:112,column:5}},loc:{start:{line:112,column:33},end:{line:114,column:5}},line:112},9:{name:"(anonymous_9)",decl:{start:{line:120,column:4},end:{line:120,column:5}},loc:{start:{line:120,column:17},end:{line:122,column:5}},line:120},10:{name:"(anonymous_10)",decl:{start:{line:128,column:4},end:{line:128,column:5}},loc:{start:{line:128,column:22},end:{line:130,column:5}},line:128},11:{name:"(anonymous_11)",decl:{start:{line:136,column:4},end:{line:136,column:5}},loc:{start:{line:136,column:21},end:{line:138,column:5}},line:136},12:{name:"(anonymous_12)",decl:{start:{line:144,column:4},end:{line:144,column:5}},loc:{start:{line:144,column:23},end:{line:146,column:5}},line:144},13:{name:"(anonymous_13)",decl:{start:{line:152,column:4},end:{line:152,column:5}},loc:{start:{line:152,column:17},end:{line:154,column:5}},line:152},14:{name:"(anonymous_14)",decl:{start:{line:160,column:4},end:{line:160,column:5}},loc:{start:{line:160,column:19},end:{line:162,column:5}},line:160},15:{name:"(anonymous_15)",decl:{start:{line:169,column:4},end:{line:169,column:5}},loc:{start:{line:169,column:35},end:{line:171,column:5}},line:169},16:{name:"(anonymous_16)",decl:{start:{line:179,column:4},end:{line:179,column:5}},loc:{start:{line:179,column:91},end:{line:181,column:5}},line:179},17:{name:"(anonymous_17)",decl:{start:{line:186,column:4},end:{line:186,column:5}},loc:{start:{line:186,column:14},end:{line:188,column:5}},line:186},18:{name:"(anonymous_18)",decl:{start:{line:197,column:4},end:{line:197,column:5}},loc:{start:{line:197,column:49},end:{line:199,column:5}},line:197},19:{name:"(anonymous_19)",decl:{start:{line:205,column:4},end:{line:205,column:5}},loc:{start:{line:205,column:28},end:{line:207,column:5}},line:205},20:{name:"(anonymous_20)",decl:{start:{line:213,column:4},end:{line:213,column:5}},loc:{start:{line:213,column:20},end:{line:215,column:5}},line:213},21:{name:"(anonymous_21)",decl:{start:{line:222,column:4},end:{line:222,column:5}},loc:{start:{line:222,column:39},end:{line:224,column:5}},line:222},22:{name:"(anonymous_22)",decl:{start:{line:230,column:4},end:{line:230,column:5}},loc:{start:{line:230,column:16},end:{line:232,column:5}},line:230},23:{name:"(anonymous_23)",decl:{start:{line:238,column:4},end:{line:238,column:5}},loc:{start:{line:238,column:16},end:{line:240,column:5}},line:238},24:{name:"(anonymous_24)",decl:{start:{line:253,column:4},end:{line:253,column:5}},loc:{start:{line:253,column:87},end:{line:255,column:5}},line:253},25:{name:"(anonymous_25)",decl:{start:{line:262,column:4},end:{line:262,column:5}},loc:{start:{line:262,column:43},end:{line:264,column:5}},line:262},26:{name:"(anonymous_26)",decl:{start:{line:271,column:4},end:{line:271,column:5}},loc:{start:{line:271,column:36},end:{line:273,column:5}},line:271},27:{name:"(anonymous_27)",decl:{start:{line:278,column:4},end:{line:278,column:5}},loc:{start:{line:278,column:20},end:{line:280,column:5}},line:278},28:{name:"(anonymous_28)",decl:{start:{line:286,column:4},end:{line:286,column:5}},loc:{start:{line:286,column:22},end:{line:288,column:5}},line:286},29:{name:"(anonymous_29)",decl:{start:{line:295,column:4},end:{line:295,column:5}},loc:{start:{line:295,column:49},end:{line:297,column:5}},line:295},30:{name:"(anonymous_30)",decl:{start:{line:304,column:4},end:{line:304,column:5}},loc:{start:{line:304,column:40},end:{line:306,column:5}},line:304},31:{name:"(anonymous_31)",decl:{start:{line:313,column:4},end:{line:313,column:5}},loc:{start:{line:313,column:47},end:{line:315,column:5}},line:313},32:{name:"(anonymous_32)",decl:{start:{line:322,column:4},end:{line:322,column:5}},loc:{start:{line:322,column:40},end:{line:324,column:5}},line:322},33:{name:"(anonymous_33)",decl:{start:{line:330,column:4},end:{line:330,column:5}},loc:{start:{line:330,column:36},end:{line:332,column:5}},line:330},34:{name:"(anonymous_34)",decl:{start:{line:338,column:4},end:{line:338,column:5}},loc:{start:{line:338,column:45},end:{line:340,column:5}},line:338},35:{name:"(anonymous_35)",decl:{start:{line:347,column:4},end:{line:347,column:5}},loc:{start:{line:347,column:52},end:{line:349,column:5}},line:347},36:{name:"(anonymous_36)",decl:{start:{line:355,column:4},end:{line:355,column:5}},loc:{start:{line:355,column:22},end:{line:357,column:5}},line:355},37:{name:"(anonymous_37)",decl:{start:{line:362,column:4},end:{line:362,column:5}},loc:{start:{line:362,column:14},end:{line:364,column:5}},line:362},38:{name:"(anonymous_38)",decl:{start:{line:370,column:4},end:{line:370,column:5}},loc:{start:{line:370,column:17},end:{line:372,column:5}},line:370},39:{name:"(anonymous_39)",decl:{start:{line:378,column:4},end:{line:378,column:5}},loc:{start:{line:378,column:14},end:{line:381,column:5}},line:378},40:{name:"(anonymous_40)",decl:{start:{line:386,column:4},end:{line:386,column:5}},loc:{start:{line:386,column:15},end:{line:388,column:5}},line:386},41:{name:"(anonymous_41)",decl:{start:{line:393,column:4},end:{line:393,column:5}},loc:{start:{line:393,column:15},end:{line:395,column:5}},line:393},42:{name:"(anonymous_42)",decl:{start:{line:398,column:4},end:{line:398,column:5}},loc:{start:{line:398,column:21},end:{line:400,column:5}},line:398},43:{name:"(anonymous_43)",decl:{start:{line:403,column:4},end:{line:403,column:5}},loc:{start:{line:403,column:13},end:{line:405,column:5}},line:403},44:{name:"(anonymous_44)",decl:{start:{line:408,column:4},end:{line:408,column:5}},loc:{start:{line:408,column:19},end:{line:410,column:5}},line:408},45:{name:"(anonymous_45)",decl:{start:{line:413,column:4},end:{line:413,column:5}},loc:{start:{line:413,column:22},end:{line:415,column:5}},line:413},46:{name:"(anonymous_46)",decl:{start:{line:418,column:4},end:{line:418,column:5}},loc:{start:{line:418,column:27},end:{line:420,column:5}},line:418},47:{name:"(anonymous_47)",decl:{start:{line:423,column:4},end:{line:423,column:5}},loc:{start:{line:423,column:21},end:{line:425,column:5}},line:423},48:{name:"(anonymous_48)",decl:{start:{line:428,column:4},end:{line:428,column:5}},loc:{start:{line:428,column:26},end:{line:430,column:5}},line:428},49:{name:"(anonymous_49)",decl:{start:{line:433,column:4},end:{line:433,column:5}},loc:{start:{line:433,column:17},end:{line:435,column:5}},line:433}},branchMap:{0:{loc:{start:{line:27,column:92},end:{line:27,column:127}},type:"binary-expr",locations:[{start:{line:27,column:92},end:{line:27,column:108}},{start:{line:27,column:112},end:{line:27,column:127}}],line:27},1:{loc:{start:{line:27,column:131},end:{line:27,column:145}},type:"binary-expr",locations:[{start:{line:27,column:131},end:{line:27,column:140}},{start:{line:27,column:144},end:{line:27,column:145}}],line:27},2:{loc:{start:{line:39,column:12},end:{line:42,column:13}},type:"if",locations:[{start:{line:39,column:12},end:{line:42,column:13}},{start:{line:39,column:12},end:{line:42,column:13}}],line:39},3:{loc:{start:{line:39,column:16},end:{line:39,column:61}},type:"binary-expr",locations:[{start:{line:39,column:16},end:{line:39,column:29}},{start:{line:39,column:33},end:{line:39,column:61}}],line:39},4:{loc:{start:{line:45,column:67},end:{line:45,column:81}},type:"binary-expr",locations:[{start:{line:45,column:67},end:{line:45,column:76}},{start:{line:45,column:80},end:{line:45,column:81}}],line:45},5:{loc:{start:{line:49,column:8},end:{line:49,column:25}},type:"if",locations:[{start:{line:49,column:8},end:{line:49,column:25}},{start:{line:49,column:8},end:{line:49,column:25}}],line:49},6:{loc:{start:{line:58,column:103},end:{line:58,column:138}},type:"binary-expr",locations:[{start:{line:58,column:103},end:{line:58,column:119}},{start:{line:58,column:123},end:{line:58,column:138}}],line:58},7:{loc:{start:{line:179,column:24},end:{line:179,column:73}},type:"default-arg",locations:[{start:{line:179,column:35},end:{line:179,column:73}}],line:179},8:{loc:{start:{line:179,column:75},end:{line:179,column:89}},type:"default-arg",locations:[{start:{line:179,column:85},end:{line:179,column:89}}],line:179},9:{loc:{start:{line:180,column:69},end:{line:180,column:153}},type:"cond-expr",locations:[{start:{line:180,column:81},end:{line:180,column:115}},{start:{line:180,column:118},end:{line:180,column:153}}],line:180},10:{loc:{start:{line:379,column:15},end:{line:380,column:46}},type:"binary-expr",locations:[{start:{line:379,column:15},end:{line:379,column:39}},{start:{line:380,column:15},end:{line:380,column:46}}],line:379}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0],8:[0],9:[0,0],10:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class PeerChannel extends Observable{constructor(n){Ge.f[0]++;Ge.s[0]++;super();Ge.s[1]++;this._conn=n;Ge.s[2]++;this._conn.on("message",n=>{Ge.f[1]++;Ge.s[3]++;return this._onMessage(n)});Ge.s[4]++;this.bubble(this._conn,"close","error")}_onMessage(n){Ge.f[2]++;let e=(Ge.s[5]++,null),l=(Ge.s[6]++,null);Ge.s[7]++;try{const o=(Ge.s[8]++,new SerialBuffer(n));Ge.s[9]++;l=MessageFactory.peekType(o);Ge.s[10]++;e=MessageFactory.parse(o)}catch(t){Ge.s[11]++;Log.w(PeerChannel,`Failed to parse '${PeerChannel.Event[l]}' message from ${(Ge.b[0][0]++,this.peerAddress)||(Ge.b[0][1]++,this.netAddress)}`,(Ge.b[1][0]++,t.message)||(Ge.b[1][1]++,t));Ge.s[12]++;this._conn.confirmExpectedMessage(l,!1);Ge.s[13]++;if((Ge.b[3][0]++,null===l)||(Ge.b[3][1]++,l===Message.Type.REJECT)){Ge.b[2][0]++;Ge.s[14]++;this.close(CloseType.FAILED_TO_PARSE_MESSAGE_TYPE,"Failed to parse message type");Ge.s[15]++;return}Ge.b[2][1]++;Ge.s[16]++;this.reject(l,RejectMessage.Code.REJECT_MALFORMED,(Ge.b[4][0]++,t.message)||(Ge.b[4][1]++,t));Ge.s[17]++;return}Ge.s[18]++;if(e){Ge.b[5][1]++;Ge.s[20]++;this._conn.confirmExpectedMessage(l,!0);Ge.s[21]++;try{Ge.s[22]++;this.fire(PeerChannel.Event[e.type],e,this);Ge.s[23]++;this.fire("message-log",e,this)}catch(t){Ge.s[24]++;Log.w(PeerChannel,`Error while processing '${PeerChannel.Event[e.type]}' message from ${(Ge.b[6][0]++,this.peerAddress)||(Ge.b[6][1]++,this.netAddress)}: ${t}`)}}else{Ge.b[5][0]++;Ge.s[19]++}}expectMessage(n,e,l,t){Ge.f[3]++;Ge.s[25]++;this._conn.expectMessage(n,e,l,t)}isExpectingMessage(n){Ge.f[4]++;Ge.s[26]++;return this._conn.isExpectingMessage(n)}_send(n){Ge.f[5]++;Ge.s[27]++;return this._conn.send(n.serialize())}close(n,e){Ge.f[6]++;Ge.s[28]++;this._conn.close(n,e)}version(n,e,l){Ge.f[7]++;Ge.s[29]++;return this._send(new VersionMessage(Version.CODE,n,GenesisConfig.GENESIS_HASH,e,l))}verack(n,e){Ge.f[8]++;Ge.s[30]++;return this._send(new VerAckMessage(n,e))}inv(n){Ge.f[9]++;Ge.s[31]++;return this._send(new InvMessage(n))}notFound(n){Ge.f[10]++;Ge.s[32]++;return this._send(new NotFoundMessage(n))}getData(n){Ge.f[11]++;Ge.s[33]++;return this._send(new GetDataMessage(n))}getHeader(n){Ge.f[12]++;Ge.s[34]++;return this._send(new GetHeaderMessage(n))}block(n){Ge.f[13]++;Ge.s[35]++;return this._send(new BlockMessage(n))}header(n){Ge.f[14]++;Ge.s[36]++;return this._send(new HeaderMessage(n))}tx(n,e){Ge.f[15]++;Ge.s[37]++;return this._send(new TxMessage(n,e))}getBlocks(n,e=(Ge.b[7][0]++,BaseInventoryMessage.VECTORS_MAX_COUNT),l=(Ge.b[8][0]++,!0)){Ge.f[16]++;Ge.s[38]++;return this._send(new GetBlocksMessage(n,e,l?(Ge.b[9][0]++,GetBlocksMessage.Direction.FORWARD):(Ge.b[9][1]++,GetBlocksMessage.Direction.BACKWARD)))}mempool(){Ge.f[17]++;Ge.s[39]++;return this._send(new MempoolMessage)}reject(n,e,l,t){Ge.f[18]++;Ge.s[40]++;return this._send(new RejectMessage(n,e,l,t))}subscribe(n){Ge.f[19]++;Ge.s[41]++;return this._send(new SubscribeMessage(n))}addr(n){Ge.f[20]++;Ge.s[42]++;return this._send(new AddrMessage(n))}getAddr(n,e){Ge.f[21]++;Ge.s[43]++;return this._send(new GetAddrMessage(n,e))}ping(n){Ge.f[22]++;Ge.s[44]++;return this._send(new PingMessage(n))}pong(n){Ge.f[23]++;Ge.s[45]++;return this._send(new PongMessage(n))}signal(n,e,l,t,o,i,c,s){Ge.f[24]++;Ge.s[46]++;return this._send(new SignalMessage(n,e,l,t,o,i,c,s))}getAccountsProof(n,e){Ge.f[25]++;Ge.s[47]++;return this._send(new GetAccountsProofMessage(n,e))}accountsProof(n,e){Ge.f[26]++;Ge.s[48]++;return this._send(new AccountsProofMessage(n,e))}getChainProof(){Ge.f[27]++;Ge.s[49]++;return this._send(new GetChainProofMessage)}chainProof(n){Ge.f[28]++;Ge.s[50]++;return this._send(new ChainProofMessage(n))}getAccountsTreeChunk(n,e){Ge.f[29]++;Ge.s[51]++;return this._send(new GetAccountsTreeChunkMessage(n,e))}accountsTreeChunk(n,e){Ge.f[30]++;Ge.s[52]++;return this._send(new AccountsTreeChunkMessage(n,e))}getTransactionsProof(n,e){Ge.f[31]++;Ge.s[53]++;return this._send(new GetTransactionsProofMessage(n,e))}transactionsProof(n,e){Ge.f[32]++;Ge.s[54]++;return this._send(new TransactionsProofMessage(n,e))}getTransactionReceipts(n){Ge.f[33]++;Ge.s[55]++;return this._send(new GetTransactionReceiptsMessage(n))}transactionReceipts(n){Ge.f[34]++;Ge.s[56]++;return this._send(new TransactionReceiptsMessage(n))}getBlockProof(n,e){Ge.f[35]++;Ge.s[57]++;return this._send(new GetBlockProofMessage(n,e))}blockProof(n){Ge.f[36]++;Ge.s[58]++;return this._send(new BlockProofMessage(n))}getHead(){Ge.f[37]++;Ge.s[59]++;return this._send(new GetHeadMessage)}head(n){Ge.f[38]++;Ge.s[60]++;return this._send(new HeadMessage(n))}equals(n){Ge.f[39]++;Ge.s[61]++;return(Ge.b[10][0]++,n instanceof PeerChannel)&&(Ge.b[10][1]++,this._conn.equals(n.connection))}hashCode(){Ge.f[40]++;Ge.s[62]++;return this._conn.hashCode()}toString(){Ge.f[41]++;Ge.s[63]++;return`PeerChannel{conn=${this._conn}}`}get connection(){Ge.f[42]++;Ge.s[64]++;return this._conn}get id(){Ge.f[43]++;Ge.s[65]++;return this._conn.id}get protocol(){Ge.f[44]++;Ge.s[66]++;return this._conn.protocol}get peerAddress(){Ge.f[45]++;Ge.s[67]++;return this._conn.peerAddress}set peerAddress(n){Ge.f[46]++;Ge.s[68]++;this._conn.peerAddress=n}get netAddress(){Ge.f[47]++;Ge.s[69]++;return this._conn.netAddress}set netAddress(n){Ge.f[48]++;Ge.s[70]++;this._conn.netAddress=n}get closed(){Ge.f[49]++;Ge.s[71]++;return this._conn.closed}}Ge.s[72]++;Class.register(PeerChannel);Ge.s[73]++;PeerChannel.Event={};Ge.s[74]++;PeerChannel.Event[Message.Type.VERSION]="version";Ge.s[75]++;PeerChannel.Event[Message.Type.INV]="inv";Ge.s[76]++;PeerChannel.Event[Message.Type.GET_DATA]="get-data";Ge.s[77]++;PeerChannel.Event[Message.Type.GET_HEADER]="get-header";Ge.s[78]++;PeerChannel.Event[Message.Type.NOT_FOUND]="not-found";Ge.s[79]++;PeerChannel.Event[Message.Type.GET_BLOCKS]="get-blocks";Ge.s[80]++;PeerChannel.Event[Message.Type.BLOCK]="block";Ge.s[81]++;PeerChannel.Event[Message.Type.HEADER]="header";Ge.s[82]++;PeerChannel.Event[Message.Type.TX]="tx";Ge.s[83]++;PeerChannel.Event[Message.Type.MEMPOOL]="mempool";Ge.s[84]++;PeerChannel.Event[Message.Type.REJECT]="reject";Ge.s[85]++;PeerChannel.Event[Message.Type.SUBSCRIBE]="subscribe";Ge.s[86]++;PeerChannel.Event[Message.Type.ADDR]="addr";Ge.s[87]++;PeerChannel.Event[Message.Type.GET_ADDR]="get-addr";Ge.s[88]++;PeerChannel.Event[Message.Type.PING]="ping";Ge.s[89]++;PeerChannel.Event[Message.Type.PONG]="pong";Ge.s[90]++;PeerChannel.Event[Message.Type.SIGNAL]="signal";Ge.s[91]++;PeerChannel.Event[Message.Type.GET_CHAIN_PROOF]="get-chain-proof";Ge.s[92]++;PeerChannel.Event[Message.Type.CHAIN_PROOF]="chain-proof";Ge.s[93]++;PeerChannel.Event[Message.Type.GET_ACCOUNTS_PROOF]="get-accounts-proof";Ge.s[94]++;PeerChannel.Event[Message.Type.ACCOUNTS_PROOF]="accounts-proof";Ge.s[95]++;PeerChannel.Event[Message.Type.GET_ACCOUNTS_TREE_CHUNK]="get-accounts-tree-chunk";Ge.s[96]++;PeerChannel.Event[Message.Type.ACCOUNTS_TREE_CHUNK]="accounts-tree-chunk";Ge.s[97]++;PeerChannel.Event[Message.Type.GET_TRANSACTIONS_PROOF]="get-transactions-proof";Ge.s[98]++;PeerChannel.Event[Message.Type.TRANSACTIONS_PROOF]="transactions-proof";Ge.s[99]++;PeerChannel.Event[Message.Type.GET_TRANSACTION_RECEIPTS]="get-transaction-receipts";Ge.s[100]++;PeerChannel.Event[Message.Type.TRANSACTION_RECEIPTS]="transaction-receipts";Ge.s[101]++;PeerChannel.Event[Message.Type.GET_BLOCK_PROOF]="get-block-proof";Ge.s[102]++;PeerChannel.Event[Message.Type.BLOCK_PROOF]="block-proof";Ge.s[103]++;PeerChannel.Event[Message.Type.GET_HEAD]="get-head";Ge.s[104]++;PeerChannel.Event[Message.Type.HEAD]="head";Ge.s[105]++;PeerChannel.Event[Message.Type.VERACK]="verack";var We=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/connection/NetworkAgent.js",e="8693977deecfc752e4f6b8b9220cab881b9f1ef6",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/connection/NetworkAgent.js",statementMap:{0:{start:{line:17,column:8},end:{line:17,column:16}},1:{start:{line:19,column:8},end:{line:19,column:38}},2:{start:{line:21,column:8},end:{line:21,column:36}},3:{start:{line:23,column:8},end:{line:23,column:44}},4:{start:{line:25,column:8},end:{line:25,column:32}},5:{start:{line:32,column:8},end:{line:32,column:26}},6:{start:{line:39,column:8},end:{line:39,column:45}},7:{start:{line:46,column:8},end:{line:46,column:36}},8:{start:{line:53,column:8},end:{line:53,column:38}},9:{start:{line:60,column:8},end:{line:60,column:37}},10:{start:{line:67,column:8},end:{line:67,column:34}},11:{start:{line:74,column:8},end:{line:74,column:33}},12:{start:{line:81,column:8},end:{line:81,column:34}},13:{start:{line:87,column:8},end:{line:87,column:42}},14:{start:{line:93,column:8},end:{line:93,column:40}},15:{start:{line:99,column:8},end:{line:99,column:36}},16:{start:{line:102,column:8},end:{line:102,column:77}},17:{start:{line:103,column:8},end:{line:103,column:63}},18:{start:{line:106,column:8},end:{line:111,column:36}},19:{start:{line:111,column:18},end:{line:111,column:34}},20:{start:{line:113,column:8},end:{line:113,column:70}},21:{start:{line:116,column:8},end:{line:116,column:59}},22:{start:{line:116,column:37},end:{line:116,column:57}},23:{start:{line:117,column:8},end:{line:117,column:57}},24:{start:{line:117,column:36},end:{line:117,column:55}},25:{start:{line:118,column:8},end:{line:118,column:53}},26:{start:{line:118,column:34},end:{line:118,column:51}},27:{start:{line:119,column:8},end:{line:119,column:60}},28:{start:{line:119,column:38},end:{line:119,column:58}},29:{start:{line:120,column:8},end:{line:120,column:53}},30:{start:{line:120,column:34},end:{line:120,column:51}},31:{start:{line:121,column:8},end:{line:121,column:53}},32:{start:{line:121,column:34},end:{line:121,column:51}},33:{start:{line:124,column:8},end:{line:124,column:51}},34:{start:{line:124,column:34},end:{line:124,column:49}},35:{start:{line:132,column:8},end:{line:134,column:9}},36:{start:{line:133,column:12},end:{line:133,column:19}},37:{start:{line:136,column:8},end:{line:138,column:9}},38:{start:{line:137,column:12},end:{line:137,column:45}},39:{start:{line:142,column:26},end:{line:142,column:95}},40:{start:{line:143,column:8},end:{line:143,column:43}},41:{start:{line:143,column:36},end:{line:143,column:43}},42:{start:{line:147,column:34},end:{line:163,column:10}},43:{start:{line:149,column:12},end:{line:151,column:13}},44:{start:{line:150,column:16},end:{line:150,column:29}},45:{start:{line:154,column:12},end:{line:156,column:13}},46:{start:{line:155,column:16},end:{line:155,column:29}},47:{start:{line:158,column:33},end:{line:158,column:63}},48:{start:{line:159,column:12},end:{line:162,column:90}},49:{start:{line:165,column:8},end:{line:172,column:9}},50:{start:{line:166,column:12},end:{line:166,column:50}},51:{start:{line:169,column:12},end:{line:171,column:13}},52:{start:{line:170,column:16},end:{line:170,column:50}},53:{start:{line:179,column:8},end:{line:182,column:9}},54:{start:{line:181,column:12},end:{line:181,column:19}},55:{start:{line:187,column:8},end:{line:196,column:9}},56:{start:{line:188,column:12},end:{line:188,column:36}},57:{start:{line:189,column:12},end:{line:192,column:13}},58:{start:{line:190,column:16},end:{line:190,column:118}},59:{start:{line:191,column:16},end:{line:191,column:23}},60:{start:{line:194,column:12},end:{line:194,column:84}},61:{start:{line:195,column:12},end:{line:195,column:19}},62:{start:{line:198,column:8},end:{line:198,column:33}},63:{start:{line:202,column:8},end:{line:210,column:9}},64:{start:{line:204,column:12},end:{line:207,column:47}},65:{start:{line:205,column:16},end:{line:205,column:53}},66:{start:{line:206,column:16},end:{line:206,column:82}},67:{start:{line:208,column:15},end:{line:210,column:9}},68:{start:{line:209,column:12},end:{line:209,column:31}},69:{start:{line:212,column:8},end:{line:215,column:47}},70:{start:{line:213,column:12},end:{line:213,column:48}},71:{start:{line:214,column:12},end:{line:214,column:76}},72:{start:{line:223,column:8},end:{line:223,column:93}},73:{start:{line:223,column:34},end:{line:223,column:91}},74:{start:{line:225,column:20},end:{line:225,column:30}},75:{start:{line:228,column:8},end:{line:230,column:9}},76:{start:{line:229,column:12},end:{line:229,column:19}},77:{start:{line:233,column:8},end:{line:236,column:9}},78:{start:{line:234,column:12},end:{line:234,column:110}},79:{start:{line:234,column:38},end:{line:234,column:108}},80:{start:{line:235,column:12},end:{line:235,column:19}},81:{start:{line:239,column:8},end:{line:239,column:45}},82:{start:{line:242,column:8},end:{line:246,column:9}},83:{start:{line:243,column:12},end:{line:243,column:161}},84:{start:{line:244,column:12},end:{line:244,column:134}},85:{start:{line:245,column:12},end:{line:245,column:19}},86:{start:{line:249,column:8},end:{line:252,column:9}},87:{start:{line:250,column:12},end:{line:250,column:115}},88:{start:{line:251,column:12},end:{line:251,column:19}},89:{start:{line:255,column:8},end:{line:258,column:9}},90:{start:{line:256,column:12},end:{line:256,column:125}},91:{start:{line:257,column:12},end:{line:257,column:19}},92:{start:{line:265,column:28},end:{line:265,column:43}},93:{start:{line:266,column:8},end:{line:272,column:9}},94:{start:{line:267,column:12},end:{line:270,column:13}},95:{start:{line:268,column:16},end:{line:268,column:135}},96:{start:{line:269,column:16},end:{line:269,column:23}},97:{start:{line:271,column:12},end:{line:271,column:45}},98:{start:{line:275,column:8},end:{line:281,column:9}},99:{start:{line:277,column:34},end:{line:277,column:66}},100:{start:{line:278,column:12},end:{line:280,column:13}},101:{start:{line:279,column:16},end:{line:279,column:66}},102:{start:{line:284,column:8},end:{line:284,column:48}},103:{start:{line:289,column:8},end:{line:294,column:10}},104:{start:{line:296,column:8},end:{line:296,column:54}},105:{start:{line:297,column:8},end:{line:297,column:37}},106:{start:{line:301,column:8},end:{line:301,column:47}},107:{start:{line:304,column:8},end:{line:306,column:9}},108:{start:{line:305,column:12},end:{line:305,column:19}},109:{start:{line:308,column:8},end:{line:311,column:9}},110:{start:{line:309,column:12},end:{line:309,column:29}},111:{start:{line:310,column:12},end:{line:310,column:19}},112:{start:{line:313,column:8},end:{line:315,column:9}},113:{start:{line:314,column:12},end:{line:314,column:31}},114:{start:{line:317,column:8},end:{line:319,column:9}},115:{start:{line:318,column:12},end:{line:318,column:36}},116:{start:{line:323,column:8},end:{line:323,column:47}},117:{start:{line:325,column:21},end:{line:325,column:122}},118:{start:{line:326,column:26},end:{line:326,column:127}},119:{start:{line:327,column:8},end:{line:327,column:79}},120:{start:{line:329,column:8},end:{line:329,column:32}},121:{start:{line:337,column:8},end:{line:337,column:80}},122:{start:{line:337,column:34},end:{line:337,column:78}},123:{start:{line:340,column:8},end:{line:342,column:9}},124:{start:{line:341,column:12},end:{line:341,column:19}},125:{start:{line:345,column:8},end:{line:348,column:9}},126:{start:{line:346,column:12},end:{line:346,column:109}},127:{start:{line:346,column:38},end:{line:346,column:107}},128:{start:{line:347,column:12},end:{line:347,column:19}},129:{start:{line:351,column:8},end:{line:351,column:44}},130:{start:{line:354,column:8},end:{line:357,column:9}},131:{start:{line:355,column:12},end:{line:355,column:120}},132:{start:{line:356,column:12},end:{line:356,column:19}},133:{start:{line:360,column:21},end:{line:360,column:124}},134:{start:{line:361,column:8},end:{line:364,column:9}},135:{start:{line:362,column:12},end:{line:362,column:118}},136:{start:{line:363,column:12},end:{line:363,column:19}},137:{start:{line:366,column:8},end:{line:369,column:9}},138:{start:{line:367,column:12},end:{line:367,column:45}},139:{start:{line:368,column:12},end:{line:368,column:31}},140:{start:{line:372,column:8},end:{line:372,column:60}},141:{start:{line:374,column:8},end:{line:374,column:36}},142:{start:{line:376,column:8},end:{line:378,column:9}},143:{start:{line:377,column:12},end:{line:377,column:36}},144:{start:{line:384,column:8},end:{line:386,column:54}},145:{start:{line:385,column:18},end:{line:385,column:43}},146:{start:{line:389,column:8},end:{line:391,column:49}},147:{start:{line:390,column:18},end:{line:390,column:71}},148:{start:{line:394,column:8},end:{line:394,column:49}},149:{start:{line:397,column:8},end:{line:397,column:33}},150:{start:{line:405,column:8},end:{line:405,column:103}},151:{start:{line:417,column:8},end:{line:419,column:9}},152:{start:{line:418,column:12},end:{line:418,column:19}},153:{start:{line:422,column:8},end:{line:426,column:9}},154:{start:{line:423,column:12},end:{line:423,column:79}},155:{start:{line:424,column:12},end:{line:424,column:92}},156:{start:{line:425,column:12},end:{line:425,column:19}},157:{start:{line:428,column:8},end:{line:432,column:9}},158:{start:{line:429,column:12},end:{line:429,column:80}},159:{start:{line:430,column:12},end:{line:430,column:86}},160:{start:{line:431,column:12},end:{line:431,column:19}},161:{start:{line:435,column:8},end:{line:447,column:9}},162:{start:{line:436,column:12},end:{line:439,column:13}},163:{start:{line:437,column:16},end:{line:437,column:76}},164:{start:{line:438,column:16},end:{line:438,column:23}},165:{start:{line:441,column:12},end:{line:444,column:13}},166:{start:{line:442,column:16},end:{line:442,column:106}},167:{start:{line:443,column:16},end:{line:443,column:23}},168:{start:{line:446,column:12},end:{line:446,column:43}},169:{start:{line:450,column:8},end:{line:450,column:58}},170:{start:{line:453,column:8},end:{line:453,column:47}},171:{start:{line:463,column:8},end:{line:465,column:9}},172:{start:{line:464,column:12},end:{line:464,column:19}},173:{start:{line:468,column:26},end:{line:468,column:117}},174:{start:{line:470,column:34},end:{line:479,column:10}},175:{start:{line:472,column:12},end:{line:474,column:13}},176:{start:{line:473,column:16},end:{line:473,column:29}},177:{start:{line:477,column:33},end:{line:477,column:63}},178:{start:{line:478,column:12},end:{line:478,column:102}},179:{start:{line:483,column:8},end:{line:485,column:9}},180:{start:{line:484,column:12},end:{line:484,column:50}},181:{start:{line:492,column:22},end:{line:492,column:48}},182:{start:{line:496,column:8},end:{line:499,column:9}},183:{start:{line:497,column:12},end:{line:497,column:102}},184:{start:{line:498,column:12},end:{line:498,column:19}},185:{start:{line:502,column:8},end:{line:502,column:47}},186:{start:{line:505,column:8},end:{line:509,column:38}},187:{start:{line:506,column:12},end:{line:506,column:55}},188:{start:{line:507,column:12},end:{line:507,column:72}},189:{start:{line:508,column:12},end:{line:508,column:42}},190:{start:{line:518,column:8},end:{line:520,column:9}},191:{start:{line:519,column:12},end:{line:519,column:19}},192:{start:{line:523,column:8},end:{line:523,column:38}},193:{start:{line:533,column:8},end:{line:533,column:55}},194:{start:{line:536,column:26},end:{line:536,column:56}},195:{start:{line:537,column:8},end:{line:543,column:9}},196:{start:{line:538,column:26},end:{line:538,column:48}},197:{start:{line:539,column:12},end:{line:541,column:13}},198:{start:{line:540,column:16},end:{line:540,column:46}},199:{start:{line:542,column:12},end:{line:542,column:46}},200:{start:{line:551,column:8},end:{line:551,column:32}},201:{start:{line:552,column:8},end:{line:552,column:31}},202:{start:{line:562,column:8},end:{line:566,column:9}},203:{start:{line:563,column:12},end:{line:564,column:63}},204:{start:{line:565,column:12},end:{line:565,column:25}},205:{start:{line:567,column:8},end:{line:571,column:9}},206:{start:{line:568,column:12},end:{line:569,column:62}},207:{start:{line:570,column:12},end:{line:570,column:25}},208:{start:{line:572,column:8},end:{line:572,column:20}},209:{start:{line:577,column:8},end:{line:577,column:29}},210:{start:{line:582,column:8},end:{line:582,column:26}},211:{start:{line:586,column:0},end:{line:586,column:42}},212:{start:{line:587,column:0},end:{line:587,column:38}},213:{start:{line:588,column:0},end:{line:588,column:53}},214:{start:{line:589,column:0},end:{line:589,column:52}},215:{start:{line:590,column:0},end:{line:590,column:44}},216:{start:{line:591,column:0},end:{line:591,column:39}},217:{start:{line:592,column:0},end:{line:592,column:39}},218:{start:{line:593,column:0},end:{line:593,column:36}},219:{start:{line:594,column:0},end:{line:594,column:40}},220:{start:{line:595,column:0},end:{line:595,column:41}},221:{start:{line:596,column:0},end:{line:596,column:45}},222:{start:{line:597,column:0},end:{line:597,column:29}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:16,column:4},end:{line:16,column:5}},loc:{start:{line:16,column:63},end:{line:125,column:5}},line:16},1:{name:"(anonymous_1)",decl:{start:{line:111,column:12},end:{line:111,column:13}},loc:{start:{line:111,column:18},end:{line:111,column:34}},line:111},2:{name:"(anonymous_2)",decl:{start:{line:116,column:30},end:{line:116,column:31}},loc:{start:{line:116,column:37},end:{line:116,column:57}},line:116},3:{name:"(anonymous_3)",decl:{start:{line:117,column:29},end:{line:117,column:30}},loc:{start:{line:117,column:36},end:{line:117,column:55}},line:117},4:{name:"(anonymous_4)",decl:{start:{line:118,column:27},end:{line:118,column:28}},loc:{start:{line:118,column:34},end:{line:118,column:51}},line:118},5:{name:"(anonymous_5)",decl:{start:{line:119,column:31},end:{line:119,column:32}},loc:{start:{line:119,column:38},end:{line:119,column:58}},line:119},6:{name:"(anonymous_6)",decl:{start:{line:120,column:27},end:{line:120,column:28}},loc:{start:{line:120,column:34},end:{line:120,column:51}},line:120},7:{name:"(anonymous_7)",decl:{start:{line:121,column:27},end:{line:121,column:28}},loc:{start:{line:121,column:34},end:{line:121,column:51}},line:121},8:{name:"(anonymous_8)",decl:{start:{line:124,column:28},end:{line:124,column:29}},loc:{start:{line:124,column:34},end:{line:124,column:49}},line:124},9:{name:"(anonymous_9)",decl:{start:{line:130,column:4},end:{line:130,column:5}},loc:{start:{line:130,column:30},end:{line:139,column:5}},line:130},10:{name:"(anonymous_10)",decl:{start:{line:141,column:4},end:{line:141,column:5}},loc:{start:{line:141,column:16},end:{line:173,column:5}},line:141},11:{name:"(anonymous_11)",decl:{start:{line:147,column:51},end:{line:147,column:52}},loc:{start:{line:147,column:59},end:{line:163,column:9}},line:147},12:{name:"(anonymous_12)",decl:{start:{line:178,column:4},end:{line:178,column:5}},loc:{start:{line:178,column:16},end:{line:216,column:5}},line:178},13:{name:"(anonymous_13)",decl:{start:{line:204,column:47},end:{line:204,column:48}},loc:{start:{line:204,column:53},end:{line:207,column:13}},line:204},14:{name:"(anonymous_14)",decl:{start:{line:212,column:42},end:{line:212,column:43}},loc:{start:{line:212,column:48},end:{line:215,column:9}},line:212},15:{name:"(anonymous_15)",decl:{start:{line:222,column:4},end:{line:222,column:5}},loc:{start:{line:222,column:20},end:{line:320,column:5}},line:222},16:{name:"(anonymous_16)",decl:{start:{line:223,column:28},end:{line:223,column:29}},loc:{start:{line:223,column:34},end:{line:223,column:91}},line:223},17:{name:"(anonymous_17)",decl:{start:{line:234,column:32},end:{line:234,column:33}},loc:{start:{line:234,column:38},end:{line:234,column:108}},line:234},18:{name:"(anonymous_18)",decl:{start:{line:322,column:4},end:{line:322,column:5}},loc:{start:{line:322,column:18},end:{line:330,column:5}},line:322},19:{name:"(anonymous_19)",decl:{start:{line:336,column:4},end:{line:336,column:5}},loc:{start:{line:336,column:19},end:{line:379,column:5}},line:336},20:{name:"(anonymous_20)",decl:{start:{line:337,column:28},end:{line:337,column:29}},loc:{start:{line:337,column:34},end:{line:337,column:78}},line:337},21:{name:"(anonymous_21)",decl:{start:{line:346,column:32},end:{line:346,column:33}},loc:{start:{line:346,column:38},end:{line:346,column:107}},line:346},22:{name:"(anonymous_22)",decl:{start:{line:381,column:4},end:{line:381,column:5}},loc:{start:{line:381,column:23},end:{line:398,column:5}},line:381},23:{name:"(anonymous_23)",decl:{start:{line:385,column:12},end:{line:385,column:13}},loc:{start:{line:385,column:18},end:{line:385,column:43}},line:385},24:{name:"(anonymous_24)",decl:{start:{line:390,column:12},end:{line:390,column:13}},loc:{start:{line:390,column:18},end:{line:390,column:71}},line:390},25:{name:"(anonymous_25)",decl:{start:{line:403,column:4},end:{line:403,column:5}},loc:{start:{line:403,column:24},end:{line:409,column:5}},line:403},26:{name:"(anonymous_26)",decl:{start:{line:415,column:4},end:{line:415,column:5}},loc:{start:{line:415,column:23},end:{line:454,column:5}},line:415},27:{name:"(anonymous_27)",decl:{start:{line:461,column:4},end:{line:461,column:5}},loc:{start:{line:461,column:20},end:{line:486,column:5}},line:461},28:{name:"(anonymous_28)",decl:{start:{line:470,column:51},end:{line:470,column:52}},loc:{start:{line:470,column:59},end:{line:479,column:9}},line:470},29:{name:"(anonymous_29)",decl:{start:{line:490,column:4},end:{line:490,column:5}},loc:{start:{line:490,column:25},end:{line:510,column:5}},line:490},30:{name:"(anonymous_30)",decl:{start:{line:505,column:49},end:{line:505,column:50}},loc:{start:{line:505,column:55},end:{line:509,column:9}},line:505},31:{name:"(anonymous_31)",decl:{start:{line:516,column:4},end:{line:516,column:5}},loc:{start:{line:516,column:17},end:{line:524,column:5}},line:516},32:{name:"(anonymous_32)",decl:{start:{line:531,column:4},end:{line:531,column:5}},loc:{start:{line:531,column:17},end:{line:544,column:5}},line:531},33:{name:"(anonymous_33)",decl:{start:{line:549,column:4},end:{line:549,column:5}},loc:{start:{line:549,column:15},end:{line:553,column:5}},line:549},34:{name:"(anonymous_34)",decl:{start:{line:560,column:4},end:{line:560,column:5}},loc:{start:{line:560,column:27},end:{line:573,column:5}},line:560},35:{name:"(anonymous_35)",decl:{start:{line:576,column:4},end:{line:576,column:5}},loc:{start:{line:576,column:18},end:{line:578,column:5}},line:576},36:{name:"(anonymous_36)",decl:{start:{line:581,column:4},end:{line:581,column:5}},loc:{start:{line:581,column:15},end:{line:583,column:5}},line:581}},branchMap:{0:{loc:{start:{line:132,column:8},end:{line:134,column:9}},type:"if",locations:[{start:{line:132,column:8},end:{line:134,column:9}},{start:{line:132,column:8},end:{line:134,column:9}}],line:132},1:{loc:{start:{line:132,column:12},end:{line:132,column:55}},type:"binary-expr",locations:[{start:{line:132,column:12},end:{line:132,column:33}},{start:{line:132,column:37},end:{line:132,column:55}}],line:132},2:{loc:{start:{line:143,column:8},end:{line:143,column:43}},type:"if",locations:[{start:{line:143,column:8},end:{line:143,column:43}},{start:{line:143,column:8},end:{line:143,column:43}}],line:143},3:{loc:{start:{line:149,column:12},end:{line:151,column:13}},type:"if",locations:[{start:{line:149,column:12},end:{line:151,column:13}},{start:{line:149,column:12},end:{line:151,column:13}}],line:149},4:{loc:{start:{line:149,column:16},end:{line:149,column:95}},type:"binary-expr",locations:[{start:{line:149,column:16},end:{line:149,column:46}},{start:{line:149,column:50},end:{line:149,column:95}}],line:149},5:{loc:{start:{line:154,column:12},end:{line:156,column:13}},type:"if",locations:[{start:{line:154,column:12},end:{line:156,column:13}},{start:{line:154,column:12},end:{line:156,column:13}}],line:154},6:{loc:{start:{line:159,column:19},end:{line:162,column:89}},type:"binary-expr",locations:[{start:{line:159,column:19},end:{line:159,column:33}},{start:{line:160,column:20},end:{line:160,column:33}},{start:{line:161,column:24},end:{line:161,column:54}},{start:{line:161,column:58},end:{line:161,column:95}},{start:{line:162,column:23},end:{line:162,column:88}}],line:159},7:{loc:{start:{line:165,column:8},end:{line:172,column:9}},type:"if",locations:[{start:{line:165,column:8},end:{line:172,column:9}},{start:{line:165,column:8},end:{line:172,column:9}}],line:165},8:{loc:{start:{line:179,column:8},end:{line:182,column:9}},type:"if",locations:[{start:{line:179,column:8},end:{line:182,column:9}},{start:{line:179,column:8},end:{line:182,column:9}}],line:179},9:{loc:{start:{line:187,column:8},end:{line:196,column:9}},type:"if",locations:[{start:{line:187,column:8},end:{line:196,column:9}},{start:{line:187,column:8},end:{line:196,column:9}}],line:187},10:{loc:{start:{line:189,column:12},end:{line:192,column:13}},type:"if",locations:[{start:{line:189,column:12},end:{line:192,column:13}},{start:{line:189,column:12},end:{line:192,column:13}}],line:189},11:{loc:{start:{line:189,column:16},end:{line:189,column:98}},type:"binary-expr",locations:[{start:{line:189,column:16},end:{line:189,column:74}},{start:{line:189,column:78},end:{line:189,column:98}}],line:189},12:{loc:{start:{line:202,column:8},end:{line:210,column:9}},type:"if",locations:[{start:{line:202,column:8},end:{line:210,column:9}},{start:{line:202,column:8},end:{line:210,column:9}}],line:202},13:{loc:{start:{line:208,column:15},end:{line:210,column:9}},type:"if",locations:[{start:{line:208,column:15},end:{line:210,column:9}},{start:{line:208,column:15},end:{line:210,column:9}}],line:208},14:{loc:{start:{line:228,column:8},end:{line:230,column:9}},type:"if",locations:[{start:{line:228,column:8},end:{line:230,column:9}},{start:{line:228,column:8},end:{line:230,column:9}}],line:228},15:{loc:{start:{line:233,column:8},end:{line:236,column:9}},type:"if",locations:[{start:{line:233,column:8},end:{line:236,column:9}},{start:{line:233,column:8},end:{line:236,column:9}}],line:233},16:{loc:{start:{line:242,column:8},end:{line:246,column:9}},type:"if",locations:[{start:{line:242,column:8},end:{line:246,column:9}},{start:{line:242,column:8},end:{line:246,column:9}}],line:242},17:{loc:{start:{line:249,column:8},end:{line:252,column:9}},type:"if",locations:[{start:{line:249,column:8},end:{line:252,column:9}},{start:{line:249,column:8},end:{line:252,column:9}}],line:249},18:{loc:{start:{line:255,column:8},end:{line:258,column:9}},type:"if",locations:[{start:{line:255,column:8},end:{line:258,column:9}},{start:{line:255,column:8},end:{line:258,column:9}}],line:255},19:{loc:{start:{line:266,column:8},end:{line:272,column:9}},type:"if",locations:[{start:{line:266,column:8},end:{line:272,column:9}},{start:{line:266,column:8},end:{line:272,column:9}}],line:266},20:{loc:{start:{line:267,column:12},end:{line:270,column:13}},type:"if",locations:[{start:{line:267,column:12},end:{line:270,column:13}},{start:{line:267,column:12},end:{line:270,column:13}}],line:267},21:{loc:{start:{line:275,column:8},end:{line:281,column:9}},type:"if",locations:[{start:{line:275,column:8},end:{line:281,column:9}},{start:{line:275,column:8},end:{line:281,column:9}}],line:275},22:{loc:{start:{line:278,column:12},end:{line:280,column:13}},type:"if",locations:[{start:{line:278,column:12},end:{line:280,column:13}},{start:{line:278,column:12},end:{line:280,column:13}}],line:278},23:{loc:{start:{line:278,column:16},end:{line:278,column:57}},type:"binary-expr",locations:[{start:{line:278,column:16},end:{line:278,column:29}},{start:{line:278,column:33},end:{line:278,column:57}}],line:278},24:{loc:{start:{line:304,column:8},end:{line:306,column:9}},type:"if",locations:[{start:{line:304,column:8},end:{line:306,column:9}},{start:{line:304,column:8},end:{line:306,column:9}}],line:304},25:{loc:{start:{line:308,column:8},end:{line:311,column:9}},type:"if",locations:[{start:{line:308,column:8},end:{line:311,column:9}},{start:{line:308,column:8},end:{line:311,column:9}}],line:308},26:{loc:{start:{line:313,column:8},end:{line:315,column:9}},type:"if",locations:[{start:{line:313,column:8},end:{line:315,column:9}},{start:{line:313,column:8},end:{line:315,column:9}}],line:313},27:{loc:{start:{line:317,column:8},end:{line:319,column:9}},type:"if",locations:[{start:{line:317,column:8},end:{line:319,column:9}},{start:{line:317,column:8},end:{line:319,column:9}}],line:317},28:{loc:{start:{line:340,column:8},end:{line:342,column:9}},type:"if",locations:[{start:{line:340,column:8},end:{line:342,column:9}},{start:{line:340,column:8},end:{line:342,column:9}}],line:340},29:{loc:{start:{line:345,column:8},end:{line:348,column:9}},type:"if",locations:[{start:{line:345,column:8},end:{line:348,column:9}},{start:{line:345,column:8},end:{line:348,column:9}}],line:345},30:{loc:{start:{line:354,column:8},end:{line:357,column:9}},type:"if",locations:[{start:{line:354,column:8},end:{line:357,column:9}},{start:{line:354,column:8},end:{line:357,column:9}}],line:354},31:{loc:{start:{line:361,column:8},end:{line:364,column:9}},type:"if",locations:[{start:{line:361,column:8},end:{line:364,column:9}},{start:{line:361,column:8},end:{line:364,column:9}}],line:361},32:{loc:{start:{line:366,column:8},end:{line:369,column:9}},type:"if",locations:[{start:{line:366,column:8},end:{line:369,column:9}},{start:{line:366,column:8},end:{line:369,column:9}}],line:366},33:{loc:{start:{line:376,column:8},end:{line:378,column:9}},type:"if",locations:[{start:{line:376,column:8},end:{line:378,column:9}},{start:{line:376,column:8},end:{line:378,column:9}}],line:376},34:{loc:{start:{line:417,column:8},end:{line:419,column:9}},type:"if",locations:[{start:{line:417,column:8},end:{line:419,column:9}},{start:{line:417,column:8},end:{line:419,column:9}}],line:417},35:{loc:{start:{line:422,column:8},end:{line:426,column:9}},type:"if",locations:[{start:{line:422,column:8},end:{line:426,column:9}},{start:{line:422,column:8},end:{line:426,column:9}}],line:422},36:{loc:{start:{line:428,column:8},end:{line:432,column:9}},type:"if",locations:[{start:{line:428,column:8},end:{line:432,column:9}},{start:{line:428,column:8},end:{line:432,column:9}}],line:428},37:{loc:{start:{line:436,column:12},end:{line:439,column:13}},type:"if",locations:[{start:{line:436,column:12},end:{line:439,column:13}},{start:{line:436,column:12},end:{line:439,column:13}}],line:436},38:{loc:{start:{line:441,column:12},end:{line:444,column:13}},type:"if",locations:[{start:{line:441,column:12},end:{line:444,column:13}},{start:{line:441,column:12},end:{line:444,column:13}}],line:441},39:{loc:{start:{line:441,column:16},end:{line:441,column:74}},type:"binary-expr",locations:[{start:{line:441,column:16},end:{line:441,column:45}},{start:{line:441,column:49},end:{line:441,column:74}}],line:441},40:{loc:{start:{line:463,column:8},end:{line:465,column:9}},type:"if",locations:[{start:{line:463,column:8},end:{line:465,column:9}},{start:{line:463,column:8},end:{line:465,column:9}}],line:463},41:{loc:{start:{line:472,column:12},end:{line:474,column:13}},type:"if",locations:[{start:{line:472,column:12},end:{line:474,column:13}},{start:{line:472,column:12},end:{line:474,column:13}}],line:472},42:{loc:{start:{line:472,column:16},end:{line:472,column:95}},type:"binary-expr",locations:[{start:{line:472,column:16},end:{line:472,column:46}},{start:{line:472,column:50},end:{line:472,column:95}}],line:472},43:{loc:{start:{line:478,column:19},end:{line:478,column:101}},type:"binary-expr",locations:[{start:{line:478,column:19},end:{line:478,column:32}},{start:{line:478,column:36},end:{line:478,column:101}}],line:478},44:{loc:{start:{line:483,column:8},end:{line:485,column:9}},type:"if",locations:[{start:{line:483,column:8},end:{line:485,column:9}},{start:{line:483,column:8},end:{line:485,column:9}}],line:483},45:{loc:{start:{line:496,column:8},end:{line:499,column:9}},type:"if",locations:[{start:{line:496,column:8},end:{line:499,column:9}},{start:{line:496,column:8},end:{line:499,column:9}}],line:496},46:{loc:{start:{line:518,column:8},end:{line:520,column:9}},type:"if",locations:[{start:{line:518,column:8},end:{line:520,column:9}},{start:{line:518,column:8},end:{line:520,column:9}}],line:518},47:{loc:{start:{line:537,column:8},end:{line:543,column:9}},type:"if",locations:[{start:{line:537,column:8},end:{line:543,column:9}},{start:{line:537,column:8},end:{line:543,column:9}}],line:537},48:{loc:{start:{line:539,column:12},end:{line:541,column:13}},type:"if",locations:[{start:{line:539,column:12},end:{line:541,column:13}},{start:{line:539,column:12},end:{line:541,column:13}}],line:539},49:{loc:{start:{line:562,column:8},end:{line:566,column:9}},type:"if",locations:[{start:{line:562,column:8},end:{line:566,column:9}},{start:{line:562,column:8},end:{line:566,column:9}}],line:562},50:{loc:{start:{line:562,column:12},end:{line:562,column:71}},type:"binary-expr",locations:[{start:{line:562,column:12},end:{line:562,column:34}},{start:{line:562,column:38},end:{line:562,column:71}}],line:562},51:{loc:{start:{line:563,column:47},end:{line:563,column:86}},type:"binary-expr",locations:[{start:{line:563,column:47},end:{line:563,column:74}},{start:{line:563,column:78},end:{line:563,column:86}}],line:563},52:{loc:{start:{line:567,column:8},end:{line:571,column:9}},type:"if",locations:[{start:{line:567,column:8},end:{line:571,column:9}},{start:{line:567,column:8},end:{line:571,column:9}}],line:567},53:{loc:{start:{line:567,column:12},end:{line:567,column:94}},type:"binary-expr",locations:[{start:{line:567,column:12},end:{line:567,column:33}},{start:{line:567,column:37},end:{line:567,column:58}},{start:{line:567,column:62},end:{line:567,column:94}}],line:567},54:{loc:{start:{line:568,column:47},end:{line:568,column:86}},type:"binary-expr",locations:[{start:{line:568,column:47},end:{line:568,column:74}},{start:{line:568,column:78},end:{line:568,column:86}}],line:568}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0,0,0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0],46:[0,0],47:[0,0],48:[0,0],49:[0,0],50:[0,0],51:[0,0],52:[0,0],53:[0,0,0],54:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class NetworkAgent extends Observable{constructor(n,e,l,t){We.f[0]++;We.s[0]++;super();We.s[1]++;this._blockchain=n;We.s[2]++;this._addresses=e;We.s[3]++;this._networkConfig=l;We.s[4]++;this._channel=t;We.s[5]++;this._peer=null;We.s[6]++;this._knownAddresses=new HashSet;We.s[7]++;this._timers=new Timers;We.s[8]++;this._versionReceived=!1;We.s[9]++;this._verackReceived=!1;We.s[10]++;this._versionSent=!1;We.s[11]++;this._verackSent=!1;We.s[12]++;this._versionAttempts=0;We.s[13]++;this._peerAddressVerified=!1;We.s[14]++;this._peerChallengeNonce=null;We.s[15]++;this._pingTimes=new Map;We.s[16]++;this._challengeNonce=new Uint8Array(VersionMessage.CHALLENGE_SIZE);We.s[17]++;CryptoWorker.lib.getRandomValues(this._challengeNonce);We.s[18]++;this._addrQueue=new ThrottledQueue(NetworkAgent.MAX_ADDR_RELAY_PER_MESSAGE,NetworkAgent.MAX_ADDR_RELAY_PER_MESSAGE,NetworkAgent.ADDR_QUEUE_INTERVAL,NetworkAgent.ADDR_RATE_LIMIT,()=>{We.f[1]++;We.s[19]++;return this._relayNow()});We.s[20]++;this._addrLimit=new RateLimit(NetworkAgent.ADDR_RATE_LIMIT);We.s[21]++;t.on("version",n=>{We.f[2]++;We.s[22]++;return this._onVersion(n)});We.s[23]++;t.on("verack",n=>{We.f[3]++;We.s[24]++;return this._onVerAck(n)});We.s[25]++;t.on("addr",n=>{We.f[4]++;We.s[26]++;return this._onAddr(n)});We.s[27]++;t.on("get-addr",n=>{We.f[5]++;We.s[28]++;return this._onGetAddr(n)});We.s[29]++;t.on("ping",n=>{We.f[6]++;We.s[30]++;return this._onPing(n)});We.s[31]++;t.on("pong",n=>{We.f[7]++;We.s[32]++;return this._onPong(n)});We.s[33]++;t.on("close",()=>{We.f[8]++;We.s[34]++;return this._onClose()})}relayAddresses(n){We.f[9]++;We.s[35]++;if((We.b[1][0]++,this._verackReceived)&&(We.b[1][1]++,this._versionSent)){We.b[0][1]++;We.s[37]++;for(const e of n){We.s[38]++;this._addrQueue.enqueue(e)}}else{We.b[0][0]++;We.s[36]++}}_relayNow(){We.f[10]++;const n=(We.s[39]++,this._addrQueue.dequeueMulti(NetworkAgent.MAX_ADDR_RELAY_PER_MESSAGE));We.s[40]++;if(0===n.length){We.b[2][0]++;We.s[41]++;return}We.b[2][1]++;const e=(We.s[42]++,n.filter(n=>{We.f[11]++;We.s[43]++;if((We.b[4][0]++,n.protocol===Protocol.RTC)&&(We.b[4][1]++,n.distance>=PeerAddressBook.MAX_DISTANCE)){We.b[3][0]++;We.s[44]++;return!1}We.b[3][1]++;We.s[45]++;if(n.protocol===Protocol.DUMB){We.b[5][0]++;We.s[46]++;return!1}We.b[5][1]++;const e=(We.s[47]++,this._knownAddresses.get(n));We.s[48]++;return(We.b[6][0]++,!n.isSeed())&&((We.b[6][1]++,!e)||(We.b[6][2]++,n.protocol===Protocol.RTC)&&(We.b[6][3]++,e.distance>n.distance)||(We.b[6][4]++,e.timestamp<Date.now()-NetworkAgent.RELAY_THROTTLE))}));We.s[49]++;if(e.length){We.b[7][0]++;We.s[50]++;this._channel.addr(e);We.s[51]++;for(const n of e){We.s[52]++;this._knownAddresses.add(n)}}else We.b[7][1]++}handshake(){We.f[12]++;We.s[53]++;if(this._versionSent){We.b[8][0]++;We.s[54]++}else{We.b[8][1]++;We.s[55]++;if(this._channel.version(this._networkConfig.peerAddress,this._blockchain.headHash,this._challengeNonce)){We.b[9][1]++;We.s[62]++;this._versionSent=!0;We.s[63]++;if(this._versionReceived){We.b[12][1]++;We.s[67]++;if(this._peerAddressVerified){We.b[13][0]++;We.s[68]++;this._sendVerAck()}else We.b[13][1]++}else{We.b[12][0]++;We.s[64]++;this._timers.setTimeout("version",()=>{We.f[13]++;We.s[65]++;this._timers.clearTimeout("version");We.s[66]++;this._channel.close(CloseType.VERSION_TIMEOUT,"version timeout")},NetworkAgent.HANDSHAKE_TIMEOUT)}We.s[69]++;this._timers.setTimeout("verack",()=>{We.f[14]++;We.s[70]++;this._timers.clearTimeout("verack");We.s[71]++;this._channel.close(CloseType.VERACK_TIMEOUT,"verack timeout")},2*NetworkAgent.HANDSHAKE_TIMEOUT)}else{We.b[9][0]++;We.s[56]++;this._versionAttempts++;We.s[57]++;if((We.b[11][0]++,this._versionAttempts>=NetworkAgent.VERSION_ATTEMPTS_MAX)||(We.b[11][1]++,this._channel.closed)){We.b[10][0]++;We.s[58]++;this._channel.close(CloseType.SENDING_OF_VERSION_MESSAGE_FAILED,"sending of version message failed");We.s[59]++;return}We.b[10][1]++;We.s[60]++;setTimeout(this.handshake.bind(this),NetworkAgent.VERSION_RETRY_DELAY);We.s[61]++}}}_onVersion(n){We.f[15]++;We.s[72]++;Log.d(NetworkAgent,()=>{We.f[16]++;We.s[73]++;return`[VERSION] ${n.peerAddress} ${n.headHash.toBase64()}`});const e=(We.s[74]++,Date.now());We.s[75]++;if(!this._canAcceptMessage(n)){We.b[14][0]++;We.s[76]++;return}We.b[14][1]++;We.s[77]++;if(this._versionReceived){We.b[15][0]++;We.s[78]++;Log.d(NetworkAgent,()=>{We.f[17]++;We.s[79]++;return`Ignoring duplicate version message from ${this._channel.peerAddress}`});We.s[80]++;return}We.b[15][1]++;We.s[81]++;this._timers.clearTimeout("version");We.s[82]++;if(!Version.isCompatible(n.version)){We.b[16][0]++;We.s[83]++;this._channel.reject(Message.Type.VERSION,RejectMessage.Code.REJECT_OBSOLETE,`incompatible version (ours=${Version.CODE}, theirs=${n.version})`);We.s[84]++;this._channel.close(CloseType.INCOMPATIBLE_VERSION,`incompatible version (ours=${Version.CODE}, theirs=${n.version})`);We.s[85]++;return}We.b[16][1]++;We.s[86]++;if(!GenesisConfig.GENESIS_HASH.equals(n.genesisHash)){We.b[17][0]++;We.s[87]++;this._channel.close(CloseType.DIFFERENT_GENESIS_BLOCK,`different genesis block (${n.genesisHash})`);We.s[88]++;return}We.b[17][1]++;We.s[89]++;if(!n.peerAddress.verifySignature()){We.b[18][0]++;We.s[90]++;this._channel.close(CloseType.INVALID_PEER_ADDRESS_IN_VERSION_MESSAGE,"invalid peerAddress in version message");We.s[91]++;return}We.b[18][1]++;const l=(We.s[92]++,n.peerAddress);We.s[93]++;if(this._channel.peerAddress){We.b[19][0]++;We.s[94]++;if(!this._channel.peerAddress.equals(l)){We.b[20][0]++;We.s[95]++;this._channel.close(CloseType.UNEXPECTED_PEER_ADDRESS_IN_VERSION_MESSAGE,"unexpected peerAddress in version message");We.s[96]++;return}We.b[20][1]++;We.s[97]++;this._peerAddressVerified=!0}else We.b[19][1]++;We.s[98]++;if(l.netAddress)We.b[21][1]++;else{We.b[21][0]++;const n=(We.s[99]++,this._addresses.get(l));We.s[100]++;if((We.b[23][0]++,n)&&(We.b[23][1]++,n.netAddress)){We.b[22][0]++;We.s[101]++;l.netAddress=n.netAddress}else We.b[22][1]++}We.s[102]++;this._channel.peerAddress=l;We.s[103]++;this._peer=new Peer(this._channel,n.version,n.headHash,l.timestamp-e);We.s[104]++;this._peerChallengeNonce=n.challengeNonce;We.s[105]++;this._versionReceived=!0;We.s[106]++;this.fire("version",this._peer,this);We.s[107]++;if(this._channel.closed){We.b[24][0]++;We.s[108]++}else{We.b[24][1]++;We.s[109]++;if(this._versionSent){We.b[25][1]++;We.s[112]++;if(this._peerAddressVerified){We.b[26][0]++;We.s[113]++;this._sendVerAck()}else We.b[26][1]++;We.s[114]++;if(this._verackReceived){We.b[27][0]++;We.s[115]++;this._finishHandshake()}else We.b[27][1]++}else{We.b[25][0]++;We.s[110]++;this.handshake();We.s[111]++}}}_sendVerAck(){We.f[18]++;We.s[116]++;Assert.that(this._peerAddressVerified);const n=(We.s[117]++,BufferUtils.concatTypedArrays(this._channel.peerAddress.peerId.serialize(),this._peerChallengeNonce)),e=(We.s[118]++,Signature.create(this._networkConfig.keyPair.privateKey,this._networkConfig.keyPair.publicKey,n));We.s[119]++;this._channel.verack(this._networkConfig.keyPair.publicKey,e);We.s[120]++;this._verackSent=!0}_onVerAck(n){We.f[19]++;We.s[121]++;Log.d(NetworkAgent,()=>{We.f[20]++;We.s[122]++;return`[VERACK] from ${this._channel.peerAddress}`});We.s[123]++;if(!this._canAcceptMessage(n)){We.b[28][0]++;We.s[124]++;return}We.b[28][1]++;We.s[125]++;if(this._verackReceived){We.b[29][0]++;We.s[126]++;Log.d(NetworkAgent,()=>{We.f[21]++;We.s[127]++;return`Ignoring duplicate verack message from ${this._channel.peerAddress}`});We.s[128]++;return}We.b[29][1]++;We.s[129]++;this._timers.clearTimeout("verack");We.s[130]++;if(!n.publicKey.toPeerId().equals(this._channel.peerAddress.peerId)){We.b[30][0]++;We.s[131]++;this._channel.close(CloseType.INVALID_PUBLIC_KEY_IN_VERACK_MESSAGE,"Invalid public key in verack message");We.s[132]++;return}We.b[30][1]++;const e=(We.s[133]++,BufferUtils.concatTypedArrays(this._networkConfig.peerAddress.peerId.serialize(),this._challengeNonce));We.s[134]++;if(n.signature.verify(n.publicKey,e)){We.b[31][1]++;We.s[137]++;if(this._peerAddressVerified)We.b[32][1]++;else{We.b[32][0]++;We.s[138]++;this._peerAddressVerified=!0;We.s[139]++;this._sendVerAck()}We.s[140]++;this._knownAddresses.add(this._channel.peerAddress);We.s[141]++;this._verackReceived=!0;We.s[142]++;if(this._verackSent){We.b[33][0]++;We.s[143]++;this._finishHandshake()}else We.b[33][1]++}else{We.b[31][0]++;We.s[135]++;this._channel.close(CloseType.INVALID_SIGNATURE_IN_VERACK_MESSAGE,"Invalid signature in verack message");We.s[136]++}}_finishHandshake(){We.f[22]++;We.s[144]++;this._timers.setInterval("connectivity",()=>{We.f[23]++;We.s[145]++;return this._checkConnectivity()},NetworkAgent.CONNECTIVITY_CHECK_INTERVAL);We.s[146]++;this._timers.setInterval("announce-addr",()=>{We.f[24]++;We.s[147]++;return this._channel.addr([this._networkConfig.peerAddress])},NetworkAgent.ANNOUNCE_ADDR_INTERVAL);We.s[148]++;this.fire("handshake",this._peer,this);We.s[149]++;this._requestAddresses()}_requestAddresses(){We.f[25]++;We.s[150]++;this._channel.getAddr(this._networkConfig.protocolMask,this._networkConfig.services.accepted)}async _onAddr(n){We.f[26]++;We.s[151]++;if(this._canAcceptMessage(n)){We.b[34][1]++;We.s[153]++;if(n.addresses.length>NetworkAgent.MAX_ADDR_PER_MESSAGE){We.b[35][0]++;We.s[154]++;Log.w(NetworkAgent,"Rejecting addr message - too many addresses");We.s[155]++;this._channel.close(CloseType.ADDR_MESSAGE_TOO_LARGE,"addr message too large");We.s[156]++}else{We.b[35][1]++;We.s[157]++;if(this._addrLimit.note(n.addresses.length)){We.b[36][1]++;We.s[161]++;for(const e of n.addresses){We.s[162]++;if(!e.verifySignature()){We.b[37][0]++;We.s[163]++;this._channel.close(CloseType.INVALID_ADDR,"invalid addr");We.s[164]++;return}We.b[37][1]++;We.s[165]++;if((We.b[39][0]++,e.protocol===Protocol.WS)&&(We.b[39][1]++,!e.globallyReachable())){We.b[38][0]++;We.s[166]++;this._channel.close(CloseType.ADDR_NOT_GLOBALLY_REACHABLE,"addr not globally reachable");We.s[167]++;return}We.b[38][1]++;We.s[168]++;this._knownAddresses.add(e)}We.s[169]++;this._addresses.add(this._channel,n.addresses);We.s[170]++;this.fire("addr",n.addresses,this)}else{We.b[36][0]++;We.s[158]++;Log.w(NetworkAgent,"Rejecting addr message - rate-limit exceeded");We.s[159]++;this._channel.close(CloseType.RATE_LIMIT_EXCEEDED,"rate-limit exceeded");We.s[160]++}}}else{We.b[34][0]++;We.s[152]++}}_onGetAddr(n){We.f[27]++;We.s[171]++;if(!this._canAcceptMessage(n)){We.b[40][0]++;We.s[172]++;return}We.b[40][1]++;const e=(We.s[173]++,this._addresses.query(n.protocolMask,n.serviceMask,NetworkAgent.MAX_ADDR_PER_MESSAGE)),l=(We.s[174]++,e.filter(n=>{We.f[28]++;We.s[175]++;if((We.b[42][0]++,n.protocol===Protocol.RTC)&&(We.b[42][1]++,n.distance>=PeerAddressBook.MAX_DISTANCE)){We.b[41][0]++;We.s[176]++;return!1}We.b[41][1]++;const e=(We.s[177]++,this._knownAddresses.get(n));We.s[178]++;return(We.b[43][0]++,!e)||(We.b[43][1]++,e.timestamp<Date.now()-NetworkAgent.RELAY_THROTTLE)}));We.s[179]++;if(l.length){We.b[44][0]++;We.s[180]++;this._channel.addr(l)}else We.b[44][1]++}_checkConnectivity(){We.f[29]++;const n=(We.s[181]++,NumberUtils.randomUint32());We.s[182]++;if(this._channel.ping(n)){We.b[45][1]++;We.s[185]++;this._pingTimes.set(n,Date.now());We.s[186]++;this._timers.setTimeout(`ping_${n}`,()=>{We.f[30]++;We.s[187]++;this._timers.clearTimeout(`ping_${n}`);We.s[188]++;this._channel.close(CloseType.PING_TIMEOUT,"ping timeout");We.s[189]++;this._pingTimes["delete"](n)},NetworkAgent.PING_TIMEOUT)}else{We.b[45][0]++;We.s[183]++;this._channel.close(CloseType.SENDING_PING_MESSAGE_FAILED,"sending ping message failed");We.s[184]++}}_onPing(n){We.f[31]++;We.s[190]++;if(this._canAcceptMessage(n)){We.b[46][1]++;We.s[192]++;this._channel.pong(n.nonce)}else{We.b[46][0]++;We.s[191]++}}_onPong(n){We.f[32]++;We.s[193]++;this._timers.clearTimeout(`ping_${n.nonce}`);const e=(We.s[194]++,this._pingTimes.get(n.nonce));We.s[195]++;if(e){We.b[47][0]++;const l=(We.s[196]++,Date.now()-e);We.s[197]++;if(l>0){We.b[48][0]++;We.s[198]++;this.fire("ping-pong",l)}else We.b[48][1]++;We.s[199]++;this._pingTimes["delete"](n.nonce)}else We.b[47][1]++}_onClose(){We.f[33]++;We.s[200]++;this._timers.clearAll();We.s[201]++;this._addrQueue.stop()}_canAcceptMessage(n){We.f[34]++;We.s[202]++;if((We.b[50][0]++,!this._versionReceived)&&(We.b[50][1]++,n.type!==Message.Type.VERSION)){We.b[49][0]++;We.s[203]++;Log.w(NetworkAgent,`Discarding '${(We.b[51][0]++,PeerChannel.Event[n.type])||(We.b[51][1]++,n.type)}' message from ${this._channel}`+" - no version message received previously");We.s[204]++;return!1}We.b[49][1]++;We.s[205]++;if((We.b[53][0]++,this._versionReceived)&&(We.b[53][1]++,!this._verackReceived)&&(We.b[53][2]++,n.type!==Message.Type.VERACK)){We.b[52][0]++;We.s[206]++;Log.w(NetworkAgent,`Discarding '${(We.b[54][0]++,PeerChannel.Event[n.type])||(We.b[54][1]++,n.type)}' message from ${this._channel}`+" - no verack message received previously");We.s[207]++;return!1}We.b[52][1]++;We.s[208]++;return!0}get channel(){We.f[35]++;We.s[209]++;return this._channel}get peer(){We.f[36]++;We.s[210]++;return this._peer}}We.s[211]++;NetworkAgent.HANDSHAKE_TIMEOUT=4e3;We.s[212]++;NetworkAgent.PING_TIMEOUT=1e4;We.s[213]++;NetworkAgent.CONNECTIVITY_CHECK_INTERVAL=6e4;We.s[214]++;NetworkAgent.ANNOUNCE_ADDR_INTERVAL=3e5;We.s[215]++;NetworkAgent.RELAY_THROTTLE=12e4;We.s[216]++;NetworkAgent.VERSION_ATTEMPTS_MAX=10;We.s[217]++;NetworkAgent.VERSION_RETRY_DELAY=500;We.s[218]++;NetworkAgent.ADDR_RATE_LIMIT=2e3;We.s[219]++;NetworkAgent.ADDR_QUEUE_INTERVAL=5e3;We.s[220]++;NetworkAgent.MAX_ADDR_PER_MESSAGE=1e3;We.s[221]++;NetworkAgent.MAX_ADDR_RELAY_PER_MESSAGE=10;We.s[222]++;Class.register(NetworkAgent);var Ve=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/connection/PeerConnectionStatistics.js",e="ee0dfe805d6df164647c454be919bbe6e95c31c9",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/connection/PeerConnectionStatistics.js",statementMap:{0:{start:{line:10,column:8},end:{line:10,column:29}},1:{start:{line:16,column:8},end:{line:16,column:39}},2:{start:{line:23,column:8},end:{line:23,column:29}},3:{start:{line:24,column:8},end:{line:24,column:39}},4:{start:{line:32,column:8},end:{line:32,column:38}},5:{start:{line:40,column:8},end:{line:40,column:111}},6:{start:{line:48,column:8},end:{line:48,column:82}},7:{start:{line:53,column:23},end:{line:53,column:45}},8:{start:{line:55,column:8},end:{line:57,column:9}},9:{start:{line:56,column:12},end:{line:56,column:21}},10:{start:{line:59,column:8},end:{line:59,column:46}},11:{start:{line:59,column:39},end:{line:59,column:44}},12:{start:{line:61,column:8},end:{line:65,column:9}},13:{start:{line:62,column:12},end:{line:62,column:103}},14:{start:{line:64,column:12},end:{line:64,column:55}},15:{start:{line:66,column:8},end:{line:66,column:22}},16:{start:{line:70,column:0},end:{line:70,column:41}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:18},end:{line:17,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:22,column:4},end:{line:22,column:5}},loc:{start:{line:22,column:12},end:{line:25,column:5}},line:22},2:{name:"(anonymous_2)",decl:{start:{line:31,column:4},end:{line:31,column:5}},loc:{start:{line:31,column:24},end:{line:33,column:5}},line:31},3:{name:"(anonymous_3)",decl:{start:{line:39,column:4},end:{line:39,column:5}},loc:{start:{line:39,column:20},end:{line:41,column:5}},line:39},4:{name:"(anonymous_4)",decl:{start:{line:47,column:4},end:{line:47,column:5}},loc:{start:{line:47,column:29},end:{line:49,column:5}},line:47},5:{name:"(anonymous_5)",decl:{start:{line:52,column:4},end:{line:52,column:5}},loc:{start:{line:52,column:24},end:{line:67,column:5}},line:52},6:{name:"(anonymous_6)",decl:{start:{line:59,column:29},end:{line:59,column:30}},loc:{start:{line:59,column:39},end:{line:59,column:44}},line:59}},branchMap:{0:{loc:{start:{line:40,column:37},end:{line:40,column:109}},type:"cond-expr",locations:[{start:{line:40,column:73},end:{line:40,column:105}},{start:{line:40,column:108},end:{line:40,column:109}}],line:40},1:{loc:{start:{line:48,column:15},end:{line:48,column:81}},type:"cond-expr",locations:[{start:{line:48,column:50},end:{line:48,column:77}},{start:{line:48,column:80},end:{line:48,column:81}}],line:48},2:{loc:{start:{line:55,column:8},end:{line:57,column:9}},type:"if",locations:[{start:{line:55,column:8},end:{line:57,column:9}},{start:{line:55,column:8},end:{line:57,column:9}}],line:55},3:{loc:{start:{line:61,column:8},end:{line:65,column:9}},type:"if",locations:[{start:{line:61,column:8},end:{line:65,column:9}},{start:{line:61,column:8},end:{line:65,column:9}}],line:61}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class PeerConnectionStatistics{constructor(){Ve.f[0]++;Ve.s[0]++;this._latencies=[];Ve.s[1]++;this._messages=new HashMap}reset(){Ve.f[1]++;Ve.s[2]++;this._latencies=[];Ve.s[3]++;this._messages=new HashMap}addLatency(n){Ve.f[2]++;Ve.s[4]++;this._latencies.push(n)}addMessage(n){Ve.f[3]++;Ve.s[5]++;this._messages.put(n.type,this._messages.contains(n.type)?(Ve.b[0][0]++,this._messages.get(n.type)+1):(Ve.b[0][1]++,1))}getMessageCount(n){Ve.f[4]++;Ve.s[6]++;return this._messages.contains(n)?(Ve.b[1][0]++,this._messages.get(n)):(Ve.b[1][1]++,0)}get latencyMedian(){Ve.f[5]++;const n=(Ve.s[7]++,this._latencies.length);Ve.s[8]++;if(0===n){Ve.b[2][0]++;Ve.s[9]++;return 0}Ve.b[2][1]++;Ve.s[10]++;this._latencies.sort((n,e)=>{Ve.f[6]++;Ve.s[11]++;return n-e});let e;Ve.s[12]++;if(n%2==0){Ve.b[3][0]++;Ve.s[13]++;e=Math.round((this._latencies[n/2-1]+this._latencies[n/2])/2)}else{Ve.b[3][1]++;Ve.s[14]++;e=this._latencies[(n-1)/2]}Ve.s[15]++;return e}}Ve.s[16]++;Class.register(PeerConnectionStatistics);var Qe=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/connection/PeerConnection.js",e="2ded17e0ba0f9c77f59233e056d95ba6a406b2bf",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/connection/PeerConnection.js",statementMap:{0:{start:{line:7,column:31},end:{line:7,column:51}},1:{start:{line:8,column:8},end:{line:8,column:50}},2:{start:{line:9,column:8},end:{line:9,column:63}},3:{start:{line:10,column:8},end:{line:10,column:30}},4:{start:{line:18,column:31},end:{line:18,column:51}},5:{start:{line:19,column:8},end:{line:19,column:62}},6:{start:{line:20,column:8},end:{line:20,column:30}},7:{start:{line:29,column:8},end:{line:29,column:51}},8:{start:{line:35,column:8},end:{line:35,column:33}},9:{start:{line:42,column:8},end:{line:42,column:39}},10:{start:{line:48,column:8},end:{line:48,column:33}},11:{start:{line:54,column:8},end:{line:54,column:34}},12:{start:{line:60,column:8},end:{line:60,column:26}},13:{start:{line:67,column:8},end:{line:67,column:46}},14:{start:{line:74,column:8},end:{line:74,column:27}},15:{start:{line:80,column:8},end:{line:80,column:38}},16:{start:{line:86,column:8},end:{line:86,column:58}},17:{start:{line:91,column:8},end:{line:91,column:24}},18:{start:{line:96,column:8},end:{line:96,column:27}},19:{start:{line:101,column:8},end:{line:101,column:33}},20:{start:{line:106,column:8},end:{line:106,column:34}},21:{start:{line:111,column:8},end:{line:111,column:39}},22:{start:{line:116,column:8},end:{line:116,column:40}},23:{start:{line:117,column:8},end:{line:117,column:52}},24:{start:{line:122,column:8},end:{line:122,column:33}},25:{start:{line:127,column:8},end:{line:127,column:34}},26:{start:{line:132,column:8},end:{line:132,column:34}},27:{start:{line:137,column:8},end:{line:137,column:35}},28:{start:{line:144,column:8},end:{line:144,column:67}},29:{start:{line:145,column:8},end:{line:145,column:54}},30:{start:{line:150,column:8},end:{line:150,column:26}},31:{start:{line:155,column:8},end:{line:155,column:27}},32:{start:{line:156,column:8},end:{line:156,column:54}},33:{start:{line:157,column:8},end:{line:157,column:44}},34:{start:{line:160,column:8},end:{line:160,column:94}},35:{start:{line:160,column:56},end:{line:160,column:92}},36:{start:{line:161,column:8},end:{line:161,column:87}},37:{start:{line:161,column:53},end:{line:161,column:85}},38:{start:{line:166,column:8},end:{line:166,column:27}},39:{start:{line:171,column:8},end:{line:171,column:28}},40:{start:{line:176,column:8},end:{line:176,column:38}},41:{start:{line:181,column:8},end:{line:181,column:50}},42:{start:{line:186,column:8},end:{line:186,column:32}},43:{start:{line:193,column:8},end:{line:193,column:49}},44:{start:{line:194,column:8},end:{line:194,column:39}},45:{start:{line:195,column:8},end:{line:195,column:34}},46:{start:{line:196,column:8},end:{line:196,column:33}},47:{start:{line:197,column:8},end:{line:197,column:26}},48:{start:{line:201,column:0},end:{line:201,column:34}},49:{start:{line:202,column:0},end:{line:202,column:31}},50:{start:{line:206,column:0},end:{line:206,column:28}},51:{start:{line:207,column:0},end:{line:207,column:35}},52:{start:{line:208,column:0},end:{line:208,column:34}},53:{start:{line:209,column:0},end:{line:209,column:36}},54:{start:{line:210,column:0},end:{line:210,column:36}},55:{start:{line:211,column:0},end:{line:211,column:31}},56:{start:{line:212,column:0},end:{line:212,column:36}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:36},end:{line:11,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:17,column:4},end:{line:17,column:5}},loc:{start:{line:17,column:41},end:{line:21,column:5}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:26,column:4},end:{line:26,column:5}},loc:{start:{line:26,column:18},end:{line:87,column:5}},line:26},3:{name:"(anonymous_3)",decl:{start:{line:90,column:4},end:{line:90,column:5}},loc:{start:{line:90,column:13},end:{line:92,column:5}},line:90},4:{name:"(anonymous_4)",decl:{start:{line:95,column:4},end:{line:95,column:5}},loc:{start:{line:95,column:16},end:{line:97,column:5}},line:95},5:{name:"(anonymous_5)",decl:{start:{line:100,column:4},end:{line:100,column:5}},loc:{start:{line:100,column:22},end:{line:102,column:5}},line:100},6:{name:"(anonymous_6)",decl:{start:{line:105,column:4},end:{line:105,column:5}},loc:{start:{line:105,column:27},end:{line:107,column:5}},line:105},7:{name:"(anonymous_7)",decl:{start:{line:110,column:4},end:{line:110,column:5}},loc:{start:{line:110,column:28},end:{line:112,column:5}},line:110},8:{name:"(anonymous_8)",decl:{start:{line:115,column:4},end:{line:115,column:5}},loc:{start:{line:115,column:33},end:{line:118,column:5}},line:115},9:{name:"(anonymous_9)",decl:{start:{line:121,column:4},end:{line:121,column:5}},loc:{start:{line:121,column:22},end:{line:123,column:5}},line:121},10:{name:"(anonymous_10)",decl:{start:{line:126,column:4},end:{line:126,column:5}},loc:{start:{line:126,column:27},end:{line:128,column:5}},line:126},11:{name:"(anonymous_11)",decl:{start:{line:131,column:4},end:{line:131,column:5}},loc:{start:{line:131,column:23},end:{line:133,column:5}},line:131},12:{name:"(anonymous_12)",decl:{start:{line:136,column:4},end:{line:136,column:5}},loc:{start:{line:136,column:28},end:{line:138,column:5}},line:136},13:{name:"(anonymous_13)",decl:{start:{line:143,column:4},end:{line:143,column:5}},loc:{start:{line:143,column:18},end:{line:146,column:5}},line:143},14:{name:"(anonymous_14)",decl:{start:{line:149,column:4},end:{line:149,column:5}},loc:{start:{line:149,column:15},end:{line:151,column:5}},line:149},15:{name:"(anonymous_15)",decl:{start:{line:154,column:4},end:{line:154,column:5}},loc:{start:{line:154,column:20},end:{line:162,column:5}},line:154},16:{name:"(anonymous_16)",decl:{start:{line:160,column:43},end:{line:160,column:44}},loc:{start:{line:160,column:56},end:{line:160,column:92}},line:160},17:{name:"(anonymous_17)",decl:{start:{line:161,column:44},end:{line:161,column:45}},loc:{start:{line:161,column:53},end:{line:161,column:85}},line:161},18:{name:"(anonymous_18)",decl:{start:{line:165,column:4},end:{line:165,column:5}},loc:{start:{line:165,column:16},end:{line:167,column:5}},line:165},19:{name:"(anonymous_19)",decl:{start:{line:170,column:4},end:{line:170,column:5}},loc:{start:{line:170,column:21},end:{line:172,column:5}},line:170},20:{name:"(anonymous_20)",decl:{start:{line:175,column:4},end:{line:175,column:5}},loc:{start:{line:175,column:27},end:{line:177,column:5}},line:175},21:{name:"(anonymous_21)",decl:{start:{line:180,column:4},end:{line:180,column:5}},loc:{start:{line:180,column:25},end:{line:182,column:5}},line:180},22:{name:"(anonymous_22)",decl:{start:{line:185,column:4},end:{line:185,column:5}},loc:{start:{line:185,column:21},end:{line:187,column:5}},line:185},23:{name:"(anonymous_23)",decl:{start:{line:192,column:4},end:{line:192,column:5}},loc:{start:{line:192,column:12},end:{line:198,column:5}},line:192}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},b:{},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class PeerConnection{static getOutbound(n){Qe.f[0]++;const e=(Qe.s[0]++,new PeerConnection);Qe.s[1]++;e._peerAddress=n;Qe.s[2]++;e._state=PeerConnectionState.CONNECTING;Qe.s[3]++;return e}static getInbound(n){Qe.f[1]++;const e=(Qe.s[4]++,new PeerConnection);Qe.s[5]++;e._networkConnection=n;Qe.s[6]++;return e}constructor(){Qe.f[2]++;Qe.s[7]++;this._id=PeerConnection._instanceCount++;Qe.s[8]++;this._peerAddress=null;Qe.s[9]++;this._networkConnection=null;Qe.s[10]++;this._peerChannel=null;Qe.s[11]++;this._networkAgent=null;Qe.s[12]++;this._peer=null;Qe.s[13]++;this._state=PeerConnectionState.NEW;Qe.s[14]++;this._score=null;Qe.s[15]++;this._establishedSince=null;Qe.s[16]++;this._statistics=new PeerConnectionStatistics}get id(){Qe.f[3]++;Qe.s[17]++;return this._id}get state(){Qe.f[4]++;Qe.s[18]++;return this._state}get peerAddress(){Qe.f[5]++;Qe.s[19]++;return this._peerAddress}set peerAddress(n){Qe.f[6]++;Qe.s[20]++;this._peerAddress=n}get networkConnection(){Qe.f[7]++;Qe.s[21]++;return this._networkConnection}set networkConnection(n){Qe.f[8]++;Qe.s[22]++;this._networkConnection=n;Qe.s[23]++;this._state=PeerConnectionState.CONNECTED}get peerChannel(){Qe.f[9]++;Qe.s[24]++;return this._peerChannel}set peerChannel(n){Qe.f[10]++;Qe.s[25]++;this._peerChannel=n}get networkAgent(){Qe.f[11]++;Qe.s[26]++;return this._networkAgent}set networkAgent(n){Qe.f[12]++;Qe.s[27]++;this._networkAgent=n}negotiating(){Qe.f[13]++;Qe.s[28]++;Assert.that(this._state===PeerConnectionState.CONNECTED);Qe.s[29]++;this._state=PeerConnectionState.NEGOTIATING}get peer(){Qe.f[14]++;Qe.s[30]++;return this._peer}set peer(n){Qe.f[15]++;Qe.s[31]++;this._peer=n;Qe.s[32]++;this._state=PeerConnectionState.ESTABLISHED;Qe.s[33]++;this._establishedSince=Date.now();Qe.s[34]++;this._networkAgent.on("ping-pong",n=>{Qe.f[16]++;Qe.s[35]++;return this._statistics.addLatency(n)});Qe.s[36]++;this._peerChannel.on("message-log",n=>{Qe.f[17]++;Qe.s[37]++;return this._statistics.addMessage(n)})}get score(){Qe.f[18]++;Qe.s[38]++;return this._score}set score(n){Qe.f[19]++;Qe.s[39]++;this._score=n}get establishedSince(){Qe.f[20]++;Qe.s[40]++;return this._establishedSince}get ageEstablished(){Qe.f[21]++;Qe.s[41]++;return Date.now()-this.establishedSince}get statistics(){Qe.f[22]++;Qe.s[42]++;return this._statistics}close(){Qe.f[23]++;Qe.s[43]++;this._state=PeerConnectionState.CLOSED;Qe.s[44]++;this._networkConnection=null;Qe.s[45]++;this._networkAgent=null;Qe.s[46]++;this._peerChannel=null;Qe.s[47]++;this._peer=null}}Qe.s[48]++;PeerConnection._instanceCount=0;Qe.s[49]++;Class.register(PeerConnection);class PeerConnectionState{}Qe.s[50]++;PeerConnectionState.NEW=1;Qe.s[51]++;PeerConnectionState.CONNECTING=2;Qe.s[52]++;PeerConnectionState.CONNECTED=3;Qe.s[53]++;PeerConnectionState.NEGOTIATING=4;Qe.s[54]++;PeerConnectionState.ESTABLISHED=5;Qe.s[55]++;PeerConnectionState.CLOSED=6;Qe.s[56]++;Class.register(PeerConnectionState);var $e=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/connection/SignalProcessor.js",e="e92318c34ff522768cb55da780c59c18af58ffaf",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/connection/SignalProcessor.js",statementMap:{0:{start:{line:13,column:8},end:{line:13,column:40}},1:{start:{line:19,column:8},end:{line:19,column:44}},2:{start:{line:25,column:8},end:{line:25,column:42}},3:{start:{line:31,column:8},end:{line:31,column:43}},4:{start:{line:41,column:8},end:{line:44,column:9}},5:{start:{line:42,column:12},end:{line:42,column:78}},6:{start:{line:43,column:12},end:{line:43,column:19}},7:{start:{line:47,column:8},end:{line:50,column:9}},8:{start:{line:48,column:12},end:{line:48,column:76}},9:{start:{line:49,column:12},end:{line:49,column:19}},10:{start:{line:53,column:25},end:{line:53,column:63}},11:{start:{line:56,column:8},end:{line:59,column:9}},12:{start:{line:57,column:12},end:{line:57,column:136}},13:{start:{line:58,column:12},end:{line:58,column:19}},14:{start:{line:63,column:8},end:{line:66,column:9}},15:{start:{line:64,column:31},end:{line:64,column:72}},16:{start:{line:65,column:12},end:{line:65,column:60}},17:{start:{line:69,column:8},end:{line:78,column:9}},18:{start:{line:72,column:12},end:{line:75,column:13}},19:{start:{line:73,column:35},end:{line:73,column:76}},20:{start:{line:74,column:16},end:{line:74,column:64}},21:{start:{line:76,column:12},end:{line:76,column:54}},22:{start:{line:77,column:12},end:{line:77,column:19}},23:{start:{line:81,column:8},end:{line:88,column:9}},24:{start:{line:82,column:12},end:{line:82,column:113}},25:{start:{line:84,column:12},end:{line:86,column:13}},26:{start:{line:85,column:16},end:{line:85,column:163}},27:{start:{line:87,column:12},end:{line:87,column:19}},28:{start:{line:91,column:30},end:{line:91,column:81}},29:{start:{line:92,column:8},end:{line:100,column:9}},30:{start:{line:93,column:12},end:{line:93,column:123}},31:{start:{line:96,column:12},end:{line:98,column:13}},32:{start:{line:97,column:16},end:{line:97,column:161}},33:{start:{line:99,column:12},end:{line:99,column:19}},34:{start:{line:104,column:8},end:{line:112,column:9}},35:{start:{line:105,column:12},end:{line:105,column:133}},36:{start:{line:108,column:12},end:{line:110,column:13}},37:{start:{line:109,column:16},end:{line:109,column:161}},38:{start:{line:111,column:12},end:{line:111,column:19}},39:{start:{line:115,column:8},end:{line:115,column:141}},40:{start:{line:118,column:8},end:{line:120,column:9}},41:{start:{line:119,column:12},end:{line:119,column:73}},42:{start:{line:128,column:0},end:{line:128,column:32}},43:{start:{line:136,column:8},end:{line:136,column:32}},44:{start:{line:138,column:8},end:{line:138,column:34}},45:{start:{line:140,column:8},end:{line:140,column:36}},46:{start:{line:145,column:8},end:{line:145,column:34}},47:{start:{line:155,column:8},end:{line:161,column:9}},48:{start:{line:156,column:27},end:{line:156,column:76}},49:{start:{line:157,column:12},end:{line:157,column:48}},50:{start:{line:158,column:12},end:{line:158,column:39}},51:{start:{line:159,column:12},end:{line:159,column:40}},52:{start:{line:160,column:12},end:{line:160,column:19}},53:{start:{line:164,column:8},end:{line:167,column:9}},54:{start:{line:165,column:27},end:{line:165,column:48}},55:{start:{line:166,column:12},end:{line:166,column:39}},56:{start:{line:168,column:23},end:{line:168,column:72}},57:{start:{line:169,column:8},end:{line:169,column:36}},58:{start:{line:170,column:8},end:{line:170,column:44}},59:{start:{line:180,column:23},end:{line:180,column:72}},60:{start:{line:181,column:8},end:{line:181,column:44}},61:{start:{line:191,column:23},end:{line:191,column:72}},62:{start:{line:192,column:25},end:{line:192,column:48}},63:{start:{line:193,column:8},end:{line:195,column:9}},64:{start:{line:194,column:12},end:{line:194,column:25}},65:{start:{line:196,column:22},end:{line:196,column:76}},66:{start:{line:197,column:8},end:{line:203,column:9}},67:{start:{line:199,column:29},end:{line:199,column:61}},68:{start:{line:200,column:12},end:{line:202,column:13}},69:{start:{line:201,column:16},end:{line:201,column:44}},70:{start:{line:204,column:8},end:{line:204,column:21}},71:{start:{line:207,column:0},end:{line:207,column:46}},72:{start:{line:208,column:0},end:{line:208,column:28}},73:{start:{line:218,column:8},end:{line:218,column:34}},74:{start:{line:220,column:8},end:{line:220,column:40}},75:{start:{line:222,column:8},end:{line:222,column:28}},76:{start:{line:230,column:8},end:{line:233,column:40}},77:{start:{line:237,column:8},end:{line:237,column:31}},78:{start:{line:244,column:8},end:{line:244,column:117}},79:{start:{line:247,column:0},end:{line:247,column:32}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:4},end:{line:8,column:5}},loc:{start:{line:8,column:60},end:{line:32,column:5}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:39,column:4},end:{line:39,column:5}},loc:{start:{line:39,column:27},end:{line:126,column:5}},line:39},2:{name:"(anonymous_2)",decl:{start:{line:134,column:4},end:{line:134,column:5}},loc:{start:{line:134,column:32},end:{line:141,column:5}},line:134},3:{name:"(anonymous_3)",decl:{start:{line:144,column:4},end:{line:144,column:5}},loc:{start:{line:144,column:17},end:{line:146,column:5}},line:144},4:{name:"(anonymous_4)",decl:{start:{line:153,column:4},end:{line:153,column:5}},loc:{start:{line:153,column:38},end:{line:171,column:5}},line:153},5:{name:"(anonymous_5)",decl:{start:{line:179,column:4},end:{line:179,column:5}},loc:{start:{line:179,column:43},end:{line:182,column:5}},line:179},6:{name:"(anonymous_6)",decl:{start:{line:190,column:4},end:{line:190,column:5}},loc:{start:{line:190,column:50},end:{line:205,column:5}},line:190},7:{name:"(anonymous_7)",decl:{start:{line:216,column:4},end:{line:216,column:5}},loc:{start:{line:216,column:46},end:{line:223,column:5}},line:216},8:{name:"(anonymous_8)",decl:{start:{line:229,column:4},end:{line:229,column:5}},loc:{start:{line:229,column:14},end:{line:234,column:5}},line:229},9:{name:"(anonymous_9)",decl:{start:{line:236,column:4},end:{line:236,column:5}},loc:{start:{line:236,column:15},end:{line:238,column:5}},line:236},10:{name:"(anonymous_10)",decl:{start:{line:243,column:4},end:{line:243,column:5}},loc:{start:{line:243,column:15},end:{line:245,column:5}},line:243}},branchMap:{0:{loc:{start:{line:41,column:8},end:{line:44,column:9}},type:"if",locations:[{start:{line:41,column:8},end:{line:44,column:9}},{start:{line:41,column:8},end:{line:44,column:9}}],line:41},1:{loc:{start:{line:47,column:8},end:{line:50,column:9}},type:"if",locations:[{start:{line:47,column:8},end:{line:50,column:9}},{start:{line:47,column:8},end:{line:50,column:9}}],line:47},2:{loc:{start:{line:47,column:12},end:{line:47,column:54}},type:"binary-expr",locations:[{start:{line:47,column:12},end:{line:47,column:28}},{start:{line:47,column:32},end:{line:47,column:54}}],line:47},3:{loc:{start:{line:56,column:8},end:{line:59,column:9}},type:"if",locations:[{start:{line:56,column:8},end:{line:59,column:9}},{start:{line:56,column:8},end:{line:59,column:9}}],line:56},4:{loc:{start:{line:63,column:8},end:{line:66,column:9}},type:"if",locations:[{start:{line:63,column:8},end:{line:66,column:9}},{start:{line:63,column:8},end:{line:66,column:9}}],line:63},5:{loc:{start:{line:63,column:12},end:{line:63,column:145}},type:"binary-expr",locations:[{start:{line:63,column:12},end:{line:63,column:30}},{start:{line:63,column:34},end:{line:63,column:145}}],line:63},6:{loc:{start:{line:69,column:8},end:{line:78,column:9}},type:"if",locations:[{start:{line:69,column:8},end:{line:78,column:9}},{start:{line:69,column:8},end:{line:78,column:9}}],line:69},7:{loc:{start:{line:72,column:12},end:{line:75,column:13}},type:"if",locations:[{start:{line:72,column:12},end:{line:75,column:13}},{start:{line:72,column:12},end:{line:75,column:13}}],line:72},8:{loc:{start:{line:72,column:16},end:{line:72,column:100}},type:"binary-expr",locations:[{start:{line:72,column:16},end:{line:72,column:53}},{start:{line:72,column:58},end:{line:72,column:76}},{start:{line:72,column:80},end:{line:72,column:99}}],line:72},9:{loc:{start:{line:81,column:8},end:{line:88,column:9}},type:"if",locations:[{start:{line:81,column:8},end:{line:88,column:9}},{start:{line:81,column:8},end:{line:88,column:9}}],line:81},10:{loc:{start:{line:84,column:12},end:{line:86,column:13}},type:"if",locations:[{start:{line:84,column:12},end:{line:86,column:13}},{start:{line:84,column:12},end:{line:86,column:13}}],line:84},11:{loc:{start:{line:92,column:8},end:{line:100,column:9}},type:"if",locations:[{start:{line:92,column:8},end:{line:100,column:9}},{start:{line:92,column:8},end:{line:100,column:9}}],line:92},12:{loc:{start:{line:96,column:12},end:{line:98,column:13}},type:"if",locations:[{start:{line:96,column:12},end:{line:98,column:13}},{start:{line:96,column:12},end:{line:98,column:13}}],line:96},13:{loc:{start:{line:104,column:8},end:{line:112,column:9}},type:"if",locations:[{start:{line:104,column:8},end:{line:112,column:9}},{start:{line:104,column:8},end:{line:112,column:9}}],line:104},14:{loc:{start:{line:108,column:12},end:{line:110,column:13}},type:"if",locations:[{start:{line:108,column:12},end:{line:110,column:13}},{start:{line:108,column:12},end:{line:110,column:13}}],line:108},15:{loc:{start:{line:118,column:8},end:{line:120,column:9}},type:"if",locations:[{start:{line:118,column:8},end:{line:120,column:9}},{start:{line:118,column:8},end:{line:120,column:9}}],line:118},16:{loc:{start:{line:134,column:16},end:{line:134,column:30}},type:"default-arg",locations:[{start:{line:134,column:26},end:{line:134,column:30}}],line:134},17:{loc:{start:{line:155,column:8},end:{line:161,column:9}},type:"if",locations:[{start:{line:155,column:8},end:{line:161,column:9}},{start:{line:155,column:8},end:{line:161,column:9}}],line:155},18:{loc:{start:{line:164,column:8},end:{line:167,column:9}},type:"if",locations:[{start:{line:164,column:8},end:{line:167,column:9}},{start:{line:164,column:8},end:{line:167,column:9}}],line:164},19:{loc:{start:{line:193,column:8},end:{line:195,column:9}},type:"if",locations:[{start:{line:193,column:8},end:{line:195,column:9}},{start:{line:193,column:8},end:{line:195,column:9}}],line:193},20:{loc:{start:{line:197,column:8},end:{line:203,column:9}},type:"if",locations:[{start:{line:197,column:8},end:{line:203,column:9}},{start:{line:197,column:8},end:{line:203,column:9}}],line:197},21:{loc:{start:{line:230,column:15},end:{line:233,column:39}},type:"binary-expr",locations:[{start:{line:230,column:15},end:{line:230,column:43}},{start:{line:231,column:15},end:{line:231,column:49}},{start:{line:232,column:15},end:{line:232,column:55}},{start:{line:233,column:15},end:{line:233,column:39}}],line:230}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0,0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class SignalProcessor{constructor(n,e,l){$e.f[0]++;$e.s[0]++;this._addresses=n;$e.s[1]++;this._networkConfig=e;$e.s[2]++;this._rtcConnector=l;$e.s[3]++;this._forwards=new SignalStore}onSignal(n,e){$e.f[1]++;$e.s[4]++;if(e.ttl>Network.SIGNAL_TTL_INITIAL){$e.b[0][0]++;$e.s[5]++;n.close(CloseType.INVALID_SIGNAL_TTL,"invalid signal ttl");$e.s[6]++;return}$e.b[0][1]++;$e.s[7]++;if(($e.b[2][0]++,e.hasPayload())&&($e.b[2][1]++,!e.verifySignature())){$e.b[1][0]++;$e.s[8]++;n.close(CloseType.INVALID_SIGNATURE,"invalid signature");$e.s[9]++;return}$e.b[1][1]++;const l=($e.s[10]++,this._networkConfig.peerAddress.peerId);$e.s[11]++;if(e.senderId.equals(l)){$e.b[3][0]++;$e.s[12]++;Log.w(SignalProcessor,`Received signal from myself to ${e.recipientId} from ${n.peerAddress} (myId: ${l})`);$e.s[13]++;return}$e.b[3][1]++;$e.s[14]++;if(($e.b[5][0]++,e.isUnroutable())&&($e.b[5][1]++,this._forwards.signalForwarded(e.recipientId,e.senderId,e.nonce))){$e.b[4][0]++;const l=($e.s[15]++,this._addresses.getByPeerId(e.senderId));$e.s[16]++;this._addresses.unroutable(n,l)}else $e.b[4][1]++;$e.s[17]++;if(e.recipientId.equals(l)){$e.b[6][0]++;$e.s[18]++;if(($e.b[8][0]++,this._rtcConnector.isValidSignal(e))&&(($e.b[8][1]++,e.isUnroutable())||($e.b[8][2]++,e.isTtlExceeded()))){$e.b[7][0]++;const l=($e.s[19]++,this._addresses.getByPeerId(e.senderId));$e.s[20]++;this._addresses.unroutable(n,l)}else $e.b[7][1]++;$e.s[21]++;this._rtcConnector.onSignal(n,e);$e.s[22]++;return}$e.b[6][1]++;$e.s[23]++;if(e.ttl<=0){$e.b[9][0]++;$e.s[24]++;Log.d(SignalProcessor,`Discarding signal from ${e.senderId} to ${e.recipientId} - TTL reached`);$e.s[25]++;if(0===e.flags){$e.b[10][0]++;$e.s[26]++;n.signal(e.recipientId,e.senderId,e.nonce,Network.SIGNAL_TTL_INITIAL,SignalMessage.Flag.TTL_EXCEEDED)}else $e.b[10][1]++;$e.s[27]++;return}$e.b[9][1]++;const t=($e.s[28]++,this._addresses.getChannelByPeerId(e.recipientId));$e.s[29]++;if(t){$e.b[11][1]++;$e.s[34]++;if(t.peerAddress.equals(n.peerAddress)){$e.b[13][0]++;$e.s[35]++;Log.w(SignalProcessor,`Discarding signal from ${e.senderId} to ${e.recipientId} - shortest route via sending peer`);$e.s[36]++;if(0===e.flags){$e.b[14][0]++;$e.s[37]++;n.signal(e.recipientId,e.senderId,e.nonce,Network.SIGNAL_TTL_INITIAL,SignalMessage.Flag.UNROUTABLE)}else $e.b[14][1]++;$e.s[38]++}else{$e.b[13][1]++;$e.s[39]++;t.signal(e.senderId,e.recipientId,e.nonce,e.ttl-1,e.flags,e.payload,e.senderPubKey,e.signature);$e.s[40]++;if(0===e.flags){$e.b[15][0]++;$e.s[41]++;this._forwards.add(e.senderId,e.recipientId,e.nonce)}else $e.b[15][1]++}}else{$e.b[11][0]++;$e.s[30]++;Log.d(SignalProcessor,`Failed to forward signal from ${e.senderId} to ${e.recipientId} - no route found`);$e.s[31]++;if(0===e.flags){$e.b[12][0]++;$e.s[32]++;n.signal(e.recipientId,e.senderId,e.nonce,Network.SIGNAL_TTL_INITIAL,SignalMessage.Flag.UNROUTABLE)}else $e.b[12][1]++;$e.s[33]++}}}$e.s[42]++;Class.register(SignalProcessor);class SignalStore{constructor(n=($e.b[16][0]++,1e3)){$e.f[2]++;$e.s[43]++;this._maxSize=n;$e.s[44]++;this._queue=new Queue;$e.s[45]++;this._store=new HashMap}get length(){$e.f[3]++;$e.s[46]++;return this._queue.length}add(n,e,l){$e.f[4]++;$e.s[47]++;if(this.contains(n,e,l)){$e.b[17][0]++;const t=($e.s[48]++,new ForwardedSignal(n,e,l));$e.s[49]++;this._store.put(t,Date.now());$e.s[50]++;this._queue.remove(t);$e.s[51]++;this._queue.enqueue(t);$e.s[52]++;return}$e.b[17][1]++;$e.s[53]++;if(this.length>=this._maxSize){$e.b[18][0]++;const n=($e.s[54]++,this._queue.dequeue());$e.s[55]++;this._store.remove(n)}else $e.b[18][1]++;const t=($e.s[56]++,new ForwardedSignal(n,e,l));$e.s[57]++;this._queue.enqueue(t);$e.s[58]++;this._store.put(t,Date.now())}contains(n,e,l){$e.f[5]++;const t=($e.s[59]++,new ForwardedSignal(n,e,l));$e.s[60]++;return this._store.contains(t)}signalForwarded(n,e,l){$e.f[6]++;const t=($e.s[61]++,new ForwardedSignal(n,e,l)),o=($e.s[62]++,this._store.get(t));$e.s[63]++;if(!o){$e.b[19][0]++;$e.s[64]++;return!1}$e.b[19][1]++;const i=($e.s[65]++,o+ForwardedSignal.SIGNAL_MAX_AGE>Date.now());$e.s[66]++;if(i)$e.b[20][1]++;else{$e.b[20][0]++;const n=($e.s[67]++,this._queue.dequeueUntil(t));$e.s[68]++;for(const e of n){$e.s[69]++;this._store.remove(e)}}$e.s[70]++;return i}}$e.s[71]++;SignalStore.SIGNAL_MAX_AGE=10;$e.s[72]++;Class.register(SignalStore);class ForwardedSignal{constructor(n,e,l){$e.f[7]++;$e.s[73]++;this._senderId=n;$e.s[74]++;this._recipientId=e;$e.s[75]++;this._nonce=l}equals(n){$e.f[8]++;$e.s[76]++;return($e.b[21][0]++,n instanceof ForwardedSignal)&&($e.b[21][1]++,this._senderId.equals(n._senderId))&&($e.b[21][2]++,this._recipientId.equals(n._recipientId))&&($e.b[21][3]++,this._nonce===n._nonce)}hashCode(){$e.f[9]++;$e.s[77]++;return this.toString()}toString(){$e.f[10]++;$e.s[78]++;return`ForwardedSignal{senderId=${this._senderId}, recipientId=${this._recipientId}, nonce=${this._nonce}}`}}$e.s[79]++;Class.register(ForwardedSignal);var Xe=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/connection/ConnectionPool.js",e="7177bef45da82d481ed10dc4feb5aa3048c8fc3f",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/connection/ConnectionPool.js",statementMap:{0:{start:{line:14,column:8},end:{line:14,column:16}},1:{start:{line:20,column:8},end:{line:20,column:40}},2:{start:{line:26,column:8},end:{line:26,column:44}},3:{start:{line:32,column:8},end:{line:32,column:38}},4:{start:{line:38,column:8},end:{line:38,column:26}},5:{start:{line:45,column:8},end:{line:45,column:55}},6:{start:{line:52,column:8},end:{line:52,column:54}},7:{start:{line:59,column:8},end:{line:59,column:50}},8:{start:{line:63,column:8},end:{line:63,column:28}},9:{start:{line:65,column:8},end:{line:65,column:32}},10:{start:{line:68,column:8},end:{line:68,column:72}},11:{start:{line:69,column:8},end:{line:69,column:77}},12:{start:{line:69,column:51},end:{line:69,column:75}},13:{start:{line:70,column:8},end:{line:70,column:90}},14:{start:{line:70,column:55},end:{line:70,column:88}},15:{start:{line:73,column:8},end:{line:73,column:70}},16:{start:{line:74,column:8},end:{line:74,column:78}},17:{start:{line:74,column:52},end:{line:74,column:76}},18:{start:{line:75,column:8},end:{line:75,column:101}},19:{start:{line:75,column:61},end:{line:75,column:99}},20:{start:{line:79,column:8},end:{line:79,column:30}},21:{start:{line:81,column:8},end:{line:81,column:31}},22:{start:{line:83,column:8},end:{line:83,column:32}},23:{start:{line:85,column:8},end:{line:85,column:32}},24:{start:{line:87,column:8},end:{line:87,column:33}},25:{start:{line:89,column:8},end:{line:89,column:32}},26:{start:{line:91,column:8},end:{line:91,column:36}},27:{start:{line:93,column:8},end:{line:93,column:42}},28:{start:{line:100,column:8},end:{line:100,column:34}},29:{start:{line:107,column:8},end:{line:107,column:31}},30:{start:{line:110,column:8},end:{line:110,column:102}},31:{start:{line:114,column:8},end:{line:114,column:43}},32:{start:{line:118,column:8},end:{line:118,column:46}},33:{start:{line:121,column:8},end:{line:121,column:44}},34:{start:{line:124,column:8},end:{line:124,column:44}},35:{start:{line:126,column:8},end:{line:126,column:84}},36:{start:{line:126,column:26},end:{line:126,column:47}},37:{start:{line:133,column:8},end:{line:133,column:67}},38:{start:{line:141,column:8},end:{line:141,column:63}},39:{start:{line:149,column:8},end:{line:149,column:67}},40:{start:{line:157,column:8},end:{line:157,column:87}},41:{start:{line:165,column:8},end:{line:166,column:111}},42:{start:{line:166,column:68},end:{line:166,column:109}},43:{start:{line:174,column:8},end:{line:174,column:108}},44:{start:{line:183,column:8},end:{line:185,column:9}},45:{start:{line:184,column:12},end:{line:184,column:91}},46:{start:{line:194,column:8},end:{line:196,column:9}},47:{start:{line:195,column:12},end:{line:195,column:78}},48:{start:{line:198,column:8},end:{line:200,column:9}},49:{start:{line:199,column:12},end:{line:199,column:96}},50:{start:{line:211,column:8},end:{line:213,column:9}},51:{start:{line:212,column:12},end:{line:212,column:19}},52:{start:{line:215,column:8},end:{line:219,column:9}},53:{start:{line:216,column:12},end:{line:216,column:79}},54:{start:{line:218,column:12},end:{line:218,column:76}},55:{start:{line:221,column:30},end:{line:221,column:64}},56:{start:{line:222,column:8},end:{line:226,column:9}},57:{start:{line:223,column:12},end:{line:223,column:78}},58:{start:{line:225,column:12},end:{line:225,column:75}},59:{start:{line:236,column:8},end:{line:238,column:9}},60:{start:{line:237,column:12},end:{line:237,column:19}},61:{start:{line:240,column:8},end:{line:251,column:9}},62:{start:{line:241,column:36},end:{line:241,column:81}},63:{start:{line:243,column:26},end:{line:243,column:65}},64:{start:{line:244,column:12},end:{line:246,column:13}},65:{start:{line:245,column:16},end:{line:245,column:49}},66:{start:{line:248,column:12},end:{line:250,column:13}},67:{start:{line:249,column:16},end:{line:249,column:65}},68:{start:{line:253,column:30},end:{line:253,column:64}},69:{start:{line:254,column:8},end:{line:265,column:9}},70:{start:{line:255,column:36},end:{line:255,column:80}},71:{start:{line:257,column:26},end:{line:257,column:65}},72:{start:{line:258,column:12},end:{line:260,column:13}},73:{start:{line:259,column:16},end:{line:259,column:49}},74:{start:{line:262,column:12},end:{line:264,column:13}},75:{start:{line:263,column:16},end:{line:263,column:64}},76:{start:{line:273,column:8},end:{line:275,column:9}},77:{start:{line:274,column:12},end:{line:274,column:25}},78:{start:{line:277,column:8},end:{line:280,column:9}},79:{start:{line:278,column:12},end:{line:278,column:93}},80:{start:{line:279,column:12},end:{line:279,column:25}},81:{start:{line:282,column:8},end:{line:285,column:9}},82:{start:{line:283,column:12},end:{line:283,column:81}},83:{start:{line:284,column:12},end:{line:284,column:25}},84:{start:{line:287,column:31},end:{line:287,column:75}},85:{start:{line:288,column:8},end:{line:291,column:9}},86:{start:{line:289,column:12},end:{line:289,column:76}},87:{start:{line:290,column:12},end:{line:290,column:25}},88:{start:{line:294,column:8},end:{line:304,column:9}},89:{start:{line:295,column:12},end:{line:298,column:13}},90:{start:{line:296,column:16},end:{line:296,column:108}},91:{start:{line:297,column:16},end:{line:297,column:29}},92:{start:{line:300,column:12},end:{line:303,column:13}},93:{start:{line:301,column:16},end:{line:301,column:121}},94:{start:{line:302,column:16},end:{line:302,column:29}},95:{start:{line:306,column:8},end:{line:306,column:20}},96:{start:{line:315,column:8},end:{line:317,column:9}},97:{start:{line:316,column:12},end:{line:316,column:25}},98:{start:{line:322,column:31},end:{line:322,column:70}},99:{start:{line:323,column:8},end:{line:323,column:34}},100:{start:{line:326,column:25},end:{line:326,column:30}},101:{start:{line:327,column:8},end:{line:332,column:9}},102:{start:{line:328,column:12},end:{line:328,column:64}},103:{start:{line:330,column:34},end:{line:330,column:88}},104:{start:{line:331,column:12},end:{line:331,column:80}},105:{start:{line:334,column:8},end:{line:340,column:9}},106:{start:{line:335,column:12},end:{line:335,column:36}},107:{start:{line:337,column:12},end:{line:337,column:41}},108:{start:{line:338,column:12},end:{line:338,column:78}},109:{start:{line:339,column:12},end:{line:339,column:25}},110:{start:{line:342,column:8},end:{line:342,column:20}},111:{start:{line:352,column:21},end:{line:352,column:53}},112:{start:{line:355,column:8},end:{line:358,column:9}},113:{start:{line:356,column:12},end:{line:356,column:109}},114:{start:{line:357,column:12},end:{line:357,column:25}},115:{start:{line:360,column:8},end:{line:378,column:9}},116:{start:{line:362,column:12},end:{line:365,column:13}},117:{start:{line:363,column:16},end:{line:363,column:96}},118:{start:{line:364,column:16},end:{line:364,column:29}},119:{start:{line:368,column:12},end:{line:371,column:13}},120:{start:{line:369,column:16},end:{line:369,column:132}},121:{start:{line:370,column:16},end:{line:370,column:29}},122:{start:{line:374,column:12},end:{line:377,column:13}},123:{start:{line:375,column:16},end:{line:375,column:148}},124:{start:{line:376,column:16},end:{line:376,column:29}},125:{start:{line:381,column:8},end:{line:387,column:9}},126:{start:{line:385,column:12},end:{line:385,column:111}},127:{start:{line:386,column:12},end:{line:386,column:25}},128:{start:{line:389,column:8},end:{line:389,column:20}},129:{start:{line:404,column:8},end:{line:416,column:9}},130:{start:{line:405,column:12},end:{line:405,column:36}},131:{start:{line:406,column:12},end:{line:406,column:75}},132:{start:{line:408,column:12},end:{line:408,column:79}},133:{start:{line:410,column:12},end:{line:410,column:88}},134:{start:{line:411,column:12},end:{line:412,column:106}},135:{start:{line:414,column:12},end:{line:414,column:61}},136:{start:{line:415,column:12},end:{line:415,column:33}},137:{start:{line:419,column:8},end:{line:419,column:48}},138:{start:{line:422,column:8},end:{line:422,column:88}},139:{start:{line:422,column:43},end:{line:422,column:86}},140:{start:{line:424,column:8},end:{line:426,column:9}},141:{start:{line:425,column:12},end:{line:425,column:19}},142:{start:{line:430,column:8},end:{line:432,column:9}},143:{start:{line:431,column:12},end:{line:431,column:65}},144:{start:{line:434,column:25},end:{line:434,column:62}},145:{start:{line:435,column:8},end:{line:435,column:136}},146:{start:{line:438,column:8},end:{line:438,column:38}},147:{start:{line:441,column:24},end:{line:441,column:45}},148:{start:{line:442,column:8},end:{line:442,column:82}},149:{start:{line:442,column:36},end:{line:442,column:80}},150:{start:{line:444,column:8},end:{line:444,column:45}},151:{start:{line:447,column:22},end:{line:447,column:103}},152:{start:{line:448,column:8},end:{line:448,column:80}},153:{start:{line:448,column:36},end:{line:448,column:78}},154:{start:{line:449,column:8},end:{line:449,column:79}},155:{start:{line:449,column:38},end:{line:449,column:77}},156:{start:{line:451,column:8},end:{line:451,column:44}},157:{start:{line:454,column:8},end:{line:454,column:26}},158:{start:{line:465,column:8},end:{line:469,column:9}},159:{start:{line:466,column:12},end:{line:467,column:85}},160:{start:{line:468,column:12},end:{line:468,column:25}},161:{start:{line:472,column:33},end:{line:472,column:82}},162:{start:{line:473,column:8},end:{line:480,column:9}},163:{start:{line:475,column:12},end:{line:479,column:13}},164:{start:{line:476,column:16},end:{line:477,column:59}},165:{start:{line:478,column:16},end:{line:478,column:29}},166:{start:{line:483,column:8},end:{line:483,column:37}},167:{start:{line:485,column:8},end:{line:485,column:20}},168:{start:{line:499,column:8},end:{line:554,column:9}},169:{start:{line:501,column:12},end:{line:505,column:13}},170:{start:{line:502,column:16},end:{line:503,column:74}},171:{start:{line:504,column:16},end:{line:504,column:23}},172:{start:{line:508,column:37},end:{line:508,column:86}},173:{start:{line:509,column:12},end:{line:546,column:13}},174:{start:{line:510,column:16},end:{line:545,column:17}},175:{start:{line:513,column:24},end:{line:513,column:118}},176:{start:{line:514,column:24},end:{line:514,column:143}},177:{start:{line:515,column:24},end:{line:515,column:66}},178:{start:{line:516,column:24},end:{line:516,column:118}},179:{start:{line:517,column:24},end:{line:517,column:30}},180:{start:{line:521,column:24},end:{line:522,column:69}},181:{start:{line:523,column:24},end:{line:523,column:31}},182:{start:{line:527,column:24},end:{line:537,column:25}},183:{start:{line:528,column:28},end:{line:529,column:91}},184:{start:{line:530,column:28},end:{line:530,column:122}},185:{start:{line:534,column:28},end:{line:535,column:92}},186:{start:{line:536,column:28},end:{line:536,column:35}},187:{start:{line:538,column:24},end:{line:538,column:30}},188:{start:{line:542,column:24},end:{line:543,column:106}},189:{start:{line:544,column:24},end:{line:544,column:118}},190:{start:{line:548,column:12},end:{line:548,column:129}},191:{start:{line:549,column:12},end:{line:549,column:58}},192:{start:{line:550,column:12},end:{line:550,column:38}},193:{start:{line:552,column:12},end:{line:552,column:33}},194:{start:{line:553,column:12},end:{line:553,column:69}},195:{start:{line:559,column:8},end:{line:561,column:9}},196:{start:{line:560,column:12},end:{line:560,column:43}},197:{start:{line:564,column:8},end:{line:564,column:35}},198:{start:{line:566,column:8},end:{line:568,column:9}},199:{start:{line:567,column:12},end:{line:567,column:65}},200:{start:{line:570,column:8},end:{line:570,column:58}},201:{start:{line:572,column:8},end:{line:572,column:68}},202:{start:{line:575,column:8},end:{line:575,column:39}},203:{start:{line:578,column:8},end:{line:578,column:35}},204:{start:{line:580,column:8},end:{line:580,column:195}},205:{start:{line:580,column:36},end:{line:580,column:193}},206:{start:{line:596,column:8},end:{line:596,column:70}},207:{start:{line:597,column:8},end:{line:597,column:78}},208:{start:{line:603,column:8},end:{line:605,column:9}},209:{start:{line:604,column:12},end:{line:604,column:96}},210:{start:{line:607,column:8},end:{line:607,column:37}},211:{start:{line:610,column:8},end:{line:636,column:9}},212:{start:{line:612,column:12},end:{line:614,column:13}},213:{start:{line:613,column:16},end:{line:613,column:60}},214:{start:{line:616,column:12},end:{line:616,column:63}},215:{start:{line:619,column:12},end:{line:619,column:56}},216:{start:{line:622,column:12},end:{line:622,column:39}},217:{start:{line:624,column:34},end:{line:625,column:84}},218:{start:{line:626,column:12},end:{line:627,column:124}},219:{start:{line:629,column:12},end:{line:635,column:13}},220:{start:{line:630,column:16},end:{line:630,column:37}},221:{start:{line:631,column:16},end:{line:631,column:142}},222:{start:{line:633,column:16},end:{line:633,column:167}},223:{start:{line:634,column:16},end:{line:634,column:94}},224:{start:{line:639,column:8},end:{line:639,column:57}},225:{start:{line:642,column:8},end:{line:642,column:31}},226:{start:{line:651,column:8},end:{line:659,column:9}},227:{start:{line:652,column:12},end:{line:652,column:62}},228:{start:{line:653,column:12},end:{line:658,column:13}},229:{start:{line:654,column:16},end:{line:654,column:98}},230:{start:{line:655,column:19},end:{line:658,column:13}},231:{start:{line:657,column:16},end:{line:657,column:115}},232:{start:{line:668,column:8},end:{line:668,column:48}},233:{start:{line:668,column:35},end:{line:668,column:48}},234:{start:{line:669,column:8},end:{line:674,column:9}},235:{start:{line:670,column:12},end:{line:670,column:60}},236:{start:{line:671,column:15},end:{line:674,column:9}},237:{start:{line:672,column:27},end:{line:672,column:55}},238:{start:{line:673,column:12},end:{line:673,column:56}},239:{start:{line:675,column:8},end:{line:675,column:21}},240:{start:{line:683,column:20},end:{line:683,column:30}},241:{start:{line:684,column:8},end:{line:688,column:9}},242:{start:{line:685,column:12},end:{line:687,column:13}},243:{start:{line:686,column:16},end:{line:686,column:55}},244:{start:{line:689,column:8},end:{line:693,column:9}},245:{start:{line:690,column:12},end:{line:692,column:13}},246:{start:{line:691,column:16},end:{line:691,column:51}},247:{start:{line:705,column:8},end:{line:705,column:122}},248:{start:{line:707,column:31},end:{line:707,column:75}},249:{start:{line:708,column:8},end:{line:708,column:79}},250:{start:{line:709,column:8},end:{line:710,column:97}},251:{start:{line:711,column:8},end:{line:711,column:37}},252:{start:{line:713,column:8},end:{line:713,column:32}},253:{start:{line:714,column:8},end:{line:714,column:71}},254:{start:{line:716,column:8},end:{line:716,column:78}},255:{start:{line:718,column:8},end:{line:718,column:56}},256:{start:{line:728,column:28},end:{line:728,column:54}},257:{start:{line:729,column:8},end:{line:744,column:9}},258:{start:{line:731,column:16},end:{line:731,column:43}},259:{start:{line:732,column:16},end:{line:732,column:71}},260:{start:{line:733,column:16},end:{line:733,column:22}},261:{start:{line:735,column:16},end:{line:735,column:44}},262:{start:{line:736,column:16},end:{line:736,column:73}},263:{start:{line:737,column:16},end:{line:737,column:22}},264:{start:{line:739,column:16},end:{line:739,column:45}},265:{start:{line:740,column:16},end:{line:740,column:75}},266:{start:{line:741,column:16},end:{line:741,column:22}},267:{start:{line:743,column:16},end:{line:743,column:83}},268:{start:{line:746,column:8},end:{line:755,column:9}},269:{start:{line:747,column:12},end:{line:747,column:41}},270:{start:{line:748,column:12},end:{line:748,column:71}},271:{start:{line:749,column:15},end:{line:755,column:9}},272:{start:{line:750,column:12},end:{line:750,column:42}},273:{start:{line:751,column:12},end:{line:751,column:73}},274:{start:{line:753,column:12},end:{line:753,column:41}},275:{start:{line:754,column:12},end:{line:754,column:71}},276:{start:{line:757,column:8},end:{line:762,column:9}},277:{start:{line:758,column:12},end:{line:758,column:45}},278:{start:{line:759,column:12},end:{line:761,column:13}},279:{start:{line:760,column:16},end:{line:760,column:55}},280:{start:{line:772,column:8},end:{line:776,column:9}},281:{start:{line:773,column:12},end:{line:775,column:13}},282:{start:{line:774,column:16},end:{line:774,column:121}},283:{start:{line:782,column:8},end:{line:786,column:9}},284:{start:{line:783,column:12},end:{line:785,column:13}},285:{start:{line:784,column:16},end:{line:784,column:111}},286:{start:{line:791,column:8},end:{line:791,column:33}},287:{start:{line:796,column:8},end:{line:796,column:34}},288:{start:{line:801,column:8},end:{line:801,column:35}},289:{start:{line:806,column:8},end:{line:806,column:76}},290:{start:{line:811,column:8},end:{line:811,column:35}},291:{start:{line:816,column:8},end:{line:816,column:36}},292:{start:{line:821,column:8},end:{line:821,column:35}},293:{start:{line:826,column:8},end:{line:826,column:39}},294:{start:{line:831,column:8},end:{line:831,column:45}},295:{start:{line:836,column:8},end:{line:836,column:37}},296:{start:{line:841,column:8},end:{line:841,column:74}},297:{start:{line:846,column:8},end:{line:847,column:150}},298:{start:{line:847,column:58},end:{line:847,column:145}},299:{start:{line:852,column:8},end:{line:853,column:154}},300:{start:{line:853,column:58},end:{line:853,column:149}},301:{start:{line:858,column:8},end:{line:858,column:43}},302:{start:{line:863,column:8},end:{line:863,column:45}},303:{start:{line:868,column:8},end:{line:868,column:46}},304:{start:{line:872,column:0},end:{line:872,column:49}},305:{start:{line:873,column:0},end:{line:873,column:46}},306:{start:{line:875,column:0},end:{line:875,column:31}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:4},end:{line:13,column:5}},loc:{start:{line:13,column:64},end:{line:127,column:5}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:69,column:43},end:{line:69,column:44}},loc:{start:{line:69,column:51},end:{line:69,column:75}},line:69},2:{name:"(anonymous_2)",decl:{start:{line:70,column:38},end:{line:70,column:39}},loc:{start:{line:70,column:55},end:{line:70,column:88}},line:70},3:{name:"(anonymous_3)",decl:{start:{line:74,column:44},end:{line:74,column:45}},loc:{start:{line:74,column:52},end:{line:74,column:76}},line:74},4:{name:"(anonymous_4)",decl:{start:{line:75,column:39},end:{line:75,column:40}},loc:{start:{line:75,column:61},end:{line:75,column:99}},line:75},5:{name:"(anonymous_5)",decl:{start:{line:126,column:20},end:{line:126,column:21}},loc:{start:{line:126,column:26},end:{line:126,column:47}},line:126},6:{name:"(anonymous_6)",decl:{start:{line:132,column:4},end:{line:132,column:5}},loc:{start:{line:132,column:13},end:{line:134,column:5}},line:132},7:{name:"(anonymous_7)",decl:{start:{line:140,column:4},end:{line:140,column:5}},loc:{start:{line:140,column:44},end:{line:142,column:5}},line:140},8:{name:"(anonymous_8)",decl:{start:{line:148,column:4},end:{line:148,column:5}},loc:{start:{line:148,column:43},end:{line:150,column:5}},line:148},9:{name:"(anonymous_9)",decl:{start:{line:156,column:4},end:{line:156,column:5}},loc:{start:{line:156,column:39},end:{line:158,column:5}},line:156},10:{name:"(anonymous_10)",decl:{start:{line:164,column:4},end:{line:164,column:5}},loc:{start:{line:164,column:47},end:{line:167,column:5}},line:164},11:{name:"(anonymous_11)",decl:{start:{line:166,column:50},end:{line:166,column:51}},loc:{start:{line:166,column:68},end:{line:166,column:109}},line:166},12:{name:"(anonymous_12)",decl:{start:{line:173,column:4},end:{line:173,column:5}},loc:{start:{line:173,column:34},end:{line:175,column:5}},line:173},13:{name:"(anonymous_13)",decl:{start:{line:182,column:4},end:{line:182,column:5}},loc:{start:{line:182,column:25},end:{line:186,column:5}},line:182},14:{name:"(anonymous_14)",decl:{start:{line:193,column:4},end:{line:193,column:5}},loc:{start:{line:193,column:28},end:{line:201,column:5}},line:193},15:{name:"(anonymous_15)",decl:{start:{line:209,column:4},end:{line:209,column:5}},loc:{start:{line:209,column:47},end:{line:227,column:5}},line:209},16:{name:"(anonymous_16)",decl:{start:{line:235,column:4},end:{line:235,column:5}},loc:{start:{line:235,column:50},end:{line:266,column:5}},line:235},17:{name:"(anonymous_17)",decl:{start:{line:272,column:4},end:{line:272,column:5}},loc:{start:{line:272,column:49},end:{line:307,column:5}},line:272},18:{name:"(anonymous_18)",decl:{start:{line:313,column:4},end:{line:313,column:5}},loc:{start:{line:313,column:33},end:{line:343,column:5}},line:313},19:{name:"(anonymous_19)",decl:{start:{line:350,column:4},end:{line:350,column:5}},loc:{start:{line:350,column:37},end:{line:390,column:5}},line:350},20:{name:"(anonymous_20)",decl:{start:{line:401,column:4},end:{line:401,column:5}},loc:{start:{line:401,column:24},end:{line:455,column:5}},line:401},21:{name:"(anonymous_21)",decl:{start:{line:422,column:25},end:{line:422,column:26}},loc:{start:{line:422,column:43},end:{line:422,column:86}},line:422},22:{name:"(anonymous_22)",decl:{start:{line:442,column:29},end:{line:442,column:30}},loc:{start:{line:442,column:36},end:{line:442,column:80}},line:442},23:{name:"(anonymous_23)",decl:{start:{line:448,column:28},end:{line:448,column:29}},loc:{start:{line:448,column:36},end:{line:448,column:78}},line:448},24:{name:"(anonymous_24)",decl:{start:{line:449,column:30},end:{line:449,column:31}},loc:{start:{line:449,column:38},end:{line:449,column:77}},line:449},25:{name:"(anonymous_25)",decl:{start:{line:463,column:4},end:{line:463,column:5}},loc:{start:{line:463,column:42},end:{line:486,column:5}},line:463},26:{name:"(anonymous_26)",decl:{start:{line:498,column:4},end:{line:498,column:5}},loc:{start:{line:498,column:39},end:{line:581,column:5}},line:498},27:{name:"(anonymous_27)",decl:{start:{line:580,column:30},end:{line:580,column:31}},loc:{start:{line:580,column:36},end:{line:580,column:193}},line:580},28:{name:"(anonymous_28)",decl:{start:{line:594,column:4},end:{line:594,column:5}},loc:{start:{line:594,column:43},end:{line:643,column:5}},line:594},29:{name:"(anonymous_29)",decl:{start:{line:650,column:4},end:{line:650,column:5}},loc:{start:{line:650,column:23},end:{line:660,column:5}},line:650},30:{name:"(anonymous_30)",decl:{start:{line:667,column:4},end:{line:667,column:5}},loc:{start:{line:667,column:28},end:{line:676,column:5}},line:667},31:{name:"(anonymous_31)",decl:{start:{line:682,column:4},end:{line:682,column:5}},loc:{start:{line:682,column:21},end:{line:694,column:5}},line:682},32:{name:"(anonymous_32)",decl:{start:{line:704,column:4},end:{line:704,column:5}},loc:{start:{line:704,column:41},end:{line:719,column:5}},line:704},33:{name:"(anonymous_33)",decl:{start:{line:727,column:4},end:{line:727,column:5}},loc:{start:{line:727,column:53},end:{line:763,column:5}},line:727},34:{name:"(anonymous_34)",decl:{start:{line:770,column:4},end:{line:770,column:5}},loc:{start:{line:770,column:23},end:{line:777,column:5}},line:770},35:{name:"(anonymous_35)",decl:{start:{line:780,column:4},end:{line:780,column:5}},loc:{start:{line:780,column:26},end:{line:787,column:5}},line:780},36:{name:"(anonymous_36)",decl:{start:{line:790,column:4},end:{line:790,column:5}},loc:{start:{line:790,column:22},end:{line:792,column:5}},line:790},37:{name:"(anonymous_37)",decl:{start:{line:795,column:4},end:{line:795,column:5}},loc:{start:{line:795,column:23},end:{line:797,column:5}},line:795},38:{name:"(anonymous_38)",decl:{start:{line:800,column:4},end:{line:800,column:5}},loc:{start:{line:800,column:24},end:{line:802,column:5}},line:800},39:{name:"(anonymous_39)",decl:{start:{line:805,column:4},end:{line:805,column:5}},loc:{start:{line:805,column:20},end:{line:807,column:5}},line:805},40:{name:"(anonymous_40)",decl:{start:{line:810,column:4},end:{line:810,column:5}},loc:{start:{line:810,column:24},end:{line:812,column:5}},line:810},41:{name:"(anonymous_41)",decl:{start:{line:815,column:4},end:{line:815,column:5}},loc:{start:{line:815,column:25},end:{line:817,column:5}},line:815},42:{name:"(anonymous_42)",decl:{start:{line:820,column:4},end:{line:820,column:5}},loc:{start:{line:820,column:24},end:{line:822,column:5}},line:820},43:{name:"(anonymous_43)",decl:{start:{line:825,column:4},end:{line:825,column:5}},loc:{start:{line:825,column:28},end:{line:827,column:5}},line:825},44:{name:"(anonymous_44)",decl:{start:{line:830,column:4},end:{line:830,column:5}},loc:{start:{line:830,column:34},end:{line:832,column:5}},line:830},45:{name:"(anonymous_45)",decl:{start:{line:835,column:4},end:{line:835,column:5}},loc:{start:{line:835,column:26},end:{line:837,column:5}},line:835},46:{name:"(anonymous_46)",decl:{start:{line:840,column:4},end:{line:840,column:5}},loc:{start:{line:840,column:16},end:{line:842,column:5}},line:840},47:{name:"(anonymous_47)",decl:{start:{line:845,column:4},end:{line:845,column:5}},loc:{start:{line:845,column:20},end:{line:848,column:5}},line:845},48:{name:"(anonymous_48)",decl:{start:{line:847,column:35},end:{line:847,column:36}},loc:{start:{line:847,column:58},end:{line:847,column:145}},line:847},49:{name:"(anonymous_49)",decl:{start:{line:851,column:4},end:{line:851,column:5}},loc:{start:{line:851,column:24},end:{line:854,column:5}},line:851},50:{name:"(anonymous_50)",decl:{start:{line:853,column:35},end:{line:853,column:36}},loc:{start:{line:853,column:58},end:{line:853,column:149}},line:853},51:{name:"(anonymous_51)",decl:{start:{line:857,column:4},end:{line:857,column:5}},loc:{start:{line:857,column:36},end:{line:859,column:5}},line:857},52:{name:"(anonymous_52)",decl:{start:{line:862,column:4},end:{line:862,column:5}},loc:{start:{line:862,column:34},end:{line:864,column:5}},line:862},53:{name:"(anonymous_53)",decl:{start:{line:867,column:4},end:{line:867,column:5}},loc:{start:{line:867,column:39},end:{line:869,column:5}},line:867}},branchMap:{0:{loc:{start:{line:149,column:15},end:{line:149,column:66}},type:"binary-expr",locations:[{start:{line:149,column:15},end:{line:149,column:60}},{start:{line:149,column:64},end:{line:149,column:66}}],line:149},1:{loc:{start:{line:157,column:15},end:{line:157,column:86}},type:"binary-expr",locations:[{start:{line:157,column:15},end:{line:157,column:80}},{start:{line:157,column:84},end:{line:157,column:86}}],line:157},2:{loc:{start:{line:165,column:16},end:{line:165,column:87}},type:"binary-expr",locations:[{start:{line:165,column:16},end:{line:165,column:81}},{start:{line:165,column:85},end:{line:165,column:87}}],line:165},3:{loc:{start:{line:174,column:33},end:{line:174,column:106}},type:"cond-expr",locations:[{start:{line:174,column:55},end:{line:174,column:79}},{start:{line:174,column:82},end:{line:174,column:106}}],line:174},4:{loc:{start:{line:183,column:8},end:{line:185,column:9}},type:"if",locations:[{start:{line:183,column:8},end:{line:185,column:9}},{start:{line:183,column:8},end:{line:185,column:9}}],line:183},5:{loc:{start:{line:194,column:8},end:{line:196,column:9}},type:"if",locations:[{start:{line:194,column:8},end:{line:196,column:9}},{start:{line:194,column:8},end:{line:196,column:9}}],line:194},6:{loc:{start:{line:198,column:8},end:{line:200,column:9}},type:"if",locations:[{start:{line:198,column:8},end:{line:200,column:9}},{start:{line:198,column:8},end:{line:200,column:9}}],line:198},7:{loc:{start:{line:198,column:12},end:{line:198,column:91}},type:"binary-expr",locations:[{start:{line:198,column:12},end:{line:198,column:44}},{start:{line:198,column:48},end:{line:198,column:91}}],line:198},8:{loc:{start:{line:211,column:8},end:{line:213,column:9}},type:"if",locations:[{start:{line:211,column:8},end:{line:213,column:9}},{start:{line:211,column:8},end:{line:213,column:9}}],line:211},9:{loc:{start:{line:211,column:12},end:{line:211,column:57}},type:"binary-expr",locations:[{start:{line:211,column:12},end:{line:211,column:33}},{start:{line:211,column:37},end:{line:211,column:57}}],line:211},10:{loc:{start:{line:215,column:8},end:{line:219,column:9}},type:"if",locations:[{start:{line:215,column:8},end:{line:219,column:9}},{start:{line:215,column:8},end:{line:219,column:9}}],line:215},11:{loc:{start:{line:222,column:8},end:{line:226,column:9}},type:"if",locations:[{start:{line:222,column:8},end:{line:226,column:9}},{start:{line:222,column:8},end:{line:226,column:9}}],line:222},12:{loc:{start:{line:236,column:8},end:{line:238,column:9}},type:"if",locations:[{start:{line:236,column:8},end:{line:238,column:9}},{start:{line:236,column:8},end:{line:238,column:9}}],line:236},13:{loc:{start:{line:236,column:12},end:{line:236,column:57}},type:"binary-expr",locations:[{start:{line:236,column:12},end:{line:236,column:33}},{start:{line:236,column:37},end:{line:236,column:57}}],line:236},14:{loc:{start:{line:240,column:8},end:{line:251,column:9}},type:"if",locations:[{start:{line:240,column:8},end:{line:251,column:9}},{start:{line:240,column:8},end:{line:251,column:9}}],line:240},15:{loc:{start:{line:244,column:12},end:{line:246,column:13}},type:"if",locations:[{start:{line:244,column:12},end:{line:246,column:13}},{start:{line:244,column:12},end:{line:246,column:13}}],line:244},16:{loc:{start:{line:248,column:12},end:{line:250,column:13}},type:"if",locations:[{start:{line:248,column:12},end:{line:250,column:13}},{start:{line:248,column:12},end:{line:250,column:13}}],line:248},17:{loc:{start:{line:254,column:8},end:{line:265,column:9}},type:"if",locations:[{start:{line:254,column:8},end:{line:265,column:9}},{start:{line:254,column:8},end:{line:265,column:9}}],line:254},18:{loc:{start:{line:258,column:12},end:{line:260,column:13}},type:"if",locations:[{start:{line:258,column:12},end:{line:260,column:13}},{start:{line:258,column:12},end:{line:260,column:13}}],line:258},19:{loc:{start:{line:262,column:12},end:{line:264,column:13}},type:"if",locations:[{start:{line:262,column:12},end:{line:264,column:13}},{start:{line:262,column:12},end:{line:264,column:13}}],line:262},20:{loc:{start:{line:273,column:8},end:{line:275,column:9}},type:"if",locations:[{start:{line:273,column:8},end:{line:275,column:9}},{start:{line:273,column:8},end:{line:275,column:9}}],line:273},21:{loc:{start:{line:277,column:8},end:{line:280,column:9}},type:"if",locations:[{start:{line:277,column:8},end:{line:280,column:9}},{start:{line:277,column:8},end:{line:280,column:9}}],line:277},22:{loc:{start:{line:277,column:12},end:{line:277,column:89}},type:"binary-expr",locations:[{start:{line:277,column:12},end:{line:277,column:48}},{start:{line:277,column:52},end:{line:277,column:89}}],line:277},23:{loc:{start:{line:282,column:8},end:{line:285,column:9}},type:"if",locations:[{start:{line:282,column:8},end:{line:285,column:9}},{start:{line:282,column:8},end:{line:285,column:9}}],line:282},24:{loc:{start:{line:288,column:8},end:{line:291,column:9}},type:"if",locations:[{start:{line:288,column:8},end:{line:291,column:9}},{start:{line:288,column:8},end:{line:291,column:9}}],line:288},25:{loc:{start:{line:294,column:8},end:{line:304,column:9}},type:"if",locations:[{start:{line:294,column:8},end:{line:304,column:9}},{start:{line:294,column:8},end:{line:304,column:9}}],line:294},26:{loc:{start:{line:294,column:12},end:{line:294,column:69}},type:"binary-expr",locations:[{start:{line:294,column:12},end:{line:294,column:34}},{start:{line:294,column:38},end:{line:294,column:69}}],line:294},27:{loc:{start:{line:295,column:12},end:{line:298,column:13}},type:"if",locations:[{start:{line:295,column:12},end:{line:298,column:13}},{start:{line:295,column:12},end:{line:298,column:13}}],line:295},28:{loc:{start:{line:300,column:12},end:{line:303,column:13}},type:"if",locations:[{start:{line:300,column:12},end:{line:303,column:13}},{start:{line:300,column:12},end:{line:303,column:13}}],line:300},29:{loc:{start:{line:315,column:8},end:{line:317,column:9}},type:"if",locations:[{start:{line:315,column:8},end:{line:317,column:9}},{start:{line:315,column:8},end:{line:317,column:9}}],line:315},30:{loc:{start:{line:327,column:8},end:{line:332,column:9}},type:"if",locations:[{start:{line:327,column:8},end:{line:332,column:9}},{start:{line:327,column:8},end:{line:332,column:9}}],line:327},31:{loc:{start:{line:334,column:8},end:{line:340,column:9}},type:"if",locations:[{start:{line:334,column:8},end:{line:340,column:9}},{start:{line:334,column:8},end:{line:340,column:9}}],line:334},32:{loc:{start:{line:355,column:8},end:{line:358,column:9}},type:"if",locations:[{start:{line:355,column:8},end:{line:358,column:9}},{start:{line:355,column:8},end:{line:358,column:9}}],line:355},33:{loc:{start:{line:355,column:12},end:{line:355,column:92}},type:"binary-expr",locations:[{start:{line:355,column:12},end:{line:355,column:24}},{start:{line:355,column:28},end:{line:355,column:58}},{start:{line:355,column:62},end:{line:355,column:92}}],line:355},34:{loc:{start:{line:360,column:8},end:{line:378,column:9}},type:"if",locations:[{start:{line:360,column:8},end:{line:378,column:9}},{start:{line:360,column:8},end:{line:378,column:9}}],line:360},35:{loc:{start:{line:360,column:12},end:{line:360,column:86}},type:"binary-expr",locations:[{start:{line:360,column:12},end:{line:360,column:27}},{start:{line:360,column:31},end:{line:360,column:58}},{start:{line:360,column:62},end:{line:360,column:86}}],line:360},36:{loc:{start:{line:362,column:12},end:{line:365,column:13}},type:"if",locations:[{start:{line:362,column:12},end:{line:365,column:13}},{start:{line:362,column:12},end:{line:365,column:13}}],line:362},37:{loc:{start:{line:368,column:12},end:{line:371,column:13}},type:"if",locations:[{start:{line:368,column:12},end:{line:371,column:13}},{start:{line:368,column:12},end:{line:371,column:13}}],line:368},38:{loc:{start:{line:374,column:12},end:{line:377,column:13}},type:"if",locations:[{start:{line:374,column:12},end:{line:377,column:13}},{start:{line:374,column:12},end:{line:377,column:13}}],line:374},39:{loc:{start:{line:381,column:8},end:{line:387,column:9}},type:"if",locations:[{start:{line:381,column:8},end:{line:387,column:9}},{start:{line:381,column:8},end:{line:387,column:9}}],line:381},40:{loc:{start:{line:381,column:12},end:{line:383,column:60}},type:"binary-expr",locations:[{start:{line:381,column:12},end:{line:381,column:52}},{start:{line:382,column:15},end:{line:382,column:29}},{start:{line:383,column:15},end:{line:383,column:60}}],line:381},41:{loc:{start:{line:383,column:17},end:{line:383,column:59}},type:"binary-expr",locations:[{start:{line:383,column:17},end:{line:383,column:29}},{start:{line:383,column:33},end:{line:383,column:59}}],line:383},42:{loc:{start:{line:404,column:8},end:{line:416,column:9}},type:"if",locations:[{start:{line:404,column:8},end:{line:416,column:9}},{start:{line:404,column:8},end:{line:416,column:9}}],line:404},43:{loc:{start:{line:424,column:8},end:{line:426,column:9}},type:"if",locations:[{start:{line:424,column:8},end:{line:426,column:9}},{start:{line:424,column:8},end:{line:426,column:9}}],line:424},44:{loc:{start:{line:430,column:8},end:{line:432,column:9}},type:"if",locations:[{start:{line:430,column:8},end:{line:432,column:9}},{start:{line:430,column:8},end:{line:432,column:9}}],line:430},45:{loc:{start:{line:430,column:12},end:{line:430,column:58}},type:"binary-expr",locations:[{start:{line:430,column:12},end:{line:430,column:27}},{start:{line:430,column:31},end:{line:430,column:58}}],line:430},46:{loc:{start:{line:434,column:25},end:{line:434,column:62}},type:"cond-expr",locations:[{start:{line:434,column:40},end:{line:434,column:49}},{start:{line:434,column:52},end:{line:434,column:62}}],line:434},47:{loc:{start:{line:435,column:82},end:{line:435,column:132}},type:"binary-expr",locations:[{start:{line:435,column:82},end:{line:435,column:97}},{start:{line:435,column:101},end:{line:435,column:117}},{start:{line:435,column:121},end:{line:435,column:132}}],line:435},48:{loc:{start:{line:465,column:8},end:{line:469,column:9}},type:"if",locations:[{start:{line:465,column:8},end:{line:469,column:9}},{start:{line:465,column:8},end:{line:469,column:9}}],line:465},49:{loc:{start:{line:473,column:8},end:{line:480,column:9}},type:"if",locations:[{start:{line:473,column:8},end:{line:480,column:9}},{start:{line:473,column:8},end:{line:480,column:9}}],line:473},50:{loc:{start:{line:473,column:12},end:{line:473,column:73}},type:"binary-expr",locations:[{start:{line:473,column:12},end:{line:473,column:28}},{start:{line:473,column:32},end:{line:473,column:73}}],line:473},51:{loc:{start:{line:475,column:12},end:{line:479,column:13}},type:"if",locations:[{start:{line:475,column:12},end:{line:479,column:13}},{start:{line:475,column:12},end:{line:479,column:13}}],line:475},52:{loc:{start:{line:499,column:8},end:{line:554,column:9}},type:"if",locations:[{start:{line:499,column:8},end:{line:554,column:9}},{start:{line:499,column:8},end:{line:554,column:9}}],line:499},53:{loc:{start:{line:501,column:12},end:{line:505,column:13}},type:"if",locations:[{start:{line:501,column:12},end:{line:505,column:13}},{start:{line:501,column:12},end:{line:505,column:13}}],line:501},54:{loc:{start:{line:501,column:16},end:{line:501,column:87}},type:"binary-expr",locations:[{start:{line:501,column:16},end:{line:501,column:56}},{start:{line:501,column:60},end:{line:501,column:87}}],line:501},55:{loc:{start:{line:509,column:12},end:{line:546,column:13}},type:"if",locations:[{start:{line:509,column:12},end:{line:546,column:13}},{start:{line:509,column:12},end:{line:546,column:13}}],line:509},56:{loc:{start:{line:509,column:16},end:{line:509,column:77}},type:"binary-expr",locations:[{start:{line:509,column:16},end:{line:509,column:32}},{start:{line:509,column:36},end:{line:509,column:77}}],line:509},57:{loc:{start:{line:510,column:16},end:{line:545,column:17}},type:"switch",locations:[{start:{line:511,column:20},end:{line:517,column:30}},{start:{line:519,column:20},end:{line:523,column:31}},{start:{line:525,column:20},end:{line:538,column:30}},{start:{line:540,column:20},end:{line:544,column:118}}],line:510},58:{loc:{start:{line:527,column:24},end:{line:537,column:25}},type:"if",locations:[{start:{line:527,column:24},end:{line:537,column:25}},{start:{line:527,column:24},end:{line:537,column:25}}],line:527},59:{loc:{start:{line:559,column:8},end:{line:561,column:9}},type:"if",locations:[{start:{line:559,column:8},end:{line:561,column:9}},{start:{line:559,column:8},end:{line:561,column:9}}],line:559},60:{loc:{start:{line:566,column:8},end:{line:568,column:9}},type:"if",locations:[{start:{line:566,column:8},end:{line:568,column:9}},{start:{line:566,column:8},end:{line:568,column:9}}],line:566},61:{loc:{start:{line:566,column:12},end:{line:566,column:138}},type:"binary-expr",locations:[{start:{line:566,column:12},end:{line:566,column:27}},{start:{line:566,column:31},end:{line:566,column:58}},{start:{line:566,column:62},end:{line:566,column:138}}],line:566},62:{loc:{start:{line:603,column:8},end:{line:605,column:9}},type:"if",locations:[{start:{line:603,column:8},end:{line:605,column:9}},{start:{line:603,column:8},end:{line:605,column:9}}],line:603},63:{loc:{start:{line:610,column:8},end:{line:636,column:9}},type:"if",locations:[{start:{line:610,column:8},end:{line:636,column:9}},{start:{line:610,column:8},end:{line:636,column:9}}],line:610},64:{loc:{start:{line:612,column:12},end:{line:614,column:13}},type:"if",locations:[{start:{line:612,column:12},end:{line:614,column:13}},{start:{line:612,column:12},end:{line:614,column:13}}],line:612},65:{loc:{start:{line:612,column:16},end:{line:612,column:79}},type:"binary-expr",locations:[{start:{line:612,column:16},end:{line:612,column:45}},{start:{line:612,column:49},end:{line:612,column:79}}],line:612},66:{loc:{start:{line:629,column:12},end:{line:635,column:13}},type:"if",locations:[{start:{line:629,column:12},end:{line:635,column:13}},{start:{line:629,column:12},end:{line:635,column:13}}],line:629},67:{loc:{start:{line:651,column:8},end:{line:659,column:9}},type:"if",locations:[{start:{line:651,column:8},end:{line:659,column:9}},{start:{line:651,column:8},end:{line:659,column:9}}],line:651},68:{loc:{start:{line:651,column:12},end:{line:651,column:57}},type:"binary-expr",locations:[{start:{line:651,column:12},end:{line:651,column:34}},{start:{line:651,column:38},end:{line:651,column:57}}],line:651},69:{loc:{start:{line:653,column:12},end:{line:658,column:13}},type:"if",locations:[{start:{line:653,column:12},end:{line:658,column:13}},{start:{line:653,column:12},end:{line:658,column:13}}],line:653},70:{loc:{start:{line:655,column:19},end:{line:658,column:13}},type:"if",locations:[{start:{line:655,column:19},end:{line:658,column:13}},{start:{line:655,column:19},end:{line:658,column:13}}],line:655},71:{loc:{start:{line:668,column:8},end:{line:668,column:48}},type:"if",locations:[{start:{line:668,column:8},end:{line:668,column:48}},{start:{line:668,column:8},end:{line:668,column:48}}],line:668},72:{loc:{start:{line:669,column:8},end:{line:674,column:9}},type:"if",locations:[{start:{line:669,column:8},end:{line:674,column:9}},{start:{line:669,column:8},end:{line:674,column:9}}],line:669},73:{loc:{start:{line:671,column:15},end:{line:674,column:9}},type:"if",locations:[{start:{line:671,column:15},end:{line:674,column:9}},{start:{line:671,column:15},end:{line:674,column:9}}],line:671},74:{loc:{start:{line:685,column:12},end:{line:687,column:13}},type:"if",locations:[{start:{line:685,column:12},end:{line:687,column:13}},{start:{line:685,column:12},end:{line:687,column:13}}],line:685},75:{loc:{start:{line:690,column:12},end:{line:692,column:13}},type:"if",locations:[{start:{line:690,column:12},end:{line:692,column:13}},{start:{line:690,column:12},end:{line:692,column:13}}],line:690},76:{loc:{start:{line:705,column:71},end:{line:705,column:119}},type:"cond-expr",locations:[{start:{line:705,column:100},end:{line:705,column:114}},{start:{line:705,column:117},end:{line:705,column:119}}],line:705},77:{loc:{start:{line:729,column:8},end:{line:744,column:9}},type:"switch",locations:[{start:{line:730,column:12},end:{line:733,column:22}},{start:{line:734,column:12},end:{line:737,column:22}},{start:{line:738,column:12},end:{line:741,column:22}},{start:{line:742,column:12},end:{line:743,column:83}}],line:729},78:{loc:{start:{line:746,column:8},end:{line:755,column:9}},type:"if",locations:[{start:{line:746,column:8},end:{line:755,column:9}},{start:{line:746,column:8},end:{line:755,column:9}}],line:746},79:{loc:{start:{line:749,column:15},end:{line:755,column:9}},type:"if",locations:[{start:{line:749,column:15},end:{line:755,column:9}},{start:{line:749,column:15},end:{line:755,column:9}}],line:749},80:{loc:{start:{line:757,column:8},end:{line:762,column:9}},type:"if",locations:[{start:{line:757,column:8},end:{line:762,column:9}},{start:{line:757,column:8},end:{line:762,column:9}}],line:757},81:{loc:{start:{line:759,column:12},end:{line:761,column:13}},type:"if",locations:[{start:{line:759,column:12},end:{line:761,column:13}},{start:{line:759,column:12},end:{line:761,column:13}}],line:759},82:{loc:{start:{line:759,column:16},end:{line:759,column:97}},type:"binary-expr",locations:[{start:{line:759,column:16},end:{line:759,column:57}},{start:{line:759,column:61},end:{line:759,column:97}}],line:759},83:{loc:{start:{line:773,column:12},end:{line:775,column:13}},type:"if",locations:[{start:{line:773,column:12},end:{line:775,column:13}},{start:{line:773,column:12},end:{line:775,column:13}}],line:773},84:{loc:{start:{line:774,column:82},end:{line:774,column:119}},type:"binary-expr",locations:[{start:{line:774,column:82},end:{line:774,column:88}},{start:{line:774,column:92},end:{line:774,column:119}}],line:774},85:{loc:{start:{line:783,column:12},end:{line:785,column:13}},type:"if",locations:[{start:{line:783,column:12},end:{line:785,column:13}},{start:{line:783,column:12},end:{line:785,column:13}}],line:783},86:{loc:{start:{line:783,column:16},end:{line:783,column:115}},type:"binary-expr",locations:[{start:{line:783,column:16},end:{line:783,column:38}},{start:{line:783,column:42},end:{line:783,column:64}},{start:{line:783,column:68},end:{line:783,column:115}}],line:783},87:{loc:{start:{line:847,column:63},end:{line:847,column:144}},type:"cond-expr",locations:[{start:{line:847,column:98},end:{line:847,column:140}},{start:{line:847,column:143},end:{line:847,column:144}}],line:847},88:{loc:{start:{line:853,column:63},end:{line:853,column:148}},type:"cond-expr",locations:[{start:{line:853,column:98},end:{line:853,column:144}},{start:{line:853,column:147},end:{line:853,column:148}}],line:853}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,227:0,228:0,229:0,230:0,231:0,232:0,233:0,234:0,235:0,236:0,237:0,238:0,239:0,240:0,241:0,242:0,243:0,244:0,245:0,246:0,247:0,248:0,249:0,250:0,251:0,252:0,253:0,254:0,255:0,256:0,257:0,258:0,259:0,260:0,261:0,262:0,263:0,264:0,265:0,266:0,267:0,268:0,269:0,270:0,271:0,272:0,273:0,274:0,275:0,276:0,277:0,278:0,279:0,280:0,281:0,282:0,283:0,284:0,285:0,286:0,287:0,288:0,289:0,290:0,291:0,292:0,293:0,294:0,295:0,296:0,297:0,298:0,299:0,300:0,301:0,302:0,303:0,304:0,305:0,306:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0,0],34:[0,0],35:[0,0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0],46:[0,0],47:[0,0,0],48:[0,0],49:[0,0],50:[0,0],51:[0,0],52:[0,0],53:[0,0],54:[0,0],55:[0,0],56:[0,0],57:[0,0,0,0],58:[0,0],59:[0,0],60:[0,0],61:[0,0,0],62:[0,0],63:[0,0],64:[0,0],65:[0,0],66:[0,0],67:[0,0],68:[0,0],69:[0,0],70:[0,0],71:[0,0],72:[0,0],73:[0,0],74:[0,0],75:[0,0],76:[0,0],77:[0,0,0,0],78:[0,0],79:[0,0],80:[0,0],81:[0,0],82:[0,0],83:[0,0],84:[0,0],85:[0,0],86:[0,0,0],87:[0,0],88:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class ConnectionPool extends Observable{constructor(n,e,l,t){Xe.f[0]++;Xe.s[0]++;super();Xe.s[1]++;this._addresses=n;Xe.s[2]++;this._networkConfig=e;Xe.s[3]++;this._blockchain=l;Xe.s[4]++;this._time=t;Xe.s[5]++;this._connectionsByPeerAddress=new HashMap;Xe.s[6]++;this._connectionsByNetAddress=new HashMap;Xe.s[7]++;this._connectionsBySubnet=new HashMap;Xe.s[8]++;this._bytesSent=0;Xe.s[9]++;this._bytesReceived=0;Xe.s[10]++;this._wsConnector=new WebSocketConnector(this._networkConfig);Xe.s[11]++;this._wsConnector.on("connection",n=>{Xe.f[1]++;Xe.s[12]++;return this._onConnection(n)});Xe.s[13]++;this._wsConnector.on("error",(n,e)=>{Xe.f[2]++;Xe.s[14]++;return this._onConnectError(n,e)});Xe.s[15]++;this._rtcConnector=new WebRtcConnector(this._networkConfig);Xe.s[16]++;this._rtcConnector.on("connection",n=>{Xe.f[3]++;Xe.s[17]++;return this._onConnection(n)});Xe.s[18]++;this._rtcConnector.on("error",(n,e)=>{Xe.f[4]++;Xe.s[19]++;return this._onConnectError(n,e)});Xe.s[20]++;this._peerCountWs=0;Xe.s[21]++;this._peerCountRtc=0;Xe.s[22]++;this._peerCountDumb=0;Xe.s[23]++;this._peerCountFull=0;Xe.s[24]++;this._peerCountLight=0;Xe.s[25]++;this._peerCountNano=0;Xe.s[26]++;this._peerCountOutbound=0;Xe.s[27]++;this._peerCountFullWsOutbound=0;Xe.s[28]++;this._connectingCount=0;Xe.s[29]++;this._inboundCount=0;Xe.s[30]++;this._signalProcessor=new SignalProcessor(n,e,this._rtcConnector);Xe.s[31]++;this._allowInboundExchange=!1;Xe.s[32]++;this._allowInboundConnections=!1;Xe.s[33]++;this._bannedIPv4IPs=new HashMap;Xe.s[34]++;this._bannedIPv6IPs=new HashMap;Xe.s[35]++;setInterval(()=>{Xe.f[5]++;Xe.s[36]++;return this._checkUnbanIps()},ConnectionPool.UNBAN_IPS_INTERVAL)}values(){Xe.f[6]++;Xe.s[37]++;return Array.from(this._connectionsByPeerAddress.values())}getConnectionByPeerAddress(n){Xe.f[7]++;Xe.s[38]++;return this._connectionsByPeerAddress.get(n)}getConnectionsByNetAddress(n){Xe.f[8]++;Xe.s[39]++;return(Xe.b[0][0]++,this._connectionsByNetAddress.get(n))||(Xe.b[0][1]++,[])}getConnectionsBySubnet(n){Xe.f[9]++;Xe.s[40]++;return(Xe.b[1][0]++,this._connectionsBySubnet.get(this._getSubnetAddress(n)))||(Xe.b[1][1]++,[])}getOutboundConnectionsBySubnet(n){Xe.f[10]++;Xe.s[41]++;return((Xe.b[2][0]++,this._connectionsBySubnet.get(this._getSubnetAddress(n)))||(Xe.b[2][1]++,[])).filter(n=>{Xe.f[11]++;Xe.s[42]++;return n.networkConnection.outbound})}_getSubnetAddress(n){Xe.f[12]++;Xe.s[43]++;return n.subnet(n.isIPv4()?(Xe.b[3][0]++,Network.IPV4_SUBNET_MASK):(Xe.b[3][1]++,Network.IPV6_SUBNET_MASK))}_add(n){Xe.f[13]++;Xe.s[44]++;if(n.peerAddress){Xe.b[4][0]++;Xe.s[45]++;this._connectionsByPeerAddress.put(n.peerAddress,n)}else Xe.b[4][1]++}_remove(n){Xe.f[14]++;Xe.s[46]++;if(n.peerAddress){Xe.b[5][0]++;Xe.s[47]++;this._connectionsByPeerAddress.remove(n.peerAddress)}else Xe.b[5][1]++;Xe.s[48]++;if((Xe.b[7][0]++,n.networkConnection)&&(Xe.b[7][1]++,n.networkConnection.netAddress)){Xe.b[6][0]++;Xe.s[49]++;this._removeNetAddress(n,n.networkConnection.netAddress)}else Xe.b[6][1]++}_addNetAddress(n,e){Xe.f[15]++;Xe.s[50]++;if((Xe.b[9][0]++,e.isPseudo())||(Xe.b[9][1]++,!e.reliable)){Xe.b[8][0]++;Xe.s[51]++;return}Xe.b[8][1]++;Xe.s[52]++;if(this._connectionsByNetAddress.contains(e)){Xe.b[10][0]++;Xe.s[53]++;this._connectionsByNetAddress.get(e).push(n)}else{Xe.b[10][1]++;Xe.s[54]++;this._connectionsByNetAddress.put(e,[n])}const l=(Xe.s[55]++,this._getSubnetAddress(e));Xe.s[56]++;if(this._connectionsBySubnet.contains(l)){Xe.b[11][0]++;Xe.s[57]++;this._connectionsBySubnet.get(l).push(n)}else{Xe.b[11][1]++;Xe.s[58]++;this._connectionsBySubnet.put(l,[n])}}_removeNetAddress(n,e){Xe.f[16]++;Xe.s[59]++;if((Xe.b[13][0]++,e.isPseudo())||(Xe.b[13][1]++,!e.reliable)){Xe.b[12][0]++;Xe.s[60]++;return}Xe.b[12][1]++;Xe.s[61]++;if(this._connectionsByNetAddress.contains(e)){Xe.b[14][0]++;const l=(Xe.s[62]++,this._connectionsByNetAddress.get(e)),t=(Xe.s[63]++,l.indexOf(n));Xe.s[64]++;if(t>=0){Xe.b[15][0]++;Xe.s[65]++;l.splice(t,1)}else Xe.b[15][1]++;Xe.s[66]++;if(0===l.length){Xe.b[16][0]++;Xe.s[67]++;this._connectionsByNetAddress.remove(e)}else Xe.b[16][1]++}else Xe.b[14][1]++;const l=(Xe.s[68]++,this._getSubnetAddress(e));Xe.s[69]++;if(this._connectionsBySubnet.contains(l)){Xe.b[17][0]++;const e=(Xe.s[70]++,this._connectionsBySubnet.get(l)),t=(Xe.s[71]++,e.indexOf(n));Xe.s[72]++;if(t>=0){Xe.b[18][0]++;Xe.s[73]++;e.splice(t,1)}else Xe.b[18][1]++;Xe.s[74]++;if(0===e.length){Xe.b[19][0]++;Xe.s[75]++;this._connectionsBySubnet.remove(l)}else Xe.b[19][1]++}else Xe.b[17][1]++}_checkOutboundConnectionRequest(n){Xe.f[17]++;Xe.s[76]++;if(null===n){Xe.b[20][0]++;Xe.s[77]++;return!1}Xe.b[20][1]++;Xe.s[78]++;if((Xe.b[22][0]++,n.protocol!==Protocol.WS)&&(Xe.b[22][1]++,n.protocol!==Protocol.RTC)){Xe.b[21][0]++;Xe.s[79]++;Log.e(ConnectionPool,`Cannot connect to ${n} - unsupported protocol`);Xe.s[80]++;return!1}Xe.b[21][1]++;Xe.s[81]++;if(this._addresses.isBanned(n)){Xe.b[23][0]++;Xe.s[82]++;Log.e(ConnectionPool,`Connecting to banned address ${n}`);Xe.s[83]++;return!1}Xe.b[23][1]++;const e=(Xe.s[84]++,this.getConnectionByPeerAddress(n));Xe.s[85]++;if(e){Xe.b[24][0]++;Xe.s[86]++;Log.e(ConnectionPool,`Duplicate connection to ${n}`);Xe.s[87]++;return!1}Xe.b[24][1]++;Xe.s[88]++;if((Xe.b[26][0]++,n.netAddress)&&(Xe.b[26][1]++,n.netAddress.reliable)){Xe.b[25][0]++;Xe.s[89]++;if(this.getConnectionsByNetAddress(n.netAddress).length>=Network.PEER_COUNT_PER_IP_MAX){Xe.b[27][0]++;Xe.s[90]++;Log.e(ConnectionPool,`connection limit per ip (${Network.PEER_COUNT_PER_IP_MAX}) reached`);Xe.s[91]++;return!1}Xe.b[27][1]++;Xe.s[92]++;if(this.getOutboundConnectionsBySubnet(n.netAddress).length>=Network.OUTBOUND_PEER_COUNT_PER_SUBNET_MAX){Xe.b[28][0]++;Xe.s[93]++;Log.e(ConnectionPool,`connection limit per ip (${Network.OUTBOUND_PEER_COUNT_PER_SUBNET_MAX}) reached`);Xe.s[94]++;return!1}Xe.b[28][1]++}else Xe.b[25][1]++;Xe.s[95]++;return!0}connectOutbound(n){Xe.f[18]++;Xe.s[96]++;if(!this._checkOutboundConnectionRequest(n)){Xe.b[29][0]++;Xe.s[97]++;return!1}Xe.b[29][1]++;const e=(Xe.s[98]++,PeerConnection.getOutbound(n));Xe.s[99]++;this._add(e);let l=(Xe.s[100]++,!1);Xe.s[101]++;if(n.protocol===Protocol.WS){Xe.b[30][0]++;Xe.s[102]++;l=this._wsConnector.connect(n)}else{Xe.b[30][1]++;const e=(Xe.s[103]++,this._addresses.getChannelByPeerId(n.peerId));Xe.s[104]++;l=this._rtcConnector.connect(n,e)}Xe.s[105]++;if(!l){Xe.b[31][1]++;Xe.s[107]++;this._remove(e);Xe.s[108]++;Log.d(Network,`Outbound attempt not connecting: ${n}`);Xe.s[109]++;return!1}Xe.b[31][0]++;Xe.s[106]++;this._connectingCount++;Xe.s[110]++;return!0}_checkConnection(n){Xe.f[19]++;const e=(Xe.s[111]++,n.networkConnection);Xe.s[112]++;if((Xe.b[33][0]++,e.inbound)&&(Xe.b[33][1]++,!this._allowInboundConnections)&&(Xe.b[33][2]++,e.protocol!==Protocol.RTC)){Xe.b[32][0]++;Xe.s[113]++;e.close(CloseType.INBOUND_CONNECTIONS_BLOCKED,"inbound connections are blocked temporarily");Xe.s[114]++;return!1}Xe.b[32][1]++;Xe.s[115]++;if((Xe.b[35][0]++,e.netAddress)&&(Xe.b[35][1]++,!e.netAddress.isPseudo())&&(Xe.b[35][2]++,e.netAddress.reliable)){Xe.b[34][0]++;Xe.s[116]++;if(this._isIpBanned(e.netAddress)){Xe.b[36][0]++;Xe.s[117]++;e.close(CloseType.BANNED_IP,`connection with banned IP ${e.netAddress}`);Xe.s[118]++;return!1}Xe.b[36][1]++;Xe.s[119]++;if(this.getConnectionsByNetAddress(e.netAddress).length>=Network.PEER_COUNT_PER_IP_MAX){Xe.b[37][0]++;Xe.s[120]++;e.close(CloseType.CONNECTION_LIMIT_PER_IP,`connection limit per IP (${Network.PEER_COUNT_PER_IP_MAX}) reached`);Xe.s[121]++;return!1}Xe.b[37][1]++;Xe.s[122]++;if(this.getConnectionsBySubnet(e.netAddress).length>=Network.INBOUND_PEER_COUNT_PER_SUBNET_MAX){Xe.b[38][0]++;Xe.s[123]++;e.close(CloseType.CONNECTION_LIMIT_PER_IP,`connection limit per subnet (${Network.INBOUND_PEER_COUNT_PER_SUBNET_MAX}) reached`);Xe.s[124]++;return!1}Xe.b[38][1]++}else Xe.b[34][1]++;Xe.s[125]++;if((Xe.b[40][0]++,this.peerCount>=Network.PEER_COUNT_MAX)&&(Xe.b[40][1]++,!e.outbound)&&(Xe.b[40][2]++,(Xe.b[41][0]++,!e.inbound)||(Xe.b[41][1]++,!this._allowInboundExchange))){Xe.b[39][0]++;Xe.s[126]++;e.close(CloseType.MAX_PEER_COUNT_REACHED,`max peer count reached (${Network.PEER_COUNT_MAX})`);Xe.s[127]++;return!1}Xe.b[39][1]++;Xe.s[128]++;return!0}_onConnection(n){Xe.f[20]++;let e;Xe.s[129]++;if(n.outbound){Xe.b[42][0]++;Xe.s[130]++;this._connectingCount--;Xe.s[131]++;Assert.that(this._connectingCount>=0,"connectingCount < 0");Xe.s[132]++;e=this.getConnectionByPeerAddress(n.peerAddress);Xe.s[133]++;Assert.that(!!e,`PeerAddress not stored ${n.peerAddress}`);Xe.s[134]++;Assert.that(e.state===PeerConnectionState.CONNECTING,`PeerConnection state not CONNECTING, but ${e.state} (${n.peerAddress})`)}else{Xe.b[42][1]++;Xe.s[135]++;e=PeerConnection.getInbound(n);Xe.s[136]++;this._inboundCount++}Xe.s[137]++;e.networkConnection=n;Xe.s[138]++;n.on("close",(n,l)=>{Xe.f[21]++;Xe.s[139]++;return this._onClose(e,n,l)});Xe.s[140]++;if(!this._checkConnection(e)){Xe.b[43][0]++;Xe.s[141]++;return}Xe.b[43][1]++;Xe.s[142]++;if((Xe.b[45][0]++,n.netAddress)&&(Xe.b[45][1]++,!n.netAddress.isPseudo())){Xe.b[44][0]++;Xe.s[143]++;this._addNetAddress(e,n.netAddress)}else Xe.b[44][1]++;const l=(Xe.s[144]++,n.inbound?(Xe.b[46][0]++,"inbound"):(Xe.b[46][1]++,"outbound"));Xe.s[145]++;Log.d(ConnectionPool,`Connection established (${l}) #${n.id} ${(Xe.b[47][0]++,n.netAddress)||(Xe.b[47][1]++,n.peerAddress)||(Xe.b[47][2]++,"<pending>")}`);Xe.s[146]++;this.fire("connection",n);const t=(Xe.s[147]++,new PeerChannel(n));Xe.s[148]++;t.on("signal",n=>{Xe.f[22]++;Xe.s[149]++;return this._signalProcessor.onSignal(t,n)});Xe.s[150]++;e.peerChannel=t;const o=(Xe.s[151]++,new NetworkAgent(this._blockchain,this._addresses,this._networkConfig,t));Xe.s[152]++;o.on("version",n=>{Xe.f[23]++;Xe.s[153]++;return this._checkHandshake(e,n)});Xe.s[154]++;o.on("handshake",n=>{Xe.f[24]++;Xe.s[155]++;return this._onHandshake(e,n)});Xe.s[156]++;e.networkAgent=o;Xe.s[157]++;o.handshake()}_checkHandshake(n,e){Xe.f[25]++;Xe.s[158]++;if(this._addresses.isBanned(e.peerAddress)){Xe.b[48][0]++;Xe.s[159]++;n.peerChannel.close(CloseType.PEER_IS_BANNED,`connection with banned address ${e.peerAddress} (post version)`);Xe.s[160]++;return!1}Xe.b[48][1]++;const l=(Xe.s[161]++,this.getConnectionByPeerAddress(e.peerAddress));Xe.s[162]++;if((Xe.b[50][0]++,l)&&(Xe.b[50][1]++,l.id!==n.id)){Xe.b[49][0]++;Xe.s[163]++;if(l.state===PeerConnectionState.ESTABLISHED){Xe.b[51][0]++;Xe.s[164]++;n.peerChannel.close(CloseType.DUPLICATE_CONNECTION,"duplicate connection (post version)");Xe.s[165]++;return!1}Xe.b[51][1]++}else Xe.b[49][1]++;Xe.s[166]++;n.negotiating();Xe.s[167]++;return!0}_onHandshake(n,e){Xe.f[26]++;Xe.s[168]++;if(n.networkConnection.inbound){Xe.b[52][0]++;Xe.s[169]++;if((Xe.b[54][0]++,this.peerCount>=Network.PEER_COUNT_MAX)&&(Xe.b[54][1]++,!this._allowInboundExchange)){Xe.b[53][0]++;Xe.s[170]++;n.peerChannel.close(CloseType.MAX_PEER_COUNT_REACHED,`max peer count reached (${Network.PEER_COUNT_MAX})`);Xe.s[171]++;return}Xe.b[53][1]++;const l=(Xe.s[172]++,this.getConnectionByPeerAddress(e.peerAddress));Xe.s[173]++;if((Xe.b[56][0]++,l)&&(Xe.b[56][1]++,l.id!==n.id)){Xe.b[55][0]++;Xe.s[174]++;switch(l.state){case PeerConnectionState.CONNECTING:Xe.b[57][0]++;Xe.s[175]++;Assert.that(e.peerAddress.protocol===Protocol.WS,"Duplicate connection to non-WS node");Xe.s[176]++;Log.d(ConnectionPool,`Aborting connection attempt to ${e.peerAddress}, simultaneous inbound connection succeeded`);Xe.s[177]++;this._wsConnector.abort(e.peerAddress);Xe.s[178]++;Assert.that(!this.getConnectionByPeerAddress(e.peerAddress),"PeerConnection not removed");Xe.s[179]++;break;case PeerConnectionState.ESTABLISHED:Xe.b[57][1]++;Xe.s[180]++;n.peerChannel.close(CloseType.DUPLICATE_CONNECTION,"duplicate connection (post handshake)");Xe.s[181]++;return;case PeerConnectionState.NEGOTIATING:Xe.b[57][2]++;Xe.s[182]++;if(!(this._networkConfig.peerAddress.peerId.compare(e.peerAddress.peerId)<0)){Xe.b[58][1]++;Xe.s[185]++;n.peerChannel.close(CloseType.SIMULTANEOUS_CONNECTION,"simultaneous connection (post handshake) - higher peerId");Xe.s[186]++;return}Xe.b[58][0]++;Xe.s[183]++;l.peerChannel.close(CloseType.SIMULTANEOUS_CONNECTION,"simultaneous connection (post handshake) - lower peerId");Xe.s[184]++;Assert.that(!this.getConnectionByPeerAddress(e.peerAddress),"PeerConnection not removed");Xe.s[187]++;break;default:Xe.b[57][3]++;Xe.s[188]++;l.peerChannel.close(CloseType.SIMULTANEOUS_CONNECTION,`simultaneous connection (post handshake) - state ${l.state}`);Xe.s[189]++;Assert.that(!this.getConnectionByPeerAddress(e.peerAddress),"PeerConnection not removed")}}else Xe.b[55][1]++;Xe.s[190]++;Assert.that(!this.getConnectionByPeerAddress(e.peerAddress),`PeerConnection ${e.peerAddress} already exists`);Xe.s[191]++;n.peerAddress=e.peerAddress;Xe.s[192]++;this._add(n);Xe.s[193]++;this._inboundCount--;Xe.s[194]++;Assert.that(this._inboundCount>=0,"inboundCount < 0")}else Xe.b[52][1]++;Xe.s[195]++;if(this.peerCount>=Network.PEER_COUNT_MAX){Xe.b[59][0]++;Xe.s[196]++;this.fire("recycling-request")}else Xe.b[59][1]++;Xe.s[197]++;n.peer=e;Xe.s[198]++;if((Xe.b[61][0]++,e.netAddress)&&(Xe.b[61][1]++,!e.netAddress.isPseudo())&&(Xe.b[61][2]++,this.getConnectionsByNetAddress(e.netAddress).indexOf(n)<0)){Xe.b[60][0]++;Xe.s[199]++;this._addNetAddress(n,e.netAddress)}else Xe.b[60][1]++;Xe.s[200]++;this._updateConnectedPeerCount(n,1);Xe.s[201]++;this._addresses.established(e.channel,e.peerAddress);Xe.s[202]++;this.fire("peer-joined",e);Xe.s[203]++;this.fire("peers-changed");Xe.s[204]++;Log.d(ConnectionPool,()=>{Xe.f[27]++;Xe.s[205]++;return`[PEER-JOINED] ${e.peerAddress} ${e.netAddress} (version=${e.version}, services=${e.peerAddress.services}, headHash=${e.headHash.toBase64()})`})}_onClose(n,e,l){Xe.f[28]++;Xe.s[206]++;this._bytesSent+=n.networkConnection.bytesSent;Xe.s[207]++;this._bytesReceived+=n.networkConnection.bytesReceived;Xe.s[208]++;if(n.peerAddress){Xe.b[62][0]++;Xe.s[209]++;this._addresses.close(n.peerChannel,n.peerAddress,e)}else Xe.b[62][1]++;Xe.s[210]++;this._remove(n);Xe.s[211]++;if(n.state===PeerConnectionState.ESTABLISHED){Xe.b[63][0]++;Xe.s[212]++;if((Xe.b[65][0]++,CloseType.isBanningType(e))&&(Xe.b[65][1]++,n.peer.netAddress)){Xe.b[64][0]++;Xe.s[213]++;this._banIp(n.peer.netAddress)}else Xe.b[64][1]++;Xe.s[214]++;this._updateConnectedPeerCount(n,-1);Xe.s[215]++;this.fire("peer-left",n.peer);Xe.s[216]++;this.fire("peers-changed");const t=(Xe.s[217]++,((n.networkConnection.bytesSent+n.networkConnection.bytesReceived)/1e3).toFixed(2));Xe.s[218]++;Log.d(ConnectionPool,`[PEER-LEFT] ${n.peerAddress} ${n.peer.netAddress} `+`(version=${n.peer.version}, transferred=${t} kB, closeType=${e} ${l})`)}else{Xe.b[63][1]++;Xe.s[219]++;if(n.networkConnection.inbound){Xe.b[66][0]++;Xe.s[220]++;this._inboundCount--;Xe.s[221]++;Log.w(ConnectionPool,`Inbound connection #${n.networkConnection.id} closed pre-handshake: ${l} (${e})`)}else{Xe.b[66][1]++;Xe.s[222]++;Log.w(ConnectionPool,`Connection #${n.networkConnection.id} to ${n.peerAddress} closed pre-handshake: ${l} (${e})`);Xe.s[223]++;this.fire("connect-error",n.peerAddress,`${l} (${e})`)}}Xe.s[224]++;this.fire("close",n,e,l);Xe.s[225]++;n.close()}_banIp(n){Xe.f[29]++;Xe.s[226]++;if((Xe.b[68][0]++,!n.isPseudo())&&(Xe.b[68][1]++,n.reliable)){Xe.b[67][0]++;Xe.s[227]++;Log.w(ConnectionPool,`Banning IP ${n}`);Xe.s[228]++;if(n.isIPv4()){Xe.b[69][0]++;Xe.s[229]++;this._bannedIPv4IPs.put(n,Date.now()+ConnectionPool.DEFAULT_BAN_TIME)}else{Xe.b[69][1]++;Xe.s[230]++;if(n.isIPv6()){Xe.b[70][0]++;Xe.s[231]++;this._bannedIPv6IPs.put(n.ip.subarray(0,8),Date.now()+ConnectionPool.DEFAULT_BAN_TIME)}else Xe.b[70][1]++}}else Xe.b[67][1]++}_isIpBanned(n){Xe.f[30]++;Xe.s[232]++;if(n.isPseudo()){Xe.b[71][0]++;Xe.s[233]++;return!1}Xe.b[71][1]++;Xe.s[234]++;if(n.isIPv4()){Xe.b[72][0]++;Xe.s[235]++;return this._bannedIPv4IPs.contains(n)}Xe.b[72][1]++;Xe.s[236]++;if(n.isIPv6()){Xe.b[73][0]++;const e=(Xe.s[237]++,n.ip.subarray(0,8));Xe.s[238]++;return this._bannedIPv6IPs.contains(e)}Xe.b[73][1]++;Xe.s[239]++;return!1}_checkUnbanIps(){Xe.f[31]++;const n=(Xe.s[240]++,Date.now());Xe.s[241]++;for(const e of this._bannedIPv4IPs.keys()){Xe.s[242]++;if(this._bannedIPv4IPs.get(e)<n){Xe.b[74][0]++;Xe.s[243]++;this._bannedIPv4IPs.remove(e)}else Xe.b[74][1]++}Xe.s[244]++;for(const e of this._bannedIPv6IPs.keys()){Xe.s[245]++;if(this._bannedIPv6IPs.get(e)<n){Xe.b[75][0]++;Xe.s[246]++;this._bannedIPv6IPs.remove(e)}else Xe.b[75][1]++}}_onConnectError(n,e){Xe.f[32]++;Xe.s[247]++;Log.w(ConnectionPool,`Connection to ${n} failed`+("string"==typeof e?(Xe.b[76][0]++,` - ${e}`):(Xe.b[76][1]++,"")));const l=(Xe.s[248]++,this.getConnectionByPeerAddress(n));Xe.s[249]++;Assert.that(!!l,`PeerAddress not stored ${n}`);Xe.s[250]++;Assert.that(l.state===PeerConnectionState.CONNECTING,`PeerConnection state not CONNECTING, but ${l.state} (${n})`);Xe.s[251]++;this._remove(l);Xe.s[252]++;this._connectingCount--;Xe.s[253]++;Assert.that(this._connectingCount>=0,"connectingCount < 0");Xe.s[254]++;this._addresses.close(null,n,CloseType.CONNECTION_FAILED);Xe.s[255]++;this.fire("connect-error",n,e)}_updateConnectedPeerCount(n,e){Xe.f[33]++;const l=(Xe.s[256]++,n.peerAddress);Xe.s[257]++;switch(l.protocol){case Protocol.WS:Xe.b[77][0]++;Xe.s[258]++;this._peerCountWs+=e;Xe.s[259]++;Assert.that(this._peerCountWs>=0,"peerCountWs < 0");Xe.s[260]++;break;case Protocol.RTC:Xe.b[77][1]++;Xe.s[261]++;this._peerCountRtc+=e;Xe.s[262]++;Assert.that(this._peerCountRtc>=0,"peerCountRtc < 0");Xe.s[263]++;break;case Protocol.DUMB:Xe.b[77][2]++;Xe.s[264]++;this._peerCountDumb+=e;Xe.s[265]++;Assert.that(this._peerCountDumb>=0,"peerCountDumb < 0");Xe.s[266]++;break;default:Xe.b[77][3]++;Xe.s[267]++;Log.w(PeerAddressBook,`Unknown protocol ${l.protocol}`)}Xe.s[268]++;if(Services.isFullNode(l.services)){Xe.b[78][0]++;Xe.s[269]++;this._peerCountFull+=e;Xe.s[270]++;Assert.that(this._peerCountFull>=0,"peerCountFull < 0")}else{Xe.b[78][1]++;Xe.s[271]++;if(Services.isLightNode(l.services)){Xe.b[79][0]++;Xe.s[272]++;this._peerCountLight+=e;Xe.s[273]++;Assert.that(this._peerCountLight>=0,"peerCountLight < 0")}else{Xe.b[79][1]++;Xe.s[274]++;this._peerCountNano+=e;Xe.s[275]++;Assert.that(this._peerCountNano>=0,"peerCountNano < 0")}}Xe.s[276]++;if(n.networkConnection.outbound){Xe.b[80][0]++;Xe.s[277]++;this._peerCountOutbound+=e;Xe.s[278]++;if((Xe.b[82][0]++,Services.isFullNode(l.services))&&(Xe.b[82][1]++,l.protocol===Protocol.WS)){Xe.b[81][0]++;Xe.s[279]++;this._peerCountFullWsOutbound+=e}else Xe.b[81][1]++}else Xe.b[80][1]++}disconnect(n){Xe.f[34]++;Xe.s[280]++;for(const e of this.values()){Xe.s[281]++;if(e.peerChannel){Xe.b[83][0]++;Xe.s[282]++;e.peerChannel.close(CloseType.MANUAL_NETWORK_DISCONNECT,(Xe.b[84][0]++,n)||(Xe.b[84][1]++,"manual network disconnect"))}else Xe.b[83][1]++}}disconnectWebSocket(){Xe.f[35]++;Xe.s[283]++;for(const n of this.values()){Xe.s[284]++;if((Xe.b[86][0]++,n.peerChannel)&&(Xe.b[86][1]++,n.peerAddress)&&(Xe.b[86][2]++,n.peerAddress.protocol===Protocol.WS)){Xe.b[85][0]++;Xe.s[285]++;n.channel.close(CloseType.MANUAL_WEBSOCKET_DISCONNECT,"manual websocket disconnect")}else Xe.b[85][1]++}}get peerCountWs(){Xe.f[36]++;Xe.s[286]++;return this._peerCountWs}get peerCountRtc(){Xe.f[37]++;Xe.s[287]++;return this._peerCountRtc}get peerCountDumb(){Xe.f[38]++;Xe.s[288]++;return this._peerCountDumb}get peerCount(){Xe.f[39]++;Xe.s[289]++;return this._peerCountWs+this._peerCountRtc+this._peerCountDumb}get peerCountFull(){Xe.f[40]++;Xe.s[290]++;return this._peerCountFull}get peerCountLight(){Xe.f[41]++;Xe.s[291]++;return this._peerCountLight}get peerCountNano(){Xe.f[42]++;Xe.s[292]++;return this._peerCountNano}get peerCountOutbound(){Xe.f[43]++;Xe.s[293]++;return this._peerCountOutbound}get peerCountFullWsOutbound(){Xe.f[44]++;Xe.s[294]++;return this._peerCountFullWsOutbound}get connectingCount(){Xe.f[45]++;Xe.s[295]++;return this._connectingCount}get count(){Xe.f[46]++;Xe.s[296]++;return this._connectionsByPeerAddress.length+this._inboundCount}get bytesSent(){Xe.f[47]++;Xe.s[297]++;return this._bytesSent+this.values().reduce((n,e)=>{Xe.f[48]++;Xe.s[298]++;return n+(e.networkConnection?(Xe.b[87][0]++,e.networkConnection.bytesSent):(Xe.b[87][1]++,0))},0)}get bytesReceived(){Xe.f[49]++;Xe.s[299]++;return this._bytesReceived+this.values().reduce((n,e)=>{Xe.f[50]++;Xe.s[300]++;return n+(e.networkConnection?(Xe.b[88][0]++,e.networkConnection.bytesReceived):(Xe.b[88][1]++,0))},0)}set allowInboundExchange(n){Xe.f[51]++;Xe.s[301]++;this._allowInboundExchange=n}get allowInboundConnections(){Xe.f[52]++;Xe.s[302]++;return this._allowInboundConnections}set allowInboundConnections(n){Xe.f[53]++;Xe.s[303]++;this._allowInboundConnections=n}}Xe.s[304]++;ConnectionPool.DEFAULT_BAN_TIME=6e5;Xe.s[305]++;ConnectionPool.UNBAN_IPS_INTERVAL=6e4;Xe.s[306]++;Class.register(ConnectionPool);var Ze=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/PeerScorer.js",e="59ba6402da694ef9db69c7d468332eae737c61fe",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/PeerScorer.js",statementMap:{0:{start:{line:13,column:8},end:{line:13,column:44}},1:{start:{line:19,column:8},end:{line:19,column:36}},2:{start:{line:25,column:8},end:{line:25,column:40}},3:{start:{line:31,column:8},end:{line:31,column:38}},4:{start:{line:38,column:31},end:{line:60,column:9}},5:{start:{line:39,column:33},end:{line:39,column:53}},6:{start:{line:42,column:26},end:{line:42,column:66}},7:{start:{line:45,column:34},end:{line:45,column:71}},8:{start:{line:46,column:31},end:{line:46,column:33}},9:{start:{line:47,column:12},end:{line:57,column:13}},10:{start:{line:48,column:28},end:{line:48,column:54}},11:{start:{line:49,column:37},end:{line:49,column:55}},12:{start:{line:50,column:30},end:{line:50,column:77}},13:{start:{line:51,column:16},end:{line:56,column:17}},14:{start:{line:52,column:20},end:{line:52,column:59}},15:{start:{line:53,column:20},end:{line:55,column:21}},16:{start:{line:54,column:24},end:{line:54,column:30}},17:{start:{line:59,column:12},end:{line:59,column:30}},18:{start:{line:62,column:30},end:{line:62,column:54}},19:{start:{line:63,column:25},end:{line:63,column:60}},20:{start:{line:64,column:8},end:{line:66,column:9}},21:{start:{line:65,column:12},end:{line:65,column:67}},22:{start:{line:68,column:8},end:{line:70,column:9}},23:{start:{line:69,column:12},end:{line:69,column:24}},24:{start:{line:73,column:23},end:{line:73,column:67}},25:{start:{line:73,column:49},end:{line:73,column:66}},26:{start:{line:74,column:31},end:{line:74,column:78}},27:{start:{line:75,column:23},end:{line:75,column:63}},28:{start:{line:76,column:8},end:{line:76,column:47}},29:{start:{line:86,column:28},end:{line:86,column:56}},30:{start:{line:89,column:8},end:{line:91,column:9}},31:{start:{line:90,column:12},end:{line:90,column:22}},32:{start:{line:94,column:8},end:{line:96,column:9}},33:{start:{line:95,column:12},end:{line:95,column:22}},34:{start:{line:99,column:8},end:{line:101,column:9}},35:{start:{line:100,column:12},end:{line:100,column:22}},36:{start:{line:104,column:8},end:{line:106,column:9}},37:{start:{line:105,column:12},end:{line:105,column:22}},38:{start:{line:109,column:8},end:{line:111,column:9}},39:{start:{line:110,column:12},end:{line:110,column:22}},40:{start:{line:114,column:22},end:{line:114,column:23}},41:{start:{line:115,column:8},end:{line:129,column:9}},42:{start:{line:117,column:16},end:{line:117,column:26}},43:{start:{line:121,column:16},end:{line:121,column:29}},44:{start:{line:125,column:16},end:{line:125,column:114}},45:{start:{line:128,column:16},end:{line:128,column:26}},46:{start:{line:136,column:8},end:{line:136,column:64}},47:{start:{line:143,column:8},end:{line:143,column:102}},48:{start:{line:150,column:8},end:{line:150,column:88}},49:{start:{line:158,column:8},end:{line:158,column:97}},50:{start:{line:165,column:27},end:{line:165,column:29}},51:{start:{line:167,column:8},end:{line:177,column:9}},52:{start:{line:168,column:12},end:{line:176,column:13}},53:{start:{line:170,column:16},end:{line:173,column:17}},54:{start:{line:171,column:20},end:{line:171,column:81}},55:{start:{line:172,column:20},end:{line:172,column:52}},56:{start:{line:175,column:16},end:{line:175,column:50}},57:{start:{line:180,column:8},end:{line:180,column:78}},58:{start:{line:180,column:59},end:{line:180,column:76}},59:{start:{line:190,column:8},end:{line:192,column:9}},60:{start:{line:191,column:12},end:{line:191,column:19}},61:{start:{line:194,column:8},end:{line:200,column:9}},62:{start:{line:195,column:35},end:{line:195,column:63}},63:{start:{line:196,column:12},end:{line:199,column:13}},64:{start:{line:197,column:16},end:{line:197,column:68}},65:{start:{line:198,column:16},end:{line:198,column:24}},66:{start:{line:210,column:25},end:{line:210,column:65}},67:{start:{line:213,column:30},end:{line:213,column:78}},68:{start:{line:216,column:28},end:{line:216,column:54}},69:{start:{line:217,column:26},end:{line:219,column:66}},70:{start:{line:222,column:28},end:{line:222,column:29}},71:{start:{line:223,column:8},end:{line:228,column:9}},72:{start:{line:224,column:33},end:{line:224,column:92}},73:{start:{line:225,column:12},end:{line:227,column:13}},74:{start:{line:226,column:16},end:{line:226,column:34}},75:{start:{line:231,column:30},end:{line:231,column:69}},76:{start:{line:232,column:25},end:{line:232,column:26}},77:{start:{line:233,column:8},end:{line:235,column:9}},78:{start:{line:234,column:12},end:{line:234,column:71}},79:{start:{line:237,column:8},end:{line:237,column:113}},80:{start:{line:246,column:22},end:{line:246,column:102}},81:{start:{line:246,column:48},end:{line:246,column:102}},82:{start:{line:248,column:20},end:{line:248,column:49}},83:{start:{line:249,column:25},end:{line:249,column:60}},84:{start:{line:250,column:8},end:{line:256,column:9}},85:{start:{line:251,column:12},end:{line:251,column:62}},86:{start:{line:252,column:15},end:{line:256,column:9}},87:{start:{line:253,column:12},end:{line:253,column:83}},88:{start:{line:255,column:12},end:{line:255,column:81}},89:{start:{line:265,column:8},end:{line:271,column:9}},90:{start:{line:266,column:12},end:{line:266,column:43}},91:{start:{line:267,column:15},end:{line:271,column:9}},92:{start:{line:268,column:12},end:{line:268,column:44}},93:{start:{line:270,column:12},end:{line:270,column:43}},94:{start:{line:276,column:8},end:{line:278,column:9}},95:{start:{line:277,column:12},end:{line:277,column:24}},96:{start:{line:281,column:8},end:{line:285,column:9}},97:{start:{line:284,column:12},end:{line:284,column:41}},98:{start:{line:287,column:8},end:{line:289,column:19}},99:{start:{line:296,column:0},end:{line:296,column:79}},100:{start:{line:301,column:0},end:{line:301,column:71}},101:{start:{line:306,column:0},end:{line:306,column:37}},102:{start:{line:308,column:0},end:{line:308,column:40}},103:{start:{line:309,column:0},end:{line:309,column:47}},104:{start:{line:311,column:0},end:{line:311,column:41}},105:{start:{line:312,column:0},end:{line:312,column:43}},106:{start:{line:313,column:0},end:{line:313,column:46}},107:{start:{line:315,column:0},end:{line:315,column:36}},108:{start:{line:316,column:0},end:{line:316,column:41}},109:{start:{line:317,column:0},end:{line:317,column:41}},110:{start:{line:319,column:0},end:{line:319,column:48}},111:{start:{line:321,column:0},end:{line:321,column:27}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:4},end:{line:8,column:5}},loc:{start:{line:8,column:55},end:{line:32,column:5}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:37,column:4},end:{line:37,column:5}},loc:{start:{line:37,column:18},end:{line:77,column:5}},line:37},2:{name:"(anonymous_2)",decl:{start:{line:38,column:31},end:{line:38,column:32}},loc:{start:{line:38,column:88},end:{line:60,column:9}},line:38},3:{name:"(anonymous_3)",decl:{start:{line:73,column:39},end:{line:73,column:40}},loc:{start:{line:73,column:49},end:{line:73,column:66}},line:73},4:{name:"(anonymous_4)",decl:{start:{line:85,column:4},end:{line:85,column:5}},loc:{start:{line:85,column:59},end:{line:130,column:5}},line:85},5:{name:"(anonymous_5)",decl:{start:{line:135,column:4},end:{line:135,column:5}},loc:{start:{line:135,column:20},end:{line:137,column:5}},line:135},6:{name:"(anonymous_6)",decl:{start:{line:142,column:4},end:{line:142,column:5}},loc:{start:{line:142,column:21},end:{line:144,column:5}},line:142},7:{name:"(anonymous_7)",decl:{start:{line:149,column:4},end:{line:149,column:5}},loc:{start:{line:149,column:21},end:{line:151,column:5}},line:149},8:{name:"(anonymous_8)",decl:{start:{line:157,column:4},end:{line:157,column:5}},loc:{start:{line:157,column:28},end:{line:159,column:5}},line:157},9:{name:"(anonymous_9)",decl:{start:{line:164,column:4},end:{line:164,column:5}},loc:{start:{line:164,column:23},end:{line:181,column:5}},line:164},10:{name:"(anonymous_10)",decl:{start:{line:180,column:49},end:{line:180,column:50}},loc:{start:{line:180,column:59},end:{line:180,column:76}},line:180},11:{name:"(anonymous_11)",decl:{start:{line:189,column:4},end:{line:189,column:5}},loc:{start:{line:189,column:44},end:{line:201,column:5}},line:189},12:{name:"(anonymous_12)",decl:{start:{line:208,column:4},end:{line:208,column:5}},loc:{start:{line:208,column:37},end:{line:238,column:5}},line:208},13:{name:"(anonymous_13)",decl:{start:{line:245,column:4},end:{line:245,column:5}},loc:{start:{line:245,column:40},end:{line:257,column:5}},line:245},14:{name:"(anonymous_14)",decl:{start:{line:246,column:22},end:{line:246,column:23}},loc:{start:{line:246,column:48},end:{line:246,column:102}},line:246},15:{name:"(anonymous_15)",decl:{start:{line:264,column:4},end:{line:264,column:5}},loc:{start:{line:264,column:35},end:{line:272,column:5}},line:264},16:{name:"(anonymous_16)",decl:{start:{line:275,column:4},end:{line:275,column:5}},loc:{start:{line:275,column:32},end:{line:290,column:5}},line:275}},branchMap:{0:{loc:{start:{line:38,column:62},end:{line:38,column:83}},type:"default-arg",locations:[{start:{line:38,column:78},end:{line:38,column:83}}],line:38},1:{loc:{start:{line:51,column:16},end:{line:56,column:17}},type:"if",locations:[{start:{line:51,column:16},end:{line:56,column:17}},{start:{line:51,column:16},end:{line:56,column:17}}],line:51},2:{loc:{start:{line:53,column:20},end:{line:55,column:21}},type:"if",locations:[{start:{line:53,column:20},end:{line:55,column:21}},{start:{line:53,column:20},end:{line:55,column:21}}],line:53},3:{loc:{start:{line:64,column:8},end:{line:66,column:9}},type:"if",locations:[{start:{line:64,column:8},end:{line:66,column:9}},{start:{line:64,column:8},end:{line:66,column:9}}],line:64},4:{loc:{start:{line:64,column:12},end:{line:64,column:60}},type:"binary-expr",locations:[{start:{line:64,column:12},end:{line:64,column:35}},{start:{line:64,column:39},end:{line:64,column:60}}],line:64},5:{loc:{start:{line:68,column:8},end:{line:70,column:9}},type:"if",locations:[{start:{line:68,column:8},end:{line:70,column:9}},{start:{line:68,column:8},end:{line:70,column:9}}],line:68},6:{loc:{start:{line:85,column:36},end:{line:85,column:57}},type:"default-arg",locations:[{start:{line:85,column:52},end:{line:85,column:57}}],line:85},7:{loc:{start:{line:89,column:8},end:{line:91,column:9}},type:"if",locations:[{start:{line:89,column:8},end:{line:91,column:9}},{start:{line:89,column:8},end:{line:91,column:9}}],line:89},8:{loc:{start:{line:94,column:8},end:{line:96,column:9}},type:"if",locations:[{start:{line:94,column:8},end:{line:96,column:9}},{start:{line:94,column:8},end:{line:96,column:9}}],line:94},9:{loc:{start:{line:99,column:8},end:{line:101,column:9}},type:"if",locations:[{start:{line:99,column:8},end:{line:101,column:9}},{start:{line:99,column:8},end:{line:101,column:9}}],line:99},10:{loc:{start:{line:104,column:8},end:{line:106,column:9}},type:"if",locations:[{start:{line:104,column:8},end:{line:106,column:9}},{start:{line:104,column:8},end:{line:106,column:9}}],line:104},11:{loc:{start:{line:109,column:8},end:{line:111,column:9}},type:"if",locations:[{start:{line:109,column:8},end:{line:111,column:9}},{start:{line:109,column:8},end:{line:111,column:9}}],line:109},12:{loc:{start:{line:109,column:12},end:{line:109,column:84}},type:"binary-expr",locations:[{start:{line:109,column:12},end:{line:109,column:33}},{start:{line:109,column:37},end:{line:109,column:66}},{start:{line:109,column:70},end:{line:109,column:84}}],line:109},13:{loc:{start:{line:115,column:8},end:{line:129,column:9}},type:"switch",locations:[{start:{line:116,column:12},end:{line:117,column:26}},{start:{line:119,column:12},end:{line:119,column:38}},{start:{line:120,column:12},end:{line:121,column:29}},{start:{line:123,column:12},end:{line:125,column:114}},{start:{line:127,column:12},end:{line:128,column:26}}],line:115},14:{loc:{start:{line:136,column:15},end:{line:136,column:63}},type:"binary-expr",locations:[{start:{line:136,column:15},end:{line:136,column:37}},{start:{line:136,column:41},end:{line:136,column:63}}],line:136},15:{loc:{start:{line:158,column:15},end:{line:158,column:96}},type:"binary-expr",locations:[{start:{line:158,column:15},end:{line:158,column:56}},{start:{line:158,column:60},end:{line:158,column:96}}],line:158},16:{loc:{start:{line:168,column:12},end:{line:176,column:13}},type:"if",locations:[{start:{line:168,column:12},end:{line:176,column:13}},{start:{line:168,column:12},end:{line:176,column:13}}],line:168},17:{loc:{start:{line:170,column:16},end:{line:173,column:17}},type:"if",locations:[{start:{line:170,column:16},end:{line:173,column:17}},{start:{line:170,column:16},end:{line:173,column:17}}],line:170},18:{loc:{start:{line:190,column:8},end:{line:192,column:9}},type:"if",locations:[{start:{line:190,column:8},end:{line:192,column:9}},{start:{line:190,column:8},end:{line:192,column:9}}],line:190},19:{loc:{start:{line:194,column:15},end:{line:194,column:61}},type:"binary-expr",locations:[{start:{line:194,column:15},end:{line:194,column:24}},{start:{line:194,column:28},end:{line:194,column:61}}],line:194},20:{loc:{start:{line:196,column:12},end:{line:199,column:13}},type:"if",locations:[{start:{line:196,column:12},end:{line:199,column:13}},{start:{line:196,column:12},end:{line:199,column:13}}],line:196},21:{loc:{start:{line:213,column:30},end:{line:213,column:78}},type:"cond-expr",locations:[{start:{line:213,column:73},end:{line:213,column:74}},{start:{line:213,column:77},end:{line:213,column:78}}],line:213},22:{loc:{start:{line:217,column:26},end:{line:219,column:66}},type:"cond-expr",locations:[{start:{line:218,column:14},end:{line:218,column:15}},{start:{line:219,column:14},end:{line:219,column:66}}],line:217},23:{loc:{start:{line:219,column:14},end:{line:219,column:66}},type:"cond-expr",locations:[{start:{line:219,column:59},end:{line:219,column:62}},{start:{line:219,column:65},end:{line:219,column:66}}],line:219},24:{loc:{start:{line:223,column:8},end:{line:228,column:9}},type:"if",locations:[{start:{line:223,column:8},end:{line:228,column:9}},{start:{line:223,column:8},end:{line:228,column:9}}],line:223},25:{loc:{start:{line:225,column:12},end:{line:227,column:13}},type:"if",locations:[{start:{line:225,column:12},end:{line:227,column:13}},{start:{line:225,column:12},end:{line:227,column:13}}],line:225},26:{loc:{start:{line:225,column:16},end:{line:225,column:162}},type:"binary-expr",locations:[{start:{line:225,column:16},end:{line:225,column:71}},{start:{line:225,column:75},end:{line:225,column:162}}],line:225},27:{loc:{start:{line:233,column:8},end:{line:235,column:9}},type:"if",locations:[{start:{line:233,column:8},end:{line:235,column:9}},{start:{line:233,column:8},end:{line:235,column:9}}],line:233},28:{loc:{start:{line:233,column:12},end:{line:233,column:74}},type:"binary-expr",locations:[{start:{line:233,column:12},end:{line:233,column:29}},{start:{line:233,column:33},end:{line:233,column:74}}],line:233},29:{loc:{start:{line:250,column:8},end:{line:256,column:9}},type:"if",locations:[{start:{line:250,column:8},end:{line:256,column:9}},{start:{line:250,column:8},end:{line:256,column:9}}],line:250},30:{loc:{start:{line:252,column:15},end:{line:256,column:9}},type:"if",locations:[{start:{line:252,column:15},end:{line:256,column:9}},{start:{line:252,column:15},end:{line:256,column:9}}],line:252},31:{loc:{start:{line:265,column:8},end:{line:271,column:9}},type:"if",locations:[{start:{line:265,column:8},end:{line:271,column:9}},{start:{line:265,column:8},end:{line:271,column:9}}],line:265},32:{loc:{start:{line:267,column:15},end:{line:271,column:9}},type:"if",locations:[{start:{line:267,column:15},end:{line:271,column:9}},{start:{line:267,column:15},end:{line:271,column:9}}],line:267},33:{loc:{start:{line:276,column:8},end:{line:278,column:9}},type:"if",locations:[{start:{line:276,column:8},end:{line:278,column:9}},{start:{line:276,column:8},end:{line:278,column:9}}],line:276},34:{loc:{start:{line:281,column:15},end:{line:282,column:114}},type:"binary-expr",locations:[{start:{line:281,column:15},end:{line:281,column:48}},{start:{line:282,column:15},end:{line:282,column:114}}],line:281},35:{loc:{start:{line:287,column:15},end:{line:289,column:18}},type:"cond-expr",locations:[{start:{line:288,column:14},end:{line:288,column:77}},{start:{line:289,column:14},end:{line:289,column:18}}],line:287},36:{loc:{start:{line:296,column:45},end:{line:296,column:78}},type:"cond-expr",locations:[{start:{line:296,column:72},end:{line:296,column:74}},{start:{line:296,column:77},end:{line:296,column:78}}],line:296},37:{loc:{start:{line:301,column:37},end:{line:301,column:70}},type:"cond-expr",locations:[{start:{line:301,column:64},end:{line:301,column:66}},{start:{line:301,column:69},end:{line:301,column:70}}],line:301}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0,0],13:[0,0,0,0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class PeerScorer{constructor(n,e,l){Ze.f[0]++;Ze.s[0]++;this._networkConfig=n;Ze.s[1]++;this._addresses=e;Ze.s[2]++;this._connections=l;Ze.s[3]++;this._connectionScores=null}pickAddress(){Ze.f[1]++;Ze.s[4]++;const n=(n,e,l=(Ze.b[0][0]++,!1))=>{Ze.f[2]++;const t=(Ze.s[5]++,n.length),o=(Ze.s[6]++,Math.floor(Math.random()*t)),i=(Ze.s[7]++,Math.min(t,e)),c=(Ze.s[8]++,[]);Ze.s[9]++;for(let s=0;s<t;s++){const e=(Ze.s[10]++,(o+s)%t),u=(Ze.s[11]++,n[e]),m=(Ze.s[12]++,this._scoreAddress(u,l));Ze.s[13]++;if(m>=0){Ze.b[1][0]++;Ze.s[14]++;c.push({score:m,addressState:u});Ze.s[15]++;if(c.length>=i){Ze.b[2][0]++;Ze.s[16]++;break}Ze.b[2][1]++}else Ze.b[1][1]++}Ze.s[17]++;return c},e=(Ze.s[18]++,this._addresses.values());let l=(Ze.s[19]++,n(e,1e3));Ze.s[20]++;if((Ze.b[4][0]++,0===l.length)&&(Ze.b[4][1]++,this.needsGoodPeers())){Ze.b[3][0]++;Ze.s[21]++;l=n(e,1e3,!0)}else Ze.b[3][1]++;Ze.s[22]++;if(0===l.length){Ze.b[5][0]++;Ze.s[23]++;return null}Ze.b[5][1]++;const t=(Ze.s[24]++,l.sort((n,e)=>{Ze.f[3]++;Ze.s[25]++;return e.score-n.score})),o=(Ze.s[26]++,t.slice(0,PeerScorer.PICK_SELECTION_SIZE)),i=(Ze.s[27]++,ArrayUtils.randomElement(o));Ze.s[28]++;return i.addressState.peerAddress}_scoreAddress(n,e=(Ze.b[6][0]++,!1)){Ze.f[4]++;const l=(Ze.s[29]++,n.peerAddress);Ze.s[30]++;if(!this._networkConfig.canConnect(l.protocol)){Ze.b[7][0]++;Ze.s[31]++;return-1}Ze.b[7][1]++;Ze.s[32]++;if(0==(l.services&this._networkConfig.services.accepted)){Ze.b[8][0]++;Ze.s[33]++;return-1}Ze.b[8][1]++;Ze.s[34]++;if(l.exceedsAge()){Ze.b[9][0]++;Ze.s[35]++;return-1}Ze.b[9][1]++;Ze.s[36]++;if(this._connections.getConnectionByPeerAddress(l)){Ze.b[10][0]++;Ze.s[37]++;return-1}Ze.b[10][1]++;Ze.s[38]++;if((Ze.b[12][0]++,this.needsGoodPeers())&&(Ze.b[12][1]++,!this.isGoodPeer(l))&&(Ze.b[12][2]++,!e)){Ze.b[11][0]++;Ze.s[39]++;return-1}Ze.b[11][1]++;const t=(Ze.s[40]++,1);Ze.s[41]++;switch(n.state){case PeerAddressState.BANNED:Ze.b[13][0]++;Ze.s[42]++;return-1;case PeerAddressState.NEW:Ze.b[13][1]++;case PeerAddressState.TRIED:Ze.b[13][2]++;Ze.s[43]++;return t;case PeerAddressState.FAILED:Ze.b[13][3]++;Ze.s[44]++;return(1-(n.failedAttempts+1)/n.maxFailedAttempts)*t;default:Ze.b[13][4]++;Ze.s[45]++;return-1}}isGoodPeerSet(){Ze.f[5]++;Ze.s[46]++;return(Ze.b[14][0]++,!this.needsGoodPeers())&&(Ze.b[14][1]++,!this.needsMorePeers())}needsGoodPeers(){Ze.f[6]++;Ze.s[47]++;return this._connections.peerCountFullWsOutbound<PeerScorer.PEER_COUNT_MIN_FULL_WS_OUTBOUND}needsMorePeers(){Ze.f[7]++;Ze.s[48]++;return this._connections.peerCountOutbound<PeerScorer.PEER_COUNT_MIN_OUTBOUND}isGoodPeer(n){Ze.f[8]++;Ze.s[49]++;return(Ze.b[15][0]++,Services.isFullNode(n.services))&&(Ze.b[15][1]++,n.protocol===Protocol.WS)}scoreConnections(){Ze.f[9]++;const n=(Ze.s[50]++,[]);Ze.s[51]++;for(const e of this._connections.values()){Ze.s[52]++;if(e.state===PeerConnectionState.ESTABLISHED){Ze.b[16][0]++;Ze.s[53]++;if(e.ageEstablished>PeerScorer._getMinAge(e.peerAddress)){Ze.b[17][0]++;Ze.s[54]++;e.score=this._scoreConnection(e);Ze.s[55]++;n.push(e)}else Ze.b[17][1]++;Ze.s[56]++;e.statistics.reset()}else Ze.b[16][1]++}Ze.s[57]++;this._connectionScores=n.sort((n,e)=>{Ze.f[10]++;Ze.s[58]++;return e.score-n.score})}recycleConnections(n,e,l){Ze.f[11]++;Ze.s[59]++;if(this._connectionScores){Ze.b[18][1]++;Ze.s[61]++;for(;(Ze.b[19][0]++,n>0)&&(Ze.b[19][1]++,this._connectionScores.length>0);){const t=(Ze.s[62]++,this._connectionScores.pop());Ze.s[63]++;if(t.state===PeerConnectionState.ESTABLISHED){Ze.b[20][0]++;Ze.s[64]++;t.peerChannel.close(e,`${l}`);Ze.s[65]++;n--}else Ze.b[20][1]++}}else{Ze.b[18][0]++;Ze.s[60]++}}_scoreConnection(n){Ze.f[12]++;const e=(Ze.s[66]++,this._scoreConnectionAge(n)),l=(Ze.s[67]++,n.networkConnection.inbound?(Ze.b[21][0]++,0):(Ze.b[21][1]++,1)),t=(Ze.s[68]++,n.peerAddress),o=(Ze.s[69]++,Services.isFullNode(t.services)?(Ze.b[22][0]++,1):(Ze.b[22][1]++,Services.isLightNode(t.services)?(Ze.b[23][0]++,.5):(Ze.b[23][1]++,0)));let i=(Ze.s[70]++,0);Ze.s[71]++;if(t.protocol===Protocol.WS){Ze.b[24][0]++;const n=(Ze.s[72]++,this._connections.peerCountWs/this._connections.peerCount);Ze.s[73]++;if((Ze.b[26][0]++,n<PeerScorer.BEST_PROTOCOL_WS_DISTRIBUTION)||(Ze.b[26][1]++,this._connections.peerCountFullWsOutbound<=PeerScorer.PEER_COUNT_MIN_FULL_WS_OUTBOUND)){Ze.b[25][0]++;Ze.s[74]++;i=1}else Ze.b[25][1]++}else Ze.b[24][1]++;const c=(Ze.s[75]++,n.statistics.latencyMedian);let s=(Ze.s[76]++,0);Ze.s[77]++;if((Ze.b[28][0]++,c>0)&&(Ze.b[28][1]++,c<NetworkAgent.PING_TIMEOUT)){Ze.b[27][0]++;Ze.s[78]++;s=1-c/NetworkAgent.PING_TIMEOUT}else Ze.b[27][1]++;Ze.s[79]++;return.15*e+.25*l+.2*o+.2*i+.2*s}_scoreConnectionAge(n){Ze.f[13]++;Ze.s[80]++;const e=(n,e,l)=>{Ze.f[14]++;Ze.s[81]++;return Math.max(Math.min(1-(n-e)/l,1),0)},l=(Ze.s[82]++,n.ageEstablished),t=(Ze.s[83]++,n.peerAddress.services);Ze.s[84]++;if(Services.isFullNode(t)){Ze.b[29][0]++;Ze.s[85]++;return l/(2*PeerScorer.BEST_AGE_FULL)+.5}Ze.b[29][1]++;Ze.s[86]++;if(Services.isLightNode(t)){Ze.b[30][0]++;Ze.s[87]++;return e(l,PeerScorer.BEST_AGE_LIGHT,PeerScorer.MAX_AGE_LIGHT)}Ze.b[30][1]++;Ze.s[88]++;return e(l,PeerScorer.BEST_AGE_NANO,PeerScorer.MAX_AGE_NANO)}static _getMinAge(n){Ze.f[15]++;Ze.s[89]++;if(Services.isFullNode(n.services)){Ze.b[31][0]++;Ze.s[90]++;return PeerScorer.MIN_AGE_FULL}Ze.b[31][1]++;Ze.s[91]++;if(Services.isLightNode(n.services)){Ze.b[32][0]++;Ze.s[92]++;return PeerScorer.MIN_AGE_LIGHT}Ze.b[32][1]++;Ze.s[93]++;return PeerScorer.MIN_AGE_NANO}get lowestConnectionScore(){Ze.f[16]++;Ze.s[94]++;if(!this._connectionScores){Ze.b[33][0]++;Ze.s[95]++;return null}Ze.b[33][1]++;Ze.s[96]++;for(;(Ze.b[34][0]++,this._connectionScores.length>0)&&(Ze.b[34][1]++,this._connectionScores[this._connectionScores.length-1].state!==PeerConnectionState.ESTABLISHED);){Ze.s[97]++;this._connectionScores.pop()}Ze.s[98]++;return this._connectionScores.length>0?(Ze.b[35][0]++,this._connectionScores[this._connectionScores.length-1].score):(Ze.b[35][1]++,null)}}Ze.s[99]++;PeerScorer.PEER_COUNT_MIN_FULL_WS_OUTBOUND=PlatformUtils.isNodeJs()?(Ze.b[36][0]++,12):(Ze.b[36][1]++,3);Ze.s[100]++;PeerScorer.PEER_COUNT_MIN_OUTBOUND=PlatformUtils.isNodeJs()?(Ze.b[37][0]++,12):(Ze.b[37][1]++,6);Ze.s[101]++;PeerScorer.PICK_SELECTION_SIZE=100;Ze.s[102]++;PeerScorer.MIN_AGE_FULL=3e5;Ze.s[103]++;PeerScorer.BEST_AGE_FULL=864e5;Ze.s[104]++;PeerScorer.MIN_AGE_LIGHT=12e4;Ze.s[105]++;PeerScorer.BEST_AGE_LIGHT=9e5;Ze.s[106]++;PeerScorer.MAX_AGE_LIGHT=216e5;Ze.s[107]++;PeerScorer.MIN_AGE_NANO=6e4;Ze.s[108]++;PeerScorer.BEST_AGE_NANO=3e5;Ze.s[109]++;PeerScorer.MAX_AGE_NANO=18e5;Ze.s[110]++;PeerScorer.BEST_PROTOCOL_WS_DISTRIBUTION=.15;Ze.s[111]++;Class.register(PeerScorer);var Je=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/NetworkConfig.js",e="87cc748eb5aff8b9f8a71186a9f99040aa7132b9",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/NetworkConfig.js",statementMap:{0:{start:{line:6,column:8},end:{line:8,column:38}},1:{start:{line:17,column:8},end:{line:17,column:42}},2:{start:{line:23,column:8},end:{line:23,column:29}},3:{start:{line:29,column:8},end:{line:29,column:28}},4:{start:{line:35,column:8},end:{line:35,column:30}},5:{start:{line:42,column:19},end:{line:42,column:53}},6:{start:{line:43,column:8},end:{line:43,column:29}},7:{start:{line:50,column:19},end:{line:50,column:48}},8:{start:{line:51,column:8},end:{line:51,column:29}},9:{start:{line:60,column:8},end:{line:62,column:9}},10:{start:{line:61,column:12},end:{line:61,column:19}},11:{start:{line:65,column:19},end:{line:65,column:39}},12:{start:{line:66,column:8},end:{line:69,column:9}},13:{start:{line:67,column:12},end:{line:67,column:38}},14:{start:{line:68,column:12},end:{line:68,column:39}},15:{start:{line:71,column:8},end:{line:71,column:29}},16:{start:{line:72,column:8},end:{line:72,column:49}},17:{start:{line:80,column:8},end:{line:80,column:34}},18:{start:{line:87,column:8},end:{line:87,column:29}},19:{start:{line:94,column:8},end:{line:94,column:39}},20:{start:{line:101,column:8},end:{line:101,column:28}},21:{start:{line:108,column:8},end:{line:108,column:30}},22:{start:{line:115,column:8},end:{line:115,column:34}},23:{start:{line:122,column:8},end:{line:122,column:43}},24:{start:{line:130,column:8},end:{line:130,column:53}},25:{start:{line:134,column:0},end:{line:134,column:30}},26:{start:{line:145,column:8},end:{line:145,column:27}},27:{start:{line:146,column:8},end:{line:146,column:26}},28:{start:{line:147,column:8},end:{line:147,column:26}},29:{start:{line:148,column:8},end:{line:148,column:24}},30:{start:{line:149,column:8},end:{line:149,column:26}},31:{start:{line:152,column:8},end:{line:155,column:10}},32:{start:{line:162,column:8},end:{line:162,column:31}},33:{start:{line:170,column:8},end:{line:172,column:9}},34:{start:{line:171,column:12},end:{line:171,column:51}},35:{start:{line:174,column:28},end:{line:177,column:35}},36:{start:{line:179,column:8},end:{line:181,column:9}},37:{start:{line:180,column:12},end:{line:180,column:56}},38:{start:{line:182,column:8},end:{line:182,column:123}},39:{start:{line:183,column:8},end:{line:183,column:27}},40:{start:{line:187,column:0},end:{line:187,column:32}},41:{start:{line:194,column:8},end:{line:194,column:42}},42:{start:{line:195,column:8},end:{line:200,column:10}},43:{start:{line:207,column:8},end:{line:207,column:31}},44:{start:{line:215,column:8},end:{line:217,column:9}},45:{start:{line:216,column:12},end:{line:216,column:51}},46:{start:{line:219,column:28},end:{line:221,column:43}},47:{start:{line:222,column:8},end:{line:222,column:123}},48:{start:{line:223,column:8},end:{line:223,column:27}},49:{start:{line:227,column:0},end:{line:227,column:33}},50:{start:{line:234,column:8},end:{line:234,column:27}},51:{start:{line:242,column:8},end:{line:244,column:9}},52:{start:{line:243,column:12},end:{line:243,column:51}},53:{start:{line:246,column:28},end:{line:248,column:43}},54:{start:{line:249,column:8},end:{line:249,column:123}},55:{start:{line:250,column:8},end:{line:250,column:27}},56:{start:{line:254,column:0},end:{line:254,column:34}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:24},end:{line:9,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:15,column:4},end:{line:15,column:5}},loc:{start:{line:15,column:30},end:{line:36,column:5}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:41,column:4},end:{line:41,column:5}},loc:{start:{line:41,column:27},end:{line:44,column:5}},line:41},3:{name:"(anonymous_3)",decl:{start:{line:49,column:4},end:{line:49,column:5}},loc:{start:{line:49,column:25},end:{line:52,column:5}},line:49},4:{name:"(anonymous_4)",decl:{start:{line:59,column:4},end:{line:59,column:5}},loc:{start:{line:59,column:20},end:{line:73,column:5}},line:59},5:{name:"(anonymous_5)",decl:{start:{line:79,column:4},end:{line:79,column:5}},loc:{start:{line:79,column:23},end:{line:81,column:5}},line:79},6:{name:"(anonymous_6)",decl:{start:{line:86,column:4},end:{line:86,column:5}},loc:{start:{line:86,column:18},end:{line:88,column:5}},line:86},7:{name:"(anonymous_7)",decl:{start:{line:93,column:4},end:{line:93,column:5}},loc:{start:{line:93,column:20},end:{line:95,column:5}},line:93},8:{name:"(anonymous_8)",decl:{start:{line:100,column:4},end:{line:100,column:5}},loc:{start:{line:100,column:17},end:{line:102,column:5}},line:100},9:{name:"(anonymous_9)",decl:{start:{line:107,column:4},end:{line:107,column:5}},loc:{start:{line:107,column:19},end:{line:109,column:5}},line:107},10:{name:"(anonymous_10)",decl:{start:{line:114,column:4},end:{line:114,column:5}},loc:{start:{line:114,column:27},end:{line:116,column:5}},line:114},11:{name:"(anonymous_11)",decl:{start:{line:121,column:4},end:{line:121,column:5}},loc:{start:{line:121,column:22},end:{line:123,column:5}},line:121},12:{name:"(anonymous_12)",decl:{start:{line:129,column:4},end:{line:129,column:5}},loc:{start:{line:129,column:25},end:{line:131,column:5}},line:129},13:{name:"(anonymous_13)",decl:{start:{line:144,column:4},end:{line:144,column:5}},loc:{start:{line:144,column:39},end:{line:156,column:5}},line:144},14:{name:"(anonymous_14)",decl:{start:{line:161,column:4},end:{line:161,column:5}},loc:{start:{line:161,column:20},end:{line:163,column:5}},line:161},15:{name:"(anonymous_15)",decl:{start:{line:169,column:4},end:{line:169,column:5}},loc:{start:{line:169,column:22},end:{line:184,column:5}},line:169},16:{name:"(anonymous_16)",decl:{start:{line:193,column:4},end:{line:193,column:5}},loc:{start:{line:193,column:18},end:{line:201,column:5}},line:193},17:{name:"(anonymous_17)",decl:{start:{line:206,column:4},end:{line:206,column:5}},loc:{start:{line:206,column:20},end:{line:208,column:5}},line:206},18:{name:"(anonymous_18)",decl:{start:{line:214,column:4},end:{line:214,column:5}},loc:{start:{line:214,column:22},end:{line:224,column:5}},line:214},19:{name:"(anonymous_19)",decl:{start:{line:233,column:4},end:{line:233,column:5}},loc:{start:{line:233,column:18},end:{line:235,column:5}},line:233},20:{name:"(anonymous_20)",decl:{start:{line:241,column:4},end:{line:241,column:5}},loc:{start:{line:241,column:22},end:{line:251,column:5}},line:241}},branchMap:{0:{loc:{start:{line:6,column:15},end:{line:8,column:37}},type:"cond-expr",locations:[{start:{line:7,column:14},end:{line:7,column:36}},{start:{line:8,column:14},end:{line:8,column:37}}],line:6},1:{loc:{start:{line:60,column:8},end:{line:62,column:9}},type:"if",locations:[{start:{line:60,column:8},end:{line:62,column:9}},{start:{line:60,column:8},end:{line:62,column:9}}],line:60},2:{loc:{start:{line:66,column:8},end:{line:69,column:9}},type:"if",locations:[{start:{line:66,column:8},end:{line:69,column:9}},{start:{line:66,column:8},end:{line:69,column:9}}],line:66},3:{loc:{start:{line:170,column:8},end:{line:172,column:9}},type:"if",locations:[{start:{line:170,column:8},end:{line:172,column:9}},{start:{line:170,column:8},end:{line:172,column:9}}],line:170},4:{loc:{start:{line:170,column:12},end:{line:170,column:45}},type:"binary-expr",locations:[{start:{line:170,column:12},end:{line:170,column:27}},{start:{line:170,column:31},end:{line:170,column:45}}],line:170},5:{loc:{start:{line:179,column:8},end:{line:181,column:9}},type:"if",locations:[{start:{line:179,column:8},end:{line:181,column:9}},{start:{line:179,column:8},end:{line:181,column:9}}],line:179},6:{loc:{start:{line:215,column:8},end:{line:217,column:9}},type:"if",locations:[{start:{line:215,column:8},end:{line:217,column:9}},{start:{line:215,column:8},end:{line:217,column:9}}],line:215},7:{loc:{start:{line:215,column:12},end:{line:215,column:45}},type:"binary-expr",locations:[{start:{line:215,column:12},end:{line:215,column:27}},{start:{line:215,column:31},end:{line:215,column:45}}],line:215},8:{loc:{start:{line:242,column:8},end:{line:244,column:9}},type:"if",locations:[{start:{line:242,column:8},end:{line:244,column:9}},{start:{line:242,column:8},end:{line:244,column:9}}],line:242},9:{loc:{start:{line:242,column:12},end:{line:242,column:45}},type:"binary-expr",locations:[{start:{line:242,column:12},end:{line:242,column:27}},{start:{line:242,column:31},end:{line:242,column:45}}],line:242}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class NetworkConfig{static getDefault(){Je.f[0]++;Je.s[0]++;return PlatformUtils.supportsWebRTC()?(Je.b[0][0]++,new RtcNetworkConfig):(Je.b[0][1]++,new DumbNetworkConfig)}constructor(n){Je.f[1]++;Je.s[1]++;this._protocolMask=n;Je.s[2]++;this._keyPair=null;Je.s[3]++;this._peerId=null;Je.s[4]++;this._services=null}async initPersistent(){Je.f[2]++;const n=(Je.s[5]++,await PeerKeyStore.getPersistent());Je.s[6]++;await this._init(n)}async initVolatile(){Je.f[3]++;const n=(Je.s[7]++,PeerKeyStore.createVolatile());Je.s[8]++;await this._init(n)}async _init(n){Je.f[4]++;Je.s[9]++;if(this._keyPair){Je.b[1][0]++;Je.s[10]++;return}Je.b[1][1]++;let e=(Je.s[11]++,await n.get("keys"));Je.s[12]++;if(e)Je.b[2][1]++;else{Je.b[2][0]++;Je.s[13]++;e=KeyPair.generate();Je.s[14]++;await n.put("keys",e)}Je.s[15]++;this._keyPair=e;Je.s[16]++;this._peerId=e.publicKey.toPeerId()}get protocolMask(){Je.f[5]++;Je.s[17]++;return this._protocolMask}get keyPair(){Je.f[6]++;Je.s[18]++;return this._keyPair}get publicKey(){Je.f[7]++;Je.s[19]++;return this._keyPair.publicKey}get peerId(){Je.f[8]++;Je.s[20]++;return this._peerId}get services(){Je.f[9]++;Je.s[21]++;return this._services}set services(n){Je.f[10]++;Je.s[22]++;this._services=n}get peerAddress(){Je.f[11]++;Je.s[23]++;throw new Error("Not implemented")}canConnect(n){Je.f[12]++;Je.s[24]++;return 0!=(n&this._protocolMask)}}Je.s[25]++;Class.register(NetworkConfig);Je.s[40]++;Class.register(class WsNetworkConfig extends NetworkConfig{constructor(n,e,l,t){Je.f[13]++;Je.s[26]++;super(Protocol.WS);Je.s[27]++;this._host=n;Je.s[28]++;this._port=e;Je.s[29]++;this._key=l;Je.s[30]++;this._cert=t;Je.s[31]++;this._sslConfig={key:this._key,cert:this._cert}}get sslConfig(){Je.f[14]++;Je.s[32]++;return this._sslConfig}get peerAddress(){Je.f[15]++;Je.s[33]++;if((Je.b[4][0]++,!this._services)||(Je.b[4][1]++,!this._keyPair)){Je.b[3][0]++;Je.s[34]++;throw"PeerAddress is not configured."}Je.b[3][1]++;const n=(Je.s[35]++,new WsPeerAddress(this._services.provided,Date.now(),NetAddress.UNSPECIFIED,this.publicKey,0,this._host,this._port));Je.s[36]++;if(!n.globallyReachable()){Je.b[5][0]++;Je.s[37]++;throw"PeerAddress not globally reachable."}Je.b[5][1]++;Je.s[38]++;n.signature=Signature.create(this._keyPair.privateKey,this.publicKey,n.serializeContent());Je.s[39]++;return n}});class RtcNetworkConfig extends NetworkConfig{constructor(){Je.f[16]++;Je.s[41]++;super(Protocol.WS|Protocol.RTC);Je.s[42]++;this._rtcConfig={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun.nimiq-network.com:19302"}]}}get rtcConfig(){Je.f[17]++;Je.s[43]++;return this._rtcConfig}get peerAddress(){Je.f[18]++;Je.s[44]++;if((Je.b[7][0]++,!this._services)||(Je.b[7][1]++,!this._keyPair)){Je.b[6][0]++;Je.s[45]++;throw"PeerAddress is not configured."}Je.b[6][1]++;const n=(Je.s[46]++,new RtcPeerAddress(this._services.provided,Date.now(),NetAddress.UNSPECIFIED,this.publicKey,0));Je.s[47]++;n.signature=Signature.create(this._keyPair.privateKey,this.publicKey,n.serializeContent());Je.s[48]++;return n}}Je.s[49]++;Class.register(RtcNetworkConfig);class DumbNetworkConfig extends NetworkConfig{constructor(){Je.f[19]++;Je.s[50]++;super(Protocol.WS)}get peerAddress(){Je.f[20]++;Je.s[51]++;if((Je.b[9][0]++,!this._services)||(Je.b[9][1]++,!this._keyPair)){Je.b[8][0]++;Je.s[52]++;throw"PeerAddress is not configured."}Je.b[8][1]++;const n=(Je.s[53]++,new DumbPeerAddress(this._services.provided,Date.now(),NetAddress.UNSPECIFIED,this.publicKey,0));Je.s[54]++;n.signature=Signature.create(this._keyPair.privateKey,this.publicKey,n.serializeContent());Je.s[55]++;return n}}Je.s[56]++;Class.register(DumbNetworkConfig);var Ye=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/Network.js",e="3f09c0eb352f42157c7d7d16e99d1a40cbc4feec",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/Network.js",statementMap:{0:{start:{line:15,column:8},end:{line:15,column:16}},1:{start:{line:21,column:8},end:{line:21,column:38}},2:{start:{line:27,column:8},end:{line:27,column:44}},3:{start:{line:33,column:8},end:{line:33,column:26}},4:{start:{line:41,column:8},end:{line:41,column:34}},5:{start:{line:48,column:8},end:{line:48,column:56}},6:{start:{line:55,column:8},end:{line:55,column:32}},7:{start:{line:62,column:8},end:{line:62,column:67}},8:{start:{line:65,column:8},end:{line:68,column:11}},9:{start:{line:66,column:12},end:{line:66,column:44}},10:{start:{line:67,column:12},end:{line:67,column:35}},11:{start:{line:75,column:8},end:{line:75,column:97}},12:{start:{line:77,column:8},end:{line:77,column:78}},13:{start:{line:77,column:52},end:{line:77,column:76}},14:{start:{line:78,column:8},end:{line:78,column:74}},15:{start:{line:78,column:50},end:{line:78,column:72}},16:{start:{line:79,column:8},end:{line:79,column:76}},17:{start:{line:79,column:52},end:{line:79,column:74}},18:{start:{line:80,column:8},end:{line:80,column:84}},19:{start:{line:80,column:56},end:{line:80,column:82}},20:{start:{line:81,column:8},end:{line:81,column:123}},21:{start:{line:81,column:52},end:{line:81,column:121}},22:{start:{line:88,column:8},end:{line:88,column:95}},23:{start:{line:94,column:8},end:{line:94,column:44}},24:{start:{line:99,column:8},end:{line:99,column:36}},25:{start:{line:106,column:8},end:{line:106,column:33}},26:{start:{line:109,column:8},end:{line:109,column:110}},27:{start:{line:109,column:57},end:{line:109,column:77}},28:{start:{line:112,column:8},end:{line:112,column:31}},29:{start:{line:120,column:8},end:{line:120,column:34}},30:{start:{line:123,column:8},end:{line:123,column:52}},31:{start:{line:125,column:8},end:{line:125,column:45}},32:{start:{line:126,column:8},end:{line:126,column:58}},33:{start:{line:131,column:8},end:{line:131,column:34}},34:{start:{line:133,column:8},end:{line:133,column:48}},35:{start:{line:144,column:8},end:{line:144,column:33}},36:{start:{line:147,column:8},end:{line:147,column:49}},37:{start:{line:149,column:8},end:{line:149,column:39}},38:{start:{line:160,column:8},end:{line:160,column:33}},39:{start:{line:162,column:8},end:{line:162,column:37}},40:{start:{line:171,column:8},end:{line:171,column:78}},41:{start:{line:173,column:8},end:{line:173,column:35}},42:{start:{line:181,column:8},end:{line:181,column:141}},43:{start:{line:184,column:8},end:{line:186,column:20}},44:{start:{line:198,column:8},end:{line:200,column:9}},45:{start:{line:199,column:12},end:{line:199,column:19}},46:{start:{line:206,column:32},end:{line:206,column:58}},47:{start:{line:207,column:8},end:{line:212,column:9}},48:{start:{line:208,column:35},end:{line:208,column:76}},49:{start:{line:209,column:12},end:{line:211,column:13}},50:{start:{line:210,column:16},end:{line:210,column:70}},51:{start:{line:220,column:8},end:{line:261,column:9}},52:{start:{line:225,column:32},end:{line:225,column:58}},53:{start:{line:228,column:34},end:{line:228,column:97}},54:{start:{line:229,column:12},end:{line:254,column:13}},55:{start:{line:232,column:16},end:{line:251,column:17}},56:{start:{line:233,column:20},end:{line:233,column:43}},57:{start:{line:234,column:39},end:{line:234,column:52}},58:{start:{line:235,column:20},end:{line:235,column:90}},59:{start:{line:236,column:20},end:{line:239,column:35}},60:{start:{line:237,column:24},end:{line:237,column:48}},61:{start:{line:238,column:24},end:{line:238,column:47}},62:{start:{line:241,column:20},end:{line:250,column:21}},63:{start:{line:245,column:24},end:{line:245,column:50}},64:{start:{line:249,column:24},end:{line:249,column:73}},65:{start:{line:253,column:16},end:{line:253,column:23}},66:{start:{line:257,column:12},end:{line:260,column:13}},67:{start:{line:258,column:16},end:{line:258,column:86}},68:{start:{line:259,column:16},end:{line:259,column:83}},69:{start:{line:259,column:33},end:{line:259,column:55}},70:{start:{line:262,column:8},end:{line:262,column:56}},71:{start:{line:272,column:32},end:{line:272,column:58}},72:{start:{line:274,column:24},end:{line:274,column:27}},73:{start:{line:275,column:8},end:{line:279,column:11}},74:{start:{line:276,column:12},end:{line:278,column:13}},75:{start:{line:277,column:16},end:{line:277,column:74}},76:{start:{line:281,column:30},end:{line:281,column:44}},77:{start:{line:282,column:8},end:{line:282,column:38}},78:{start:{line:282,column:31},end:{line:282,column:36}},79:{start:{line:285,column:8},end:{line:289,column:9}},80:{start:{line:286,column:12},end:{line:286,column:105}},81:{start:{line:288,column:12},end:{line:288,column:58}},82:{start:{line:291,column:8},end:{line:291,column:110}},83:{start:{line:299,column:8},end:{line:299,column:40}},84:{start:{line:302,column:8},end:{line:307,column:9}},85:{start:{line:304,column:40},end:{line:304,column:173}},86:{start:{line:305,column:41},end:{line:305,column:88}},87:{start:{line:306,column:12},end:{line:306,column:130}},88:{start:{line:310,column:8},end:{line:312,column:20}},89:{start:{line:317,column:8},end:{line:317,column:26}},90:{start:{line:322,column:8},end:{line:322,column:43}},91:{start:{line:327,column:8},end:{line:327,column:45}},92:{start:{line:332,column:8},end:{line:332,column:46}},93:{start:{line:337,column:8},end:{line:337,column:47}},94:{start:{line:342,column:8},end:{line:342,column:49}},95:{start:{line:347,column:8},end:{line:347,column:51}},96:{start:{line:352,column:8},end:{line:352,column:43}},97:{start:{line:357,column:8},end:{line:357,column:47}},98:{start:{line:362,column:8},end:{line:362,column:57}},99:{start:{line:367,column:8},end:{line:367,column:76}},100:{start:{line:372,column:8},end:{line:372,column:31}},101:{start:{line:377,column:8},end:{line:377,column:33}},102:{start:{line:384,column:0},end:{line:384,column:64}},103:{start:{line:389,column:0},end:{line:389,column:80}},104:{start:{line:394,column:0},end:{line:394,column:47}},105:{start:{line:399,column:0},end:{line:399,column:67}},106:{start:{line:404,column:0},end:{line:404,column:30}},107:{start:{line:409,column:0},end:{line:409,column:30}},108:{start:{line:414,column:0},end:{line:414,column:75}},109:{start:{line:419,column:0},end:{line:419,column:29}},110:{start:{line:424,column:0},end:{line:424,column:33}},111:{start:{line:429,column:0},end:{line:429,column:31}},112:{start:{line:434,column:0},end:{line:434,column:39}},113:{start:{line:439,column:0},end:{line:439,column:44}},114:{start:{line:444,column:0},end:{line:444,column:41}},115:{start:{line:449,column:0},end:{line:449,column:46}},116:{start:{line:454,column:0},end:{line:454,column:37}},117:{start:{line:459,column:0},end:{line:459,column:31}},118:{start:{line:461,column:0},end:{line:461,column:24}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:4},end:{line:14,column:5}},loc:{start:{line:14,column:49},end:{line:100,column:5}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:65,column:36},end:{line:65,column:37}},loc:{start:{line:65,column:49},end:{line:68,column:9}},line:65},2:{name:"(anonymous_2)",decl:{start:{line:77,column:44},end:{line:77,column:45}},loc:{start:{line:77,column:52},end:{line:77,column:76}},line:77},3:{name:"(anonymous_3)",decl:{start:{line:78,column:42},end:{line:78,column:43}},loc:{start:{line:78,column:50},end:{line:78,column:72}},line:78},4:{name:"(anonymous_4)",decl:{start:{line:79,column:46},end:{line:79,column:47}},loc:{start:{line:79,column:52},end:{line:79,column:74}},line:79},5:{name:"(anonymous_5)",decl:{start:{line:80,column:50},end:{line:80,column:51}},loc:{start:{line:80,column:56},end:{line:80,column:82}},line:80},6:{name:"(anonymous_6)",decl:{start:{line:81,column:46},end:{line:81,column:47}},loc:{start:{line:81,column:52},end:{line:81,column:121}},line:81},7:{name:"(anonymous_7)",decl:{start:{line:105,column:4},end:{line:105,column:5}},loc:{start:{line:105,column:14},end:{line:113,column:5}},line:105},8:{name:"(anonymous_8)",decl:{start:{line:109,column:51},end:{line:109,column:52}},loc:{start:{line:109,column:57},end:{line:109,column:77}},line:109},9:{name:"(anonymous_9)",decl:{start:{line:119,column:4},end:{line:119,column:5}},loc:{start:{line:119,column:23},end:{line:127,column:5}},line:119},10:{name:"(anonymous_10)",decl:{start:{line:130,column:4},end:{line:130,column:5}},loc:{start:{line:130,column:26},end:{line:134,column:5}},line:130},11:{name:"(anonymous_11)",decl:{start:{line:142,column:4},end:{line:142,column:5}},loc:{start:{line:142,column:24},end:{line:150,column:5}},line:142},12:{name:"(anonymous_12)",decl:{start:{line:158,column:4},end:{line:158,column:5}},loc:{start:{line:158,column:22},end:{line:163,column:5}},line:158},13:{name:"(anonymous_13)",decl:{start:{line:170,column:4},end:{line:170,column:5}},loc:{start:{line:170,column:22},end:{line:174,column:5}},line:170},14:{name:"(anonymous_14)",decl:{start:{line:180,column:4},end:{line:180,column:5}},loc:{start:{line:180,column:26},end:{line:187,column:5}},line:180},15:{name:"(anonymous_15)",decl:{start:{line:194,column:4},end:{line:194,column:5}},loc:{start:{line:194,column:31},end:{line:213,column:5}},line:194},16:{name:"(anonymous_16)",decl:{start:{line:219,column:4},end:{line:219,column:5}},loc:{start:{line:219,column:22},end:{line:263,column:5}},line:219},17:{name:"(anonymous_17)",decl:{start:{line:236,column:31},end:{line:236,column:32}},loc:{start:{line:236,column:37},end:{line:239,column:21}},line:236},18:{name:"(anonymous_18)",decl:{start:{line:259,column:27},end:{line:259,column:28}},loc:{start:{line:259,column:33},end:{line:259,column:55}},line:259},19:{name:"(anonymous_19)",decl:{start:{line:271,column:4},end:{line:271,column:5}},loc:{start:{line:271,column:24},end:{line:292,column:5}},line:271},20:{name:"(anonymous_20)",decl:{start:{line:275,column:32},end:{line:275,column:33}},loc:{start:{line:275,column:50},end:{line:279,column:9}},line:275},21:{name:"(anonymous_21)",decl:{start:{line:282,column:21},end:{line:282,column:22}},loc:{start:{line:282,column:31},end:{line:282,column:36}},line:282},22:{name:"(anonymous_22)",decl:{start:{line:298,column:4},end:{line:298,column:5}},loc:{start:{line:298,column:20},end:{line:313,column:5}},line:298},23:{name:"(anonymous_23)",decl:{start:{line:316,column:4},end:{line:316,column:5}},loc:{start:{line:316,column:15},end:{line:318,column:5}},line:316},24:{name:"(anonymous_24)",decl:{start:{line:321,column:4},end:{line:321,column:5}},loc:{start:{line:321,column:20},end:{line:323,column:5}},line:321},25:{name:"(anonymous_25)",decl:{start:{line:326,column:4},end:{line:326,column:5}},loc:{start:{line:326,column:29},end:{line:328,column:5}},line:326},26:{name:"(anonymous_26)",decl:{start:{line:331,column:4},end:{line:331,column:5}},loc:{start:{line:331,column:26},end:{line:333,column:5}},line:331},27:{name:"(anonymous_27)",decl:{start:{line:336,column:4},end:{line:336,column:5}},loc:{start:{line:336,column:24},end:{line:338,column:5}},line:336},28:{name:"(anonymous_28)",decl:{start:{line:341,column:4},end:{line:341,column:5}},loc:{start:{line:341,column:30},end:{line:343,column:5}},line:341},29:{name:"(anonymous_29)",decl:{start:{line:346,column:4},end:{line:346,column:5}},loc:{start:{line:346,column:30},end:{line:348,column:5}},line:346},30:{name:"(anonymous_30)",decl:{start:{line:351,column:4},end:{line:351,column:5}},loc:{start:{line:351,column:20},end:{line:353,column:5}},line:351},31:{name:"(anonymous_31)",decl:{start:{line:356,column:4},end:{line:356,column:5}},loc:{start:{line:356,column:24},end:{line:358,column:5}},line:356},32:{name:"(anonymous_32)",decl:{start:{line:361,column:4},end:{line:361,column:5}},loc:{start:{line:361,column:34},end:{line:363,column:5}},line:361},33:{name:"(anonymous_33)",decl:{start:{line:366,column:4},end:{line:366,column:5}},loc:{start:{line:366,column:57},end:{line:368,column:5}},line:366},34:{name:"(anonymous_34)",decl:{start:{line:371,column:4},end:{line:371,column:5}},loc:{start:{line:371,column:20},end:{line:373,column:5}},line:371},35:{name:"(anonymous_35)",decl:{start:{line:376,column:4},end:{line:376,column:5}},loc:{start:{line:376,column:22},end:{line:378,column:5}},line:376}},branchMap:{0:{loc:{start:{line:184,column:49},end:{line:186,column:19}},type:"cond-expr",locations:[{start:{line:185,column:14},end:{line:185,column:81}},{start:{line:186,column:14},end:{line:186,column:19}}],line:184},1:{loc:{start:{line:198,column:8},end:{line:200,column:9}},type:"if",locations:[{start:{line:198,column:8},end:{line:200,column:9}},{start:{line:198,column:8},end:{line:200,column:9}}],line:198},2:{loc:{start:{line:209,column:12},end:{line:211,column:13}},type:"if",locations:[{start:{line:209,column:12},end:{line:211,column:13}},{start:{line:209,column:12},end:{line:211,column:13}}],line:209},3:{loc:{start:{line:209,column:16},end:{line:209,column:121}},type:"binary-expr",locations:[{start:{line:209,column:16},end:{line:209,column:30}},{start:{line:209,column:34},end:{line:209,column:90}},{start:{line:209,column:94},end:{line:209,column:121}}],line:209},4:{loc:{start:{line:220,column:8},end:{line:261,column:9}},type:"if",locations:[{start:{line:220,column:8},end:{line:261,column:9}},{start:{line:220,column:8},end:{line:261,column:9}}],line:220},5:{loc:{start:{line:220,column:12},end:{line:222,column:79}},type:"binary-expr",locations:[{start:{line:220,column:12},end:{line:220,column:29}},{start:{line:221,column:15},end:{line:221,column:44}},{start:{line:222,column:15},end:{line:222,column:79}}],line:220},6:{loc:{start:{line:228,column:34},end:{line:228,column:97}},type:"binary-expr",locations:[{start:{line:228,column:34},end:{line:228,column:63}},{start:{line:228,column:67},end:{line:228,column:97}}],line:228},7:{loc:{start:{line:229,column:12},end:{line:254,column:13}},type:"if",locations:[{start:{line:229,column:12},end:{line:254,column:13}},{start:{line:229,column:12},end:{line:254,column:13}}],line:229},8:{loc:{start:{line:229,column:16},end:{line:229,column:86}},type:"binary-expr",locations:[{start:{line:229,column:16},end:{line:229,column:28}},{start:{line:229,column:32},end:{line:229,column:45}},{start:{line:229,column:49},end:{line:229,column:86}}],line:229},9:{loc:{start:{line:232,column:16},end:{line:251,column:17}},type:"if",locations:[{start:{line:232,column:16},end:{line:251,column:17}},{start:{line:232,column:16},end:{line:251,column:17}}],line:232},10:{loc:{start:{line:241,column:20},end:{line:250,column:21}},type:"if",locations:[{start:{line:241,column:20},end:{line:250,column:21}},{start:{line:241,column:20},end:{line:250,column:21}}],line:241},11:{loc:{start:{line:257,column:12},end:{line:260,column:13}},type:"if",locations:[{start:{line:257,column:12},end:{line:260,column:13}},{start:{line:257,column:12},end:{line:260,column:13}}],line:257},12:{loc:{start:{line:276,column:12},end:{line:278,column:13}},type:"if",locations:[{start:{line:276,column:12},end:{line:278,column:13}},{start:{line:276,column:12},end:{line:278,column:13}}],line:276},13:{loc:{start:{line:285,column:8},end:{line:289,column:9}},type:"if",locations:[{start:{line:285,column:8},end:{line:289,column:9}},{start:{line:285,column:8},end:{line:289,column:9}}],line:285},14:{loc:{start:{line:302,column:8},end:{line:307,column:9}},type:"if",locations:[{start:{line:302,column:8},end:{line:307,column:9}},{start:{line:302,column:8},end:{line:307,column:9}}],line:302},15:{loc:{start:{line:310,column:49},end:{line:312,column:19}},type:"cond-expr",locations:[{start:{line:311,column:14},end:{line:311,column:81}},{start:{line:312,column:14},end:{line:312,column:19}}],line:310},16:{loc:{start:{line:384,column:25},end:{line:384,column:63}},type:"cond-expr",locations:[{start:{line:384,column:53},end:{line:384,column:55}},{start:{line:384,column:58},end:{line:384,column:63}}],line:384},17:{loc:{start:{line:389,column:44},end:{line:389,column:79}},type:"cond-expr",locations:[{start:{line:389,column:72},end:{line:389,column:73}},{start:{line:389,column:76},end:{line:389,column:79}}],line:389},18:{loc:{start:{line:399,column:32},end:{line:399,column:66}},type:"cond-expr",locations:[{start:{line:399,column:60},end:{line:399,column:61}},{start:{line:399,column:64},end:{line:399,column:66}}],line:399},19:{loc:{start:{line:414,column:38},end:{line:414,column:74}},type:"cond-expr",locations:[{start:{line:414,column:66},end:{line:414,column:67}},{start:{line:414,column:70},end:{line:414,column:74}}],line:414}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0,0],4:[0,0],5:[0,0,0],6:[0,0],7:[0,0],8:[0,0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Network extends Observable{constructor(n,e,l){Ye.f[0]++;Ye.s[0]++;super();Ye.s[1]++;this._blockchain=n;Ye.s[2]++;this._networkConfig=e;Ye.s[3]++;this._time=l;Ye.s[4]++;this._autoConnect=!1;Ye.s[5]++;this._backoff=Network.CONNECT_BACKOFF_INITIAL;Ye.s[6]++;this._backedOff=!1;Ye.s[7]++;this._addresses=new PeerAddressBook(this._networkConfig);Ye.s[8]++;this._addresses.on("added",n=>{Ye.f[1]++;Ye.s[9]++;this._relayAddresses(n);Ye.s[10]++;this._checkPeerCount()});Ye.s[11]++;this._connections=new ConnectionPool(this._addresses,e,n,l);Ye.s[12]++;this._connections.on("peer-joined",n=>{Ye.f[2]++;Ye.s[13]++;return this._onPeerJoined(n)});Ye.s[14]++;this._connections.on("peer-left",n=>{Ye.f[3]++;Ye.s[15]++;return this._onPeerLeft(n)});Ye.s[16]++;this._connections.on("peers-changed",()=>{Ye.f[4]++;Ye.s[17]++;return this._onPeersChanged()});Ye.s[18]++;this._connections.on("recycling-request",()=>{Ye.f[5]++;Ye.s[19]++;return this._onRecyclingRequest()});Ye.s[20]++;this._connections.on("connect-error",()=>{Ye.f[6]++;Ye.s[21]++;return setTimeout(this._checkPeerCount.bind(this),Network.CONNECT_THROTTLE)});Ye.s[22]++;this._scorer=new PeerScorer(this._networkConfig,this._addresses,this._connections);Ye.s[23]++;this._houseKeepingIntervalId=null;Ye.s[24]++;this._timers=new Timers}connect(){Ye.f[7]++;Ye.s[25]++;this._autoConnect=!0;Ye.s[26]++;this._houseKeepingIntervalId=setInterval(()=>{Ye.f[8]++;Ye.s[27]++;return this._housekeeping()},Network.HOUSEKEEPING_INTERVAL);Ye.s[28]++;this._checkPeerCount()}disconnect(n){Ye.f[9]++;Ye.s[29]++;this._autoConnect=!1;Ye.s[30]++;clearInterval(this._houseKeepingIntervalId);Ye.s[31]++;this._connections.disconnect(n);Ye.s[32]++;this._connections.allowInboundConnections=!1}disconnectWebSocket(){Ye.f[10]++;Ye.s[33]++;this._autoConnect=!1;Ye.s[34]++;this._connections.disconnectWebSocket()}_onPeerJoined(n){Ye.f[11]++;Ye.s[35]++;this._updateTimeOffset();Ye.s[36]++;this._relayAddresses([n.peerAddress]);Ye.s[37]++;this.fire("peer-joined",n)}_onPeerLeft(n){Ye.f[12]++;Ye.s[38]++;this._updateTimeOffset();Ye.s[39]++;this.fire("peer-left",n)}_onPeersChanged(){Ye.f[13]++;Ye.s[40]++;setTimeout(this._checkPeerCount.bind(this),Network.CONNECT_THROTTLE);Ye.s[41]++;this.fire("peers-changed")}_onRecyclingRequest(){Ye.f[14]++;Ye.s[42]++;this._scorer.recycleConnections(1,CloseType.PEER_CONNECTION_RECYCLED_INBOUND_EXCHANGE,"Peer connection recycled inbound exchange");Ye.s[43]++;this._connections.allowInboundExchange=null!==this._scorer.lowestConnectionScore?(Ye.b[0][0]++,this._scorer.lowestConnectionScore<Network.SCORE_INBOUND_EXCHANGE):(Ye.b[0][1]++,!1)}_relayAddresses(n){Ye.f[15]++;Ye.s[44]++;if(n.length>10){Ye.b[1][0]++;Ye.s[45]++;return}Ye.b[1][1]++;const e=(Ye.s[46]++,this._connections.values());Ye.s[47]++;for(let l=0;l<Network.PEER_COUNT_RELAY;++l){const l=(Ye.s[48]++,ArrayUtils.randomElement(e));Ye.s[49]++;if((Ye.b[3][0]++,l)&&(Ye.b[3][1]++,l.state===PeerConnectionState.ESTABLISHED)&&(Ye.b[3][2]++,l.networkAgent)){Ye.b[2][0]++;Ye.s[50]++;l.networkAgent.relayAddresses(n)}else Ye.b[2][1]++}}_checkPeerCount(){Ye.f[16]++;Ye.s[51]++;if((Ye.b[5][0]++,this._autoConnect)&&(Ye.b[5][1]++,!this._scorer.isGoodPeerSet())&&(Ye.b[5][2]++,this._connections.connectingCount<Network.CONNECTING_COUNT_MAX)){Ye.b[4][0]++;const n=(Ye.s[52]++,this._scorer.pickAddress()),e=(Ye.s[53]++,(Ye.b[6][0]++,this._scorer.needsGoodPeers())&&(Ye.b[6][1]++,!this._scorer.needsMorePeers()));Ye.s[54]++;if((Ye.b[8][0]++,!n)||(Ye.b[8][1]++,e)&&(Ye.b[8][2]++,!this._scorer.isGoodPeer(n))){Ye.b[7][0]++;Ye.s[55]++;if(this._backedOff)Ye.b[9][1]++;else{Ye.b[9][0]++;Ye.s[56]++;this._backedOff=!0;const n=(Ye.s[57]++,this._backoff);Ye.s[58]++;this._backoff=Math.min(Network.CONNECT_BACKOFF_MAX,2*n);Ye.s[59]++;setTimeout(()=>{Ye.f[17]++;Ye.s[60]++;this._backedOff=!1;Ye.s[61]++;this._checkPeerCount()},n);Ye.s[62]++;if(0===this._connections.count){Ye.b[10][0]++;Ye.s[63]++;this.fire("disconnected");Ye.s[64]++;this._connections.allowInboundConnections=!0}else Ye.b[10][1]++}Ye.s[65]++;return}Ye.b[7][1]++;Ye.s[66]++;if(this._connections.connectOutbound(n))Ye.b[11][1]++;else{Ye.b[11][0]++;Ye.s[67]++;this._addresses.close(null,n,CloseType.CONNECTION_FAILED);Ye.s[68]++;setTimeout(()=>{Ye.f[18]++;Ye.s[69]++;return this._checkPeerCount()},Network.CONNECT_THROTTLE)}}else Ye.b[4][1]++;Ye.s[70]++;this._backoff=Network.CONNECT_BACKOFF_INITIAL}_updateTimeOffset(){Ye.f[19]++;const n=(Ye.s[71]++,this._connections.values()),e=(Ye.s[72]++,[0]);Ye.s[73]++;n.forEach(n=>{Ye.f[20]++;Ye.s[74]++;if(n.state===PeerConnectionState.ESTABLISHED){Ye.b[12][0]++;Ye.s[75]++;e.push(n.networkAgent.peer.timeOffset)}else Ye.b[12][1]++});const l=(Ye.s[76]++,e.length);Ye.s[77]++;e.sort((n,e)=>{Ye.f[21]++;Ye.s[78]++;return n-e});let t;Ye.s[79]++;if(l%2==0){Ye.b[13][0]++;Ye.s[80]++;t=Math.round((e[l/2-1]+e[l/2])/2)}else{Ye.b[13][1]++;Ye.s[81]++;t=e[(l-1)/2]}Ye.s[82]++;this._time.offset=Math.max(Math.min(t,Network.TIME_OFFSET_MAX),-Network.TIME_OFFSET_MAX)}_housekeeping(){Ye.f[22]++;Ye.s[83]++;this._scorer.scoreConnections();Ye.s[84]++;if(this.peerCount>Network.PEER_COUNT_RECYCLING_ACTIVE){Ye.b[14][0]++;const n=(Ye.s[85]++,.19*(this.peerCount-Network.PEER_COUNT_RECYCLING_ACTIVE)/(Network.PEER_COUNT_MAX-Network.PEER_COUNT_RECYCLING_ACTIVE)+.01),e=(Ye.s[86]++,Math.ceil(this.peerCount*n));Ye.s[87]++;this._scorer.recycleConnections(e,CloseType.PEER_CONNECTION_RECYCLED,"Peer connection recycled")}else Ye.b[14][1]++;Ye.s[88]++;this._connections.allowInboundExchange=null!==this._scorer.lowestConnectionScore?(Ye.b[15][0]++,this._scorer.lowestConnectionScore<Network.SCORE_INBOUND_EXCHANGE):(Ye.b[15][1]++,!1)}get time(){Ye.f[23]++;Ye.s[89]++;return this._time}get peerCount(){Ye.f[24]++;Ye.s[90]++;return this._connections.peerCount}get peerCountWebSocket(){Ye.f[25]++;Ye.s[91]++;return this._connections.peerCountWs}get peerCountWebRtc(){Ye.f[26]++;Ye.s[92]++;return this._connections.peerCountRtc}get peerCountDumb(){Ye.f[27]++;Ye.s[93]++;return this._connections.peerCountDumb}get peerCountConnecting(){Ye.f[28]++;Ye.s[94]++;return this._connections.connectingCount}get knownAddressesCount(){Ye.f[29]++;Ye.s[95]++;return this._addresses.knownAddressesCount}get bytesSent(){Ye.f[30]++;Ye.s[96]++;return this._connections.bytesSent}get bytesReceived(){Ye.f[31]++;Ye.s[97]++;return this._connections.bytesReceived}get allowInboundConnections(){Ye.f[32]++;Ye.s[98]++;return this._connections.allowInboundConnections}set allowInboundConnections(n){Ye.f[33]++;Ye.s[99]++;this._connections.allowInboundConnections=n}get addresses(){Ye.f[34]++;Ye.s[100]++;return this._addresses}get connections(){Ye.f[35]++;Ye.s[101]++;return this._connections}}Ye.s[102]++;Network.PEER_COUNT_MAX=PlatformUtils.isBrowser()?(Ye.b[16][0]++,15):(Ye.b[16][1]++,5e4);Ye.s[103]++;Network.INBOUND_PEER_COUNT_PER_SUBNET_MAX=PlatformUtils.isBrowser()?(Ye.b[17][0]++,2):(Ye.b[17][1]++,100);Ye.s[104]++;Network.OUTBOUND_PEER_COUNT_PER_SUBNET_MAX=2;Ye.s[105]++;Network.PEER_COUNT_PER_IP_MAX=PlatformUtils.isBrowser()?(Ye.b[18][0]++,1):(Ye.b[18][1]++,20);Ye.s[106]++;Network.IPV4_SUBNET_MASK=24;Ye.s[107]++;Network.IPV6_SUBNET_MASK=96;Ye.s[108]++;Network.PEER_COUNT_RECYCLING_ACTIVE=PlatformUtils.isBrowser()?(Ye.b[19][0]++,5):(Ye.b[19][1]++,1e3);Ye.s[109]++;Network.PEER_COUNT_RELAY=4;Ye.s[110]++;Network.CONNECTING_COUNT_MAX=2;Ye.s[111]++;Network.SIGNAL_TTL_INITIAL=3;Ye.s[112]++;Network.CONNECT_BACKOFF_INITIAL=1e3;Ye.s[113]++;Network.CONNECT_BACKOFF_MAX=3e5;Ye.s[114]++;Network.TIME_OFFSET_MAX=9e5;Ye.s[115]++;Network.HOUSEKEEPING_INTERVAL=3e5;Ye.s[116]++;Network.SCORE_INBOUND_EXCHANGE=.5;Ye.s[117]++;Network.CONNECT_THROTTLE=300;Ye.s[118]++;Class.register(Network);var nl=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/NetUtils.js",e="11d707c77868fc4072780136aec9dbc23a309669",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/NetUtils.js",statementMap:{0:{start:{line:7,column:8},end:{line:9,column:9}},1:{start:{line:8,column:12},end:{line:8,column:40}},2:{start:{line:11,column:8},end:{line:13,column:9}},3:{start:{line:12,column:12},end:{line:12,column:24}},4:{start:{line:15,column:8},end:{line:22,column:9}},5:{start:{line:16,column:12},end:{line:20,column:13}},6:{start:{line:17,column:16},end:{line:19,column:17}},7:{start:{line:18,column:20},end:{line:18,column:32}},8:{start:{line:21,column:12},end:{line:21,column:25}},9:{start:{line:24,column:8},end:{line:38,column:9}},10:{start:{line:27,column:12},end:{line:29,column:13}},11:{start:{line:28,column:16},end:{line:28,column:28}},12:{start:{line:32,column:12},end:{line:34,column:13}},13:{start:{line:33,column:16},end:{line:33,column:28}},14:{start:{line:37,column:12},end:{line:37,column:25}},15:{start:{line:40,column:8},end:{line:40,column:43}},16:{start:{line:48,column:8},end:{line:50,column:9}},17:{start:{line:49,column:12},end:{line:49,column:40}},18:{start:{line:52,column:8},end:{line:54,column:9}},19:{start:{line:53,column:12},end:{line:53,column:78}},20:{start:{line:55,column:8},end:{line:60,column:9}},21:{start:{line:56,column:12},end:{line:58,column:13}},22:{start:{line:57,column:16},end:{line:57,column:46}},23:{start:{line:57,column:33},end:{line:57,column:46}},24:{start:{line:59,column:12},end:{line:59,column:54}},25:{start:{line:62,column:8},end:{line:62,column:21}},26:{start:{line:71,column:8},end:{line:73,column:9}},27:{start:{line:72,column:12},end:{line:72,column:40}},28:{start:{line:75,column:28},end:{line:75,column:45}},29:{start:{line:76,column:8},end:{line:76,column:39}},30:{start:{line:77,column:8},end:{line:77,column:81}},31:{start:{line:85,column:8},end:{line:85,column:80}},32:{start:{line:85,column:38},end:{line:85,column:80}},33:{start:{line:86,column:22},end:{line:86,column:62}},34:{start:{line:87,column:8},end:{line:88,column:70}},35:{start:{line:96,column:8},end:{line:96,column:80}},36:{start:{line:96,column:38},end:{line:96,column:80}},37:{start:{line:98,column:22},end:{line:98,column:49}},38:{start:{line:100,column:8},end:{line:102,column:9}},39:{start:{line:101,column:12},end:{line:101,column:25}},40:{start:{line:104,column:31},end:{line:104,column:78}},41:{start:{line:106,column:25},end:{line:106,column:30}},42:{start:{line:107,column:8},end:{line:124,column:9}},43:{start:{line:111,column:12},end:{line:116,column:13}},44:{start:{line:115,column:16},end:{line:115,column:29}},45:{start:{line:118,column:12},end:{line:123,column:13}},46:{start:{line:119,column:16},end:{line:121,column:17}},47:{start:{line:120,column:20},end:{line:120,column:33}},48:{start:{line:122,column:16},end:{line:122,column:34}},49:{start:{line:127,column:8},end:{line:134,column:9}},50:{start:{line:129,column:12},end:{line:133,column:13}},51:{start:{line:130,column:16},end:{line:132,column:17}},52:{start:{line:131,column:20},end:{line:131,column:33}},53:{start:{line:137,column:8},end:{line:139,column:9}},54:{start:{line:138,column:12},end:{line:138,column:41}},55:{start:{line:142,column:8},end:{line:144,column:9}},56:{start:{line:143,column:12},end:{line:143,column:56}},57:{start:{line:147,column:8},end:{line:149,column:9}},58:{start:{line:148,column:12},end:{line:148,column:30}},59:{start:{line:152,column:8},end:{line:154,column:9}},60:{start:{line:153,column:12},end:{line:153,column:30}},61:{start:{line:156,column:8},end:{line:156,column:20}},62:{start:{line:164,column:23},end:{line:164,column:48}},63:{start:{line:166,column:8},end:{line:168,column:9}},64:{start:{line:167,column:12},end:{line:167,column:47}},65:{start:{line:170,column:8},end:{line:170,column:22}},66:{start:{line:179,column:8},end:{line:181,column:9}},67:{start:{line:180,column:12},end:{line:180,column:25}},68:{start:{line:183,column:8},end:{line:185,column:9}},69:{start:{line:184,column:12},end:{line:184,column:25}},70:{start:{line:186,column:8},end:{line:186,column:20}},71:{start:{line:194,column:8},end:{line:199,column:9}},72:{start:{line:197,column:26},end:{line:197,column:66}},73:{start:{line:198,column:12},end:{line:198,column:109}},74:{start:{line:201,column:8},end:{line:263,column:9}},75:{start:{line:205,column:12},end:{line:205,column:34}},76:{start:{line:208,column:24},end:{line:208,column:37}},77:{start:{line:211,column:12},end:{line:213,column:13}},78:{start:{line:212,column:16},end:{line:212,column:70}},79:{start:{line:216,column:12},end:{line:216,column:48}},80:{start:{line:218,column:34},end:{line:218,column:36}},81:{start:{line:219,column:35},end:{line:219,column:36}},82:{start:{line:220,column:34},end:{line:220,column:36}},83:{start:{line:221,column:35},end:{line:221,column:36}},84:{start:{line:222,column:12},end:{line:244,column:13}},85:{start:{line:224,column:16},end:{line:224,column:67}},86:{start:{line:227,column:16},end:{line:243,column:17}},87:{start:{line:229,column:20},end:{line:234,column:21}},88:{start:{line:230,column:24},end:{line:230,column:44}},89:{start:{line:233,column:24},end:{line:233,column:43}},90:{start:{line:237,column:20},end:{line:242,column:21}},91:{start:{line:238,column:24},end:{line:238,column:58}},92:{start:{line:239,column:24},end:{line:239,column:60}},93:{start:{line:240,column:24},end:{line:240,column:45}},94:{start:{line:241,column:24},end:{line:241,column:45}},95:{start:{line:246,column:12},end:{line:249,column:13}},96:{start:{line:247,column:16},end:{line:247,column:50}},97:{start:{line:248,column:16},end:{line:248,column:52}},98:{start:{line:252,column:12},end:{line:260,column:13}},99:{start:{line:253,column:16},end:{line:259,column:17}},100:{start:{line:254,column:20},end:{line:254,column:32}},101:{start:{line:255,column:23},end:{line:259,column:17}},102:{start:{line:256,column:20},end:{line:256,column:73}},103:{start:{line:258,column:20},end:{line:258,column:72}},104:{start:{line:262,column:12},end:{line:262,column:35}},105:{start:{line:265,column:8},end:{line:265,column:43}},106:{start:{line:273,column:8},end:{line:275,column:9}},107:{start:{line:274,column:12},end:{line:274,column:40}},108:{start:{line:276,column:8},end:{line:276,column:62}},109:{start:{line:285,column:20},end:{line:285,column:33}},110:{start:{line:286,column:8},end:{line:286,column:44}},111:{start:{line:286,column:31},end:{line:286,column:42}},112:{start:{line:287,column:21},end:{line:287,column:23}},113:{start:{line:288,column:8},end:{line:290,column:9}},114:{start:{line:289,column:12},end:{line:289,column:64}},115:{start:{line:291,column:8},end:{line:291,column:59}},116:{start:{line:299,column:8},end:{line:302,column:9}},117:{start:{line:300,column:26},end:{line:300,column:39}},118:{start:{line:301,column:12},end:{line:301,column:63}},119:{start:{line:301,column:49},end:{line:301,column:60}},120:{start:{line:304,column:8},end:{line:321,column:9}},121:{start:{line:305,column:24},end:{line:305,column:51}},122:{start:{line:308,column:12},end:{line:310,column:13}},123:{start:{line:309,column:16},end:{line:309,column:67}},124:{start:{line:313,column:12},end:{line:313,column:48}},125:{start:{line:314,column:12},end:{line:314,column:52}},126:{start:{line:314,column:35},end:{line:314,column:50}},127:{start:{line:315,column:26},end:{line:315,column:28}},128:{start:{line:316,column:12},end:{line:319,column:13}},129:{start:{line:317,column:16},end:{line:317,column:42}},130:{start:{line:318,column:16},end:{line:318,column:44}},131:{start:{line:320,column:12},end:{line:320,column:41}},132:{start:{line:323,column:8},end:{line:323,column:43}},133:{start:{line:331,column:8},end:{line:333,column:9}},134:{start:{line:332,column:12},end:{line:332,column:32}},135:{start:{line:335,column:8},end:{line:342,column:9}},136:{start:{line:336,column:26},end:{line:336,column:80}},137:{start:{line:336,column:46},end:{line:336,column:79}},138:{start:{line:337,column:25},end:{line:337,column:27}},139:{start:{line:338,column:12},end:{line:340,column:13}},140:{start:{line:339,column:16},end:{line:339,column:53}},141:{start:{line:341,column:12},end:{line:341,column:55}},142:{start:{line:344,column:8},end:{line:344,column:43}},143:{start:{line:354,column:8},end:{line:359,column:9}},144:{start:{line:355,column:25},end:{line:355,column:48}},145:{start:{line:356,column:25},end:{line:356,column:51}},146:{start:{line:357,column:12},end:{line:357,column:40}},147:{start:{line:358,column:12},end:{line:358,column:48}},148:{start:{line:361,column:24},end:{line:361,column:41}},149:{start:{line:363,column:8},end:{line:368,column:9}},150:{start:{line:364,column:12},end:{line:364,column:35}},151:{start:{line:365,column:12},end:{line:367,column:13}},152:{start:{line:366,column:16},end:{line:366,column:48}},153:{start:{line:370,column:8},end:{line:370,column:38}},154:{start:{line:371,column:8},end:{line:374,column:9}},155:{start:{line:372,column:12},end:{line:372,column:35}},156:{start:{line:373,column:12},end:{line:373,column:42}},157:{start:{line:376,column:8},end:{line:376,column:21}},158:{start:{line:385,column:27},end:{line:385,column:32}},159:{start:{line:386,column:8},end:{line:389,column:9}},160:{start:{line:387,column:12},end:{line:387,column:40}},161:{start:{line:388,column:12},end:{line:388,column:32}},162:{start:{line:391,column:21},end:{line:391,column:23}},163:{start:{line:392,column:8},end:{line:396,column:9}},164:{start:{line:393,column:22},end:{line:393,column:43}},165:{start:{line:394,column:12},end:{line:394,column:58}},166:{start:{line:395,column:12},end:{line:395,column:26}},167:{start:{line:397,column:23},end:{line:397,column:43}},168:{start:{line:398,column:8},end:{line:398,column:66}},169:{start:{line:401,column:0},end:{line:401,column:25}},170:{start:{line:402,column:0},end:{line:402,column:26}},171:{start:{line:403,column:0},end:{line:407,column:2}},172:{start:{line:408,column:0},end:{line:417,column:2}},173:{start:{line:418,column:0},end:{line:418,column:25}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:27},end:{line:41,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:47,column:4},end:{line:47,column:5}},loc:{start:{line:47,column:25},end:{line:63,column:5}},line:47},2:{name:"(anonymous_2)",decl:{start:{line:70,column:4},end:{line:70,column:5}},loc:{start:{line:70,column:38},end:{line:78,column:5}},line:70},3:{name:"(anonymous_3)",decl:{start:{line:84,column:4},end:{line:84,column:5}},loc:{start:{line:84,column:29},end:{line:89,column:5}},line:84},4:{name:"(anonymous_4)",decl:{start:{line:95,column:4},end:{line:95,column:5}},loc:{start:{line:95,column:29},end:{line:157,column:5}},line:95},5:{name:"(anonymous_5)",decl:{start:{line:163,column:4},end:{line:163,column:5}},loc:{start:{line:163,column:26},end:{line:171,column:5}},line:163},6:{name:"(anonymous_6)",decl:{start:{line:177,column:4},end:{line:177,column:5}},loc:{start:{line:177,column:39},end:{line:187,column:5}},line:177},7:{name:"(anonymous_7)",decl:{start:{line:193,column:4},end:{line:193,column:5}},loc:{start:{line:193,column:28},end:{line:266,column:5}},line:193},8:{name:"(anonymous_8)",decl:{start:{line:272,column:4},end:{line:272,column:5}},loc:{start:{line:272,column:27},end:{line:277,column:5}},line:272},9:{name:"(anonymous_9)",decl:{start:{line:284,column:4},end:{line:284,column:5}},loc:{start:{line:284,column:27},end:{line:292,column:5}},line:284},10:{name:"(anonymous_10)",decl:{start:{line:286,column:26},end:{line:286,column:27}},loc:{start:{line:286,column:31},end:{line:286,column:42}},line:286},11:{name:"(anonymous_11)",decl:{start:{line:298,column:4},end:{line:298,column:5}},loc:{start:{line:298,column:25},end:{line:324,column:5}},line:298},12:{name:"(anonymous_12)",decl:{start:{line:301,column:44},end:{line:301,column:45}},loc:{start:{line:301,column:49},end:{line:301,column:60}},line:301},13:{name:"(anonymous_13)",decl:{start:{line:314,column:30},end:{line:314,column:31}},loc:{start:{line:314,column:35},end:{line:314,column:50}},line:314},14:{name:"(anonymous_14)",decl:{start:{line:330,column:4},end:{line:330,column:5}},loc:{start:{line:330,column:25},end:{line:345,column:5}},line:330},15:{name:"(anonymous_15)",decl:{start:{line:336,column:41},end:{line:336,column:42}},loc:{start:{line:336,column:46},end:{line:336,column:79}},line:336},16:{name:"(anonymous_16)",decl:{start:{line:352,column:4},end:{line:352,column:5}},loc:{start:{line:352,column:30},end:{line:377,column:5}},line:352},17:{name:"(anonymous_17)",decl:{start:{line:384,column:4},end:{line:384,column:5}},loc:{start:{line:384,column:36},end:{line:399,column:5}},line:384}},branchMap:{0:{loc:{start:{line:7,column:8},end:{line:9,column:9}},type:"if",locations:[{start:{line:7,column:8},end:{line:9,column:9}},{start:{line:7,column:8},end:{line:9,column:9}}],line:7},1:{loc:{start:{line:11,column:8},end:{line:13,column:9}},type:"if",locations:[{start:{line:11,column:8},end:{line:13,column:9}},{start:{line:11,column:8},end:{line:13,column:9}}],line:11},2:{loc:{start:{line:15,column:8},end:{line:22,column:9}},type:"if",locations:[{start:{line:15,column:8},end:{line:22,column:9}},{start:{line:15,column:8},end:{line:22,column:9}}],line:15},3:{loc:{start:{line:17,column:16},end:{line:19,column:17}},type:"if",locations:[{start:{line:17,column:16},end:{line:19,column:17}},{start:{line:17,column:16},end:{line:19,column:17}}],line:17},4:{loc:{start:{line:24,column:8},end:{line:38,column:9}},type:"if",locations:[{start:{line:24,column:8},end:{line:38,column:9}},{start:{line:24,column:8},end:{line:38,column:9}}],line:24},5:{loc:{start:{line:27,column:12},end:{line:29,column:13}},type:"if",locations:[{start:{line:27,column:12},end:{line:29,column:13}},{start:{line:27,column:12},end:{line:29,column:13}}],line:27},6:{loc:{start:{line:32,column:12},end:{line:34,column:13}},type:"if",locations:[{start:{line:32,column:12},end:{line:34,column:13}},{start:{line:32,column:12},end:{line:34,column:13}}],line:32},7:{loc:{start:{line:32,column:16},end:{line:32,column:57}},type:"binary-expr",locations:[{start:{line:32,column:16},end:{line:32,column:30}},{start:{line:32,column:34},end:{line:32,column:57}}],line:32},8:{loc:{start:{line:48,column:8},end:{line:50,column:9}},type:"if",locations:[{start:{line:48,column:8},end:{line:50,column:9}},{start:{line:48,column:8},end:{line:50,column:9}}],line:48},9:{loc:{start:{line:52,column:8},end:{line:54,column:9}},type:"if",locations:[{start:{line:52,column:8},end:{line:54,column:9}},{start:{line:52,column:8},end:{line:54,column:9}}],line:52},10:{loc:{start:{line:53,column:19},end:{line:53,column:77}},type:"binary-expr",locations:[{start:{line:53,column:19},end:{line:53,column:32}},{start:{line:53,column:36},end:{line:53,column:47}},{start:{line:53,column:51},end:{line:53,column:62}},{start:{line:53,column:66},end:{line:53,column:77}}],line:53},11:{loc:{start:{line:55,column:8},end:{line:60,column:9}},type:"if",locations:[{start:{line:55,column:8},end:{line:60,column:9}},{start:{line:55,column:8},end:{line:60,column:9}}],line:55},12:{loc:{start:{line:57,column:16},end:{line:57,column:46}},type:"if",locations:[{start:{line:57,column:16},end:{line:57,column:46}},{start:{line:57,column:16},end:{line:57,column:46}}],line:57},13:{loc:{start:{line:71,column:8},end:{line:73,column:9}},type:"if",locations:[{start:{line:71,column:8},end:{line:73,column:9}},{start:{line:71,column:8},end:{line:73,column:9}}],line:71},14:{loc:{start:{line:85,column:8},end:{line:85,column:80}},type:"if",locations:[{start:{line:85,column:8},end:{line:85,column:80}},{start:{line:85,column:8},end:{line:85,column:80}}],line:85},15:{loc:{start:{line:87,column:15},end:{line:88,column:69}},type:"binary-expr",locations:[{start:{line:87,column:15},end:{line:87,column:22}},{start:{line:87,column:26},end:{line:87,column:51}},{start:{line:87,column:55},end:{line:87,column:80}},{start:{line:88,column:15},end:{line:88,column:40}},{start:{line:88,column:44},end:{line:88,column:69}}],line:87},16:{loc:{start:{line:96,column:8},end:{line:96,column:80}},type:"if",locations:[{start:{line:96,column:8},end:{line:96,column:80}},{start:{line:96,column:8},end:{line:96,column:80}}],line:96},17:{loc:{start:{line:100,column:8},end:{line:102,column:9}},type:"if",locations:[{start:{line:100,column:8},end:{line:102,column:9}},{start:{line:100,column:8},end:{line:102,column:9}}],line:100},18:{loc:{start:{line:100,column:12},end:{line:100,column:48}},type:"binary-expr",locations:[{start:{line:100,column:12},end:{line:100,column:28}},{start:{line:100,column:32},end:{line:100,column:48}}],line:100},19:{loc:{start:{line:111,column:12},end:{line:116,column:13}},type:"if",locations:[{start:{line:111,column:12},end:{line:116,column:13}},{start:{line:111,column:12},end:{line:116,column:13}}],line:111},20:{loc:{start:{line:111,column:18},end:{line:114,column:44}},type:"binary-expr",locations:[{start:{line:111,column:18},end:{line:111,column:50}},{start:{line:112,column:24},end:{line:112,column:46}},{start:{line:113,column:27},end:{line:113,column:41}},{start:{line:114,column:27},end:{line:114,column:43}}],line:111},21:{loc:{start:{line:118,column:12},end:{line:123,column:13}},type:"if",locations:[{start:{line:118,column:12},end:{line:123,column:13}},{start:{line:118,column:12},end:{line:123,column:13}}],line:118},22:{loc:{start:{line:118,column:16},end:{line:118,column:70}},type:"binary-expr",locations:[{start:{line:118,column:16},end:{line:118,column:37}},{start:{line:118,column:41},end:{line:118,column:46}},{start:{line:118,column:50},end:{line:118,column:70}}],line:118},23:{loc:{start:{line:119,column:16},end:{line:121,column:17}},type:"if",locations:[{start:{line:119,column:16},end:{line:121,column:17}},{start:{line:119,column:16},end:{line:121,column:17}}],line:119},24:{loc:{start:{line:127,column:8},end:{line:134,column:9}},type:"if",locations:[{start:{line:127,column:8},end:{line:134,column:9}},{start:{line:127,column:8},end:{line:134,column:9}}],line:127},25:{loc:{start:{line:130,column:16},end:{line:132,column:17}},type:"if",locations:[{start:{line:130,column:16},end:{line:132,column:17}},{start:{line:130,column:16},end:{line:132,column:17}}],line:130},26:{loc:{start:{line:137,column:8},end:{line:139,column:9}},type:"if",locations:[{start:{line:137,column:8},end:{line:139,column:9}},{start:{line:137,column:8},end:{line:139,column:9}}],line:137},27:{loc:{start:{line:142,column:8},end:{line:144,column:9}},type:"if",locations:[{start:{line:142,column:8},end:{line:144,column:9}},{start:{line:142,column:8},end:{line:144,column:9}}],line:142},28:{loc:{start:{line:147,column:8},end:{line:149,column:9}},type:"if",locations:[{start:{line:147,column:8},end:{line:149,column:9}},{start:{line:147,column:8},end:{line:149,column:9}}],line:147},29:{loc:{start:{line:147,column:12},end:{line:147,column:46}},type:"binary-expr",locations:[{start:{line:147,column:12},end:{line:147,column:26}},{start:{line:147,column:30},end:{line:147,column:46}}],line:147},30:{loc:{start:{line:152,column:8},end:{line:154,column:9}},type:"if",locations:[{start:{line:152,column:8},end:{line:154,column:9}},{start:{line:152,column:8},end:{line:154,column:9}}],line:152},31:{loc:{start:{line:166,column:8},end:{line:168,column:9}},type:"if",locations:[{start:{line:166,column:8},end:{line:168,column:9}},{start:{line:166,column:8},end:{line:168,column:9}}],line:166},32:{loc:{start:{line:179,column:8},end:{line:181,column:9}},type:"if",locations:[{start:{line:179,column:8},end:{line:181,column:9}},{start:{line:179,column:8},end:{line:181,column:9}}],line:179},33:{loc:{start:{line:179,column:12},end:{line:179,column:72}},type:"binary-expr",locations:[{start:{line:179,column:12},end:{line:179,column:40}},{start:{line:179,column:44},end:{line:179,column:72}}],line:179},34:{loc:{start:{line:183,column:8},end:{line:185,column:9}},type:"if",locations:[{start:{line:183,column:8},end:{line:185,column:9}},{start:{line:183,column:8},end:{line:185,column:9}}],line:183},35:{loc:{start:{line:194,column:8},end:{line:199,column:9}},type:"if",locations:[{start:{line:194,column:8},end:{line:199,column:9}},{start:{line:194,column:8},end:{line:199,column:9}}],line:194},36:{loc:{start:{line:201,column:8},end:{line:263,column:9}},type:"if",locations:[{start:{line:201,column:8},end:{line:263,column:9}},{start:{line:201,column:8},end:{line:263,column:9}}],line:201},37:{loc:{start:{line:211,column:12},end:{line:213,column:13}},type:"if",locations:[{start:{line:211,column:12},end:{line:213,column:13}},{start:{line:211,column:12},end:{line:213,column:13}}],line:211},38:{loc:{start:{line:227,column:16},end:{line:243,column:17}},type:"if",locations:[{start:{line:227,column:16},end:{line:243,column:17}},{start:{line:227,column:16},end:{line:243,column:17}}],line:227},39:{loc:{start:{line:229,column:20},end:{line:234,column:21}},type:"if",locations:[{start:{line:229,column:20},end:{line:234,column:21}},{start:{line:229,column:20},end:{line:234,column:21}}],line:229},40:{loc:{start:{line:237,column:20},end:{line:242,column:21}},type:"if",locations:[{start:{line:237,column:20},end:{line:242,column:21}},{start:{line:237,column:20},end:{line:242,column:21}}],line:237},41:{loc:{start:{line:237,column:24},end:{line:237,column:83}},type:"binary-expr",locations:[{start:{line:237,column:24},end:{line:237,column:44}},{start:{line:237,column:48},end:{line:237,column:83}}],line:237},42:{loc:{start:{line:246,column:12},end:{line:249,column:13}},type:"if",locations:[{start:{line:246,column:12},end:{line:249,column:13}},{start:{line:246,column:12},end:{line:249,column:13}}],line:246},43:{loc:{start:{line:246,column:16},end:{line:246,column:75}},type:"binary-expr",locations:[{start:{line:246,column:16},end:{line:246,column:36}},{start:{line:246,column:40},end:{line:246,column:75}}],line:246},44:{loc:{start:{line:252,column:12},end:{line:260,column:13}},type:"if",locations:[{start:{line:252,column:12},end:{line:260,column:13}},{start:{line:252,column:12},end:{line:260,column:13}}],line:252},45:{loc:{start:{line:252,column:16},end:{line:252,column:60}},type:"binary-expr",locations:[{start:{line:252,column:16},end:{line:252,column:36}},{start:{line:252,column:40},end:{line:252,column:60}}],line:252},46:{loc:{start:{line:253,column:16},end:{line:259,column:17}},type:"if",locations:[{start:{line:253,column:16},end:{line:259,column:17}},{start:{line:253,column:16},end:{line:259,column:17}}],line:253},47:{loc:{start:{line:255,column:23},end:{line:259,column:17}},type:"if",locations:[{start:{line:255,column:23},end:{line:259,column:17}},{start:{line:255,column:23},end:{line:259,column:17}}],line:255},48:{loc:{start:{line:255,column:27},end:{line:255,column:103}},type:"binary-expr",locations:[{start:{line:255,column:27},end:{line:255,column:48}},{start:{line:255,column:52},end:{line:255,column:103}}],line:255},49:{loc:{start:{line:273,column:8},end:{line:275,column:9}},type:"if",locations:[{start:{line:273,column:8},end:{line:275,column:9}},{start:{line:273,column:8},end:{line:275,column:9}}],line:273},50:{loc:{start:{line:299,column:8},end:{line:302,column:9}},type:"if",locations:[{start:{line:299,column:8},end:{line:302,column:9}},{start:{line:299,column:8},end:{line:302,column:9}}],line:299},51:{loc:{start:{line:304,column:8},end:{line:321,column:9}},type:"if",locations:[{start:{line:304,column:8},end:{line:321,column:9}},{start:{line:304,column:8},end:{line:321,column:9}}],line:304},52:{loc:{start:{line:308,column:12},end:{line:310,column:13}},type:"if",locations:[{start:{line:308,column:12},end:{line:310,column:13}},{start:{line:308,column:12},end:{line:310,column:13}}],line:308},53:{loc:{start:{line:331,column:8},end:{line:333,column:9}},type:"if",locations:[{start:{line:331,column:8},end:{line:333,column:9}},{start:{line:331,column:8},end:{line:333,column:9}}],line:331},54:{loc:{start:{line:335,column:8},end:{line:342,column:9}},type:"if",locations:[{start:{line:335,column:8},end:{line:342,column:9}},{start:{line:335,column:8},end:{line:342,column:9}}],line:335},55:{loc:{start:{line:354,column:8},end:{line:359,column:9}},type:"if",locations:[{start:{line:354,column:8},end:{line:359,column:9}},{start:{line:354,column:8},end:{line:359,column:9}}],line:354},56:{loc:{start:{line:363,column:8},end:{line:368,column:9}},type:"if",locations:[{start:{line:363,column:8},end:{line:368,column:9}},{start:{line:363,column:8},end:{line:368,column:9}}],line:363},57:{loc:{start:{line:386,column:8},end:{line:389,column:9}},type:"if",locations:[{start:{line:386,column:8},end:{line:389,column:9}},{start:{line:386,column:8},end:{line:389,column:9}}],line:386},58:{loc:{start:{line:398,column:15},end:{line:398,column:65}},type:"cond-expr",locations:[{start:{line:398,column:30},end:{line:398,column:56}},{start:{line:398,column:59},end:{line:398,column:65}}],line:398}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0,0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0,0,0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0,0,0],21:[0,0],22:[0,0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0],46:[0,0],47:[0,0],48:[0,0],49:[0,0],50:[0,0],51:[0,0],52:[0,0],53:[0,0],54:[0,0],55:[0,0],56:[0,0],57:[0,0],58:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class NetUtils{static isPrivateIP(n){nl.f[0]++;nl.s[0]++;if(n instanceof Uint8Array)nl.b[0][1]++;else{nl.b[0][0]++;nl.s[1]++;n=NetUtils.ipToBytes(n)}nl.s[2]++;if(NetUtils.isLocalIP(n)){nl.b[1][0]++;nl.s[3]++;return!0}nl.b[1][1]++;nl.s[4]++;if(NetUtils.isIPv4Address(n)){nl.b[2][0]++;nl.s[5]++;for(const e of NetUtils.IPv4_PRIVATE_NETWORK){nl.s[6]++;if(NetUtils.isIPv4inSubnet(n,e)){nl.b[3][0]++;nl.s[7]++;return!0}nl.b[3][1]++}nl.s[8]++;return!1}nl.b[2][1]++;nl.s[9]++;if(NetUtils.isIPv6Address(n)){nl.b[4][0]++;nl.s[10]++;if(252==(254&n[0])){nl.b[5][0]++;nl.s[11]++;return!0}nl.b[5][1]++;nl.s[12]++;if((nl.b[7][0]++,254===n[0])&&(nl.b[7][1]++,128==(192&n[1]))){nl.b[6][0]++;nl.s[13]++;return!0}nl.b[6][1]++;nl.s[14]++;return!1}nl.b[4][1]++;nl.s[15]++;throw`Malformed IP address ${n}`}static isLocalIP(n){nl.f[1]++;nl.s[16]++;if(n instanceof Uint8Array)nl.b[8][1]++;else{nl.b[8][0]++;nl.s[17]++;n=NetUtils.ipToBytes(n)}nl.s[18]++;if(n.length===NetUtils.IPv4_LENGTH){nl.b[9][0]++;nl.s[19]++;return(nl.b[10][0]++,127===n[0])&&(nl.b[10][1]++,0===n[1])&&(nl.b[10][2]++,0===n[2])&&(nl.b[10][3]++,1===n[3])}nl.b[9][1]++;nl.s[20]++;if(n.length===NetUtils.IPv6_LENGTH){nl.b[11][0]++;nl.s[21]++;for(let e=0;e<NetUtils.IPv6_LENGTH-1;e++){nl.s[22]++;if(0!==n[e]){nl.b[12][0]++;nl.s[23]++;return!1}nl.b[12][1]++}nl.s[24]++;return 1===n[NetUtils.IPv6_LENGTH-1]}nl.b[11][1]++;nl.s[25]++;return!1}static isIPv4inSubnet(n,e){nl.f[2]++;nl.s[26]++;if(n instanceof Uint8Array)nl.b[13][1]++;else{nl.b[13][0]++;nl.s[27]++;n=NetUtils.ipToBytes(n)}let[l,t]=(nl.s[28]++,e.split("/"));nl.s[29]++;t=-1<<32-parseInt(t);nl.s[30]++;return(NetUtils._IPv4toLong(n)&t)===NetUtils._IPv4toLong(l)}static isIPv4Address(n){nl.f[3]++;nl.s[31]++;if(n instanceof Uint8Array){nl.b[14][0]++;nl.s[32]++;return n.length===NetUtils.IPv4_LENGTH}nl.b[14][1]++;const e=(nl.s[33]++,n.match(/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/));nl.s[34]++;return(nl.b[15][0]++,!!e)&&(nl.b[15][1]++,parseInt(e[1])<=255)&&(nl.b[15][2]++,parseInt(e[2])<=255)&&(nl.b[15][3]++,parseInt(e[3])<=255)&&(nl.b[15][4]++,parseInt(e[4])<=255)}static isIPv6Address(n){nl.f[4]++;nl.s[35]++;if(n instanceof Uint8Array){nl.b[16][0]++;nl.s[36]++;return n.length===NetUtils.IPv6_LENGTH}nl.b[16][1]++;const e=(nl.s[37]++,n.toLowerCase().split(":"));nl.s[38]++;if((nl.b[18][0]++,e.length>8)||(nl.b[18][1]++,e.length<3)){nl.b[17][0]++;nl.s[39]++;return!1}nl.b[17][1]++;const l=(nl.s[40]++,NetUtils.isIPv4Address(e[e.length-1]));let t=(nl.s[41]++,!1);nl.s[42]++;for(let o=0;o<e.length;++o){nl.s[43]++;if(!((nl.b[20][0]++,/^[a-f0-9]{0,4}$/.test(e[o]))||(nl.b[20][1]++,o===e.length-1)&&(nl.b[20][2]++,l)&&(nl.b[20][3]++,e.length<8))){nl.b[19][0]++;nl.s[44]++;return!1}nl.b[19][1]++;nl.s[45]++;if((nl.b[22][0]++,0===e[o].length)&&(nl.b[22][1]++,o>0)&&(nl.b[22][2]++,o<e.length-1)){nl.b[21][0]++;nl.s[46]++;if(t){nl.b[23][0]++;nl.s[47]++;return!1}nl.b[23][1]++;nl.s[48]++;t=!0}else nl.b[21][1]++}nl.s[49]++;if(l){nl.b[24][0]++;nl.s[50]++;for(let n=0;n<e.length-2;++n){nl.s[51]++;if(!/^0{0,4}$/.test(e[n])){nl.b[25][0]++;nl.s[52]++;return!1}nl.b[25][1]++}}else nl.b[24][1]++;nl.s[53]++;if(0===e[0].length){nl.b[26][0]++;nl.s[54]++;return 0===e[1].length}nl.b[26][1]++;nl.s[55]++;if(0===e[e.length-1].length){nl.b[27][0]++;nl.s[56]++;return 0===e[e.length-2].length}nl.b[27][1]++;nl.s[57]++;if((nl.b[29][0]++,l)&&(nl.b[29][1]++,e.length<7)){nl.b[28][0]++;nl.s[58]++;return t}nl.b[28][1]++;nl.s[59]++;if(e.length<8){nl.b[30][0]++;nl.s[60]++;return t}nl.b[30][1]++;nl.s[61]++;return!0}static sanitizeIP(n){nl.f[5]++;const e=(nl.s[62]++,NetUtils._normalizeIP(n));nl.s[63]++;if(NetUtils.IP_BLACKLIST.indexOf(e)>=0){nl.b[31][0]++;nl.s[64]++;throw`Malformed IP address ${n}`}nl.b[31][1]++;nl.s[65]++;return e}static hostGloballyReachable(n){nl.f[6]++;nl.s[66]++;if((nl.b[33][0]++,NetUtils.isIPv4Address(n))||(nl.b[33][1]++,NetUtils.isIPv6Address(n))){nl.b[32][0]++;nl.s[67]++;return!1}nl.b[32][1]++;nl.s[68]++;if(!n.match(/.+\..+$/)){nl.b[34][0]++;nl.s[69]++;return!1}nl.b[34][1]++;nl.s[70]++;return!0}static _normalizeIP(n){nl.f[7]++;nl.s[71]++;if(NetUtils.isIPv4Address(n)){nl.b[35][0]++;const e=(nl.s[72]++,n.match(/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/));nl.s[73]++;return`${parseInt(e[1])}.${parseInt(e[2])}.${parseInt(e[3])}.${parseInt(e[4])}`}nl.b[35][1]++;nl.s[74]++;if(NetUtils.isIPv6Address(n)){nl.b[36][0]++;nl.s[75]++;n=n.toLowerCase();let e=(nl.s[76]++,n.split(":"));nl.s[77]++;if(NetUtils.isIPv4Address(e[e.length-1])){nl.b[37][0]++;nl.s[78]++;return NetUtils._normalizeIP(e[e.length-1])}nl.b[37][1]++;nl.s[79]++;e=NetUtils._extendIPv6(e);let l=(nl.s[80]++,-1),t=(nl.s[81]++,0),o=(nl.s[82]++,-1),i=(nl.s[83]++,1);nl.s[84]++;for(let n=0;n<e.length;++n){nl.s[85]++;e[n]=e[n].replace(/^0+([a-f0-9])/,"$1");nl.s[86]++;if("0"===e[n]){nl.b[38][0]++;nl.s[87]++;if(o<0){nl.b[39][0]++;nl.s[88]++;o=n}else{nl.b[39][1]++;nl.s[89]++;i++}}else{nl.b[38][1]++;nl.s[90]++;if((nl.b[41][0]++,o>=0)&&(nl.b[41][1]++,i>t)){nl.b[40][0]++;nl.s[91]++;l=o;nl.s[92]++;t=i;nl.s[93]++;o=-1;nl.s[94]++;i=1}else nl.b[40][1]++}}nl.s[95]++;if((nl.b[43][0]++,o>=0)&&(nl.b[43][1]++,i>t)){nl.b[42][0]++;nl.s[96]++;l=o;nl.s[97]++;t=i}else nl.b[42][1]++;nl.s[98]++;if((nl.b[45][0]++,l>=0)&&(nl.b[45][1]++,t>1)){nl.b[44][0]++;nl.s[99]++;if(t===e.length){nl.b[46][0]++;nl.s[100]++;return"::"}nl.b[46][1]++;nl.s[101]++;if((nl.b[48][0]++,0===l)||(nl.b[48][1]++,l+t===e.length)){nl.b[47][0]++;nl.s[102]++;e.splice(l,t,":")}else{nl.b[47][1]++;nl.s[103]++;e.splice(l,t,"")}}else nl.b[44][1]++;nl.s[104]++;return e.join(":")}nl.b[36][1]++;nl.s[105]++;throw`Malformed IP address ${n}`}static _IPv4toLong(n){nl.f[8]++;nl.s[106]++;if(n instanceof Uint8Array)nl.b[49][1]++;else{nl.b[49][0]++;nl.s[107]++;n=NetUtils.ipToBytes(n)}nl.s[108]++;return(n[0]<<24)+(n[1]<<16)+(n[2]<<8)+n[3]}static _IPv4toIPv6(n){nl.f[9]++;let e=(nl.s[109]++,n.split("."));nl.s[110]++;e=e.map(n=>{nl.f[10]++;nl.s[111]++;return parseInt(n)});const l=(nl.s[112]++,[]);nl.s[113]++;for(let t=0;t<4;t++){nl.s[114]++;l.push(("00"+e[t].toString(16)).slice(-2))}nl.s[115]++;return`${l[0]}${l[1]}:${l[2]}${l[3]}`}static ipToBytes(n){nl.f[11]++;nl.s[116]++;if(NetUtils.isIPv4Address(n)){nl.b[50][0]++;const e=(nl.s[117]++,n.split("."));nl.s[118]++;return new Uint8Array(e.map(n=>{nl.f[12]++;nl.s[119]++;return parseInt(n)}))}nl.b[50][1]++;nl.s[120]++;if(NetUtils.isIPv6Address(n)){nl.b[51][0]++;let e=(nl.s[121]++,n.toLowerCase().split(":"));nl.s[122]++;if(NetUtils.isIPv4Address(e[e.length-1])){nl.b[52][0]++;nl.s[123]++;return NetUtils.ipToBytes(e[e.length-1])}nl.b[52][1]++;nl.s[124]++;e=NetUtils._extendIPv6(e);nl.s[125]++;e=e.map(n=>{nl.f[13]++;nl.s[126]++;return parseInt(n,16)});const l=(nl.s[127]++,[]);nl.s[128]++;for(let n=0;n<8;n++){nl.s[129]++;l.push(e[n]>>8);nl.s[130]++;l.push(255&e[n])}nl.s[131]++;return new Uint8Array(l)}nl.b[51][1]++;nl.s[132]++;throw`Malformed IP address ${n}`}static bytesToIp(n){nl.f[14]++;nl.s[133]++;if(NetUtils.isIPv4Address(n)){nl.b[53][0]++;nl.s[134]++;return n.join(".")}nl.b[53][1]++;nl.s[135]++;if(NetUtils.isIPv6Address(n)){nl.b[54][0]++;const e=(nl.s[136]++,Array.from(n,n=>{nl.f[15]++;nl.s[137]++;return("00"+n.toString(16)).slice(-2)})),l=(nl.s[138]++,[]);nl.s[139]++;for(let n=0;n<8;n++){nl.s[140]++;l.push(e[2*n]+e[2*n+1])}nl.s[141]++;return NetUtils.sanitizeIP(l.join(":"))}nl.b[54][1]++;nl.s[142]++;throw`Malformed IP address ${n}`}static _extendIPv6(n){nl.f[16]++;nl.s[143]++;if(NetUtils.isIPv4Address(n[n.length-1])){nl.b[55][0]++;const e=(nl.s[144]++,n[n.length-1]),l=(nl.s[145]++,NetUtils._IPv4toIPv6(e));nl.s[146]++;ip=ip.replace(e,l);nl.s[147]++;n=ip.toLowerCase().split(":")}else nl.b[55][1]++;let e=(nl.s[148]++,n.indexOf(""));nl.s[149]++;if(e>=0){nl.b[56][0]++;nl.s[150]++;n[e]="0";nl.s[151]++;for(let l=n.length;l<8;l++){nl.s[152]++;n.splice(e,0,"0")}}else nl.b[56][1]++;nl.s[153]++;e=n.indexOf("");nl.s[154]++;for(;e>=0;){nl.s[155]++;n[e]="0";nl.s[156]++;e=n.indexOf("")}nl.s[157]++;return n}static ipToSubnet(n,e){nl.f[17]++;let l=(nl.s[158]++,!1);nl.s[159]++;if(n instanceof Uint8Array)nl.b[57][1]++;else{nl.b[57][0]++;nl.s[160]++;n=NetUtils.ipToBytes(n);nl.s[161]++;l=!0}const t=(nl.s[162]++,[]);nl.s[163]++;for(let i=0;i<n.byteLength;i++){const l=(nl.s[164]++,Math.min(e,8));nl.s[165]++;t.push(n[i]&256-Math.pow(2,8-l));nl.s[166]++;e-=l}const o=(nl.s[167]++,new Uint8Array(t));nl.s[168]++;return l?(nl.b[58][0]++,NetUtils.bytesToIp(o)):(nl.b[58][1]++,o)}}nl.s[169]++;NetUtils.IPv4_LENGTH=4;nl.s[170]++;NetUtils.IPv6_LENGTH=16;nl.s[171]++;NetUtils.IP_BLACKLIST=["0.0.0.0","255.255.255.255","::"];nl.s[172]++;NetUtils.IPv4_PRIVATE_NETWORK=["10.0.0.0/8","172.16.0.0/12","192.168.0.0/16","100.64.0.0/10","169.254.0.0/16"];nl.s[173]++;Class.register(NetUtils);var el=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/PeerKeyStore.js",e="d1e24885cf0425cd2607f83cd6c8088c40f264cb",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/PeerKeyStore.js",statementMap:{0:{start:{line:6,column:8},end:{line:16,column:9}},1:{start:{line:7,column:24},end:{line:7,column:119}},2:{start:{line:10,column:12},end:{line:10,column:97}},3:{start:{line:13,column:12},end:{line:13,column:32}},4:{start:{line:15,column:12},end:{line:15,column:101}},5:{start:{line:17,column:8},end:{line:17,column:38}},6:{start:{line:24,column:22},end:{line:24,column:62}},7:{start:{line:25,column:8},end:{line:25,column:39}},8:{start:{line:32,column:8},end:{line:32,column:28}},9:{start:{line:40,column:8},end:{line:40,column:36}},10:{start:{line:49,column:8},end:{line:49,column:45}},11:{start:{line:52,column:0},end:{line:52,column:30}},12:{start:{line:53,column:0},end:{line:53,column:25}},13:{start:{line:54,column:0},end:{line:54,column:35}},14:{start:{line:55,column:0},end:{line:55,column:44}},15:{start:{line:56,column:0},end:{line:56,column:29}},16:{start:{line:67,column:8},end:{line:67,column:31}},17:{start:{line:76,column:8},end:{line:76,column:58}},18:{start:{line:83,column:8},end:{line:83,column:24}},19:{start:{line:90,column:8},end:{line:90,column:44}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:33},end:{line:18,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:23,column:4},end:{line:23,column:5}},loc:{start:{line:23,column:28},end:{line:26,column:5}},line:23},2:{name:"(anonymous_2)",decl:{start:{line:31,column:4},end:{line:31,column:5}},loc:{start:{line:31,column:23},end:{line:33,column:5}},line:31},3:{name:"(anonymous_3)",decl:{start:{line:39,column:4},end:{line:39,column:5}},loc:{start:{line:39,column:13},end:{line:41,column:5}},line:39},4:{name:"(anonymous_4)",decl:{start:{line:48,column:4},end:{line:48,column:5}},loc:{start:{line:48,column:22},end:{line:50,column:5}},line:48},5:{name:"(anonymous_5)",decl:{start:{line:66,column:4},end:{line:66,column:5}},loc:{start:{line:66,column:16},end:{line:68,column:5}},line:66},6:{name:"(anonymous_6)",decl:{start:{line:75,column:4},end:{line:75,column:5}},loc:{start:{line:75,column:21},end:{line:77,column:5}},line:75},7:{name:"(anonymous_7)",decl:{start:{line:82,column:4},end:{line:82,column:5}},loc:{start:{line:82,column:31},end:{line:84,column:5}},line:82},8:{name:"(anonymous_8)",decl:{start:{line:89,column:4},end:{line:89,column:5}},loc:{start:{line:89,column:28},end:{line:91,column:5}},line:89}},branchMap:{0:{loc:{start:{line:6,column:8},end:{line:16,column:9}},type:"if",locations:[{start:{line:6,column:8},end:{line:16,column:9}},{start:{line:6,column:8},end:{line:16,column:9}}],line:6}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class PeerKeyStore{static async getPersistent(){el.f[0]++;el.s[0]++;if(PeerKeyStore._instance)el.b[0][1]++;else{el.b[0][0]++;const n=(el.s[1]++,new JDB.JungleDB("peer-key",PeerKeyStore.VERSION,{maxDbSize:PeerKeyStore.INITIAL_DB_SIZE}));el.s[2]++;n.createObjectStore(PeerKeyStore.KEY_DATABASE,{codec:new PeerKeyStoreCodec});el.s[3]++;await n.connect();el.s[4]++;PeerKeyStore._instance=new PeerKeyStore(n.getObjectStore(PeerKeyStore.KEY_DATABASE))}el.s[5]++;return PeerKeyStore._instance}static createVolatile(){el.f[1]++;const n=(el.s[6]++,JDB.JungleDB.createVolatileObjectStore());el.s[7]++;return new PeerKeyStore(n)}constructor(n){el.f[2]++;el.s[8]++;this._store=n}get(n){el.f[3]++;el.s[9]++;return this._store.get(n)}put(n,e){el.f[4]++;el.s[10]++;return this._store.put(n,e)}}el.s[11]++;PeerKeyStore._instance=null;el.s[12]++;PeerKeyStore.VERSION=2;el.s[13]++;PeerKeyStore.KEY_DATABASE="keys";el.s[14]++;PeerKeyStore.INITIAL_DB_SIZE=10485760;el.s[15]++;Class.register(PeerKeyStore);class PeerKeyStoreCodec{encode(n){el.f[5]++;el.s[16]++;return n.serialize()}decode(n,e){el.f[6]++;el.s[17]++;return KeyPair.unserialize(new SerialBuffer(n))}get leveldbValueEncoding(){el.f[7]++;el.s[18]++;return"binary"}get lmdbValueEncoding(){el.f[8]++;el.s[19]++;return JDB.JungleDB.BINARY_ENCODING}}var ll=function(){var n="/home/soeren/nimiq/core/src/main/generic/network/Peer.js",e="9457032001a1bfa712e603065a75ef3d564022ce",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/network/Peer.js",statementMap:{0:{start:{line:10,column:8},end:{line:10,column:32}},1:{start:{line:12,column:8},end:{line:12,column:32}},2:{start:{line:14,column:8},end:{line:14,column:34}},3:{start:{line:16,column:8},end:{line:16,column:26}},4:{start:{line:21,column:8},end:{line:21,column:38}},5:{start:{line:23,column:8},end:{line:23,column:30}},6:{start:{line:32,column:8},end:{line:55,column:9}},7:{start:{line:37,column:12},end:{line:40,column:13}},8:{start:{line:38,column:16},end:{line:39,column:73}},9:{start:{line:44,column:12},end:{line:46,column:13}},10:{start:{line:45,column:16},end:{line:45,column:70}},11:{start:{line:49,column:13},end:{line:55,column:9}},12:{start:{line:50,column:12},end:{line:50,column:74}},13:{start:{line:54,column:12},end:{line:54,column:57}},14:{start:{line:60,column:8},end:{line:60,column:29}},15:{start:{line:65,column:8},end:{line:65,column:29}},16:{start:{line:70,column:8},end:{line:70,column:30}},17:{start:{line:75,column:8},end:{line:75,column:26}},18:{start:{line:80,column:8},end:{line:80,column:26}},19:{start:{line:81,column:8},end:{line:81,column:37}},20:{start:{line:86,column:8},end:{line:86,column:32}},21:{start:{line:91,column:8},end:{line:91,column:32}},22:{start:{line:96,column:8},end:{line:96,column:41}},23:{start:{line:101,column:8},end:{line:101,column:40}},24:{start:{line:109,column:8},end:{line:110,column:47}},25:{start:{line:114,column:8},end:{line:114,column:40}},26:{start:{line:121,column:8},end:{line:122,column:80}},27:{start:{line:125,column:0},end:{line:125,column:21}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:4},end:{line:8,column:5}},loc:{start:{line:8,column:56},end:{line:24,column:5}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:30,column:4},end:{line:30,column:5}},loc:{start:{line:30,column:21},end:{line:56,column:5}},line:30},2:{name:"(anonymous_2)",decl:{start:{line:59,column:4},end:{line:59,column:5}},loc:{start:{line:59,column:18},end:{line:61,column:5}},line:59},3:{name:"(anonymous_3)",decl:{start:{line:64,column:4},end:{line:64,column:5}},loc:{start:{line:64,column:18},end:{line:66,column:5}},line:64},4:{name:"(anonymous_4)",decl:{start:{line:69,column:4},end:{line:69,column:5}},loc:{start:{line:69,column:19},end:{line:71,column:5}},line:69},5:{name:"(anonymous_5)",decl:{start:{line:74,column:4},end:{line:74,column:5}},loc:{start:{line:74,column:15},end:{line:76,column:5}},line:74},6:{name:"(anonymous_6)",decl:{start:{line:79,column:4},end:{line:79,column:5}},loc:{start:{line:79,column:19},end:{line:82,column:5}},line:79},7:{name:"(anonymous_7)",decl:{start:{line:85,column:4},end:{line:85,column:5}},loc:{start:{line:85,column:21},end:{line:87,column:5}},line:85},8:{name:"(anonymous_8)",decl:{start:{line:90,column:4},end:{line:90,column:5}},loc:{start:{line:90,column:13},end:{line:92,column:5}},line:90},9:{name:"(anonymous_9)",decl:{start:{line:95,column:4},end:{line:95,column:5}},loc:{start:{line:95,column:22},end:{line:97,column:5}},line:95},10:{name:"(anonymous_10)",decl:{start:{line:100,column:4},end:{line:100,column:5}},loc:{start:{line:100,column:21},end:{line:102,column:5}},line:100},11:{name:"(anonymous_11)",decl:{start:{line:108,column:4},end:{line:108,column:5}},loc:{start:{line:108,column:14},end:{line:111,column:5}},line:108},12:{name:"(anonymous_12)",decl:{start:{line:113,column:4},end:{line:113,column:5}},loc:{start:{line:113,column:15},end:{line:115,column:5}},line:113},13:{name:"(anonymous_13)",decl:{start:{line:120,column:4},end:{line:120,column:5}},loc:{start:{line:120,column:15},end:{line:123,column:5}},line:120}},branchMap:{0:{loc:{start:{line:32,column:8},end:{line:55,column:9}},type:"if",locations:[{start:{line:32,column:8},end:{line:55,column:9}},{start:{line:32,column:8},end:{line:55,column:9}}],line:32},1:{loc:{start:{line:37,column:12},end:{line:40,column:13}},type:"if",locations:[{start:{line:37,column:12},end:{line:40,column:13}},{start:{line:37,column:12},end:{line:40,column:13}}],line:37},2:{loc:{start:{line:37,column:16},end:{line:37,column:107}},type:"binary-expr",locations:[{start:{line:37,column:16},end:{line:37,column:43}},{start:{line:37,column:47},end:{line:37,column:107}}],line:37},3:{loc:{start:{line:44,column:12},end:{line:46,column:13}},type:"if",locations:[{start:{line:44,column:12},end:{line:46,column:13}},{start:{line:44,column:12},end:{line:46,column:13}}],line:44},4:{loc:{start:{line:49,column:13},end:{line:55,column:9}},type:"if",locations:[{start:{line:49,column:13},end:{line:55,column:9}},{start:{line:49,column:13},end:{line:55,column:9}}],line:49},5:{loc:{start:{line:109,column:15},end:{line:110,column:46}},type:"binary-expr",locations:[{start:{line:109,column:15},end:{line:109,column:32}},{start:{line:110,column:15},end:{line:110,column:46}}],line:109}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Peer{constructor(n,e,l,t){ll.f[0]++;ll.s[0]++;this._channel=n;ll.s[1]++;this._version=e;ll.s[2]++;this._headHash=l;ll.s[3]++;this._head=null;ll.s[4]++;this._timeOffset=t;ll.s[5]++;this._setNetAddress()}_setNetAddress(){ll.f[1]++;ll.s[6]++;if(this.channel.netAddress){ll.b[0][0]++;ll.s[7]++;if((ll.b[2][0]++,this.peerAddress.netAddress)&&(ll.b[2][1]++,!this.peerAddress.netAddress.equals(this.channel.netAddress))){ll.b[1][0]++;ll.s[8]++;Log.w(Peer,`Got different netAddress ${this.channel.netAddress} for ${this.peerAddress} `+`- advertised was ${this.peerAddress.netAddress}`)}else ll.b[1][1]++;ll.s[9]++;if(this.channel.netAddress.isPrivate())ll.b[3][1]++;else{ll.b[3][0]++;ll.s[10]++;this.peerAddress.netAddress=this.channel.netAddress}}else{ll.b[0][1]++;ll.s[11]++;if(this.channel.peerAddress.netAddress){ll.b[4][0]++;ll.s[12]++;this.channel.netAddress=this.channel.peerAddress.netAddress}else{ll.b[4][1]++;ll.s[13]++;this.channel.netAddress=NetAddress.UNKNOWN}}}get channel(){ll.f[2]++;ll.s[14]++;return this._channel}get version(){ll.f[3]++;ll.s[15]++;return this._version}get headHash(){ll.f[4]++;ll.s[16]++;return this._headHash}get head(){ll.f[5]++;ll.s[17]++;return this._head}set head(n){ll.f[6]++;ll.s[18]++;this._head=n;ll.s[19]++;this._headHash=n.hash()}get timeOffset(){ll.f[7]++;ll.s[20]++;return this._timeOffset}get id(){ll.f[8]++;ll.s[21]++;return this._channel.id}get peerAddress(){ll.f[9]++;ll.s[22]++;return this._channel.peerAddress}get netAddress(){ll.f[10]++;ll.s[23]++;return this._channel.netAddress}equals(n){ll.f[11]++;ll.s[24]++;return(ll.b[5][0]++,n instanceof Peer)&&(ll.b[5][1]++,this._channel.equals(n.channel))}hashCode(){ll.f[12]++;ll.s[25]++;return this._channel.hashCode()}toString(){ll.f[13]++;ll.s[26]++;return`Peer{version=${this._version}, headHash=${this._headHash}, `+`peerAddress=${this.peerAddress}, netAddress=${this.netAddress}}`}}ll.s[27]++;Class.register(Peer);var tl=function(){var n="/home/soeren/nimiq/core/src/main/generic/miner/Miner.js",e="c1e004ce2230841986b9b956cf04f36967286b78",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/miner/Miner.js",statementMap:{0:{start:{line:14,column:8},end:{line:14,column:16}},1:{start:{line:16,column:8},end:{line:16,column:38}},2:{start:{line:18,column:8},end:{line:18,column:34}},3:{start:{line:20,column:8},end:{line:20,column:32}},4:{start:{line:22,column:8},end:{line:22,column:26}},5:{start:{line:24,column:8},end:{line:24,column:37}},6:{start:{line:26,column:8},end:{line:26,column:36}},7:{start:{line:33,column:8},end:{line:33,column:28}},8:{start:{line:40,column:8},end:{line:40,column:31}},9:{start:{line:46,column:8},end:{line:46,column:36}},10:{start:{line:53,column:8},end:{line:53,column:27}},11:{start:{line:60,column:8},end:{line:60,column:34}},12:{start:{line:67,column:8},end:{line:67,column:33}},13:{start:{line:74,column:8},end:{line:74,column:31}},14:{start:{line:81,column:8},end:{line:81,column:31}},15:{start:{line:84,column:8},end:{line:84,column:49}},16:{start:{line:86,column:8},end:{line:94,column:9}},17:{start:{line:87,column:12},end:{line:87,column:72}},18:{start:{line:88,column:15},end:{line:94,column:9}},19:{start:{line:89,column:26},end:{line:89,column:53}},20:{start:{line:90,column:12},end:{line:90,column:48}},21:{start:{line:91,column:12},end:{line:91,column:52}},22:{start:{line:91,column:29},end:{line:91,column:52}},23:{start:{line:93,column:12},end:{line:93,column:29}},24:{start:{line:95,column:8},end:{line:95,column:72}},25:{start:{line:95,column:46},end:{line:95,column:70}},26:{start:{line:96,column:8},end:{line:96,column:75}},27:{start:{line:96,column:49},end:{line:96,column:73}},28:{start:{line:103,column:8},end:{line:103,column:37}},29:{start:{line:106,column:8},end:{line:106,column:33}},30:{start:{line:109,column:8},end:{line:109,column:30}},31:{start:{line:112,column:8},end:{line:112,column:38}},32:{start:{line:118,column:8},end:{line:118,column:72}},33:{start:{line:118,column:53},end:{line:118,column:70}},34:{start:{line:121,column:8},end:{line:121,column:81}},35:{start:{line:121,column:52},end:{line:121,column:79}},36:{start:{line:125,column:8},end:{line:127,column:9}},37:{start:{line:126,column:12},end:{line:126,column:19}},38:{start:{line:130,column:8},end:{line:130,column:28}},39:{start:{line:131,column:8},end:{line:131,column:31}},40:{start:{line:132,column:8},end:{line:132,column:34}},41:{start:{line:133,column:8},end:{line:133,column:33}},42:{start:{line:134,column:8},end:{line:134,column:31}},43:{start:{line:135,column:8},end:{line:135,column:40}},44:{start:{line:136,column:8},end:{line:136,column:79}},45:{start:{line:136,column:49},end:{line:136,column:71}},46:{start:{line:137,column:8},end:{line:137,column:24}},47:{start:{line:140,column:8},end:{line:140,column:33}},48:{start:{line:143,column:8},end:{line:143,column:50}},49:{start:{line:148,column:8},end:{line:150,column:9}},50:{start:{line:149,column:12},end:{line:149,column:19}},51:{start:{line:151,column:8},end:{line:169,column:9}},52:{start:{line:152,column:12},end:{line:152,column:43}},53:{start:{line:153,column:12},end:{line:153,column:36}},54:{start:{line:154,column:12},end:{line:154,column:41}},55:{start:{line:157,column:12},end:{line:157,column:28}},56:{start:{line:158,column:26},end:{line:158,column:51}},57:{start:{line:160,column:12},end:{line:160,column:137}},58:{start:{line:162,column:12},end:{line:162,column:79}},59:{start:{line:164,column:12},end:{line:164,column:68}},60:{start:{line:165,column:12},end:{line:165,column:28}},61:{start:{line:166,column:12},end:{line:166,column:52}},62:{start:{line:166,column:29},end:{line:166,column:45}},63:{start:{line:168,column:12},end:{line:168,column:37}},64:{start:{line:177,column:8},end:{line:177,column:57}},65:{start:{line:178,column:8},end:{line:199,column:9}},66:{start:{line:179,column:12},end:{line:179,column:85}},67:{start:{line:179,column:31},end:{line:179,column:83}},68:{start:{line:180,column:12},end:{line:198,column:13}},69:{start:{line:181,column:16},end:{line:181,column:51}},70:{start:{line:182,column:16},end:{line:182,column:45}},71:{start:{line:183,column:16},end:{line:197,column:17}},72:{start:{line:185,column:20},end:{line:185,column:62}},73:{start:{line:188,column:20},end:{line:194,column:21}},74:{start:{line:189,column:24},end:{line:189,column:54}},75:{start:{line:190,column:24},end:{line:190,column:66}},76:{start:{line:191,column:24},end:{line:191,column:31}},77:{start:{line:193,column:24},end:{line:193,column:54}},78:{start:{line:196,column:20},end:{line:196,column:92}},79:{start:{line:200,column:8},end:{line:202,column:9}},80:{start:{line:201,column:12},end:{line:201,column:54}},81:{start:{line:210,column:8},end:{line:210,column:22}},82:{start:{line:211,column:8},end:{line:222,column:9}},83:{start:{line:212,column:31},end:{line:212,column:69}},84:{start:{line:213,column:30},end:{line:213,column:70}},85:{start:{line:214,column:25},end:{line:214,column:74}},86:{start:{line:215,column:27},end:{line:215,column:81}},87:{start:{line:216,column:12},end:{line:216,column:100}},88:{start:{line:216,column:73},end:{line:216,column:100}},89:{start:{line:217,column:12},end:{line:217,column:54}},90:{start:{line:220,column:12},end:{line:220,column:61}},91:{start:{line:220,column:34},end:{line:220,column:61}},92:{start:{line:221,column:12},end:{line:221,column:20}},93:{start:{line:233,column:25},end:{line:233,column:50}},94:{start:{line:234,column:30},end:{line:234,column:46}},95:{start:{line:235,column:23},end:{line:235,column:50}},96:{start:{line:238,column:25},end:{line:238,column:59}},97:{start:{line:240,column:8},end:{line:247,column:9}},98:{start:{line:241,column:12},end:{line:241,column:92}},99:{start:{line:242,column:12},end:{line:242,column:49}},100:{start:{line:243,column:12},end:{line:243,column:35}},101:{start:{line:245,column:12},end:{line:245,column:35}},102:{start:{line:246,column:12},end:{line:246,column:64}},103:{start:{line:249,column:25},end:{line:249,column:36}},104:{start:{line:250,column:26},end:{line:250,column:50}},105:{start:{line:251,column:22},end:{line:251,column:60}},106:{start:{line:252,column:22},end:{line:252,column:23}},107:{start:{line:253,column:8},end:{line:253,column:113}},108:{start:{line:262,column:8},end:{line:262,column:66}},109:{start:{line:271,column:24},end:{line:274,column:56}},110:{start:{line:275,column:29},end:{line:275,column:81}},111:{start:{line:276,column:31},end:{line:276,column:154}},112:{start:{line:277,column:8},end:{line:277,column:91}},113:{start:{line:285,column:20},end:{line:285,column:55}},114:{start:{line:286,column:8},end:{line:286,column:66}},115:{start:{line:294,column:8},end:{line:296,column:9}},116:{start:{line:295,column:12},end:{line:295,column:19}},117:{start:{line:298,column:8},end:{line:298,column:44}},118:{start:{line:299,column:8},end:{line:299,column:36}},119:{start:{line:300,column:8},end:{line:300,column:27}},120:{start:{line:301,column:8},end:{line:301,column:31}},121:{start:{line:302,column:8},end:{line:302,column:34}},122:{start:{line:303,column:8},end:{line:303,column:33}},123:{start:{line:304,column:8},end:{line:304,column:31}},124:{start:{line:307,column:8},end:{line:307,column:32}},125:{start:{line:308,column:8},end:{line:308,column:32}},126:{start:{line:310,column:8},end:{line:310,column:37}},127:{start:{line:318,column:24},end:{line:318,column:64}},128:{start:{line:319,column:26},end:{line:319,column:41}},129:{start:{line:321,column:8},end:{line:321,column:28}},130:{start:{line:322,column:8},end:{line:322,column:40}},131:{start:{line:325,column:8},end:{line:325,column:40}},132:{start:{line:326,column:8},end:{line:326,column:45}},133:{start:{line:327,column:8},end:{line:327,column:38}},134:{start:{line:328,column:8},end:{line:328,column:42}},135:{start:{line:330,column:8},end:{line:335,column:9}},136:{start:{line:331,column:34},end:{line:331,column:59}},137:{start:{line:332,column:36},end:{line:332,column:64}},138:{start:{line:333,column:12},end:{line:333,column:48}},139:{start:{line:334,column:12},end:{line:334,column:52}},140:{start:{line:337,column:8},end:{line:337,column:79}},141:{start:{line:340,column:8},end:{line:340,column:60}},142:{start:{line:345,column:8},end:{line:345,column:29}},143:{start:{line:350,column:8},end:{line:350,column:38}},144:{start:{line:355,column:8},end:{line:355,column:30}},145:{start:{line:360,column:8},end:{line:360,column:41}},146:{start:{line:367,column:8},end:{line:367,column:44}},147:{start:{line:372,column:8},end:{line:372,column:42}},148:{start:{line:379,column:8},end:{line:379,column:50}},149:{start:{line:384,column:8},end:{line:384,column:45}},150:{start:{line:391,column:8},end:{line:391,column:54}},151:{start:{line:395,column:0},end:{line:395,column:32}},152:{start:{line:396,column:0},end:{line:396,column:35}},153:{start:{line:397,column:0},end:{line:397,column:22}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:13,column:4},end:{line:13,column:5}},loc:{start:{line:13,column:98},end:{line:122,column:5}},line:13},1:{name:"(anonymous_1)",decl:{start:{line:95,column:37},end:{line:95,column:38}},loc:{start:{line:95,column:46},end:{line:95,column:70}},line:95},2:{name:"(anonymous_2)",decl:{start:{line:96,column:40},end:{line:96,column:41}},loc:{start:{line:96,column:49},end:{line:96,column:73}},line:96},3:{name:"(anonymous_3)",decl:{start:{line:118,column:47},end:{line:118,column:48}},loc:{start:{line:118,column:53},end:{line:118,column:70}},line:118},4:{name:"(anonymous_4)",decl:{start:{line:121,column:46},end:{line:121,column:47}},loc:{start:{line:121,column:52},end:{line:121,column:79}},line:121},5:{name:"(anonymous_5)",decl:{start:{line:124,column:4},end:{line:124,column:5}},loc:{start:{line:124,column:16},end:{line:144,column:5}},line:124},6:{name:"(anonymous_6)",decl:{start:{line:136,column:43},end:{line:136,column:44}},loc:{start:{line:136,column:49},end:{line:136,column:71}},line:136},7:{name:"(anonymous_7)",decl:{start:{line:146,column:4},end:{line:146,column:5}},loc:{start:{line:146,column:23},end:{line:170,column:5}},line:146},8:{name:"(anonymous_8)",decl:{start:{line:166,column:23},end:{line:166,column:24}},loc:{start:{line:166,column:29},end:{line:166,column:45}},line:166},9:{name:"(anonymous_9)",decl:{start:{line:176,column:4},end:{line:176,column:5}},loc:{start:{line:176,column:30},end:{line:203,column:5}},line:176},10:{name:"(anonymous_10)",decl:{start:{line:179,column:25},end:{line:179,column:26}},loc:{start:{line:179,column:31},end:{line:179,column:83}},line:179},11:{name:"(anonymous_11)",decl:{start:{line:209,column:4},end:{line:209,column:5}},loc:{start:{line:209,column:25},end:{line:223,column:5}},line:209},12:{name:"(anonymous_12)",decl:{start:{line:232,column:4},end:{line:232,column:5}},loc:{start:{line:232,column:54},end:{line:254,column:5}},line:232},13:{name:"(anonymous_13)",decl:{start:{line:261,column:4},end:{line:261,column:5}},loc:{start:{line:261,column:34},end:{line:263,column:5}},line:261},14:{name:"(anonymous_14)",decl:{start:{line:270,column:4},end:{line:270,column:5}},loc:{start:{line:270,column:38},end:{line:278,column:5}},line:270},15:{name:"(anonymous_15)",decl:{start:{line:284,column:4},end:{line:284,column:5}},loc:{start:{line:284,column:24},end:{line:287,column:5}},line:284},16:{name:"(anonymous_16)",decl:{start:{line:292,column:4},end:{line:292,column:5}},loc:{start:{line:292,column:15},end:{line:311,column:5}},line:292},17:{name:"(anonymous_17)",decl:{start:{line:317,column:4},end:{line:317,column:5}},loc:{start:{line:317,column:22},end:{line:341,column:5}},line:317},18:{name:"(anonymous_18)",decl:{start:{line:344,column:4},end:{line:344,column:5}},loc:{start:{line:344,column:18},end:{line:346,column:5}},line:344},19:{name:"(anonymous_19)",decl:{start:{line:349,column:4},end:{line:349,column:5}},loc:{start:{line:349,column:18},end:{line:351,column:5}},line:349},20:{name:"(anonymous_20)",decl:{start:{line:354,column:4},end:{line:354,column:5}},loc:{start:{line:354,column:19},end:{line:356,column:5}},line:354},21:{name:"(anonymous_21)",decl:{start:{line:359,column:4},end:{line:359,column:5}},loc:{start:{line:359,column:18},end:{line:361,column:5}},line:359},22:{name:"(anonymous_22)",decl:{start:{line:366,column:4},end:{line:366,column:5}},loc:{start:{line:366,column:25},end:{line:368,column:5}},line:366},23:{name:"(anonymous_23)",decl:{start:{line:371,column:4},end:{line:371,column:5}},loc:{start:{line:371,column:23},end:{line:373,column:5}},line:371},24:{name:"(anonymous_24)",decl:{start:{line:378,column:4},end:{line:378,column:5}},loc:{start:{line:378,column:35},end:{line:380,column:5}},line:378},25:{name:"(anonymous_25)",decl:{start:{line:383,column:4},end:{line:383,column:5}},loc:{start:{line:383,column:24},end:{line:385,column:5}},line:383},26:{name:"(anonymous_26)",decl:{start:{line:390,column:4},end:{line:390,column:5}},loc:{start:{line:390,column:37},end:{line:392,column:5}},line:390}},branchMap:{0:{loc:{start:{line:13,column:67},end:{line:13,column:96}},type:"default-arg",locations:[{start:{line:13,column:79},end:{line:13,column:96}}],line:13},1:{loc:{start:{line:86,column:8},end:{line:94,column:9}},type:"if",locations:[{start:{line:86,column:8},end:{line:94,column:9}},{start:{line:86,column:8},end:{line:94,column:9}}],line:86},2:{loc:{start:{line:86,column:12},end:{line:86,column:74}},type:"binary-expr",locations:[{start:{line:86,column:12},end:{line:86,column:41}},{start:{line:86,column:45},end:{line:86,column:74}}],line:86},3:{loc:{start:{line:88,column:15},end:{line:94,column:9}},type:"if",locations:[{start:{line:88,column:15},end:{line:94,column:9}},{start:{line:88,column:15},end:{line:94,column:9}}],line:88},4:{loc:{start:{line:91,column:12},end:{line:91,column:52}},type:"if",locations:[{start:{line:91,column:12},end:{line:91,column:52}},{start:{line:91,column:12},end:{line:91,column:52}}],line:91},5:{loc:{start:{line:125,column:8},end:{line:127,column:9}},type:"if",locations:[{start:{line:125,column:8},end:{line:127,column:9}},{start:{line:125,column:8},end:{line:127,column:9}}],line:125},6:{loc:{start:{line:148,column:8},end:{line:150,column:9}},type:"if",locations:[{start:{line:148,column:8},end:{line:150,column:9}},{start:{line:148,column:8},end:{line:150,column:9}}],line:148},7:{loc:{start:{line:148,column:12},end:{line:148,column:45}},type:"binary-expr",locations:[{start:{line:148,column:12},end:{line:148,column:25}},{start:{line:148,column:29},end:{line:148,column:45}}],line:148},8:{loc:{start:{line:178,column:8},end:{line:199,column:9}},type:"if",locations:[{start:{line:178,column:8},end:{line:199,column:9}},{start:{line:178,column:8},end:{line:199,column:9}}],line:178},9:{loc:{start:{line:178,column:12},end:{line:178,column:77}},type:"binary-expr",locations:[{start:{line:178,column:12},end:{line:178,column:21}},{start:{line:178,column:25},end:{line:178,column:77}}],line:178},10:{loc:{start:{line:180,column:12},end:{line:198,column:13}},type:"if",locations:[{start:{line:180,column:12},end:{line:198,column:13}},{start:{line:180,column:12},end:{line:198,column:13}}],line:180},11:{loc:{start:{line:180,column:16},end:{line:180,column:94}},type:"binary-expr",locations:[{start:{line:180,column:16},end:{line:180,column:68}},{start:{line:180,column:72},end:{line:180,column:94}}],line:180},12:{loc:{start:{line:183,column:16},end:{line:197,column:17}},type:"if",locations:[{start:{line:183,column:16},end:{line:197,column:17}},{start:{line:183,column:16},end:{line:197,column:17}}],line:183},13:{loc:{start:{line:188,column:20},end:{line:194,column:21}},type:"if",locations:[{start:{line:188,column:20},end:{line:194,column:21}},{start:{line:188,column:20},end:{line:194,column:21}}],line:188},14:{loc:{start:{line:200,column:8},end:{line:202,column:9}},type:"if",locations:[{start:{line:200,column:8},end:{line:202,column:9}},{start:{line:200,column:8},end:{line:202,column:9}}],line:200},15:{loc:{start:{line:200,column:12},end:{line:200,column:92}},type:"binary-expr",locations:[{start:{line:200,column:12},end:{line:200,column:32}},{start:{line:200,column:36},end:{line:200,column:92}}],line:200},16:{loc:{start:{line:216,column:12},end:{line:216,column:100}},type:"if",locations:[{start:{line:216,column:12},end:{line:216,column:100}},{start:{line:216,column:12},end:{line:216,column:100}}],line:216},17:{loc:{start:{line:220,column:12},end:{line:220,column:61}},type:"if",locations:[{start:{line:220,column:12},end:{line:220,column:61}},{start:{line:220,column:12},end:{line:220,column:61}}],line:220},18:{loc:{start:{line:294,column:8},end:{line:296,column:9}},type:"if",locations:[{start:{line:294,column:8},end:{line:296,column:9}},{start:{line:294,column:8},end:{line:296,column:9}}],line:294},19:{loc:{start:{line:330,column:8},end:{line:335,column:9}},type:"if",locations:[{start:{line:330,column:8},end:{line:335,column:9}},{start:{line:330,column:8},end:{line:335,column:9}}],line:330}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Miner extends Observable{constructor(n,e,l,t,o,i=(tl.b[0][0]++,new Uint8Array(0))){tl.f[0]++;tl.s[0]++;super();tl.s[1]++;this._blockchain=n;tl.s[2]++;this._accounts=e;tl.s[3]++;this._mempool=l;tl.s[4]++;this._time=t;tl.s[5]++;this._address=o;tl.s[6]++;this._extraData=i;tl.s[7]++;this._hashCount=0;tl.s[8]++;this._lastHashrate=0;tl.s[9]++;this._hashrateWorker=null;tl.s[10]++;this._hashrate=0;tl.s[11]++;this._lastHashCounts=[];tl.s[12]++;this._totalHashCount=0;tl.s[13]++;this._lastElapsed=[];tl.s[14]++;this._totalElapsed=0;tl.s[15]++;this._workerPool=new MinerWorkerPool;tl.s[16]++;if((tl.b[2][0]++,"object"==typeof navigator)&&(tl.b[2][1]++,navigator.hardwareConcurrency)){tl.b[1][0]++;tl.s[17]++;this.threads=Math.ceil(navigator.hardwareConcurrency/2)}else{tl.b[1][1]++;tl.s[18]++;if(PlatformUtils.isNodeJs()){tl.b[3][0]++;const n=(tl.s[19]++,require("os").cpus().length);tl.s[20]++;this.threads=Math.ceil(n/2);tl.s[21]++;if(1===n){tl.b[4][0]++;tl.s[22]++;this.throttleAfter=2}else tl.b[4][1]++}else{tl.b[3][1]++;tl.s[23]++;this.threads=1}}tl.s[24]++;this._workerPool.on("share",n=>{tl.f[1]++;tl.s[25]++;return this._onWorkerShare(n)});tl.s[26]++;this._workerPool.on("no-share",n=>{tl.f[2]++;tl.s[27]++;return this._onWorkerShare(n)});tl.s[28]++;this._mempoolChanged=!1;tl.s[29]++;this._restarting=!1;tl.s[30]++;this._lastRestart=0;tl.s[31]++;this._submittingBlock=!1;tl.s[32]++;this._mempool.on("transactions-ready",()=>{tl.f[3]++;tl.s[33]++;return this._startWork()});tl.s[34]++;this._mempool.on("transaction-added",()=>{tl.f[4]++;tl.s[35]++;return this._mempoolChanged=!0})}startWork(){tl.f[5]++;tl.s[36]++;if(this.working){tl.b[5][0]++;tl.s[37]++}else{tl.b[5][1]++;tl.s[38]++;this._hashCount=0;tl.s[39]++;this._lastElapsed=[];tl.s[40]++;this._lastHashCounts=[];tl.s[41]++;this._totalHashCount=0;tl.s[42]++;this._totalElapsed=0;tl.s[43]++;this._lastHashrate=Date.now();tl.s[44]++;this._hashrateWorker=setInterval(()=>{tl.f[6]++;tl.s[45]++;return this._updateHashrate()},1e3);tl.s[46]++;this._retry=0;tl.s[47]++;this.fire("start",this);tl.s[48]++;this._startWork()["catch"](Log.w.tag(Miner))}}async _startWork(){tl.f[7]++;tl.s[49]++;if((tl.b[7][0]++,this.working)&&(tl.b[7][1]++,!this._restarting)){tl.b[6][1]++;tl.s[51]++;try{tl.s[52]++;this._lastRestart=Date.now();tl.s[53]++;this._restarting=!0;tl.s[54]++;this._mempoolChanged=!1;tl.s[55]++;this._retry=0;const e=(tl.s[56]++,await this.getNextBlock());tl.s[57]++;Log.i(Miner,`Starting work on ${e.header}, transactionCount=${e.transactionCount}, hashrate=${this._hashrate} H/s`);tl.s[58]++;this._workerPool.startMiningOnBlock(e)["catch"](Log.w.tag(Miner))}catch(n){tl.s[59]++;Log.w(Miner,"Failed to start work, retrying in 100ms");tl.s[60]++;this.stopWork();tl.s[61]++;setTimeout(()=>{tl.f[8]++;tl.s[62]++;return this.startWork()},100)}finally{tl.s[63]++;this._restarting=!1}}else{tl.b[6][0]++;tl.s[50]++}}async _onWorkerShare(n){tl.f[9]++;tl.s[64]++;this._hashCount+=this._workerPool.noncesPerRun;tl.s[65]++;if((tl.b[9][0]++,n.block)&&(tl.b[9][1]++,n.block.prevHash.equals(this._blockchain.headHash))){tl.b[8][0]++;tl.s[66]++;Log.d(Miner,()=>{tl.f[10]++;tl.s[67]++;return`Received share: ${n.nonce} / ${n.hash.toHex()}`});tl.s[68]++;if((tl.b[11][0]++,BlockUtils.isProofOfWork(n.hash,n.block.target))&&(tl.b[11][1]++,!this._submittingBlock)){tl.b[10][0]++;tl.s[69]++;n.block.header.nonce=n.nonce;tl.s[70]++;this._submittingBlock=!0;tl.s[71]++;if(await n.block.header.verifyProofOfWork()){tl.b[12][0]++;tl.s[72]++;this.fire("block-mined",n.block,this);tl.s[73]++;if(await this._blockchain.pushBlock(n.block)<0){tl.b[13][0]++;tl.s[74]++;this._submittingBlock=!1;tl.s[75]++;this._startWork()["catch"](Log.w.tag(Miner));tl.s[76]++;return}tl.b[13][1]++;tl.s[77]++;this._submittingBlock=!1}else{tl.b[12][1]++;tl.s[78]++;Log.d(Miner,`Ignoring invalid share: ${await n.block.header.pow()}`)}}else tl.b[10][1]++}else tl.b[8][1]++;tl.s[79]++;if((tl.b[15][0]++,this._mempoolChanged)&&(tl.b[15][1]++,this._lastRestart+Miner.MIN_TIME_ON_BLOCK<Date.now())){tl.b[14][0]++;tl.s[80]++;this._startWork()["catch"](Log.w.tag(Miner))}else tl.b[14][1]++}async getNextBlock(){tl.f[11]++;tl.s[81]++;this._retry++;tl.s[82]++;try{const e=(tl.s[83]++,await this._blockchain.getNextTarget()),l=(tl.s[84]++,await this._getNextInterlink(e)),t=(tl.s[85]++,await this._getNextBody(l.serializedSize)),o=(tl.s[86]++,await this._getNextHeader(e,l,t));tl.s[87]++;if(await this._blockchain.getNextTarget()!==e){tl.b[16][0]++;tl.s[88]++;return this.getNextBlock()}tl.b[16][1]++;tl.s[89]++;return new Block(o,l,t)}catch(n){tl.s[90]++;if(this._retry<=3){tl.b[17][0]++;tl.s[91]++;return this.getNextBlock()}tl.b[17][1]++;tl.s[92]++;throw n}}async _getNextHeader(n,e,l){tl.f[12]++;const t=(tl.s[93]++,this._blockchain.headHash),o=(tl.s[94]++,e.hash()),i=(tl.s[95]++,this._blockchain.height+1),c=(tl.s[96]++,await this._accounts.transaction());let s;tl.s[97]++;try{tl.s[98]++;await c.commitBlockBody(l,i,this._blockchain.transactionCache);tl.s[99]++;s=await c.hash();tl.s[100]++;await c.abort()}catch(d){tl.s[101]++;await c.abort();tl.s[102]++;throw new Error(`Invalid block body: ${d.message}`)}const u=(tl.s[103]++,l.hash()),m=(tl.s[104]++,this._getNextTimestamp()),r=(tl.s[105]++,BlockUtils.targetToCompact(n)),a=(tl.s[106]++,0);tl.s[107]++;return new BlockHeader(t,o,u,s,r,i,m,a)}_getNextInterlink(n){tl.f[13]++;tl.s[108]++;return this._blockchain.head.getNextInterlink(n)}async _getNextBody(n){tl.f[14]++;const e=(tl.s[109]++,Policy.BLOCK_SIZE_MAX-BlockHeader.SERIALIZED_SIZE-n-BlockBody.getMetadataSize(this._extraData)),l=(tl.s[110]++,await this._mempool.getTransactionsForBlock(e)),t=(tl.s[111]++,await this._accounts.gatherToBePrunedAccounts(l,this._blockchain.height+1,this._blockchain.transactionCache));tl.s[112]++;return new BlockBody(this._address,l,this._extraData,t)}_getNextTimestamp(){tl.f[15]++;const n=(tl.s[113]++,Math.floor(this._time.now()/1e3));tl.s[114]++;return Math.max(n,this._blockchain.head.timestamp+1)}stopWork(){tl.f[16]++;tl.s[115]++;if(this.working){tl.b[18][1]++;tl.s[117]++;clearInterval(this._hashrateWorker);tl.s[118]++;this._hashrateWorker=null;tl.s[119]++;this._hashrate=0;tl.s[120]++;this._lastElapsed=[];tl.s[121]++;this._lastHashCounts=[];tl.s[122]++;this._totalHashCount=0;tl.s[123]++;this._totalElapsed=0;tl.s[124]++;this._workerPool.stop();tl.s[125]++;this.fire("stop",this);tl.s[126]++;Log.i(Miner,"Stopped work")}else{tl.b[18][0]++;tl.s[116]++}}_updateHashrate(){tl.f[17]++;const n=(tl.s[127]++,(Date.now()-this._lastHashrate)/1e3),e=(tl.s[128]++,this._hashCount);tl.s[129]++;this._hashCount=0;tl.s[130]++;this._lastHashrate=Date.now();tl.s[131]++;this._lastElapsed.push(n);tl.s[132]++;this._lastHashCounts.push(e);tl.s[133]++;this._totalElapsed+=n;tl.s[134]++;this._totalHashCount+=e;tl.s[135]++;if(this._lastElapsed.length>Miner.MOVING_AVERAGE_MAX_SIZE){tl.b[19][0]++;const n=(tl.s[136]++,this._lastElapsed.shift()),e=(tl.s[137]++,this._lastHashCounts.shift());tl.s[138]++;this._totalElapsed-=n;tl.s[139]++;this._totalHashCount-=e}else tl.b[19][1]++;tl.s[140]++;this._hashrate=Math.round(this._totalHashCount/this._totalElapsed);tl.s[141]++;this.fire("hashrate-changed",this._hashrate,this)}get address(){tl.f[18]++;tl.s[142]++;return this._address}get working(){tl.f[19]++;tl.s[143]++;return!!this._hashrateWorker}get hashrate(){tl.f[20]++;tl.s[144]++;return this._hashrate}get threads(){tl.f[21]++;tl.s[145]++;return this._workerPool.poolSize}set threads(n){tl.f[22]++;tl.s[146]++;this._workerPool.poolSize=n}get throttleWait(){tl.f[23]++;tl.s[147]++;return this._workerPool.cycleWait}set throttleWait(n){tl.f[24]++;tl.s[148]++;this._workerPool.cycleWait=n}get throttleAfter(){tl.f[25]++;tl.s[149]++;return this._workerPool.runsPerCycle}set throttleAfter(n){tl.f[26]++;tl.s[150]++;this._workerPool.runsPerCycle=n}}tl.s[151]++;Miner.MIN_TIME_ON_BLOCK=1e4;tl.s[152]++;Miner.MOVING_AVERAGE_MAX_SIZE=10;tl.s[153]++;Class.register(Miner);var ol=function(){var n="/home/soeren/nimiq/core/src/main/generic/wallet/Wallet.js",e="51d328f01e77a12902cc0699a6440b3112af0953",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/wallet/Wallet.js",statementMap:{0:{start:{line:7,column:8},end:{line:7,column:46}},1:{start:{line:15,column:8},end:{line:15,column:68}},2:{start:{line:15,column:37},end:{line:15,column:68}},3:{start:{line:16,column:8},end:{line:18,column:9}},4:{start:{line:17,column:12},end:{line:17,column:51}},5:{start:{line:19,column:8},end:{line:19,column:70}},6:{start:{line:28,column:8},end:{line:28,column:68}},7:{start:{line:28,column:37},end:{line:28,column:68}},8:{start:{line:29,column:8},end:{line:29,column:70}},9:{start:{line:29,column:37},end:{line:29,column:70}},10:{start:{line:30,column:8},end:{line:30,column:83}},11:{start:{line:40,column:8},end:{line:40,column:32}},12:{start:{line:42,column:8},end:{line:42,column:60}},13:{start:{line:54,column:28},end:{line:54,column:117}},14:{start:{line:55,column:8},end:{line:55,column:132}},15:{start:{line:56,column:8},end:{line:56,column:27}},16:{start:{line:65,column:26},end:{line:65,column:125}},17:{start:{line:66,column:8},end:{line:66,column:76}},18:{start:{line:73,column:8},end:{line:73,column:41}},19:{start:{line:82,column:8},end:{line:82,column:70}},20:{start:{line:82,column:37},end:{line:82,column:70}},21:{start:{line:83,column:8},end:{line:83,column:88}},22:{start:{line:83,column:43},end:{line:83,column:88}},23:{start:{line:84,column:8},end:{line:84,column:61}},24:{start:{line:89,column:8},end:{line:89,column:37}},25:{start:{line:97,column:8},end:{line:97,column:70}},26:{start:{line:97,column:37},end:{line:97,column:70}},27:{start:{line:98,column:8},end:{line:98,column:38}},28:{start:{line:102,column:8},end:{line:102,column:30}},29:{start:{line:110,column:8},end:{line:110,column:70}},30:{start:{line:110,column:37},end:{line:110,column:70}},31:{start:{line:111,column:8},end:{line:111,column:40}},32:{start:{line:119,column:8},end:{line:119,column:103}},33:{start:{line:127,column:8},end:{line:127,column:29}},34:{start:{line:135,column:8},end:{line:135,column:39}},35:{start:{line:140,column:8},end:{line:140,column:29}},36:{start:{line:144,column:0},end:{line:144,column:23}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:28},end:{line:8,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:14,column:4},end:{line:14,column:5}},loc:{start:{line:14,column:26},end:{line:20,column:5}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:27,column:4},end:{line:27,column:5}},loc:{start:{line:27,column:41},end:{line:31,column:5}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:38,column:4},end:{line:38,column:5}},loc:{start:{line:38,column:25},end:{line:43,column:5}},line:38},4:{name:"(anonymous_4)",decl:{start:{line:53,column:4},end:{line:53,column:5}},loc:{start:{line:53,column:66},end:{line:57,column:5}},line:53},5:{name:"(anonymous_5)",decl:{start:{line:64,column:4},end:{line:64,column:5}},loc:{start:{line:64,column:33},end:{line:67,column:5}},line:64},6:{name:"(anonymous_6)",decl:{start:{line:72,column:4},end:{line:72,column:5}},loc:{start:{line:72,column:18},end:{line:74,column:5}},line:72},7:{name:"(anonymous_7)",decl:{start:{line:81,column:4},end:{line:81,column:5}},loc:{start:{line:81,column:36},end:{line:85,column:5}},line:81},8:{name:"(anonymous_8)",decl:{start:{line:88,column:4},end:{line:88,column:5}},loc:{start:{line:88,column:19},end:{line:90,column:5}},line:88},9:{name:"(anonymous_9)",decl:{start:{line:96,column:4},end:{line:96,column:5}},loc:{start:{line:96,column:14},end:{line:99,column:5}},line:96},10:{name:"(anonymous_10)",decl:{start:{line:101,column:4},end:{line:101,column:5}},loc:{start:{line:101,column:13},end:{line:103,column:5}},line:101},11:{name:"(anonymous_11)",decl:{start:{line:109,column:4},end:{line:109,column:5}},loc:{start:{line:109,column:16},end:{line:112,column:5}},line:109},12:{name:"(anonymous_12)",decl:{start:{line:118,column:4},end:{line:118,column:5}},loc:{start:{line:118,column:14},end:{line:120,column:5}},line:118},13:{name:"(anonymous_13)",decl:{start:{line:126,column:4},end:{line:126,column:5}},loc:{start:{line:126,column:18},end:{line:128,column:5}},line:126},14:{name:"(anonymous_14)",decl:{start:{line:134,column:4},end:{line:134,column:5}},loc:{start:{line:134,column:20},end:{line:136,column:5}},line:134},15:{name:"(anonymous_15)",decl:{start:{line:139,column:4},end:{line:139,column:5}},loc:{start:{line:139,column:18},end:{line:141,column:5}},line:139}},branchMap:{0:{loc:{start:{line:15,column:8},end:{line:15,column:68}},type:"if",locations:[{start:{line:15,column:8},end:{line:15,column:68}},{start:{line:15,column:8},end:{line:15,column:68}}],line:15},1:{loc:{start:{line:16,column:8},end:{line:18,column:9}},type:"if",locations:[{start:{line:16,column:8},end:{line:18,column:9}},{start:{line:16,column:8},end:{line:18,column:9}}],line:16},2:{loc:{start:{line:16,column:12},end:{line:16,column:40}},type:"binary-expr",locations:[{start:{line:16,column:12},end:{line:16,column:16}},{start:{line:16,column:20},end:{line:16,column:40}}],line:16},3:{loc:{start:{line:28,column:8},end:{line:28,column:68}},type:"if",locations:[{start:{line:28,column:8},end:{line:28,column:68}},{start:{line:28,column:8},end:{line:28,column:68}}],line:28},4:{loc:{start:{line:29,column:8},end:{line:29,column:70}},type:"if",locations:[{start:{line:29,column:8},end:{line:29,column:70}},{start:{line:29,column:8},end:{line:29,column:70}}],line:29},5:{loc:{start:{line:82,column:8},end:{line:82,column:70}},type:"if",locations:[{start:{line:82,column:8},end:{line:82,column:70}},{start:{line:82,column:8},end:{line:82,column:70}}],line:82},6:{loc:{start:{line:83,column:8},end:{line:83,column:88}},type:"if",locations:[{start:{line:83,column:8},end:{line:83,column:88}},{start:{line:83,column:8},end:{line:83,column:88}}],line:83},7:{loc:{start:{line:97,column:8},end:{line:97,column:70}},type:"if",locations:[{start:{line:97,column:8},end:{line:97,column:70}},{start:{line:97,column:8},end:{line:97,column:70}}],line:97},8:{loc:{start:{line:110,column:8},end:{line:110,column:70}},type:"if",locations:[{start:{line:110,column:8},end:{line:110,column:70}},{start:{line:110,column:8},end:{line:110,column:70}}],line:110},9:{loc:{start:{line:119,column:15},end:{line:119,column:102}},type:"binary-expr",locations:[{start:{line:119,column:15},end:{line:119,column:34}},{start:{line:119,column:38},end:{line:119,column:68}},{start:{line:119,column:72},end:{line:119,column:102}}],line:119}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class Wallet{static async generate(){ol.f[0]++;ol.s[0]++;return new Wallet(KeyPair.generate())}static loadPlain(n){ol.f[1]++;ol.s[1]++;if("string"==typeof n){ol.b[0][0]++;ol.s[2]++;n=BufferUtils.fromHex(n)}else ol.b[0][1]++;ol.s[3]++;if((ol.b[2][0]++,!n)||(ol.b[2][1]++,0===n.byteLength)){ol.b[1][0]++;ol.s[4]++;throw new Error("Invalid wallet seed")}ol.b[1][1]++;ol.s[5]++;return new Wallet(KeyPair.unserialize(new SerialBuffer(n)))}static async loadEncrypted(n,e){ol.f[2]++;ol.s[6]++;if("string"==typeof n){ol.b[3][0]++;ol.s[7]++;n=BufferUtils.fromHex(n)}else ol.b[3][1]++;ol.s[8]++;if("string"==typeof e){ol.b[4][0]++;ol.s[9]++;e=BufferUtils.fromAscii(e)}else ol.b[4][1]++;ol.s[10]++;return new Wallet(await KeyPair.fromEncrypted(new SerialBuffer(n),e))}constructor(n){ol.f[3]++;ol.s[11]++;this._keyPair=n;ol.s[12]++;this._address=this._keyPair.publicKey.toAddress()}createTransaction(n,e,l,t){ol.f[4]++;const o=(ol.s[13]++,new BasicTransaction(this._keyPair.publicKey,n,e,l,t));ol.s[14]++;o.signature=Signature.create(this._keyPair.privateKey,this._keyPair.publicKey,o.serializeContent());ol.s[15]++;return o}signTransaction(n){ol.f[5]++;const e=(ol.s[16]++,Signature.create(this._keyPair.privateKey,this._keyPair.publicKey,n.serializeContent()));ol.s[17]++;return SignatureProof.singleSig(this._keyPair.publicKey,e)}exportPlain(){ol.f[6]++;ol.s[18]++;return this._keyPair.serialize()}exportEncrypted(n,e){ol.f[7]++;ol.s[19]++;if("string"==typeof n){ol.b[5][0]++;ol.s[20]++;n=BufferUtils.fromAscii(n)}else ol.b[5][1]++;ol.s[21]++;if("string"==typeof e){ol.b[6][0]++;ol.s[22]++;e=BufferUtils.fromAscii(e)}else ol.b[6][1]++;ol.s[23]++;return this._keyPair.exportEncrypted(n,e)}get isLocked(){ol.f[8]++;ol.s[24]++;return this.keyPair.isLocked}lock(n){ol.f[9]++;ol.s[25]++;if("string"==typeof n){ol.b[7][0]++;ol.s[26]++;n=BufferUtils.fromAscii(n)}else ol.b[7][1]++;ol.s[27]++;return this.keyPair.lock(n)}relock(){ol.f[10]++;ol.s[28]++;this.keyPair.relock()}unlock(n){ol.f[11]++;ol.s[29]++;if("string"==typeof n){ol.b[8][0]++;ol.s[30]++;n=BufferUtils.fromAscii(n)}else ol.b[8][1]++;ol.s[31]++;return this.keyPair.unlock(n)}equals(n){ol.f[12]++;ol.s[32]++;return(ol.b[9][0]++,n instanceof Wallet)&&(ol.b[9][1]++,this.keyPair.equals(n.keyPair))&&(ol.b[9][2]++,this.address.equals(n.address))}get address(){ol.f[13]++;ol.s[33]++;return this._address}get publicKey(){ol.f[14]++;ol.s[34]++;return this._keyPair.publicKey}get keyPair(){ol.f[15]++;ol.s[35]++;return this._keyPair}}ol.s[36]++;Class.register(Wallet);var il=function(){var n="/home/soeren/nimiq/core/src/main/generic/wallet/MultiSigWallet.js",e="4861f156fe6a5aac11618f5287c3e1a065c8bd8b",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/wallet/MultiSigWallet.js",statementMap:{0:{start:{line:10,column:8},end:{line:10,column:84}},1:{start:{line:10,column:37},end:{line:10,column:84}},2:{start:{line:11,column:8},end:{line:11,column:88}},3:{start:{line:11,column:32},end:{line:11,column:88}},4:{start:{line:12,column:8},end:{line:12,column:128}},5:{start:{line:12,column:36},end:{line:12,column:65}},6:{start:{line:12,column:68},end:{line:12,column:128}},7:{start:{line:15,column:8},end:{line:15,column:40}},8:{start:{line:16,column:8},end:{line:16,column:48}},9:{start:{line:16,column:34},end:{line:16,column:46}},10:{start:{line:17,column:29},end:{line:17,column:86}},11:{start:{line:18,column:29},end:{line:18,column:72}},12:{start:{line:18,column:53},end:{line:18,column:71}},13:{start:{line:19,column:8},end:{line:19,column:72}},14:{start:{line:29,column:30},end:{line:29,column:45}},15:{start:{line:30,column:30},end:{line:30,column:45}},16:{start:{line:31,column:27},end:{line:31,column:29}},17:{start:{line:32,column:8},end:{line:34,column:9}},18:{start:{line:33,column:12},end:{line:33,column:56}},19:{start:{line:35,column:8},end:{line:35,column:70}},20:{start:{line:43,column:8},end:{line:43,column:68}},21:{start:{line:43,column:37},end:{line:43,column:68}},22:{start:{line:44,column:8},end:{line:46,column:9}},23:{start:{line:45,column:12},end:{line:45,column:51}},24:{start:{line:48,column:26},end:{line:48,column:47}},25:{start:{line:49,column:24},end:{line:49,column:54}},26:{start:{line:50,column:8},end:{line:50,column:64}},27:{start:{line:59,column:8},end:{line:59,column:68}},28:{start:{line:59,column:37},end:{line:59,column:68}},29:{start:{line:60,column:8},end:{line:60,column:70}},30:{start:{line:60,column:37},end:{line:60,column:70}},31:{start:{line:62,column:26},end:{line:62,column:47}},32:{start:{line:63,column:24},end:{line:63,column:67}},33:{start:{line:64,column:8},end:{line:64,column:64}},34:{start:{line:75,column:8},end:{line:75,column:23}},35:{start:{line:77,column:8},end:{line:77,column:44}},36:{start:{line:79,column:8},end:{line:79,column:38}},37:{start:{line:80,column:8},end:{line:80,column:54}},38:{start:{line:80,column:40},end:{line:80,column:52}},39:{start:{line:82,column:27},end:{line:82,column:67}},40:{start:{line:84,column:8},end:{line:84,column:53}},41:{start:{line:92,column:20},end:{line:92,column:55}},42:{start:{line:93,column:8},end:{line:93,column:37}},43:{start:{line:94,column:8},end:{line:94,column:44}},44:{start:{line:95,column:8},end:{line:95,column:48}},45:{start:{line:96,column:8},end:{line:98,column:9}},46:{start:{line:97,column:12},end:{line:97,column:34}},47:{start:{line:99,column:8},end:{line:99,column:19}},48:{start:{line:109,column:8},end:{line:109,column:70}},49:{start:{line:109,column:37},end:{line:109,column:70}},50:{start:{line:110,column:8},end:{line:110,column:88}},51:{start:{line:110,column:43},end:{line:110,column:88}},52:{start:{line:111,column:20},end:{line:111,column:64}},53:{start:{line:112,column:8},end:{line:112,column:71}},54:{start:{line:113,column:8},end:{line:113,column:44}},55:{start:{line:114,column:8},end:{line:114,column:48}},56:{start:{line:115,column:8},end:{line:117,column:9}},57:{start:{line:116,column:12},end:{line:116,column:34}},58:{start:{line:118,column:8},end:{line:118,column:19}},59:{start:{line:123,column:8},end:{line:126,column:87}},60:{start:{line:126,column:55},end:{line:126,column:82}},61:{start:{line:131,column:8},end:{line:134,column:87}},62:{start:{line:134,column:55},end:{line:134,column:82}},63:{start:{line:147,column:8},end:{line:149,column:54}},64:{start:{line:157,column:8},end:{line:157,column:41}},65:{start:{line:169,column:8},end:{line:169,column:40}},66:{start:{line:170,column:8},end:{line:170,column:48}},67:{start:{line:170,column:34},end:{line:170,column:46}},68:{start:{line:172,column:8},end:{line:173,column:74}},69:{start:{line:185,column:8},end:{line:187,column:9}},70:{start:{line:186,column:12},end:{line:186,column:71}},71:{start:{line:189,column:26},end:{line:189,column:91}},72:{start:{line:190,column:8},end:{line:190,column:89}},73:{start:{line:201,column:22},end:{line:201,column:110}},74:{start:{line:202,column:8},end:{line:202,column:46}},75:{start:{line:203,column:8},end:{line:203,column:27}},76:{start:{line:208,column:8},end:{line:208,column:35}},77:{start:{line:213,column:8},end:{line:213,column:32}},78:{start:{line:216,column:0},end:{line:216,column:31}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:4},end:{line:9,column:5}},loc:{start:{line:9,column:62},end:{line:20,column:5}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:12,column:29},end:{line:12,column:30}},loc:{start:{line:12,column:36},end:{line:12,column:65}},line:12},2:{name:"(anonymous_2)",decl:{start:{line:16,column:24},end:{line:16,column:25}},loc:{start:{line:16,column:34},end:{line:16,column:46}},line:16},3:{name:"(anonymous_3)",decl:{start:{line:18,column:46},end:{line:18,column:47}},loc:{start:{line:18,column:53},end:{line:18,column:71}},line:18},4:{name:"(anonymous_4)",decl:{start:{line:28,column:4},end:{line:28,column:5}},loc:{start:{line:28,column:39},end:{line:36,column:5}},line:28},5:{name:"(anonymous_5)",decl:{start:{line:42,column:4},end:{line:42,column:5}},loc:{start:{line:42,column:26},end:{line:51,column:5}},line:42},6:{name:"(anonymous_6)",decl:{start:{line:58,column:4},end:{line:58,column:5}},loc:{start:{line:58,column:41},end:{line:65,column:5}},line:58},7:{name:"(anonymous_7)",decl:{start:{line:74,column:4},end:{line:74,column:5}},loc:{start:{line:74,column:52},end:{line:85,column:5}},line:74},8:{name:"(anonymous_8)",decl:{start:{line:80,column:30},end:{line:80,column:31}},loc:{start:{line:80,column:40},end:{line:80,column:52}},line:80},9:{name:"(anonymous_9)",decl:{start:{line:91,column:4},end:{line:91,column:5}},loc:{start:{line:91,column:18},end:{line:100,column:5}},line:91},10:{name:"(anonymous_10)",decl:{start:{line:108,column:4},end:{line:108,column:5}},loc:{start:{line:108,column:42},end:{line:119,column:5}},line:108},11:{name:"(anonymous_11)",decl:{start:{line:122,column:4},end:{line:122,column:5}},loc:{start:{line:122,column:32},end:{line:127,column:5}},line:122},12:{name:"(anonymous_12)",decl:{start:{line:126,column:38},end:{line:126,column:39}},loc:{start:{line:126,column:55},end:{line:126,column:82}},line:126},13:{name:"(anonymous_13)",decl:{start:{line:130,column:4},end:{line:130,column:5}},loc:{start:{line:130,column:23},end:{line:135,column:5}},line:130},14:{name:"(anonymous_14)",decl:{start:{line:134,column:38},end:{line:134,column:39}},loc:{start:{line:134,column:55},end:{line:134,column:82}},line:134},15:{name:"(anonymous_15)",decl:{start:{line:146,column:4},end:{line:146,column:5}},loc:{start:{line:146,column:70},end:{line:150,column:5}},line:146},16:{name:"(anonymous_16)",decl:{start:{line:156,column:4},end:{line:156,column:5}},loc:{start:{line:156,column:23},end:{line:158,column:5}},line:156},17:{name:"(anonymous_17)",decl:{start:{line:167,column:4},end:{line:167,column:5}},loc:{start:{line:167,column:84},end:{line:174,column:5}},line:167},18:{name:"(anonymous_18)",decl:{start:{line:170,column:24},end:{line:170,column:25}},loc:{start:{line:170,column:34},end:{line:170,column:46}},line:170},19:{name:"(anonymous_19)",decl:{start:{line:184,column:4},end:{line:184,column:5}},loc:{start:{line:184,column:88},end:{line:191,column:5}},line:184},20:{name:"(anonymous_20)",decl:{start:{line:200,column:4},end:{line:200,column:5}},loc:{start:{line:200,column:92},end:{line:204,column:5}},line:200},21:{name:"(anonymous_21)",decl:{start:{line:207,column:4},end:{line:207,column:5}},loc:{start:{line:207,column:24},end:{line:209,column:5}},line:207},22:{name:"(anonymous_22)",decl:{start:{line:212,column:4},end:{line:212,column:5}},loc:{start:{line:212,column:21},end:{line:214,column:5}},line:212}},branchMap:{0:{loc:{start:{line:10,column:8},end:{line:10,column:84}},type:"if",locations:[{start:{line:10,column:8},end:{line:10,column:84}},{start:{line:10,column:8},end:{line:10,column:84}}],line:10},1:{loc:{start:{line:11,column:8},end:{line:11,column:88}},type:"if",locations:[{start:{line:11,column:8},end:{line:11,column:88}},{start:{line:11,column:8},end:{line:11,column:88}}],line:11},2:{loc:{start:{line:12,column:8},end:{line:12,column:128}},type:"if",locations:[{start:{line:12,column:8},end:{line:12,column:128}},{start:{line:12,column:8},end:{line:12,column:128}}],line:12},3:{loc:{start:{line:43,column:8},end:{line:43,column:68}},type:"if",locations:[{start:{line:43,column:8},end:{line:43,column:68}},{start:{line:43,column:8},end:{line:43,column:68}}],line:43},4:{loc:{start:{line:44,column:8},end:{line:46,column:9}},type:"if",locations:[{start:{line:44,column:8},end:{line:46,column:9}},{start:{line:44,column:8},end:{line:46,column:9}}],line:44},5:{loc:{start:{line:44,column:12},end:{line:44,column:40}},type:"binary-expr",locations:[{start:{line:44,column:12},end:{line:44,column:16}},{start:{line:44,column:20},end:{line:44,column:40}}],line:44},6:{loc:{start:{line:59,column:8},end:{line:59,column:68}},type:"if",locations:[{start:{line:59,column:8},end:{line:59,column:68}},{start:{line:59,column:8},end:{line:59,column:68}}],line:59},7:{loc:{start:{line:60,column:8},end:{line:60,column:70}},type:"if",locations:[{start:{line:60,column:8},end:{line:60,column:70}},{start:{line:60,column:8},end:{line:60,column:70}}],line:60},8:{loc:{start:{line:109,column:8},end:{line:109,column:70}},type:"if",locations:[{start:{line:109,column:8},end:{line:109,column:70}},{start:{line:109,column:8},end:{line:109,column:70}}],line:109},9:{loc:{start:{line:110,column:8},end:{line:110,column:88}},type:"if",locations:[{start:{line:110,column:8},end:{line:110,column:88}},{start:{line:110,column:8},end:{line:110,column:88}}],line:110},10:{loc:{start:{line:185,column:8},end:{line:187,column:9}},type:"if",locations:[{start:{line:185,column:8},end:{line:187,column:9}},{start:{line:185,column:8},end:{line:187,column:9}}],line:185}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class MultiSigWallet extends Wallet{static fromPublicKeys(n,e,l){il.f[0]++;il.s[0]++;if(0===l.length){il.b[0][0]++;il.s[1]++;throw new Error("publicKeys may not be empty")}il.b[0][1]++;il.s[2]++;if(e<=0){il.b[1][0]++;il.s[3]++;throw new Error("minSignatures must be greater than 0")}il.b[1][1]++;il.s[4]++;if(!l.some(e=>{il.f[1]++;il.s[5]++;return e.equals(n.publicKey)})){il.b[2][0]++;il.s[6]++;throw new Error("Own publicKey must be part of publicKeys")}il.b[2][1]++;il.s[7]++;l=l.slice();il.s[8]++;l.sort((n,e)=>{il.f[2]++;il.s[9]++;return n.compare(e)});const t=(il.s[10]++,[...ArrayUtils.k_combinations(l,e)]),o=(il.s[11]++,t.map(n=>{il.f[3]++;il.s[12]++;return PublicKey.sum(n)}));il.s[13]++;return new MultiSigWallet(n,e,o)}static _loadMultiSig(n,e){il.f[4]++;const l=(il.s[14]++,e.readUint8()),t=(il.s[15]++,e.readUint8()),o=(il.s[16]++,[]);il.s[17]++;for(let i=0;i<t;++i){il.s[18]++;o.push(PublicKey.unserialize(e))}il.s[19]++;return new MultiSigWallet(n,l,o)}static loadPlain(n){il.f[5]++;il.s[20]++;if("string"==typeof n){il.b[3][0]++;il.s[21]++;n=BufferUtils.fromHex(n)}else il.b[3][1]++;il.s[22]++;if((il.b[5][0]++,!n)||(il.b[5][1]++,0===n.byteLength)){il.b[4][0]++;il.s[23]++;throw new Error("Invalid wallet seed")}il.b[4][1]++;const e=(il.s[24]++,new SerialBuffer(n)),l=(il.s[25]++,KeyPair.unserialize(e));il.s[26]++;return MultiSigWallet._loadMultiSig(l,e)}static async loadEncrypted(n,e){il.f[6]++;il.s[27]++;if("string"==typeof n){il.b[6][0]++;il.s[28]++;n=BufferUtils.fromHex(n)}else il.b[6][1]++;il.s[29]++;if("string"==typeof e){il.b[7][0]++;il.s[30]++;e=BufferUtils.fromAscii(e)}else il.b[7][1]++;const l=(il.s[31]++,new SerialBuffer(n)),t=(il.s[32]++,await KeyPair.fromEncrypted(l,e));il.s[33]++;return MultiSigWallet._loadMultiSig(t,l)}constructor(n,e,l){il.f[7]++;il.s[34]++;super(n);il.s[35]++;this._minSignatures=e;il.s[36]++;this._publicKeys=l;il.s[37]++;this._publicKeys.sort((n,e)=>{il.f[8]++;il.s[38]++;return n.compare(e)});const t=(il.s[39]++,MerkleTree.computeRoot(this._publicKeys));il.s[40]++;this._address=Address.fromHash(t)}exportPlain(){il.f[9]++;const n=(il.s[41]++,new SerialBuffer(this.exportedSize));il.s[42]++;this._keyPair.serialize(n);il.s[43]++;n.writeUint8(this._minSignatures);il.s[44]++;n.writeUint8(this._publicKeys.length);il.s[45]++;for(const e of this._publicKeys){il.s[46]++;e.serialize(n)}il.s[47]++;return n}async exportEncrypted(n,e){il.f[10]++;il.s[48]++;if("string"==typeof n){il.b[8][0]++;il.s[49]++;n=BufferUtils.fromAscii(n)}else il.b[8][1]++;il.s[50]++;if("string"==typeof e){il.b[9][0]++;il.s[51]++;e=BufferUtils.fromAscii(e)}else il.b[9][1]++;const l=(il.s[52]++,new SerialBuffer(this.encryptedExportedSize));il.s[53]++;l.write(await this._keyPair.exportEncrypted(n,e));il.s[54]++;l.writeUint8(this._minSignatures);il.s[55]++;l.writeUint8(this._publicKeys.length);il.s[56]++;for(const t of this._publicKeys){il.s[57]++;t.serialize(l)}il.s[58]++;return l}get encryptedExportedSize(){il.f[11]++;il.s[59]++;return this._keyPair.encryptedSize+1+1+this._publicKeys.reduce((n,e)=>{il.f[12]++;il.s[60]++;return n+e.serializedSize},0)}get exportedSize(){il.f[13]++;il.s[61]++;return this._keyPair.serializedSize+1+1+this._publicKeys.reduce((n,e)=>{il.f[14]++;il.s[62]++;return n+e.serializedSize},0)}createTransaction(n,e,l,t){il.f[15]++;il.s[63]++;return new ExtendedTransaction(this._address,Account.Type.BASIC,n,Account.Type.BASIC,e,l,t,Transaction.Flag.NONE,new Uint8Array(0))}createCommitment(){il.f[16]++;il.s[64]++;return CommitmentPair.generate()}partiallySignTransaction(n,e,l,t){il.f[17]++;il.s[65]++;e=e.slice();il.s[66]++;e.sort((n,e)=>{il.f[18]++;il.s[67]++;return n.compare(e)});il.s[68]++;return PartialSignature.create(this._keyPair.privateKey,this._keyPair.publicKey,e,t,l,n.serializeContent())}signTransaction(n,e,l,t){il.f[19]++;il.s[69]++;if(t.length!==this._minSignatures){il.b[10][0]++;il.s[70]++;throw"Not enough signatures to complete this transaction"}il.b[10][1]++;const o=(il.s[71]++,Signature.fromPartialSignatures(l,t));il.s[72]++;return SignatureProof.multiSig(e,this._publicKeys,o)}completeTransaction(n,e,l,t){il.f[20]++;const o=(il.s[73]++,this.signTransaction(n,e,l,t));il.s[74]++;n.proof=o.serialize();il.s[75]++;return n}get minSignatures(){il.f[21]++;il.s[76]++;return this._minSignatures}get publicKeys(){il.f[22]++;il.s[77]++;return this._publicKeys}}il.s[78]++;Class.register(MultiSigWallet);var cl=function(){var n="/home/soeren/nimiq/core/src/main/generic/wallet/WalletStore.js",e="e6df3d7782cee3439b8af67d1e7e4d396df4cac6",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/wallet/WalletStore.js",statementMap:{0:{start:{line:7,column:8},end:{line:11,column:11}},1:{start:{line:13,column:8},end:{line:13,column:33}},2:{start:{line:15,column:8},end:{line:15,column:35}},3:{start:{line:17,column:8},end:{line:17,column:28}},4:{start:{line:25,column:8},end:{line:25,column:120}},5:{start:{line:26,column:8},end:{line:26,column:131}},6:{start:{line:29,column:8},end:{line:29,column:34}},7:{start:{line:31,column:8},end:{line:31,column:20}},8:{start:{line:38,column:31},end:{line:38,column:69}},9:{start:{line:39,column:8},end:{line:39,column:32}},10:{start:{line:47,column:31},end:{line:47,column:69}},11:{start:{line:48,column:8},end:{line:53,column:9}},12:{start:{line:49,column:34},end:{line:49,column:57}},13:{start:{line:50,column:12},end:{line:50,column:42}},14:{start:{line:51,column:12},end:{line:51,column:57}},15:{start:{line:52,column:12},end:{line:52,column:33}},16:{start:{line:54,column:30},end:{line:54,column:57}},17:{start:{line:55,column:8},end:{line:55,column:44}},18:{start:{line:63,column:31},end:{line:63,column:50}},19:{start:{line:64,column:8},end:{line:64,column:64}},20:{start:{line:73,column:30},end:{line:73,column:48}},21:{start:{line:74,column:20},end:{line:74,column:62}},22:{start:{line:75,column:8},end:{line:75,column:30}},23:{start:{line:75,column:18},end:{line:75,column:30}},24:{start:{line:76,column:8},end:{line:78,column:9}},25:{start:{line:77,column:12},end:{line:77,column:50}},26:{start:{line:79,column:8},end:{line:79,column:37}},27:{start:{line:89,column:30},end:{line:89,column:55}},28:{start:{line:91,column:18},end:{line:91,column:22}},29:{start:{line:92,column:8},end:{line:96,column:9}},30:{start:{line:93,column:12},end:{line:93,column:63}},31:{start:{line:95,column:12},end:{line:95,column:39}},32:{start:{line:97,column:8},end:{line:97,column:57}},33:{start:{line:105,column:30},end:{line:105,column:48}},34:{start:{line:106,column:19},end:{line:106,column:50}},35:{start:{line:107,column:8},end:{line:107,column:37}},36:{start:{line:109,column:29},end:{line:109,column:67}},37:{start:{line:110,column:8},end:{line:115,column:9}},38:{start:{line:111,column:12},end:{line:111,column:57}},39:{start:{line:112,column:12},end:{line:114,column:13}},40:{start:{line:113,column:16},end:{line:113,column:41}},41:{start:{line:116,column:8},end:{line:116,column:27}},42:{start:{line:123,column:21},end:{line:123,column:51}},43:{start:{line:124,column:8},end:{line:124,column:101}},44:{start:{line:124,column:46},end:{line:124,column:63}},45:{start:{line:124,column:76},end:{line:124,column:99}},46:{start:{line:133,column:30},end:{line:133,column:48}},47:{start:{line:134,column:20},end:{line:134,column:64}},48:{start:{line:135,column:8},end:{line:135,column:30}},49:{start:{line:135,column:18},end:{line:135,column:30}},50:{start:{line:136,column:8},end:{line:138,column:9}},51:{start:{line:137,column:12},end:{line:137,column:58}},52:{start:{line:139,column:8},end:{line:139,column:45}},53:{start:{line:149,column:30},end:{line:149,column:55}},54:{start:{line:151,column:18},end:{line:151,column:22}},55:{start:{line:152,column:8},end:{line:156,column:9}},56:{start:{line:153,column:12},end:{line:153,column:63}},57:{start:{line:155,column:12},end:{line:155,column:39}},58:{start:{line:157,column:8},end:{line:157,column:59}},59:{start:{line:165,column:30},end:{line:165,column:48}},60:{start:{line:166,column:8},end:{line:166,column:57}},61:{start:{line:173,column:21},end:{line:173,column:53}},62:{start:{line:174,column:8},end:{line:174,column:68}},63:{start:{line:174,column:43},end:{line:174,column:66}},64:{start:{line:178,column:8},end:{line:178,column:33}},65:{start:{line:181,column:0},end:{line:181,column:28}},66:{start:{line:182,column:0},end:{line:182,column:29}},67:{start:{line:183,column:0},end:{line:183,column:24}},68:{start:{line:184,column:0},end:{line:184,column:43}},69:{start:{line:185,column:0},end:{line:185,column:38}},70:{start:{line:186,column:0},end:{line:186,column:40}},71:{start:{line:187,column:0},end:{line:187,column:58}},72:{start:{line:198,column:8},end:{line:198,column:19}},73:{start:{line:207,column:8},end:{line:207,column:35}},74:{start:{line:214,column:8},end:{line:214,column:24}},75:{start:{line:221,column:8},end:{line:221,column:44}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:4},end:{line:6,column:5}},loc:{start:{line:6,column:35},end:{line:18,column:5}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:23,column:4},end:{line:23,column:5}},loc:{start:{line:23,column:18},end:{line:32,column:5}},line:23},2:{name:"(anonymous_2)",decl:{start:{line:37,column:4},end:{line:37,column:5}},loc:{start:{line:37,column:26},end:{line:40,column:5}},line:37},3:{name:"(anonymous_3)",decl:{start:{line:46,column:4},end:{line:46,column:5}},loc:{start:{line:46,column:26},end:{line:56,column:5}},line:46},4:{name:"(anonymous_4)",decl:{start:{line:62,column:4},end:{line:62,column:5}},loc:{start:{line:62,column:24},end:{line:65,column:5}},line:62},5:{name:"(anonymous_5)",decl:{start:{line:72,column:4},end:{line:72,column:5}},loc:{start:{line:72,column:28},end:{line:80,column:5}},line:72},6:{name:"(anonymous_6)",decl:{start:{line:88,column:4},end:{line:88,column:5}},loc:{start:{line:88,column:38},end:{line:98,column:5}},line:88},7:{name:"(anonymous_7)",decl:{start:{line:104,column:4},end:{line:104,column:5}},loc:{start:{line:104,column:26},end:{line:117,column:5}},line:104},8:{name:"(anonymous_8)",decl:{start:{line:122,column:4},end:{line:122,column:5}},loc:{start:{line:122,column:17},end:{line:125,column:5}},line:122},9:{name:"(anonymous_9)",decl:{start:{line:124,column:39},end:{line:124,column:40}},loc:{start:{line:124,column:46},end:{line:124,column:63}},line:124},10:{name:"(anonymous_10)",decl:{start:{line:124,column:69},end:{line:124,column:70}},loc:{start:{line:124,column:76},end:{line:124,column:99}},line:124},11:{name:"(anonymous_11)",decl:{start:{line:132,column:4},end:{line:132,column:5}},loc:{start:{line:132,column:36},end:{line:140,column:5}},line:132},12:{name:"(anonymous_12)",decl:{start:{line:148,column:4},end:{line:148,column:5}},loc:{start:{line:148,column:46},end:{line:158,column:5}},line:148},13:{name:"(anonymous_13)",decl:{start:{line:164,column:4},end:{line:164,column:5}},loc:{start:{line:164,column:28},end:{line:167,column:5}},line:164},14:{name:"(anonymous_14)",decl:{start:{line:172,column:4},end:{line:172,column:5}},loc:{start:{line:172,column:25},end:{line:175,column:5}},line:172},15:{name:"(anonymous_15)",decl:{start:{line:174,column:36},end:{line:174,column:37}},loc:{start:{line:174,column:43},end:{line:174,column:66}},line:174},16:{name:"(anonymous_16)",decl:{start:{line:177,column:4},end:{line:177,column:5}},loc:{start:{line:177,column:12},end:{line:179,column:5}},line:177},17:{name:"(anonymous_17)",decl:{start:{line:197,column:4},end:{line:197,column:5}},loc:{start:{line:197,column:16},end:{line:199,column:5}},line:197},18:{name:"(anonymous_18)",decl:{start:{line:206,column:4},end:{line:206,column:5}},loc:{start:{line:206,column:21},end:{line:208,column:5}},line:206},19:{name:"(anonymous_19)",decl:{start:{line:213,column:4},end:{line:213,column:5}},loc:{start:{line:213,column:31},end:{line:215,column:5}},line:213},20:{name:"(anonymous_20)",decl:{start:{line:220,column:4},end:{line:220,column:5}},loc:{start:{line:220,column:28},end:{line:222,column:5}},line:220}},branchMap:{0:{loc:{start:{line:6,column:16},end:{line:6,column:33}},type:"default-arg",locations:[{start:{line:6,column:25},end:{line:6,column:33}}],line:6},1:{loc:{start:{line:48,column:8},end:{line:53,column:9}},type:"if",locations:[{start:{line:48,column:8},end:{line:53,column:9}},{start:{line:48,column:8},end:{line:53,column:9}}],line:48},2:{loc:{start:{line:75,column:8},end:{line:75,column:30}},type:"if",locations:[{start:{line:75,column:8},end:{line:75,column:30}},{start:{line:75,column:8},end:{line:75,column:30}}],line:75},3:{loc:{start:{line:76,column:8},end:{line:78,column:9}},type:"if",locations:[{start:{line:76,column:8},end:{line:78,column:9}},{start:{line:76,column:8},end:{line:78,column:9}}],line:76},4:{loc:{start:{line:92,column:8},end:{line:96,column:9}},type:"if",locations:[{start:{line:92,column:8},end:{line:96,column:9}},{start:{line:92,column:8},end:{line:96,column:9}}],line:92},5:{loc:{start:{line:110,column:8},end:{line:115,column:9}},type:"if",locations:[{start:{line:110,column:8},end:{line:115,column:9}},{start:{line:110,column:8},end:{line:115,column:9}}],line:110},6:{loc:{start:{line:112,column:12},end:{line:114,column:13}},type:"if",locations:[{start:{line:112,column:12},end:{line:114,column:13}},{start:{line:112,column:12},end:{line:114,column:13}}],line:112},7:{loc:{start:{line:135,column:8},end:{line:135,column:30}},type:"if",locations:[{start:{line:135,column:8},end:{line:135,column:30}},{start:{line:135,column:8},end:{line:135,column:30}}],line:135},8:{loc:{start:{line:136,column:8},end:{line:138,column:9}},type:"if",locations:[{start:{line:136,column:8},end:{line:138,column:9}},{start:{line:136,column:8},end:{line:138,column:9}}],line:136},9:{loc:{start:{line:152,column:8},end:{line:156,column:9}},type:"if",locations:[{start:{line:152,column:8},end:{line:156,column:9}},{start:{line:152,column:8},end:{line:156,column:9}}],line:152}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class WalletStore{constructor(n=(cl.b[0][0]++,"wallet")){cl.f[0]++;cl.s[0]++;this._jdb=new JDB.JungleDB(n,WalletStore.VERSION,{maxDbSize:WalletStore.INITIAL_DB_SIZE,autoResize:!0,minResize:WalletStore.MIN_RESIZE});cl.s[1]++;this._walletStore=null;cl.s[2]++;this._multiSigStore=null;cl.s[3]++;return this._init()}async _init(){cl.f[1]++;cl.s[4]++;this._walletStore=this._jdb.createObjectStore(WalletStore.WALLET_DATABASE,{codec:new WalletStoreCodec});cl.s[5]++;this._multiSigStore=this._jdb.createObjectStore(WalletStore.MULTISIG_WALLET_DATABASE,{codec:new WalletStoreCodec});cl.s[6]++;await this._jdb.connect();cl.s[7]++;return this}async hasDefault(n){cl.f[2]++;const e=(cl.s[8]++,await this._walletStore.get("default"));cl.s[9]++;return!!e}async getDefault(n){cl.f[3]++;const e=(cl.s[10]++,await this._walletStore.get("default"));cl.s[11]++;if(!e){cl.b[1][0]++;const n=(cl.s[12]++,await Wallet.generate());cl.s[13]++;await this.put(n);cl.s[14]++;await this.setDefault(n.address);cl.s[15]++;return n}cl.b[1][1]++;const l=(cl.s[16]++,new Address(e));cl.s[17]++;return this.get(l,n)}setDefault(n){cl.f[4]++;const e=(cl.s[18]++,n.serialize());cl.s[19]++;return this._walletStore.put("default",e)}async get(n,e){cl.f[5]++;const l=(cl.s[20]++,n.toBase64()),t=(cl.s[21]++,await this._walletStore.get(l));cl.s[22]++;if(!t){cl.b[2][0]++;cl.s[23]++;return null}cl.b[2][1]++;cl.s[24]++;if(e){cl.b[3][0]++;cl.s[25]++;return Wallet.loadEncrypted(t,e)}cl.b[3][1]++;cl.s[26]++;return Wallet.loadPlain(t)}async put(n,e,l){cl.f[6]++;const t=(cl.s[27]++,n.address.toBase64());let o=(cl.s[28]++,null);cl.s[29]++;if(e){cl.b[4][0]++;cl.s[30]++;o=await n.exportEncrypted(e,l)}else{cl.b[4][1]++;cl.s[31]++;o=n.exportPlain()}cl.s[32]++;return this._walletStore.put(t,o)}async remove(n){cl.f[7]++;const e=(cl.s[33]++,n.toBase64()),l=(cl.s[34]++,this._walletStore.transaction());cl.s[35]++;l.removeSync(e);let t=(cl.s[36]++,await this._walletStore.get("default"));cl.s[37]++;if(t){cl.b[5][0]++;cl.s[38]++;t=new Address(t);cl.s[39]++;if(n.equals(t)){cl.b[6][0]++;cl.s[40]++;l.removeSync("default")}else cl.b[6][1]++}else cl.b[5][1]++;cl.s[41]++;return l.commit()}async list(){cl.f[8]++;const n=(cl.s[42]++,await this._walletStore.keys());cl.s[43]++;return Array.from(n).filter(n=>{cl.f[9]++;cl.s[44]++;return"default"!==n}).map(n=>{cl.f[10]++;cl.s[45]++;return Address.fromBase64(n)})}async getMultiSig(n,e){cl.f[11]++;const l=(cl.s[46]++,n.toBase64()),t=(cl.s[47]++,await this._multiSigStore.get(l));cl.s[48]++;if(!t){cl.b[7][0]++;cl.s[49]++;return null}cl.b[7][1]++;cl.s[50]++;if(e){cl.b[8][0]++;cl.s[51]++;return MultiSigWallet.loadEncrypted(t,e)}cl.b[8][1]++;cl.s[52]++;return MultiSigWallet.loadPlain(t)}async putMultiSig(n,e,l){cl.f[12]++;const t=(cl.s[53]++,n.address.toBase64());let o=(cl.s[54]++,null);cl.s[55]++;if(e){cl.b[9][0]++;cl.s[56]++;o=await n.exportEncrypted(e,l)}else{cl.b[9][1]++;cl.s[57]++;o=n.exportPlain()}cl.s[58]++;return this._multiSigStore.put(t,o)}removeMultiSig(n){cl.f[13]++;const e=(cl.s[59]++,n.toBase64());cl.s[60]++;return this._multiSigStore.remove(e)}async listMultiSig(){cl.f[14]++;const n=(cl.s[61]++,await this._multiSigStore.keys());cl.s[62]++;return Array.from(n).map(n=>{cl.f[15]++;cl.s[63]++;return Address.fromBase64(n)})}close(){cl.f[16]++;cl.s[64]++;return this._jdb.close()}}cl.s[65]++;Class.register(WalletStore);cl.s[66]++;WalletStore._instance=null;cl.s[67]++;WalletStore.VERSION=1;cl.s[68]++;WalletStore.INITIAL_DB_SIZE=10485760;cl.s[69]++;WalletStore.MIN_RESIZE=10485760;cl.s[70]++;WalletStore.WALLET_DATABASE="wallets";cl.s[71]++;WalletStore.MULTISIG_WALLET_DATABASE="multisig-wallets";class WalletStoreCodec{encode(n){cl.f[17]++;cl.s[72]++;return n}decode(n,e){cl.f[18]++;cl.s[73]++;return new Uint8Array(n)}get leveldbValueEncoding(){cl.f[19]++;cl.s[74]++;return"binary"}get lmdbValueEncoding(){cl.f[20]++;cl.s[75]++;return JDB.JungleDB.BINARY_ENCODING}}var sl=function(){var n="/home/soeren/nimiq/core/src/main/generic/miner/MinerWorker.js",e="dfcb7cc3e551c0ca4e6488b0404a0504efef1a0c",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/miner/MinerWorker.js",statementMap:{0:{start:{line:14,column:0},end:{line:14,column:28}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:12,column:4},end:{line:12,column:5}},loc:{start:{line:12,column:62},end:{line:12,column:64}},line:12}},branchMap:{},s:{0:0},f:{0:0},b:{},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class MinerWorker{async multiMine(n,e,l,t){sl.f[0]++}}sl.s[0]++;Class.register(MinerWorker);var ul=function(){var n="/home/soeren/nimiq/core/src/main/generic/miner/MinerWorkerImpl.js",e="e95ae0d4c91d60cadf2fa046a2d229c0d4f71028",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/miner/MinerWorkerImpl.js",statementMap:{0:{start:{line:3,column:8},end:{line:3,column:16}},1:{start:{line:5,column:8},end:{line:5,column:37}},2:{start:{line:9,column:8},end:{line:9,column:47}},3:{start:{line:10,column:8},end:{line:10,column:43}},4:{start:{line:14,column:21},end:{line:14,column:39}},5:{start:{line:16,column:8},end:{line:30,column:9}},6:{start:{line:17,column:12},end:{line:17,column:50}},7:{start:{line:18,column:12},end:{line:18,column:50}},8:{start:{line:19,column:12},end:{line:19,column:45}},9:{start:{line:20,column:26},end:{line:20,column:118}},10:{start:{line:21,column:12},end:{line:21,column:49}},11:{start:{line:21,column:36},end:{line:21,column:49}},12:{start:{line:22,column:12},end:{line:22,column:81}},13:{start:{line:23,column:12},end:{line:23,column:33}},14:{start:{line:25,column:12},end:{line:25,column:38}},15:{start:{line:26,column:12},end:{line:26,column:20}},16:{start:{line:28,column:12},end:{line:28,column:61}},17:{start:{line:28,column:39},end:{line:28,column:61}},18:{start:{line:29,column:12},end:{line:29,column:59}},19:{start:{line:29,column:38},end:{line:29,column:59}},20:{start:{line:34,column:0},end:{line:34,column:64}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:4},end:{line:2,column:5}},loc:{start:{line:2,column:18},end:{line:6,column:5}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:8,column:4},end:{line:8,column:5}},loc:{start:{line:8,column:21},end:{line:11,column:5}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:13,column:4},end:{line:13,column:5}},loc:{start:{line:13,column:56},end:{line:31,column:5}},line:13}},branchMap:{0:{loc:{start:{line:21,column:12},end:{line:21,column:49}},type:"if",locations:[{start:{line:21,column:12},end:{line:21,column:49}},{start:{line:21,column:12},end:{line:21,column:49}}],line:21},1:{loc:{start:{line:28,column:12},end:{line:28,column:61}},type:"if",locations:[{start:{line:28,column:12},end:{line:28,column:61}},{start:{line:28,column:12},end:{line:28,column:61}}],line:28},2:{loc:{start:{line:29,column:12},end:{line:29,column:59}},type:"if",locations:[{start:{line:29,column:12},end:{line:29,column:59}},{start:{line:29,column:12},end:{line:29,column:59}}],line:29}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class MinerWorkerImpl extends(IWorker.Stub(MinerWorker)){constructor(){ul.f[0]++;ul.s[0]++;super();ul.s[1]++;this._superInit=super.init}async init(n){ul.f[1]++;ul.s[2]++;await this._superInit.call(this,n);ul.s[3]++;await WasmHelper.doImportBrowser()}async multiMine(n,e,l,t){ul.f[2]++;const o=(ul.s[4]++,new Uint8Array(32));let i,c;ul.s[5]++;try{ul.s[6]++;i=Module._malloc(o.length);ul.s[7]++;c=Module._malloc(n.length);ul.s[8]++;Module.HEAPU8.set(n,c);const u=(ul.s[9]++,Module._nimiq_argon2_target(i,c,n.length,e,l,t,512));ul.s[10]++;if(u===t){ul.b[0][0]++;ul.s[11]++;return!1}ul.b[0][1]++;ul.s[12]++;o.set(new Uint8Array(Module.HEAPU8.buffer,i,o.length));ul.s[13]++;return{hash:o,nonce:u}}catch(s){ul.s[14]++;Log.w(MinerWorkerImpl,s);ul.s[15]++;throw s}finally{ul.s[16]++;if(i!==undefined){ul.b[1][0]++;ul.s[17]++;Module._free(i)}else ul.b[1][1]++;ul.s[18]++;if(c!==undefined){ul.b[2][0]++;ul.s[19]++;Module._free(c)}else ul.b[2][1]++}}}ul.s[20]++;IWorker.prepareForWorkerUse(MinerWorker,new MinerWorkerImpl);var ml=function(){var n="/home/soeren/nimiq/core/src/main/generic/miner/MinerWorkerPool.js",e="896715bc84bf8fa2e56be0028470b770c6fc2f11",l=new(0,function(){}.constructor)("return this")(),t="__coverage__",o={path:"/home/soeren/nimiq/core/src/main/generic/miner/MinerWorkerPool.js",statementMap:{0:{start:{line:6,column:8},end:{line:6,column:87}},1:{start:{line:6,column:24},end:{line:6,column:70}},2:{start:{line:8,column:8},end:{line:8,column:36}},3:{start:{line:10,column:8},end:{line:10,column:32}},4:{start:{line:12,column:8},end:{line:12,column:27}},5:{start:{line:14,column:8},end:{line:14,column:33}},6:{start:{line:16,column:8},end:{line:16,column:44}},7:{start:{line:18,column:8},end:{line:18,column:53}},8:{start:{line:20,column:8},end:{line:20,column:38}},9:{start:{line:22,column:8},end:{line:22,column:30}},10:{start:{line:25,column:8},end:{line:25,column:54}},11:{start:{line:27,column:8},end:{line:53,column:9}},12:{start:{line:35,column:12},end:{line:52,column:14}},13:{start:{line:36,column:16},end:{line:51,column:19}},14:{start:{line:37,column:20},end:{line:50,column:70}},15:{start:{line:38,column:24},end:{line:49,column:25}},16:{start:{line:39,column:28},end:{line:46,column:29}},17:{start:{line:40,column:32},end:{line:40,column:47}},18:{start:{line:42,column:32},end:{line:42,column:58}},19:{start:{line:43,column:32},end:{line:43,column:63}},20:{start:{line:44,column:45},end:{line:44,column:118}},21:{start:{line:45,column:32},end:{line:45,column:55}},22:{start:{line:48,column:28},end:{line:48,column:36}},23:{start:{line:60,column:8},end:{line:60,column:34}},24:{start:{line:67,column:8},end:{line:67,column:36}},25:{start:{line:74,column:8},end:{line:74,column:34}},26:{start:{line:81,column:8},end:{line:81,column:42}},27:{start:{line:88,column:8},end:{line:88,column:31}},28:{start:{line:95,column:8},end:{line:95,column:36}},29:{start:{line:103,column:25},end:{line:103,column:61}},30:{start:{line:109,column:20},end:{line:109,column:51}},31:{start:{line:116,column:8},end:{line:116,column:28}},32:{start:{line:117,column:8},end:{line:117,column:42}},33:{start:{line:118,column:8},end:{line:127,column:9}},34:{start:{line:119,column:12},end:{line:119,column:39}},35:{start:{line:120,column:12},end:{line:120,column:36}},36:{start:{line:121,column:12},end:{line:121,column:39}},37:{start:{line:122,column:12},end:{line:124,column:13}},38:{start:{line:123,column:16},end:{line:123,column:35}},39:{start:{line:126,column:12},end:{line:126,column:60}},40:{start:{line:131,column:8},end:{line:131,column:36}},41:{start:{line:135,column:8},end:{line:137,column:9}},42:{start:{line:136,column:12},end:{line:136,column:53}},43:{start:{line:139,column:8},end:{line:141,column:9}},44:{start:{line:140,column:12},end:{line:140,column:31}},45:{start:{line:145,column:25},end:{line:145,column:126}},46:{start:{line:145,column:114},end:{line:145,column:124}},47:{start:{line:146,column:25},end:{line:146,column:54}},48:{start:{line:147,column:27},end:{line:147,column:47}},49:{start:{line:148,column:8},end:{line:148,column:44}},50:{start:{line:149,column:8},end:{line:149,column:78}},51:{start:{line:149,column:51},end:{line:149,column:76}},52:{start:{line:158,column:16},end:{line:158,column:17}},53:{start:{line:159,column:8},end:{line:184,column:9}},54:{start:{line:160,column:12},end:{line:160,column:16}},55:{start:{line:161,column:26},end:{line:161,column:37}},56:{start:{line:162,column:27},end:{line:162,column:135}},57:{start:{line:163,column:12},end:{line:174,column:13}},58:{start:{line:164,column:29},end:{line:164,column:50}},59:{start:{line:165,column:16},end:{line:169,column:19}},60:{start:{line:171,column:16},end:{line:173,column:19}},61:{start:{line:175,column:12},end:{line:183,column:13}},62:{start:{line:176,column:16},end:{line:176,column:85}},63:{start:{line:177,column:16},end:{line:177,column:23}},64:{start:{line:179,column:31},end:{line:179,column:94}},65:{start:{line:179,column:82},end:{line:179,column:92}},66:{start:{line:180,column:33},end:{line:180,column:90}},67:{start:{line:181,column:16},end:{line:181,column:95}},68:{start:{line:182,column:16},end:{line:182,column:38}},69:{start:{line:185,column:8},end:{line:187,column:9}},70:{start:{line:186,column:12},end:{line:186,column:77}},71:{start:{line:186,column:29},end:{line:186,column:58}},72:{start:{line:191,column:0},end:{line:191,column:32}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:26},end:{line:54,column:5}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:6,column:14},end:{line:6,column:15}},loc:{start:{line:6,column:24},end:{line:6,column:70}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:35,column:29},end:{line:35,column:30}},loc:{start:{line:35,column:81},end:{line:52,column:13}},line:35},3:{name:"(anonymous_3)",decl:{start:{line:36,column:35},end:{line:36,column:36}},loc:{start:{line:36,column:54},end:{line:51,column:17}},line:36},4:{name:"(anonymous_4)",decl:{start:{line:37,column:56},end:{line:37,column:57}},loc:{start:{line:37,column:73},end:{line:50,column:21}},line:37},5:{name:"(anonymous_5)",decl:{start:{line:59,column:4},end:{line:59,column:5}},loc:{start:{line:59,column:23},end:{line:61,column:5}},line:59},6:{name:"(anonymous_6)",decl:{start:{line:66,column:4},end:{line:66,column:5}},loc:{start:{line:66,column:29},end:{line:68,column:5}},line:66},7:{name:"(anonymous_7)",decl:{start:{line:73,column:4},end:{line:73,column:5}},loc:{start:{line:73,column:23},end:{line:75,column:5}},line:73},8:{name:"(anonymous_8)",decl:{start:{line:80,column:4},end:{line:80,column:5}},loc:{start:{line:80,column:35},end:{line:82,column:5}},line:80},9:{name:"(anonymous_9)",decl:{start:{line:87,column:4},end:{line:87,column:5}},loc:{start:{line:87,column:20},end:{line:89,column:5}},line:87},10:{name:"(anonymous_10)",decl:{start:{line:94,column:4},end:{line:94,column:5}},loc:{start:{line:94,column:29},end:{line:96,column:5}},line:94},11:{name:"(anonymous_11)",decl:{start:{line:103,column:4},end:{line:103,column:5}},loc:{start:{line:103,column:23},end:{line:103,column:63}},line:103},12:{name:"(anonymous_12)",decl:{start:{line:109,column:4},end:{line:109,column:5}},loc:{start:{line:109,column:18},end:{line:109,column:53}},line:109},13:{name:"(anonymous_13)",decl:{start:{line:115,column:4},end:{line:115,column:5}},loc:{start:{line:115,column:64},end:{line:128,column:5}},line:115},14:{name:"(anonymous_14)",decl:{start:{line:130,column:4},end:{line:130,column:5}},loc:{start:{line:130,column:11},end:{line:132,column:5}},line:130},15:{name:"(anonymous_15)",decl:{start:{line:134,column:4},end:{line:134,column:5}},loc:{start:{line:134,column:26},end:{line:142,column:5}},line:134},16:{name:"(anonymous_16)",decl:{start:{line:144,column:4},end:{line:144,column:5}},loc:{start:{line:144,column:18},end:{line:150,column:5}},line:144},17:{name:"(anonymous_17)",decl:{start:{line:145,column:107},end:{line:145,column:108}},loc:{start:{line:145,column:114},end:{line:145,column:124}},line:145},18:{name:"(anonymous_18)",decl:{start:{line:149,column:44},end:{line:149,column:45}},loc:{start:{line:149,column:51},end:{line:149,column:76}},line:149},19:{name:"(anonymous_19)",decl:{start:{line:157,column:4},end:{line:157,column:5}},loc:{start:{line:157,column:35},end:{line:188,column:5}},line:157},20:{name:"(anonymous_20)",decl:{start:{line:179,column:75},end:{line:179,column:76}},loc:{start:{line:179,column:82},end:{line:179,column:92}},line:179},21:{name:"(anonymous_21)",decl:{start:{line:186,column:23},end:{line:186,column:24}},loc:{start:{line:186,column:29},end:{line:186,column:58}},line:186}},branchMap:{0:{loc:{start:{line:5,column:16},end:{line:5,column:24}},type:"default-arg",locations:[{start:{line:5,column:23},end:{line:5,column:24}}],line:5},1:{loc:{start:{line:27,column:8},end:{line:53,column:9}},type:"if",locations:[{start:{line:27,column:8},end:{line:53,column:9}},{start:{line:27,column:8},end:{line:53,column:9}}],line:27},2:{loc:{start:{line:39,column:28},end:{line:46,column:29}},type:"if",locations:[{start:{line:39,column:28},end:{line:46,column:29}},{start:{line:39,column:28},end:{line:46,column:29}}],line:39},3:{loc:{start:{line:115,column:36},end:{line:115,column:62}},type:"default-arg",locations:[{start:{line:115,column:51},end:{line:115,column:62}}],line:115},4:{loc:{start:{line:118,column:8},end:{line:127,column:9}},type:"if",locations:[{start:{line:118,column:8},end:{line:127,column:9}},{start:{line:118,column:8},end:{line:127,column:9}}],line:118},5:{loc:{start:{line:135,column:8},end:{line:137,column:9}},type:"if",locations:[{start:{line:135,column:8},end:{line:137,column:9}},{start:{line:135,column:8},end:{line:137,column:9}}],line:135},6:{loc:{start:{line:139,column:15},end:{line:139,column:79}},type:"binary-expr",locations:[{start:{line:139,column:15},end:{line:139,column:34}},{start:{line:139,column:38},end:{line:139,column:79}}],line:139},7:{loc:{start:{line:145,column:25},end:{line:145,column:126}},type:"cond-expr",locations:[{start:{line:145,column:59},end:{line:145,column:60}},{start:{line:145,column:63},end:{line:145,column:126}}],line:145},8:{loc:{start:{line:159,column:15},end:{line:159,column:128}},type:"binary-expr",locations:[{start:{line:159,column:15},end:{line:159,column:34}},{start:{line:159,column:39},end:{line:159,column:62}},{start:{line:159,column:66},end:{line:159,column:90}},{start:{line:159,column:94},end:{line:159,column:101}},{start:{line:159,column:106},end:{line:159,column:128}}],line:159},9:{loc:{start:{line:163,column:12},end:{line:174,column:13}},type:"if",locations:[{start:{line:163,column:12},end:{line:174,column:13}},{start:{line:163,column:12},end:{line:174,column:13}}],line:163},10:{loc:{start:{line:175,column:12},end:{line:183,column:13}},type:"if",locations:[{start:{line:175,column:12},end:{line:183,column:13}},{start:{line:175,column:12},end:{line:183,column:13}}],line:175},11:{loc:{start:{line:185,column:8},end:{line:187,column:9}},type:"if",locations:[{start:{line:185,column:8},end:{line:187,column:9}},{start:{line:185,column:8},end:{line:187,column:9}}],line:185}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0},b:{0:[0],1:[0,0],2:[0,0],3:[0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0,0,0,0],9:[0,0],10:[0,0],11:[0,0]},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},i=l[t]||(l[t]={});if(i[n]&&i[n].hash===e)return i[n];o.hash=e;return i[n]=o}();class MinerWorkerPool extends(IWorker.Pool(MinerWorker)){constructor(n=(ml.b[0][0]++,1)){ml.f[0]++;ml.s[0]++;super(n=>{ml.f[1]++;ml.s[1]++;return IWorker.startWorkerForProxy(MinerWorker,n)},"miner",n);ml.s[2]++;this._miningEnabled=!1;ml.s[3]++;this._activeNonces=[];ml.s[4]++;this._block=null;ml.s[5]++;this._noncesPerRun=256;ml.s[6]++;this._observable=new Observable;ml.s[7]++;this._shareCompact=Policy.BLOCK_TARGET_MAX;ml.s[8]++;this._runsPerCycle=Infinity;ml.s[9]++;this._cycleWait=100;ml.s[10]++;this._superUpdateToSize=super._updateToSize;ml.s[11]++;if(PlatformUtils.isNodeJs()){ml.b[1][0]++;ml.s[12]++;this.multiMine=function(n,e,l,t){ml.f[2]++;ml.s[13]++;return new Promise((o,i)=>{ml.f[3]++;ml.s[14]++;NodeNative.node_argon2_target_async(async e=>{ml.f[4]++;ml.s[15]++;try{ml.s[16]++;if(e===t){ml.b[2][0]++;ml.s[17]++;o(!1)}else{ml.b[2][1]++;ml.s[18]++;n.writePos-=4;ml.s[19]++;n.writeUint32(e);const l=(ml.s[20]++,await(await CryptoWorker.getInstanceAsync()).computeArgon2d(n));ml.s[21]++;o({hash:l,nonce:e})}}catch(l){ml.s[22]++;i(l)}},n,e,l,t,512)})}}else ml.b[1][1]++}get noncesPerRun(){ml.f[5]++;ml.s[23]++;return this._noncesPerRun}set noncesPerRun(n){ml.f[6]++;ml.s[24]++;this._noncesPerRun=n}get runsPerCycle(){ml.f[7]++;ml.s[25]++;return this._runsPerCycle}set runsPerCycle(n){ml.f[8]++;ml.s[26]++;this._runsPerCycle=n}get cycleWait(){ml.f[9]++;ml.s[27]++;return this._cycleWait}set cycleWait(n){ml.f[10]++;ml.s[28]++;this._cycleWait=n}on(n,e){ml.f[11]++;ml.s[29]++;this._observable.on(n,e)}off(n,e){ml.f[12]++;ml.s[30]++;this._observable.off(n,e)}async startMiningOnBlock(n,e=(ml.b[3][0]++,n.nBits)){ml.f[13]++;ml.s[31]++;this._block=n;ml.s[32]++;this._shareCompact=e;ml.s[33]++;if(this._miningEnabled){ml.b[4][1]++;ml.s[39]++;this._activeNonces=[{minNonce:0,maxNonce:0}]}else{ml.b[4][0]++;ml.s[34]++;await this._updateToSize();ml.s[35]++;this._activeNonces=[];ml.s[36]++;this._miningEnabled=!0;ml.s[37]++;for(let n=0;n<this.poolSize;++n){ml.s[38]++;this._startMiner()}}}stop(){ml.f[14]++;ml.s[40]++;this._miningEnabled=!1}async _updateToSize(){ml.f[15]++;ml.s[41]++;if(PlatformUtils.isNodeJs())ml.b[5][1]++;else{ml.b[5][0]++;ml.s[42]++;await this._superUpdateToSize.call(this)}ml.s[43]++;for(;(ml.b[6][0]++,this._miningEnabled)&&(ml.b[6][1]++,this._activeNonces.length<this.poolSize);){ml.s[44]++;this._startMiner()}}_startMiner(){ml.f[16]++;const n=(ml.s[45]++,0===this._activeNonces.length?(ml.b[7][0]++,0):(ml.b[7][1]++,Math.max.apply(null,this._activeNonces.map(n=>{ml.f[17]++;ml.s[46]++;return n.maxNonce})))),e=(ml.s[47]++,n+this._noncesPerRun),l=(ml.s[48]++,{minNonce:n,maxNonce:e});ml.s[49]++;this._activeNonces.push(l);ml.s[50]++;this._singleMiner(l)["catch"](n=>{ml.f[18]++;ml.s[51]++;return Log.e(MinerWorkerPool,n)})}async _singleMiner(n){ml.f[19]++;let e=(ml.s[52]++,0);ml.s[53]++;for(;(ml.b[8][0]++,this._miningEnabled)&&((ml.b[8][1]++,IWorker.areWorkersAsync)||(ml.b[8][2]++,PlatformUtils.isNodeJs())||(ml.b[8][3]++,0===e))&&(ml.b[8][4]++,e<this._runsPerCycle);){ml.s[54]++;e++;const l=(ml.s[55]++,this._block),t=(ml.s[56]++,await this.multiMine(l.header.serialize(),this._shareCompact,n.minNonce,n.maxNonce));ml.s[57]++;if(t){ml.b[9][0]++;const n=(ml.s[58]++,new Hash(t.hash));ml.s[59]++;this._observable.fire("share",{block:l,nonce:t.nonce,hash:n})}else{ml.b[9][1]++;ml.s[60]++;this._observable.fire("no-share",{nonce:n.maxNonce})}ml.s[61]++;if(this._activeNonces.length>this.poolSize){ml.b[10][0]++;ml.s[62]++;this._activeNonces.splice(this._activeNonces.indexOf(n),1);ml.s[63]++;return}{ml.b[10][1]++;const e=(ml.s[64]++,Math.max.apply(null,this._activeNonces.map(n=>{ml.f[20]++;ml.s[65]++;return n.maxNonce}))),l=(ml.s[66]++,{minNonce:e,maxNonce:e+this._noncesPerRun});ml.s[67]++;this._activeNonces.splice(this._activeNonces.indexOf(n),1,l);ml.s[68]++;n=l}}ml.s[69]++;if(this._miningEnabled){ml.b[11][0]++;ml.s[70]++;setTimeout(()=>{ml.f[21]++;ml.s[71]++;return this._singleMiner(n)},this._cycleWait)}else ml.b[11][1]++}}ml.s[72]++;Class.register(MinerWorkerPool);n._loaded=!0;"function"==typeof n._onload&&n._onload()}(Nimiq);
//# sourceMappingURL=web-istanbul.js.map
